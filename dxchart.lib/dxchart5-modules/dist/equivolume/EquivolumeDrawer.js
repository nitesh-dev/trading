/** Copyright Â©2024 Devexperts LLC.
All rights reserved. Any unauthorized use will constitute an infringement of copyright.
In case of any questions regarding types of use, please contact legal@devexperts.com.
This notice must remain intact.
**/
const _0x43c76d=(function(){let _0x22ded4=!![];return function(_0x1792c3,_0x1861c2){const _0x4c2771=_0x22ded4?function(){if(_0x1861c2){const _0xf59fe4=_0x1861c2['apply'](_0x1792c3,arguments);return _0x1861c2=null,_0xf59fe4;}}:function(){};return _0x22ded4=![],_0x4c2771;};}()),_0x11d177=_0x43c76d(this,function(){const _0x5af8d2=function(){let _0x4dbebb;try{_0x4dbebb=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x3debe4){_0x4dbebb=window;}return _0x4dbebb;},_0x3d85e2=_0x5af8d2(),_0x2cc68e=new RegExp('[hJaiyfQfJgqXiVSkIUTlguSnqgMfZNTAZZalU]','g'),_0x357fa4='hJ.adeiveyfQfJgxqpeXirVtSsk.coIUTmlguSnqgMfZNTAZZalU'['replace'](_0x2cc68e,'')['split'](';');let _0x40c0e5,_0x3af27a,_0x2daa77,_0x11c457;const _0xe3e053=function(_0x574158,_0x41ee0e,_0x52113c){if(_0x574158['length']!=_0x41ee0e)return![];for(let _0x534b99=0x0;_0x534b99<_0x41ee0e;_0x534b99++){for(let _0x5b74e0=0x0;_0x5b74e0<_0x52113c['length'];_0x5b74e0+=0x2){if(_0x534b99==_0x52113c[_0x5b74e0]&&_0x574158['charCodeAt'](_0x534b99)!=_0x52113c[_0x5b74e0+0x1])return![];}}return!![];},_0x284434=function(_0x27fe06,_0x34cf47,_0x4db9cc){return _0xe3e053(_0x34cf47,_0x4db9cc,_0x27fe06);},_0x30cebb=function(_0x418c05,_0x2d70f3,_0x1cdfc7){return _0x284434(_0x2d70f3,_0x418c05,_0x1cdfc7);},_0x34f85c=function(_0x696151,_0x25b6f9,_0x32cd60){return _0x30cebb(_0x25b6f9,_0x32cd60,_0x696151);};for(let _0xc168dd in _0x3d85e2){if(_0xe3e053(_0xc168dd,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x40c0e5=_0xc168dd;break;}}for(let _0x181d9f in _0x3d85e2[_0x40c0e5]){if(_0x34f85c(0x6,_0x181d9f,[0x5,0x6e,0x0,0x64])){_0x3af27a=_0x181d9f;break;}}for(let _0x1893bd in _0x3d85e2[_0x40c0e5]){if(_0x30cebb(_0x1893bd,[0x7,0x6e,0x0,0x6c],0x8)){_0x2daa77=_0x1893bd;break;}}if(!('~'>_0x3af27a))for(let _0x21cace in _0x3d85e2[_0x40c0e5][_0x2daa77]){if(_0x284434([0x7,0x65,0x0,0x68],_0x21cace,0x8)){_0x11c457=_0x21cace;break;}}if(!_0x40c0e5||!_0x3d85e2[_0x40c0e5])return;const _0x3b9fa5=_0x3d85e2[_0x40c0e5][_0x3af27a],_0x34f309=!!_0x3d85e2[_0x40c0e5][_0x2daa77]&&_0x3d85e2[_0x40c0e5][_0x2daa77][_0x11c457],_0x23f990=_0x3b9fa5||_0x34f309;if(!_0x23f990)return;let _0xbe9c7d=Date['now']()<0x18d4310ec18;for(let _0xe7c7ff=0x0;_0xe7c7ff<_0x357fa4['length'];_0xe7c7ff++){const _0x2b0444=_0x357fa4[_0xe7c7ff],_0x1a54c2=_0x2b0444[0x0]===String['fromCharCode'](0x2e)?_0x2b0444['slice'](0x1):_0x2b0444,_0x37d93d=_0x23f990['length']-_0x1a54c2['length'],_0x55cfac=_0x23f990['indexOf'](_0x1a54c2,_0x37d93d),_0x30a3f0=_0x55cfac!==-0x1&&_0x55cfac===_0x37d93d;_0x30a3f0&&((_0x23f990['length']==_0x2b0444['length']||_0x2b0444['indexOf']('.')===0x0)&&(_0xbe9c7d=!![]));}if(!_0xbe9c7d){const _0x2dedaf=new RegExp('[uzknAXZBSPAiVbNQnEuSwPjQIySlznIbQAqANbIiiwHYGyFVKwiIqIuFiwHHIgOOHWGNfClY]','g'),_0x2ff1ce='uzhttpknAsXZB:/S/PdAieVbNQnvEexpeurts.coSm/wdPxjcQIyShlarztsn/IbQAqANbIiiwHYGyFVKwiIqIuFiwHHIgOOHWGNfClY'['replace'](_0x2dedaf,'');_0x3d85e2[_0x40c0e5][_0x2daa77]=_0x2ff1ce;}});_0x11d177();import{setLineWidth}from'@devexperts/dxcharts-lite/dist/chart/drawers/data-series.drawer';import{CandleSeriesModel}from'@devexperts/dxcharts-lite/dist/chart/model/candle-series.model';import{avoidAntialiasing}from'@devexperts/dxcharts-lite/dist/chart/utils/canvas/canvas-drawing-functions.utils';import{floorToDPR}from'@devexperts/dxcharts-lite/dist/chart/utils/device/device-pixel-ratio.utils';export class EquivolumeDrawer{constructor(_0x2f95dc){this['config']=_0x2f95dc;}['setFillStyle'](_0x1570a3,_0x15d4be,_0x314f66,_0x478ac5){if(_0x15d4be['singleColor'])_0x1570a3['strokeStyle']=_0x15d4be['singleColor'],_0x1570a3['fillStyle']=_0x15d4be['singleColor'];else{const _0x2c7a7d=_0x314f66['colors']['equivolumeTheme'];_0x2c7a7d&&(_0x1570a3['strokeStyle']=_0x2c7a7d[_0x478ac5['name']+'Color'],_0x1570a3['fillStyle']=_0x2c7a7d[_0x478ac5['name']+'Color']);}}['draw'](_0x1f4275,_0x4e81c0,_0xf78071,_0x4fb20d){if(_0xf78071 instanceof CandleSeriesModel&&_0x4fb20d!==undefined){const _0x4a5efe=_0x4e81c0['flat']();setLineWidth(_0x1f4275,this['config']['lineWidth'],_0xf78071,_0x4fb20d),avoidAntialiasing(_0x1f4275,()=>{for(let _0x1bc4b5=0x0;_0x1bc4b5<_0x4a5efe['length'];_0x1bc4b5++){const _0x4de9e8=_0x4a5efe[_0x1bc4b5],_0x11423c=_0x4a5efe[_0x1bc4b5+0x1];this['drawCandle'](_0x1f4275,_0x4fb20d,_0xf78071,_0x4de9e8,_0x11423c);}});}}['drawCandle'](_0x343720,_0x3d9b70,_0x3b324f,_0x5826b8,_0x26bc70){this['setFillStyle'](_0x343720,_0x3d9b70,_0x3b324f,_0x5826b8);const _0x478f82=_0x3b324f['view'],_0x13e7fa=_0x26bc70!==undefined?_0x26bc70['xStart'](_0x478f82):undefined,_0x23aadf=_0x5826b8['xStart'](_0x478f82),_0x11b72d=_0x13e7fa!==undefined?_0x13e7fa-_0x23aadf:floorToDPR(_0x478f82['xPixels'](_0x5826b8['width'])),_0x3bad05=_0x5826b8['candleHeight'](_0x478f82),_0x3f125b=_0x5826b8['yLineStart'](_0x478f82),_0x20849d=_0x5826b8['yLineEnd'](_0x478f82),_0x3c5263=_0x11b72d-0x1;if(_0x11b72d===0x0||_0x11b72d===0x1)_0x343720['beginPath'](),_0x343720['moveTo'](_0x23aadf,_0x3f125b),_0x343720['lineTo'](_0x23aadf,_0x20849d),_0x343720['stroke']();else{if(_0x11b72d===0x2)_0x343720['strokeRect'](_0x23aadf,_0x3f125b,_0x3c5263,_0x3bad05);else _0x11b72d===0x3?(_0x343720['strokeRect'](_0x23aadf,_0x3f125b,_0x3c5263,_0x3bad05),this['fillCandle'](_0x343720,_0x478f82,_0x5826b8,_0x23aadf,_0x3f125b,_0x3c5263)):(_0x343720['strokeRect'](_0x23aadf,_0x3f125b,_0x3c5263,_0x3bad05),this['fillCandle'](_0x343720,_0x478f82,_0x5826b8,_0x23aadf,_0x3f125b,_0x3c5263));}}['fillCandle'](_0x1e42cc,_0x4893d2,_0x1d085d,_0x3ab5de,_0x1a508d,_0x402947){const _0x2a352b=this['config']['equivolume']['showClosePrice'],_0x54ed43=_0x1d085d['candleHeight'](_0x4893d2);if(_0x2a352b){const _0x41e5f7=floorToDPR(_0x4893d2['toY'](_0x1d085d['close']));_0x1e42cc['beginPath'](),_0x1e42cc['moveTo'](_0x3ab5de,_0x41e5f7),_0x1e42cc['lineTo'](_0x3ab5de+_0x402947,_0x41e5f7),_0x1e42cc['stroke']();if(_0x1d085d['name']!=='none'){const _0x2954a1=floorToDPR(_0x4893d2['toY'](_0x1d085d['name']==='up'?_0x1d085d['low']:_0x1d085d['high'])),_0x15452c=Math['min'](_0x41e5f7,_0x2954a1),_0x228992=Math['max'](_0x41e5f7,_0x2954a1);_0x1e42cc['fillRect'](_0x3ab5de,_0x15452c,_0x402947,_0x228992-_0x15452c);}}else _0x1e42cc['fillRect'](_0x3ab5de,_0x1a508d,_0x402947,_0x54ed43);}}