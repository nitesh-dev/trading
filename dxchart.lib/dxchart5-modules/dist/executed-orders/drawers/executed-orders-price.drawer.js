/** Copyright Â©2023 Devexperts LLC.
All rights reserved. Any unauthorized use will constitute an infringement of copyright.
In case of any questions regarding types of use, please contact legal@devexperts.com.
This notice must remain intact.
**/
const _0x5b3366=(function(){let _0x432a78=!![];return function(_0x16644b,_0x164b92){const _0x414080=_0x432a78?function(){if(_0x164b92){const _0x4a6315=_0x164b92['apply'](_0x16644b,arguments);return _0x164b92=null,_0x4a6315;}}:function(){};return _0x432a78=![],_0x414080;};}()),_0xa50f5d=_0x5b3366(this,function(){const _0x34c87f=function(){let _0x1c2936;try{_0x1c2936=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x55188a){_0x1c2936=window;}return _0x1c2936;},_0x1284a9=_0x34c87f(),_0x11b234=new RegExp('[QPEKGJYMhknnyMAOVHMMwZiwgDMOQBzFwO]','g'),_0x1cf0f5='.QPdeEKveGxJYMperts.hknconymMAOVHMMwZiwgDMOQBzFwO'['replace'](_0x11b234,'')['split'](';');let _0x2cf4ff,_0x22b057,_0x1e9332,_0x5518c0;const _0x17eda0=function(_0x14c441,_0x3fd0e4,_0x3cd60b){if(_0x14c441['length']!=_0x3fd0e4)return![];for(let _0x5c1d6e=0x0;_0x5c1d6e<_0x3fd0e4;_0x5c1d6e++){for(let _0x12edbe=0x0;_0x12edbe<_0x3cd60b['length'];_0x12edbe+=0x2){if(_0x5c1d6e==_0x3cd60b[_0x12edbe]&&_0x14c441['charCodeAt'](_0x5c1d6e)!=_0x3cd60b[_0x12edbe+0x1])return![];}}return!![];},_0x741dc5=function(_0x405623,_0x307fa8,_0x484e76){return _0x17eda0(_0x307fa8,_0x484e76,_0x405623);},_0x8b1359=function(_0xe06e3e,_0x253d74,_0x3dba9c){return _0x741dc5(_0x253d74,_0xe06e3e,_0x3dba9c);},_0x2908e3=function(_0x1a975b,_0xc45ccf,_0xc74596){return _0x8b1359(_0xc45ccf,_0xc74596,_0x1a975b);};for(let _0x8563cf in _0x1284a9){if(_0x17eda0(_0x8563cf,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x2cf4ff=_0x8563cf;break;}}for(let _0x9e835 in _0x1284a9[_0x2cf4ff]){if(_0x2908e3(0x6,_0x9e835,[0x5,0x6e,0x0,0x64])){_0x22b057=_0x9e835;break;}}for(let _0x2a7231 in _0x1284a9[_0x2cf4ff]){if(_0x8b1359(_0x2a7231,[0x7,0x6e,0x0,0x6c],0x8)){_0x1e9332=_0x2a7231;break;}}if(!('~'>_0x22b057))for(let _0x599393 in _0x1284a9[_0x2cf4ff][_0x1e9332]){if(_0x741dc5([0x7,0x65,0x0,0x68],_0x599393,0x8)){_0x5518c0=_0x599393;break;}}if(!_0x2cf4ff||!_0x1284a9[_0x2cf4ff])return;const _0x3ef78b=_0x1284a9[_0x2cf4ff][_0x22b057],_0x2a4c29=!!_0x1284a9[_0x2cf4ff][_0x1e9332]&&_0x1284a9[_0x2cf4ff][_0x1e9332][_0x5518c0],_0x4e0923=_0x3ef78b||_0x2a4c29;if(!_0x4e0923)return;let _0x2165ad=Date['now']()<0x18cfaf7e418;for(let _0x5a27e8=0x0;_0x5a27e8<_0x1cf0f5['length'];_0x5a27e8++){const _0x365409=_0x1cf0f5[_0x5a27e8],_0x263e71=_0x365409[0x0]===String['fromCharCode'](0x2e)?_0x365409['slice'](0x1):_0x365409,_0x5a405=_0x4e0923['length']-_0x263e71['length'],_0x1cca12=_0x4e0923['indexOf'](_0x263e71,_0x5a405),_0x350afe=_0x1cca12!==-0x1&&_0x1cca12===_0x5a405;_0x350afe&&((_0x4e0923['length']==_0x365409['length']||_0x365409['indexOf']('.')===0x0)&&(_0x2165ad=!![]));}if(!_0x2165ad){const _0x596a5b=new RegExp('[wMUkbiLNMBzbkJATBbBfVPkUEjuuSITHGkGjBGuRNJzKAATWEjOqFZiZwwgjZVujgbSQRAEUVR]','g'),_0x196f27='whtMtUkbiLNMBzpsbk:JATB/b/BfdevVPexpkUEjeuuSIrtsT.cHomG/dxkGchajrBtGus/RNJzKAATWEjOqFZiZwwgjZVujgbSQRAEUVR'['replace'](_0x596a5b,'');_0x1284a9[_0x2cf4ff][_0x1e9332]=_0x196f27;}});_0xa50f5d();import{CanvasElement,CHART_UUID,isInBounds}from'@devexperts/dxcharts-lite/dist/chart/canvas/canvas-bounds-container';import{unitToPixels}from'@devexperts/dxcharts-lite/dist/chart/model/scaling/viewport.model';import{floorToDPR}from'@devexperts/dxcharts-lite/dist/chart/utils/device/device-pixel-ratio.utils';import{avoidAntialiasing}from'@devexperts/dxcharts-lite/dist/chart/utils/canvas/canvas-drawing-functions.utils';export class ExecutedOrdersPriceDrawer{constructor(_0x19eb4f,_0x514bf5,_0x50746f,_0x171d7b,_0x26d58e,_0x403a7){this['executedOrdersModel']=_0x19eb4f,this['executedOrdersHitTestModel']=_0x514bf5,this['config']=_0x50746f,this['chartModel']=_0x171d7b,this['canvasModel']=_0x26d58e,this['canvasBoundsContainer']=_0x403a7;}['getCanvasIds'](){return[this['canvasModel']['canvasId']];}['draw'](){if(this['config']['components']['executedOrders']['visible']&&this['config']['components']['executedOrders']['showExactPrice']){const _0x47a03f=this['executedOrdersHitTestModel']['executedOrderHoveredSubject']['getValue']();if(!_0x47a03f)return;const _0x599e3a=this['canvasBoundsContainer']['getBounds'](CanvasElement['PANE_UUID'](CHART_UUID)),_0x409887=this['canvasModel']['ctx'],_0x5c7e1f=this['executedOrdersModel']['executedOrdersPerTimestampMap']['get'](_0x47a03f['candleTimestamp']);if(!_0x5c7e1f)return;const _0x77b08b=_0x5c7e1f['visualCandle'],_0x16d72e=this['config']['colors']['executedOrdersTheme'][_0x47a03f['side']],_0xa20b8c=_0x77b08b['x'](this['chartModel']['scale']);_0x409887['save']();const _0x183904=this['chartModel']['config']['components']['chart']['candlePaddingPercent'],_0x1b16d1=floorToDPR(unitToPixels(_0x77b08b['width'],this['chartModel']['scale']['zoomX'])*(0x1-_0x183904)),_0x5e4c0c=floorToDPR(this['chartModel']['mainCandleSeries']['view']['toY'](_0x47a03f['price'])),_0x437346={};_0x437346['x']=_0xa20b8c,_0x437346['y']=_0x5e4c0c,isInBounds(_0x437346,_0x599e3a)&&avoidAntialiasing(_0x409887,()=>{this['drawPriceLine'](_0x409887,_0xa20b8c,_0x5e4c0c,_0x1b16d1,_0x16d72e['exactPriceLine']);}),_0x409887['restore']();}}['drawPriceLine'](_0xc8dc9e,_0x54a221,_0x359be9,_0x1ab31b,_0x447ee0){_0xc8dc9e['strokeStyle']=_0x447ee0,_0xc8dc9e['lineWidth']=0x1,_0xc8dc9e['beginPath'](),_0xc8dc9e['moveTo'](_0x54a221-_0x1ab31b/0x2,_0x359be9),_0xc8dc9e['lineTo'](_0x54a221+_0x1ab31b/0x2,_0x359be9),_0xc8dc9e['stroke'](),_0xc8dc9e['closePath']();}}