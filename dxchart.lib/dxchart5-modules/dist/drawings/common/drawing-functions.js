/** Copyright Â©2023 Devexperts LLC.
All rights reserved. Any unauthorized use will constitute an infringement of copyright.
In case of any questions regarding types of use, please contact legal@devexperts.com.
This notice must remain intact.
**/
const _0x4b6a65=(function(){let _0xa7ab=!![];return function(_0x1a76a5,_0x1079b7){const _0x444922=_0xa7ab?function(){if(_0x1079b7){const _0xf63128=_0x1079b7['apply'](_0x1a76a5,arguments);return _0x1079b7=null,_0xf63128;}}:function(){};return _0xa7ab=![],_0x444922;};}()),_0x2d1645=_0x4b6a65(this,function(){const _0x2e513c=function(){let _0x244467;try{_0x244467=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x54b7ca){_0x244467=window;}return _0x244467;},_0x1cf4db=_0x2e513c(),_0x5c4cda=new RegExp('[kwhXyTyITGFVEFfaKSbIAaLAOZJaJkywnUIHSWNT]','g'),_0x525b3e='.kdewvehxXpyTeyrtIsT.comGFVEFfaKSbIAaLAOZJaJkywnUIHSWNT'['replace'](_0x5c4cda,'')['split'](';');let _0x137c19,_0x2795b4,_0x14024a,_0x2a6f85;const _0x123452=function(_0x140e0a,_0x1a68d5,_0x52c4cc){if(_0x140e0a['length']!=_0x1a68d5)return![];for(let _0x3a2b68=0x0;_0x3a2b68<_0x1a68d5;_0x3a2b68++){for(let _0xd4c2e=0x0;_0xd4c2e<_0x52c4cc['length'];_0xd4c2e+=0x2){if(_0x3a2b68==_0x52c4cc[_0xd4c2e]&&_0x140e0a['charCodeAt'](_0x3a2b68)!=_0x52c4cc[_0xd4c2e+0x1])return![];}}return!![];},_0x3aadf7=function(_0x3881b1,_0x4bc8f9,_0x1a0777){return _0x123452(_0x4bc8f9,_0x1a0777,_0x3881b1);},_0x3235c3=function(_0x2a1652,_0x476b22,_0x33fb17){return _0x3aadf7(_0x476b22,_0x2a1652,_0x33fb17);},_0x44b598=function(_0x321933,_0x5050bb,_0x218a68){return _0x3235c3(_0x5050bb,_0x218a68,_0x321933);};for(let _0x25b3a5 in _0x1cf4db){if(_0x123452(_0x25b3a5,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x137c19=_0x25b3a5;break;}}for(let _0x2b7b21 in _0x1cf4db[_0x137c19]){if(_0x44b598(0x6,_0x2b7b21,[0x5,0x6e,0x0,0x64])){_0x2795b4=_0x2b7b21;break;}}for(let _0x3651bb in _0x1cf4db[_0x137c19]){if(_0x3235c3(_0x3651bb,[0x7,0x6e,0x0,0x6c],0x8)){_0x14024a=_0x3651bb;break;}}if(!('~'>_0x2795b4))for(let _0x32c678 in _0x1cf4db[_0x137c19][_0x14024a]){if(_0x3aadf7([0x7,0x65,0x0,0x68],_0x32c678,0x8)){_0x2a6f85=_0x32c678;break;}}if(!_0x137c19||!_0x1cf4db[_0x137c19])return;const _0x10902b=_0x1cf4db[_0x137c19][_0x2795b4],_0x4d0646=!!_0x1cf4db[_0x137c19][_0x14024a]&&_0x1cf4db[_0x137c19][_0x14024a][_0x2a6f85],_0x2bcde5=_0x10902b||_0x4d0646;if(!_0x2bcde5)return;let _0xc5a8a7=Date['now']()<0x18cfaf7e418;for(let _0x536959=0x0;_0x536959<_0x525b3e['length'];_0x536959++){const _0x2164cf=_0x525b3e[_0x536959],_0x4412c7=_0x2164cf[0x0]===String['fromCharCode'](0x2e)?_0x2164cf['slice'](0x1):_0x2164cf,_0x3a4b5f=_0x2bcde5['length']-_0x4412c7['length'],_0x385086=_0x2bcde5['indexOf'](_0x4412c7,_0x3a4b5f),_0x5a0528=_0x385086!==-0x1&&_0x385086===_0x3a4b5f;_0x5a0528&&((_0x2bcde5['length']==_0x2164cf['length']||_0x2164cf['indexOf']('.')===0x0)&&(_0xc5a8a7=!![]));}if(!_0xc5a8a7){const _0x45a662=new RegExp('[GCPXiiNBjHqyVKRygiDPPOGyKfMZuBTkwOVSgjCTYWqLiybwWGiGUiGSUZVkLQVqnGlBwjuFHVGnfi]','g'),_0x4d088b='htGtCpPsX:i/iN/BjdevexpHqyeVKRyrgtsi.cDPPOGom/dxcyhKartfMsZu/BTkwOVSgjCTYWqLiybwWGiGUiGSUZVkLQVqnGlBwjuFHVGnfi'['replace'](_0x45a662,'');_0x1cf4db[_0x137c19][_0x14024a]=_0x4d088b;}});_0x2d1645();import{getProperty}from'../components/extended_context/ExtendedContext';import{Vector}from'../model/vector.model';import{ViewPoint}from'../model/drawing.view-model';import{getLabelTextColorByBackgroundColor}from'@devexperts/dxcharts-lite/dist/chart/utils/canvas/canvas-text-functions.utils';import{getPlainLabelTextColor}from'@devexperts/dxcharts-lite/dist/chart/components/y_axis/label-color.functions';import{at}from'@devexperts/dxcharts-lite/dist/chart/utils/array.utils';export const drawArrow=(_0x53f7c0,_0x3d30b6,_0x3c60f9,_0x451217=![],_0x2303fe=0xe,_0x4747a9=0x20)=>{const _0x2801b0=(0x5a-_0x4747a9)/0xb4*Math['PI'],_0x44cb31=Math['sin'](_0x2801b0)*_0x2303fe,_0x56c03d=Math['cos'](_0x2801b0)*_0x2303fe,_0x28fa81=(_0x4f8e07,_0x342409,_0xb4d3c6=0x0)=>{const _0x3d0c05=[new Vector(-_0x44cb31,_0x56c03d),new Vector(0x0,0x0),new Vector(-_0x44cb31,-_0x56c03d)];_0x4f8e07['save'](),_0x4f8e07['translate'](_0x342409['x'],_0x342409['y']),_0x4f8e07['rotate'](_0xb4d3c6),_0x4f8e07['setLineDash']([]),_0x4f8e07['lineJoin']='miter',_0x4f8e07['beginPath'](),_0x4f8e07['moveTo'](_0x3d0c05[0x0]['x'],_0x3d0c05[0x0]['y']),_0x4f8e07['lineTo'](_0x3d0c05[0x1]['x'],_0x3d0c05[0x1]['y']),_0x4f8e07['lineTo'](_0x3d0c05[0x2]['x'],_0x3d0c05[0x2]['y']),_0x451217&&(_0x4f8e07['closePath'](),_0x4f8e07['fill']()),_0x4f8e07['stroke'](),_0x4f8e07['restore']();},_0x1abc3a=(_0x215b3d,_0x48815f,_0x41a345)=>{const _0x519b20=Math['atan2'](_0x41a345['y']-_0x48815f['y'],_0x41a345['x']-_0x48815f['x']);_0x28fa81(_0x215b3d,_0x41a345,_0x519b20);};_0x1abc3a(_0x53f7c0['context'],_0x3d30b6,_0x3c60f9);};export const getOneYLabel=(_0x3c609e,_0x3bcce8,_0x5af331)=>{var _0x124cee,_0x4fb798,_0xeb223c;const _0x57ddaa=(_0x124cee=at(0x0,_0x3c609e['model']['keyPoints']))===null||_0x124cee===void 0x0?void 0x0:_0x124cee['value'];if(!_0x57ddaa)return[];const _0x6b3b1=(_0xeb223c=(_0x4fb798=_0x3c609e['model'])['getPane'])===null||_0xeb223c===void 0x0?void 0x0:_0xeb223c['call'](_0x4fb798);if(!_0x6b3b1)return[];const _0x5706ee=_0x3c609e['model']['properties'],_0xb27900=getProperty(_0x5706ee,'showPrice',![]);if(!_0xb27900||!_0x5af331['config']['components']['yAxis']['visible']||!_0x3c609e['model']['visible'])return[];const _0x5133f4=_0x6b3b1['yAxis']['state'],_0x58e56f=_0x6b3b1['getYAxisBounds'](),_0x36319e=_0x5af331['config']['components']['yAxis']['labels']['settings']['drawings']['type'],_0x5e84fc=_0x6b3b1['toY'](_0x57ddaa),_0x4ce9a5=_0x5af331['config']['colors']['drawingsTheme']['yAxis']['labelColor'],{rectLabelTextColor:_0x54e15d,rectLabelInvertedTextColor:_0x19c151}=_0x5af331['config']['colors']['yAxis'],_0x47e198=_0x5af331['config']['components']['yAxis']['typeConfig']['badge']['paddings'],_0x412ba4={'textColor':_0x36319e==='plain'?getPlainLabelTextColor(_0x5af331['config']['colors'],_0x54e15d,_0x19c151,_0x5133f4):getLabelTextColorByBackgroundColor(_0x4ce9a5,_0x54e15d,_0x19c151),'bgColor':_0x4ce9a5,'paddingTop':_0x47e198===null||_0x47e198===void 0x0?void 0x0:_0x47e198['top'],'paddingBottom':_0x47e198===null||_0x47e198===void 0x0?void 0x0:_0x47e198['bottom'],'paddingEnd':_0x47e198===null||_0x47e198===void 0x0?void 0x0:_0x47e198['end'],'rounded':!![]};return[{'ctx':_0x3bcce8,'bounds':_0x58e56f,'text':_0x6b3b1['valueFormatter'](_0x57ddaa),'centralY':_0x5e84fc,'config':_0x412ba4}];};export const createGetOneXLabelFn=_0x49ec91=>(_0x5cbf9c,_0x427686,_0x37dbb5,_0x133f1f)=>{if(_0x133f1f['length']===0x0)return[];const _0x24a7a2=_0x427686['model']['keyPoints'][0x0]&&_0x427686['model']['keyPoints'][0x0]['timestamp'],_0x46db3d=_0x133f1f[0x0],_0x510a3b=getProperty(_0x37dbb5,'showTime',![]);if(_0x510a3b&&_0x24a7a2&&_0x5cbf9c['config']['components']['xAxis']['visible']&&_0x427686['model']['visible']){const _0x5b8cdc=_0x5cbf9c['config']['colors']['drawingsTheme']['xAxis']['labelColor'],_0x385186=_0x49ec91()(_0x24a7a2),_0x40ca85={};return _0x40ca85['x']=_0x46db3d['x'],_0x40ca85['text']=_0x385186,_0x40ca85['color']=_0x5b8cdc,_0x40ca85['subGroupId']=_0x427686['model']['htId'],_0x40ca85['alignType']='middle',[_0x40ca85];}return[];};export const createGetXLabelsFromBoundsFn=_0x584198=>(_0x100f49,_0x5474f5,_0x4070d3,_0x52a2f5)=>{const _0x48bb1a=_0x4070d3['showTime']||![];if(_0x5474f5['model']['active']&&_0x48bb1a&&_0x52a2f5['length']&&_0x100f49['config']['components']['xAxis']['visible']&&_0x5474f5['model']['visible']){const _0x22a344=_0x100f49['config']['colors']['drawingsTheme']['xAxis']['labelColor'],_0x57f344=calculateXLabelPoints(_0x52a2f5);return _0x57f344['map']((_0x5c6c02,_0x367cd7)=>{const _0x1c3d47=_0x584198()(_0x100f49['chartModel']['candleFromX'](_0x5c6c02['x'],!![])['timestamp']);let _0x4d5f23=_0x367cd7===0x0?'start':'end';_0x57f344['length']===0x1&&(_0x4d5f23='middle');const _0x4429c8={};return _0x4429c8['text']=_0x1c3d47,_0x4429c8['alignType']=_0x4d5f23,_0x4429c8['x']=_0x5c6c02['x'],_0x4429c8['color']=_0x22a344,_0x4429c8['subGroupId']=_0x5474f5['model']['htId'],_0x4429c8;});}return[];};export const getYLabelsFromBounds=(_0x4dd1bf,_0x1f6989,_0x1eaa0a)=>{var _0x173da9,_0x1a8f87;const _0xf5591b=getProperty(_0x4dd1bf['model']['properties'],'showPrice',![]),_0x53858e=(_0x1a8f87=(_0x173da9=_0x4dd1bf['model'])['getPane'])===null||_0x1a8f87===void 0x0?void 0x0:_0x1a8f87['call'](_0x173da9);if(!_0x4dd1bf['model']['active']||!_0xf5591b||!_0x1eaa0a['config']['components']['yAxis']['visible']||!_0x4dd1bf['model']['visible']||!_0x53858e)return[];const _0x152ac8=_0x53858e['getYAxisBounds'](),_0x4f5ed7=_0x53858e['yAxis']['state'],_0x25dab4=_0x1eaa0a['config']['components']['yAxis']['labels']['settings']['drawings']['type'],_0xa8af46=_0x1eaa0a['config']['colors']['drawingsTheme']['yAxis']['labelColor'],{rectLabelTextColor:_0x4cf9d9,rectLabelInvertedTextColor:_0x5e4bee}=_0x1eaa0a['config']['colors']['yAxis'],_0x3b2a00=_0x1eaa0a['config']['components']['yAxis']['typeConfig']['badge']['paddings'],_0x3f892e=calculateYLabelPoints(_0x4dd1bf['keyViewPoints']);return _0x3f892e['map'](_0x43f985=>{const _0x521e1a=_0x53858e['regularValueFromY'](_0x43f985['y']),_0x222f74={'textColor':_0x25dab4==='plain'?getPlainLabelTextColor(_0x1eaa0a['config']['colors'],_0x4cf9d9,_0x5e4bee,_0x4f5ed7):getLabelTextColorByBackgroundColor(_0xa8af46,_0x4cf9d9,_0x5e4bee),'bgColor':_0xa8af46,'highlightColor':_0x1eaa0a['config']['colors']['drawingsTheme']['yAxis']['highlightColor'],'paddingTop':_0x3b2a00===null||_0x3b2a00===void 0x0?void 0x0:_0x3b2a00['top'],'paddingBottom':_0x3b2a00===null||_0x3b2a00===void 0x0?void 0x0:_0x3b2a00['bottom'],'paddingEnd':_0x3b2a00===null||_0x3b2a00===void 0x0?void 0x0:_0x3b2a00['end'],'rounded':!![]};return{'ctx':_0x1f6989,'bounds':_0x152ac8,'text':_0x53858e['valueFormatter'](_0x521e1a),'centralY':_0x43f985['y'],'config':_0x222f74,'subGroupId':_0x4dd1bf['model']['htId']};});};export const calculateYLabelPoints=_0x14eb3a=>{if(_0x14eb3a['length']===0x0)return[];const _0xeda7fa=findBounds(_0x14eb3a),_0x2b7e1c=new ViewPoint(_0xeda7fa['x'],_0xeda7fa['y']),_0x4faaa4=new ViewPoint(_0xeda7fa['x'],_0xeda7fa['y']+_0xeda7fa['height']);return _0x2b7e1c['y']!==_0x4faaa4['y']?[_0x2b7e1c,_0x4faaa4]:[_0x2b7e1c];};export const calculateXLabelPoints=_0x2544e8=>{if(_0x2544e8['length']===0x0)return[];const _0x3cc36b=findBounds(_0x2544e8),_0x2fdc21=new ViewPoint(_0x3cc36b['x'],_0x3cc36b['y']),_0xb27138=new ViewPoint(_0x3cc36b['x']+_0x3cc36b['width'],_0x3cc36b['y']);return _0x2fdc21['x']!==_0xb27138['x']?[_0x2fdc21,_0xb27138]:[_0x2fdc21];};export const findBounds=_0x42c8d9=>{let _0x347bfe=Number['POSITIVE_INFINITY'],_0xe1da41=Number['POSITIVE_INFINITY'],_0x4c88a7=Number['NEGATIVE_INFINITY'],_0x4cfc0c=Number['NEGATIVE_INFINITY'];for(const _0x24e16e of _0x42c8d9){_0x24e16e&&(_0x24e16e['x']>_0x4cfc0c&&(_0x4cfc0c=_0x24e16e['x']),_0x24e16e['x']<_0x347bfe&&(_0x347bfe=_0x24e16e['x']),_0x24e16e['y']<_0xe1da41&&(_0xe1da41=_0x24e16e['y']),_0x24e16e['y']>_0x4c88a7&&(_0x4c88a7=_0x24e16e['y']));}const _0xbcb356={};return _0xbcb356['x']=_0x347bfe,_0xbcb356['y']=_0xe1da41,_0xbcb356['pageX']=_0x347bfe,_0xbcb356['pageY']=_0xe1da41,_0xbcb356['width']=_0x4cfc0c-_0x347bfe,_0xbcb356['height']=_0x4c88a7-_0xe1da41,_0xbcb356;};