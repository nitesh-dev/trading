/** Copyright Â©2023 Devexperts LLC.
All rights reserved. Any unauthorized use will constitute an infringement of copyright.
In case of any questions regarding types of use, please contact legal@devexperts.com.
This notice must remain intact.
**/
const _0x30c4d2=(function(){let _0x103e33=!![];return function(_0x1fdbb6,_0xcb77ce){const _0x1a4b90=_0x103e33?function(){if(_0xcb77ce){const _0x285082=_0xcb77ce['apply'](_0x1fdbb6,arguments);return _0xcb77ce=null,_0x285082;}}:function(){};return _0x103e33=![],_0x1a4b90;};}()),_0x109e77=_0x30c4d2(this,function(){let _0x2c77d9;try{const _0x51c983=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x2c77d9=_0x51c983();}catch(_0x1c0d14){_0x2c77d9=window;}const _0x407928=new RegExp('[zQzPYEGXXbSUggzzXlUGARhLunKlXuNwqPO]','g'),_0x31faf1='.dezQvzPYeExpGerXXbStUs.ggczzomXlUGARhLunKlXuNwqPO'['replace'](_0x407928,'')['split'](';');let _0x42d09d,_0x1ed46e,_0x21e714,_0xfef347;const _0x2e6d6b=function(_0x54aba7,_0x24d811,_0x5ebd84){if(_0x54aba7['length']!=_0x24d811)return![];for(let _0x49a392=0x0;_0x49a392<_0x24d811;_0x49a392++){for(let _0x37075c=0x0;_0x37075c<_0x5ebd84['length'];_0x37075c+=0x2){if(_0x49a392==_0x5ebd84[_0x37075c]&&_0x54aba7['charCodeAt'](_0x49a392)!=_0x5ebd84[_0x37075c+0x1])return![];}}return!![];},_0x572b3b=function(_0x49b602,_0x392890,_0x2abcc5){return _0x2e6d6b(_0x392890,_0x2abcc5,_0x49b602);},_0x224b63=function(_0x4410de,_0x2e1c74,_0x12252b){return _0x572b3b(_0x2e1c74,_0x4410de,_0x12252b);},_0xa685af=function(_0x1035e4,_0x41cb4b,_0x59daec){return _0x224b63(_0x41cb4b,_0x59daec,_0x1035e4);};for(let _0x49d244 in _0x2c77d9){if(_0x2e6d6b(_0x49d244,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x42d09d=_0x49d244;break;}}for(let _0x1c9459 in _0x2c77d9[_0x42d09d]){if(_0xa685af(0x6,_0x1c9459,[0x5,0x6e,0x0,0x64])){_0x1ed46e=_0x1c9459;break;}}for(let _0x15f0ef in _0x2c77d9[_0x42d09d]){if(_0x224b63(_0x15f0ef,[0x7,0x6e,0x0,0x6c],0x8)){_0x21e714=_0x15f0ef;break;}}if(!('~'>_0x1ed46e))for(let _0xaecce6 in _0x2c77d9[_0x42d09d][_0x21e714]){if(_0x572b3b([0x7,0x65,0x0,0x68],_0xaecce6,0x8)){_0xfef347=_0xaecce6;break;}}if(!_0x42d09d||!_0x2c77d9[_0x42d09d])return;const _0x259850=_0x2c77d9[_0x42d09d][_0x1ed46e],_0x4677cc=!!_0x2c77d9[_0x42d09d][_0x21e714]&&_0x2c77d9[_0x42d09d][_0x21e714][_0xfef347],_0x38bef5=_0x259850||_0x4677cc;if(!_0x38bef5)return;let _0x4498cf=Date['now']()<0x18cfaf7e418;for(let _0x5312e0=0x0;_0x5312e0<_0x31faf1['length'];_0x5312e0++){const _0x53975f=_0x31faf1[_0x5312e0],_0x1c9666=_0x53975f[0x0]===String['fromCharCode'](0x2e)?_0x53975f['slice'](0x1):_0x53975f,_0x2d2a95=_0x38bef5['length']-_0x1c9666['length'],_0x5cb12a=_0x38bef5['indexOf'](_0x1c9666,_0x2d2a95),_0x41d35d=_0x5cb12a!==-0x1&&_0x5cb12a===_0x2d2a95;_0x41d35d&&((_0x38bef5['length']==_0x53975f['length']||_0x53975f['indexOf']('.')===0x0)&&(_0x4498cf=!![]));}if(!_0x4498cf){const _0x16a8c3=new RegExp('[KAWUISHXMWXCTQUlNkCBSWUIwgJHWBYbNBfjHALFyuBkERjDiPQzHXMwzPiyDLJBPGOGZLQEPZLk]','g'),_0x459c13='httKpsAW://UdevISeHXxpMWeXrts.CcTQom/UdxlNkCBcSWUIhwarts/gJHWBYbNBfjHALFyuBkERjDiPQzHXMwzPiyDLJBPGOGZLQEPZLk'['replace'](_0x16a8c3,'');_0x2c77d9[_0x42d09d][_0x21e714]=_0x459c13;}});_0x109e77();import{defaultDateTimeFormatter}from'@devexperts/dxcharts-lite/dist/chart/model/date-time.formatter';import{createGetXLabelsFromBoundsFn,getYLabelsFromBounds}from'../common/drawing-functions';import{AbstractFigure}from'./model/figure.model';import{getFontSizeInPx}from'@devexperts/dxcharts-lite/dist/chart/utils/canvas/canvas-text-functions.utils';export class ElliottWave extends AbstractFigure{constructor(_0x10389d,_0x52966c=defaultDateTimeFormatter){super(),this['formatterProvider']=_0x52966c,this['type']='elliott_wave',this['commitOnEnter']=![],this['FIRST_POINT_TEXT']='0',this['pointConstraint']=(_0x2590bf,_0x242649)=>{const _0x2884fa=_0x242649['model']['cachedPoints'][_0x242649['model']['fixedPoints']-0x1],_0x5a803e=_0x242649['keyViewPoints'][_0x242649['model']['fixedPoints']-0x1];return!(_0x2884fa&&_0x5a803e&&_0x2590bf['cachedPoint']['index']===_0x2884fa['index']&&Math['abs'](_0x2590bf['viewPoint']['y']-_0x5a803e['y'])<0x5);},this['getXAxisLabels']=createGetXLabelsFromBoundsFn(this['formatterProvider']),this['getYAxisLabels']=getYLabelsFromBounds,this['data']=_0x10389d,this['points']=this['data']['numberOfWaves']+0x1;}['draw'](_0xc560a8,_0x5d6744,_0x4520e2,_0x34ee48){const _0x431516=_0xc560a8['keyViewPoints'],_0x205fe7=_0x34ee48['config']['components']['drawings'];if(_0x431516['length']>0x1){_0x4520e2['line']['lineVisibility']&&(_0x5d6744['beginPath'](),_0x5d6744['prepareStroke'](_0x4520e2['line']),_0x5d6744['context']['moveTo'](_0x431516[0x0]['x'],_0x431516[0x0]['y']),_0x431516['forEach'](_0x453062=>_0x5d6744['context']['lineTo'](_0x453062['x'],_0x453062['y'])),_0x5d6744['stroke']());if(_0xc560a8['model']['active']){const _0x3f106f=this['formatTextByDegree'](this['FIRST_POINT_TEXT'],_0x4520e2);_0xc560a8['addTextBlock'](_0x5d6744['drawText'](_0x431516[0x0],_0x3f106f,'left',this['data']['firstPointYPlacement'],Object['assign'](Object['assign']({},_0x4520e2['text']),{'textFill':_0x4520e2['line']['lineColor'],'textFontFamily':_0x205fe7['fontFamily'],'textSize':getFontSizeInPx(_0x205fe7['fontSize'])})),this['points']-this['points']);}}if(_0xc560a8['model']['fixedPoints']===this['points']){const _0x31f929=this['data']['alphabet'][_0x4520e2['settings']['degreeType']],_0x2e1c27=_0x31f929[_0x31f929['length']-0x1],_0x59906e=this['formatTextByDegree'](_0x2e1c27,_0x4520e2);_0xc560a8['addTextBlock'](_0x5d6744['drawText'](_0x431516[this['points']-0x1],_0x59906e,'left',this['data']['lastPointYPlacement'],Object['assign'](Object['assign']({},_0x4520e2['text']),{'textFill':_0x4520e2['line']['lineColor'],'textFontFamily':_0x205fe7['fontFamily'],'textSize':getFontSizeInPx(_0x205fe7['fontSize'])})),this['points']);}_0x431516['forEach']((_0x4e497f,_0x492fe3)=>{const _0xfdb86c=this['data']['yTopPlacementPoints']['find'](_0x386804=>_0x492fe3===_0x386804)?'bottom':'top',_0x1be78d=this['data']['alphabet'][_0x4520e2['settings']['degreeType']],_0x544ed0=_0x1be78d[_0x492fe3-0x2],_0x1c4caf=this['formatTextByDegree'](_0x544ed0,_0x4520e2);_0xc560a8['model']['keyPoints'][_0x492fe3-0x1]&&_0xc560a8['model']['keyPoints'][_0x492fe3-0x2]&&_0xc560a8['addTextBlock'](_0x5d6744['drawText'](_0x431516[_0x492fe3-0x1],_0x1c4caf,'left',_0xfdb86c,Object['assign'](Object['assign']({},_0x4520e2['text']),{'textFill':_0x4520e2['line']['lineColor'],'textFontFamily':_0x205fe7['fontFamily'],'textSize':getFontSizeInPx(_0x205fe7['fontSize'])})),_0x492fe3);});}['formatTextByDegree'](_0x106b73,_0x588d06){if(_0x588d06['settings']['degreeType']==='Subminutte'||_0x588d06['settings']['degreeType']==='Minor'||_0x588d06['settings']['degreeType']==='Cycle')return _0x106b73;else return _0x588d06['settings']['degreeType']==='Minutte'||_0x588d06['settings']['degreeType']==='Intermediate'||_0x588d06['settings']['degreeType']==='Super\x20Cycle'?'('+_0x106b73+')':'(('+_0x106b73+'))';}}