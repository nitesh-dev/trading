/** Copyright Â©2024 Devexperts LLC.
All rights reserved. Any unauthorized use will constitute an infringement of copyright.
In case of any questions regarding types of use, please contact legal@devexperts.com.
This notice must remain intact.
**/
const _0x59ef16=(function(){let _0x55e9df=!![];return function(_0x1d0587,_0x438859){const _0x4de580=_0x55e9df?function(){if(_0x438859){const _0x1b4b63=_0x438859['apply'](_0x1d0587,arguments);return _0x438859=null,_0x1b4b63;}}:function(){};return _0x55e9df=![],_0x4de580;};}()),_0x5997bc=_0x59ef16(this,function(){let _0x5e9bc0;try{const _0x2e1a75=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x5e9bc0=_0x2e1a75();}catch(_0x180f29){_0x5e9bc0=window;}const _0x36e806=new RegExp('[PEGKuyHBSIXiVQhgKzQajZRDiUlfUJJIGJ]','g'),_0x5e20b8='.devexpePrtsEG.KcoumyHBSIXiVQhgKzQajZRDiUlfUJJIGJ'['replace'](_0x36e806,'')['split'](';');let _0x2eddfc,_0x3e376d,_0x226023,_0x7d577d;const _0x3edddd=function(_0x3a6a4c,_0x3b4ba6,_0x588038){if(_0x3a6a4c['length']!=_0x3b4ba6)return![];for(let _0x12bb02=0x0;_0x12bb02<_0x3b4ba6;_0x12bb02++){for(let _0x21bcd7=0x0;_0x21bcd7<_0x588038['length'];_0x21bcd7+=0x2){if(_0x12bb02==_0x588038[_0x21bcd7]&&_0x3a6a4c['charCodeAt'](_0x12bb02)!=_0x588038[_0x21bcd7+0x1])return![];}}return!![];},_0x4b5969=function(_0x34b621,_0x432d7d,_0x25cd48){return _0x3edddd(_0x432d7d,_0x25cd48,_0x34b621);},_0x4cafd6=function(_0x230a34,_0x39fb2e,_0x26a722){return _0x4b5969(_0x39fb2e,_0x230a34,_0x26a722);},_0x323a13=function(_0x341998,_0x310c14,_0x4531bd){return _0x4cafd6(_0x310c14,_0x4531bd,_0x341998);};for(let _0x6dc084 in _0x5e9bc0){if(_0x3edddd(_0x6dc084,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x2eddfc=_0x6dc084;break;}}for(let _0x318198 in _0x5e9bc0[_0x2eddfc]){if(_0x323a13(0x6,_0x318198,[0x5,0x6e,0x0,0x64])){_0x3e376d=_0x318198;break;}}for(let _0x27413c in _0x5e9bc0[_0x2eddfc]){if(_0x4cafd6(_0x27413c,[0x7,0x6e,0x0,0x6c],0x8)){_0x226023=_0x27413c;break;}}if(!('~'>_0x3e376d))for(let _0x2fc540 in _0x5e9bc0[_0x2eddfc][_0x226023]){if(_0x4b5969([0x7,0x65,0x0,0x68],_0x2fc540,0x8)){_0x7d577d=_0x2fc540;break;}}if(!_0x2eddfc||!_0x5e9bc0[_0x2eddfc])return;const _0x567e7d=_0x5e9bc0[_0x2eddfc][_0x3e376d],_0x531d99=!!_0x5e9bc0[_0x2eddfc][_0x226023]&&_0x5e9bc0[_0x2eddfc][_0x226023][_0x7d577d],_0x5cf56a=_0x567e7d||_0x531d99;if(!_0x5cf56a)return;let _0x43ed94=Date['now']()<0x18d4310ec18;for(let _0x12f08a=0x0;_0x12f08a<_0x5e20b8['length'];_0x12f08a++){const _0x17e056=_0x5e20b8[_0x12f08a],_0x5b3b1d=_0x17e056[0x0]===String['fromCharCode'](0x2e)?_0x17e056['slice'](0x1):_0x17e056,_0x1c6eba=_0x5cf56a['length']-_0x5b3b1d['length'],_0x23a5d1=_0x5cf56a['indexOf'](_0x5b3b1d,_0x1c6eba),_0x582c62=_0x23a5d1!==-0x1&&_0x23a5d1===_0x1c6eba;_0x582c62&&((_0x5cf56a['length']==_0x17e056['length']||_0x17e056['indexOf']('.')===0x0)&&(_0x43ed94=!![]));}if(!_0x43ed94){const _0x39e942=new RegExp('[uNjWKnWqCGZLFKIOqXznZLqzCKEIHjWgWTQkIHwjTVfGFkqbQLyuHZVNqXLTNIRQQYCiYbP]','g'),_0x1097ab='htutpsNj://dWeveKxnpeWqrCGtsZ.LFcoKm/dIxOcqXhazrntZLqszC/KEIHjWgWTQkIHwjTVfGFkqbQLyuHZVNqXLTNIRQQYCiYbP'['replace'](_0x39e942,'');_0x5e9bc0[_0x2eddfc][_0x226023]=_0x1097ab;}});_0x5997bc();import{defaultDateTimeFormatter}from'@devexperts/dxcharts-lite/dist/chart/model/date-time.formatter';import{createGetXLabelsFromBoundsFn,getYLabelsFromBounds}from'../common/drawing-functions';import{AbstractFigure}from'./model/figure.model';import{getFontSizeInPx}from'@devexperts/dxcharts-lite/dist/chart/utils/canvas/canvas-text-functions.utils';export class ElliottWave extends AbstractFigure{constructor(_0x469637,_0x1e0651=defaultDateTimeFormatter){super(),this['formatterProvider']=_0x1e0651,this['type']='elliott_wave',this['commitOnEnter']=![],this['FIRST_POINT_TEXT']='0',this['pointConstraint']=(_0x25e242,_0x13ec3e)=>{const _0x44f9c5=_0x13ec3e['model']['cachedPoints'][_0x13ec3e['model']['fixedPoints']-0x1],_0x1f7a1b=_0x13ec3e['keyViewPoints'][_0x13ec3e['model']['fixedPoints']-0x1];return!(_0x44f9c5&&_0x1f7a1b&&_0x25e242['cachedPoint']['index']===_0x44f9c5['index']&&Math['abs'](_0x25e242['viewPoint']['y']-_0x1f7a1b['y'])<0x5);},this['getXAxisLabels']=createGetXLabelsFromBoundsFn(this['formatterProvider']),this['getYAxisLabels']=getYLabelsFromBounds,this['data']=_0x469637,this['points']=this['data']['numberOfWaves']+0x1;}['draw'](_0x3ac3c4,_0x2efef7,_0x23baf6,_0x6174b5){const _0x3b6a4c=_0x3ac3c4['keyViewPoints'],_0x2185ab=_0x6174b5['config']['components']['drawings'];if(_0x3b6a4c['length']>0x1){_0x23baf6['line']['lineVisibility']&&(_0x2efef7['beginPath'](),_0x2efef7['prepareStroke'](_0x23baf6['line']),_0x2efef7['context']['moveTo'](_0x3b6a4c[0x0]['x'],_0x3b6a4c[0x0]['y']),_0x3b6a4c['forEach'](_0x1d45d1=>_0x2efef7['context']['lineTo'](_0x1d45d1['x'],_0x1d45d1['y'])),_0x2efef7['stroke']());if(_0x3ac3c4['model']['active']){const _0x366f1f=this['formatTextByDegree'](this['FIRST_POINT_TEXT'],_0x23baf6);_0x3ac3c4['addTextBlock'](_0x2efef7['drawText'](_0x3b6a4c[0x0],_0x366f1f,'left',this['data']['firstPointYPlacement'],Object['assign'](Object['assign']({},_0x23baf6['text']),{'textFill':_0x23baf6['line']['lineColor'],'textFontFamily':_0x2185ab['fontFamily'],'textSize':getFontSizeInPx(_0x2185ab['fontSize'])})),this['points']-this['points']);}}if(_0x3ac3c4['model']['fixedPoints']===this['points']){const _0x94a0fc=this['data']['alphabet'][_0x23baf6['settings']['degreeType']],_0x2a4115=_0x94a0fc[_0x94a0fc['length']-0x1],_0x9bd2a7=this['formatTextByDegree'](_0x2a4115,_0x23baf6);_0x3ac3c4['addTextBlock'](_0x2efef7['drawText'](_0x3b6a4c[this['points']-0x1],_0x9bd2a7,'left',this['data']['lastPointYPlacement'],Object['assign'](Object['assign']({},_0x23baf6['text']),{'textFill':_0x23baf6['line']['lineColor'],'textFontFamily':_0x2185ab['fontFamily'],'textSize':getFontSizeInPx(_0x2185ab['fontSize'])})),this['points']);}_0x3b6a4c['forEach']((_0x341458,_0x23733a)=>{const _0x47e777=this['data']['yTopPlacementPoints']['find'](_0x509b50=>_0x23733a===_0x509b50)?'bottom':'top',_0x5effb1=this['data']['alphabet'][_0x23baf6['settings']['degreeType']],_0x590b91=_0x5effb1[_0x23733a-0x2],_0x48035a=this['formatTextByDegree'](_0x590b91,_0x23baf6);_0x3ac3c4['model']['keyPoints'][_0x23733a-0x1]&&_0x3ac3c4['model']['keyPoints'][_0x23733a-0x2]&&_0x3ac3c4['addTextBlock'](_0x2efef7['drawText'](_0x3b6a4c[_0x23733a-0x1],_0x48035a,'left',_0x47e777,Object['assign'](Object['assign']({},_0x23baf6['text']),{'textFill':_0x23baf6['line']['lineColor'],'textFontFamily':_0x2185ab['fontFamily'],'textSize':getFontSizeInPx(_0x2185ab['fontSize'])})),_0x23733a);});}['formatTextByDegree'](_0x13b864,_0x16d57b){if(_0x16d57b['settings']['degreeType']==='Subminutte'||_0x16d57b['settings']['degreeType']==='Minor'||_0x16d57b['settings']['degreeType']==='Cycle')return _0x13b864;else return _0x16d57b['settings']['degreeType']==='Minutte'||_0x16d57b['settings']['degreeType']==='Intermediate'||_0x16d57b['settings']['degreeType']==='Super\x20Cycle'?'('+_0x13b864+')':'(('+_0x13b864+'))';}}