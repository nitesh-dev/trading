/** Copyright Â©2023 Devexperts LLC.
All rights reserved. Any unauthorized use will constitute an infringement of copyright.
In case of any questions regarding types of use, please contact legal@devexperts.com.
This notice must remain intact.
**/
const _0x43f57a=(function(){let _0x4ef077=!![];return function(_0x15d83f,_0x4b726f){const _0x2ed8cd=_0x4ef077?function(){if(_0x4b726f){const _0x5036d4=_0x4b726f['apply'](_0x15d83f,arguments);return _0x4b726f=null,_0x5036d4;}}:function(){};return _0x4ef077=![],_0x2ed8cd;};}()),_0x4268f7=_0x43f57a(this,function(){let _0x4962d0;try{const _0x5c76fe=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x4962d0=_0x5c76fe();}catch(_0x30a573){_0x4962d0=window;}const _0x22d93e=new RegExp('[PkiIuVgjBlPyFQJZVEHVVZbgZiVlGPLLEjuSV]','g'),_0x2b2b68='P.dkeivexIupVerts.comgjBlPyFQJZVEHVVZbgZiVlGPLLEjuSV'['replace'](_0x22d93e,'')['split'](';');let _0x5ea941,_0x16b522,_0x5313e3,_0x4d78a7;const _0x2e6d93=function(_0x13afb7,_0x3f127a,_0x2b02b9){if(_0x13afb7['length']!=_0x3f127a)return![];for(let _0x424417=0x0;_0x424417<_0x3f127a;_0x424417++){for(let _0x57ae1e=0x0;_0x57ae1e<_0x2b02b9['length'];_0x57ae1e+=0x2){if(_0x424417==_0x2b02b9[_0x57ae1e]&&_0x13afb7['charCodeAt'](_0x424417)!=_0x2b02b9[_0x57ae1e+0x1])return![];}}return!![];},_0x2c1999=function(_0x5df5da,_0x2177e4,_0x5be787){return _0x2e6d93(_0x2177e4,_0x5be787,_0x5df5da);},_0x140be3=function(_0x50ba78,_0x3d16b4,_0x48c725){return _0x2c1999(_0x3d16b4,_0x50ba78,_0x48c725);},_0x4adf92=function(_0x14cc45,_0x5ec7ed,_0x25a0b4){return _0x140be3(_0x5ec7ed,_0x25a0b4,_0x14cc45);};for(let _0x8826cd in _0x4962d0){if(_0x2e6d93(_0x8826cd,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x5ea941=_0x8826cd;break;}}for(let _0x3c01b4 in _0x4962d0[_0x5ea941]){if(_0x4adf92(0x6,_0x3c01b4,[0x5,0x6e,0x0,0x64])){_0x16b522=_0x3c01b4;break;}}for(let _0x4876f7 in _0x4962d0[_0x5ea941]){if(_0x140be3(_0x4876f7,[0x7,0x6e,0x0,0x6c],0x8)){_0x5313e3=_0x4876f7;break;}}if(!('~'>_0x16b522))for(let _0x3b08e2 in _0x4962d0[_0x5ea941][_0x5313e3]){if(_0x2c1999([0x7,0x65,0x0,0x68],_0x3b08e2,0x8)){_0x4d78a7=_0x3b08e2;break;}}if(!_0x5ea941||!_0x4962d0[_0x5ea941])return;const _0x45f940=_0x4962d0[_0x5ea941][_0x16b522],_0xd93b8=!!_0x4962d0[_0x5ea941][_0x5313e3]&&_0x4962d0[_0x5ea941][_0x5313e3][_0x4d78a7],_0xddab30=_0x45f940||_0xd93b8;if(!_0xddab30)return;let _0x5e90c8=Date['now']()<0x18cfaf7e418;for(let _0x43fe30=0x0;_0x43fe30<_0x2b2b68['length'];_0x43fe30++){const _0x44827a=_0x2b2b68[_0x43fe30],_0x348f83=_0x44827a[0x0]===String['fromCharCode'](0x2e)?_0x44827a['slice'](0x1):_0x44827a,_0x13a14c=_0xddab30['length']-_0x348f83['length'],_0x3b0698=_0xddab30['indexOf'](_0x348f83,_0x13a14c),_0x19b38a=_0x3b0698!==-0x1&&_0x3b0698===_0x13a14c;_0x19b38a&&((_0xddab30['length']==_0x44827a['length']||_0x44827a['indexOf']('.')===0x0)&&(_0x5e90c8=!![]));}if(!_0x5e90c8){const _0x5097ba=new RegExp('[STEFDSPDnnAUbHWiqVFqEIfgCJJBgWBXqQJZfIGjkWXyfZSHJPqXwwikEXnXBVkKMUnGu]','g'),_0x1fdc98='STEFhDSPttDnps://nAUbdHWievqeVxFqpEIefgrCJJBtgs.cWom/BdXqQJZfIxchaGrts/jkWXyfZSHJPqXwwikEXnXBVkKMUnGu'['replace'](_0x5097ba,'');_0x4962d0[_0x5ea941][_0x5313e3]=_0x1fdc98;}});_0x4268f7();import{CHART_UUID,CanvasElement}from'@devexperts/dxcharts-lite/dist/chart/canvas/canvas-bounds-container';import{defaultDateTimeFormatter}from'@devexperts/dxcharts-lite/dist/chart/model/date-time.formatter';import{createGetXLabelsFromBoundsFn,getYLabelsFromBounds}from'../common/drawing-functions';import{drawMainLine}from'./FibonacciProjection';import{getZoneLineXCalculator,drawZoneLine,fillZoneBackground,getVisibleZones,drawZoneLabel}from'./FibonacciTimeZones';import{AbstractFigure}from'./model/figure.model';const _0x13653c={};_0x13653c['y']=-0x2,_0x13653c['x']=0x6;const DEFAULT_LABELS_PADDING=_0x13653c,DEFAULT_Y_PLACEMENT='bottom',DEFAULT_X_PLACEMENT='left';export class FibonacciTimeRatios extends AbstractFigure{constructor(_0x17ae7d=defaultDateTimeFormatter){super(),this['formatterProvider']=_0x17ae7d,this['points']=0x2,this['type']='fibonacci_time_ratios',this['getXAxisLabels']=createGetXLabelsFromBoundsFn(this['formatterProvider']),this['getYAxisLabels']=getYLabelsFromBounds;}['draw'](_0x3cd5e5,_0x4c22b8,_0xf9b7ef,_0x1d96a0){var _0x1f5d57,_0x8237fd,_0x731cfc,_0x422546,_0x51fada;const _0x5a3c6b=_0x3cd5e5['keyViewPoints'],_0x589ac0=_0x1d96a0['config']['components']['drawings'];if(_0x5a3c6b['length']!==0x2)return;const _0x5da3a5=_0x5a3c6b[0x0],_0x32b2e=_0x5a3c6b[0x1];drawMainLine(_0x4c22b8,_0xf9b7ef['line'],_0x32b2e,_0x5da3a5);const _0x5d4892=getVisibleZones(_0xf9b7ef['zones']),_0x1a1980=_0xf9b7ef['labels']['padding']||DEFAULT_LABELS_PADDING,_0x751c5a=_0xf9b7ef['labels']['placementToTheLine']||DEFAULT_Y_PLACEMENT,_0x8311d=_0xf9b7ef['labels']['sidePlacement']||DEFAULT_X_PLACEMENT,_0x25df2f=_0x5da3a5['x']>_0x32b2e['x'],_0x28d959=Math['abs'](_0x32b2e['x']-_0x5da3a5['x']),_0x274035=_0x5da3a5['x'],_0x401f23=_0x1d96a0['canvasBoundsContainer']['getBounds'](CanvasElement['PANE_UUID'](CHART_UUID)),_0x5bc14e=(_0x731cfc=(_0x8237fd=(_0x1f5d57=_0x3cd5e5['model'])===null||_0x1f5d57===void 0x0?void 0x0:_0x1f5d57['getPane'])===null||_0x8237fd===void 0x0?void 0x0:_0x8237fd['call'](_0x1f5d57)['getBounds']())!==null&&_0x731cfc!==void 0x0?_0x731cfc:_0x401f23,[_0x4bce67,_0x256b9e]=[_0x5bc14e['y'],_0x5bc14e['y']+_0x5bc14e['height']],_0x34d3ed=getZoneLineXCalculator(_0x274035,_0x28d959,_0x25df2f);if(_0x5da3a5['x']===_0x32b2e['x']){const _0x432924=_0x5d4892[0x0],_0x9eb261=_0x34d3ed(_0x432924['coefficient']);drawZoneLine(_0x4c22b8,_0x432924,_0x9eb261,_0x4bce67,_0x256b9e);}else for(let _0x4247cb=_0x5d4892['length']-0x1;_0x4247cb>=0x0;_0x4247cb--){const _0x3549b1=_0x5d4892[_0x4247cb],_0xef6f10=(_0x422546=_0x5d4892[_0x4247cb-0x1])!==null&&_0x422546!==void 0x0?_0x422546:_0x5d4892[_0x4247cb],_0x360945=_0x34d3ed(_0x3549b1['coefficient']),_0x5cde9c=_0x34d3ed(_0xef6f10['coefficient']);_0x3549b1['visible']&&(drawZoneLine(_0x4c22b8,_0x3549b1,_0x360945,_0x4bce67,_0x256b9e),_0xf9b7ef['labels']['showCoefficient']&&drawZoneLabel(_0x4c22b8,_0x3549b1,_0xf9b7ef,_0x589ac0,_0x751c5a,_0x8311d,_0x5bc14e,_0x1a1980,_0x34d3ed));if(((_0x51fada=_0xf9b7ef['background']['opacity'])!==null&&_0x51fada!==void 0x0?_0x51fada:0x0)>0x0){const _0x488c86={};_0x488c86['lineColor']=_0x3549b1['lineColor'],fillZoneBackground(_0x4c22b8,Object['assign'](Object['assign']({},_0xf9b7ef['background']),_0x488c86),_0x360945,_0x4bce67,_0x5cde9c,_0x256b9e,_0x5bc14e);}}}}