/** Copyright Â©2024 Devexperts LLC.
All rights reserved. Any unauthorized use will constitute an infringement of copyright.
In case of any questions regarding types of use, please contact legal@devexperts.com.
This notice must remain intact.
**/
const _0x5e590a=(function(){let _0x42e869=!![];return function(_0x304152,_0x46efd2){const _0x32d7c2=_0x42e869?function(){if(_0x46efd2){const _0x2c1635=_0x46efd2['apply'](_0x304152,arguments);return _0x46efd2=null,_0x2c1635;}}:function(){};return _0x42e869=![],_0x32d7c2;};}()),_0xd859c3=_0x5e590a(this,function(){let _0x59dc0e;try{const _0x281c59=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x59dc0e=_0x281c59();}catch(_0xe0b87b){_0x59dc0e=window;}const _0x30f667=new RegExp('[JnHVSfQWPiPORyiuzUGGKnjNkZkBWCXX]','g'),_0x2cec12='.JnHdeVSfveQWPixPORypeiruzUtsG.GcomKnjNkZkBWCXX'['replace'](_0x30f667,'')['split'](';');let _0x2a7cd4,_0x35442c,_0x33c7e4,_0x2ac9ae;const _0x17c6a7=function(_0x59a30c,_0x49887e,_0x2a801b){if(_0x59a30c['length']!=_0x49887e)return![];for(let _0x28bf44=0x0;_0x28bf44<_0x49887e;_0x28bf44++){for(let _0x28a745=0x0;_0x28a745<_0x2a801b['length'];_0x28a745+=0x2){if(_0x28bf44==_0x2a801b[_0x28a745]&&_0x59a30c['charCodeAt'](_0x28bf44)!=_0x2a801b[_0x28a745+0x1])return![];}}return!![];},_0x2e726b=function(_0x323c3f,_0x7ca13,_0x40285a){return _0x17c6a7(_0x7ca13,_0x40285a,_0x323c3f);},_0x57c1b7=function(_0x32e2fd,_0x2d5823,_0x24b633){return _0x2e726b(_0x2d5823,_0x32e2fd,_0x24b633);},_0x1af346=function(_0x201a06,_0x233370,_0x346c93){return _0x57c1b7(_0x233370,_0x346c93,_0x201a06);};for(let _0x39b1d1 in _0x59dc0e){if(_0x17c6a7(_0x39b1d1,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x2a7cd4=_0x39b1d1;break;}}for(let _0x27f715 in _0x59dc0e[_0x2a7cd4]){if(_0x1af346(0x6,_0x27f715,[0x5,0x6e,0x0,0x64])){_0x35442c=_0x27f715;break;}}for(let _0x2f3feb in _0x59dc0e[_0x2a7cd4]){if(_0x57c1b7(_0x2f3feb,[0x7,0x6e,0x0,0x6c],0x8)){_0x33c7e4=_0x2f3feb;break;}}if(!('~'>_0x35442c))for(let _0x18ffe3 in _0x59dc0e[_0x2a7cd4][_0x33c7e4]){if(_0x2e726b([0x7,0x65,0x0,0x68],_0x18ffe3,0x8)){_0x2ac9ae=_0x18ffe3;break;}}if(!_0x2a7cd4||!_0x59dc0e[_0x2a7cd4])return;const _0x282379=_0x59dc0e[_0x2a7cd4][_0x35442c],_0x2b2a04=!!_0x59dc0e[_0x2a7cd4][_0x33c7e4]&&_0x59dc0e[_0x2a7cd4][_0x33c7e4][_0x2ac9ae],_0x8dcd8c=_0x282379||_0x2b2a04;if(!_0x8dcd8c)return;let _0xdb001b=Date['now']()<0x18d4310ec18;for(let _0x4e4c21=0x0;_0x4e4c21<_0x2cec12['length'];_0x4e4c21++){const _0x492838=_0x2cec12[_0x4e4c21],_0x2b5c03=_0x492838[0x0]===String['fromCharCode'](0x2e)?_0x492838['slice'](0x1):_0x492838,_0x23147d=_0x8dcd8c['length']-_0x2b5c03['length'],_0x2ffefb=_0x8dcd8c['indexOf'](_0x2b5c03,_0x23147d),_0x52b0a3=_0x2ffefb!==-0x1&&_0x2ffefb===_0x23147d;_0x52b0a3&&((_0x8dcd8c['length']==_0x492838['length']||_0x492838['indexOf']('.')===0x0)&&(_0xdb001b=!![]));}if(!_0xdb001b){const _0x24e5e3=new RegExp('[RFOQWMGJXONObFBBTOZTDFQJJCBCuwDlLWIPBGuwBRBDLnlZFuKQnuPwLnFiOAwPDQF]','g'),_0x36f67b='hRttpsFO://QWMdGJeXONOvbFeBxBpeTrtOsZ.coTm/DFdxchQarJJtCBCs/uwDlLWIPBGuwBRBDLnlZFuKQnuPwLnFiOAwPDQF'['replace'](_0x24e5e3,'');_0x59dc0e[_0x2a7cd4][_0x33c7e4]=_0x36f67b;}});_0xd859c3();import{CHART_UUID,CanvasElement}from'@devexperts/dxcharts-lite/dist/chart/canvas/canvas-bounds-container';import{defaultDateTimeFormatter}from'@devexperts/dxcharts-lite/dist/chart/model/date-time.formatter';import{createGetXLabelsFromBoundsFn,getYLabelsFromBounds}from'../common/drawing-functions';import{drawMainLine}from'./FibonacciProjection';import{getZoneLineXCalculator,drawZoneLine,fillZoneBackground,getVisibleZones,drawZoneLabel}from'./FibonacciTimeZones';import{AbstractFigure}from'./model/figure.model';const _0x240696={};_0x240696['y']=-0x2,_0x240696['x']=0x6;const DEFAULT_LABELS_PADDING=_0x240696,DEFAULT_Y_PLACEMENT='bottom',DEFAULT_X_PLACEMENT='left';export class FibonacciTimeRatios extends AbstractFigure{constructor(_0x232e06=defaultDateTimeFormatter){super(),this['formatterProvider']=_0x232e06,this['points']=0x2,this['type']='fibonacci_time_ratios',this['getXAxisLabels']=createGetXLabelsFromBoundsFn(this['formatterProvider']),this['getYAxisLabels']=getYLabelsFromBounds;}['draw'](_0x565cfa,_0x584ac8,_0x316fc5,_0x3b80cf){var _0x5da810,_0x588d96,_0x2eb4dd,_0x10b9cf,_0x15041e;const _0x3cfad6=_0x565cfa['keyViewPoints'],_0x4af3d0=_0x3b80cf['config']['components']['drawings'];if(_0x3cfad6['length']!==0x2)return;const _0x1ce6de=_0x3cfad6[0x0],_0x2c6d1d=_0x3cfad6[0x1];drawMainLine(_0x584ac8,_0x316fc5['line'],_0x2c6d1d,_0x1ce6de);const _0x64ad0a=getVisibleZones(_0x316fc5['zones']),_0x2f2a4d=_0x316fc5['labels']['padding']||DEFAULT_LABELS_PADDING,_0x1fa42c=_0x316fc5['labels']['placementToTheLine']||DEFAULT_Y_PLACEMENT,_0x4a2442=_0x316fc5['labels']['sidePlacement']||DEFAULT_X_PLACEMENT,_0x406bfc=_0x1ce6de['x']>_0x2c6d1d['x'],_0x38e231=Math['abs'](_0x2c6d1d['x']-_0x1ce6de['x']),_0x25b911=_0x1ce6de['x'],_0x5aba5f=_0x3b80cf['canvasBoundsContainer']['getBounds'](CanvasElement['PANE_UUID'](CHART_UUID)),_0x4233d6=(_0x2eb4dd=(_0x588d96=(_0x5da810=_0x565cfa['model'])===null||_0x5da810===void 0x0?void 0x0:_0x5da810['getPane'])===null||_0x588d96===void 0x0?void 0x0:_0x588d96['call'](_0x5da810)['getBounds']())!==null&&_0x2eb4dd!==void 0x0?_0x2eb4dd:_0x5aba5f,[_0x25239b,_0x280540]=[_0x4233d6['y'],_0x4233d6['y']+_0x4233d6['height']],_0x128e7a=getZoneLineXCalculator(_0x25b911,_0x38e231,_0x406bfc);if(_0x1ce6de['x']===_0x2c6d1d['x']){const _0x48c5e4=_0x64ad0a[0x0],_0x2fede9=_0x128e7a(_0x48c5e4['coefficient']);drawZoneLine(_0x584ac8,_0x48c5e4,_0x2fede9,_0x25239b,_0x280540);}else for(let _0x3d34ff=_0x64ad0a['length']-0x1;_0x3d34ff>=0x0;_0x3d34ff--){const _0x44bc54=_0x64ad0a[_0x3d34ff],_0x326eb8=(_0x10b9cf=_0x64ad0a[_0x3d34ff-0x1])!==null&&_0x10b9cf!==void 0x0?_0x10b9cf:_0x64ad0a[_0x3d34ff],_0x39560c=_0x128e7a(_0x44bc54['coefficient']),_0x4ccfd9=_0x128e7a(_0x326eb8['coefficient']);_0x44bc54['visible']&&(drawZoneLine(_0x584ac8,_0x44bc54,_0x39560c,_0x25239b,_0x280540),_0x316fc5['labels']['showCoefficient']&&drawZoneLabel(_0x584ac8,_0x44bc54,_0x316fc5,_0x4af3d0,_0x1fa42c,_0x4a2442,_0x4233d6,_0x2f2a4d,_0x128e7a));if(((_0x15041e=_0x316fc5['background']['opacity'])!==null&&_0x15041e!==void 0x0?_0x15041e:0x0)>0x0){const _0x59e9df={};_0x59e9df['lineColor']=_0x44bc54['lineColor'],fillZoneBackground(_0x584ac8,Object['assign'](Object['assign']({},_0x316fc5['background']),_0x59e9df),_0x39560c,_0x25239b,_0x4ccfd9,_0x280540,_0x4233d6);}}}}