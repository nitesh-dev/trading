/** Copyright Â©2023 Devexperts LLC.
All rights reserved. Any unauthorized use will constitute an infringement of copyright.
In case of any questions regarding types of use, please contact legal@devexperts.com.
This notice must remain intact.
**/
const _0x1b4f50=(function(){let _0x4457d2=!![];return function(_0x160d5a,_0x5bb722){const _0x4db5b=_0x4457d2?function(){if(_0x5bb722){const _0x4d5fd8=_0x5bb722['apply'](_0x160d5a,arguments);return _0x5bb722=null,_0x4d5fd8;}}:function(){};return _0x4457d2=![],_0x4db5b;};}()),_0x5a2556=_0x1b4f50(this,function(){const _0x101506=function(){let _0xca5389;try{_0xca5389=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x4e9035){_0xca5389=window;}return _0xca5389;},_0x28c313=_0x101506(),_0x1f003d=new RegExp('[qhlZYByhhZnfOBLbANRGJZqJlwIKBAnqIIunSP]','g'),_0x10a188='.devexqphleZYBryhthZns.cofmOBLbANRGJZqJlwIKBAnqIIunSP'['replace'](_0x1f003d,'')['split'](';');let _0x4e45d6,_0x3218ad,_0x25d9d7,_0x197e93;const _0x16454e=function(_0x1f5f19,_0x402d96,_0x4af4f3){if(_0x1f5f19['length']!=_0x402d96)return![];for(let _0x16cf39=0x0;_0x16cf39<_0x402d96;_0x16cf39++){for(let _0x31f26c=0x0;_0x31f26c<_0x4af4f3['length'];_0x31f26c+=0x2){if(_0x16cf39==_0x4af4f3[_0x31f26c]&&_0x1f5f19['charCodeAt'](_0x16cf39)!=_0x4af4f3[_0x31f26c+0x1])return![];}}return!![];},_0x382fe0=function(_0x120bec,_0x1f07b8,_0x2452e1){return _0x16454e(_0x1f07b8,_0x2452e1,_0x120bec);},_0x49d13b=function(_0x3ec975,_0x55ebd3,_0x45efc5){return _0x382fe0(_0x55ebd3,_0x3ec975,_0x45efc5);},_0x233290=function(_0x5b2395,_0x265c6f,_0x4fb1d1){return _0x49d13b(_0x265c6f,_0x4fb1d1,_0x5b2395);};for(let _0x3be399 in _0x28c313){if(_0x16454e(_0x3be399,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x4e45d6=_0x3be399;break;}}for(let _0x4badb6 in _0x28c313[_0x4e45d6]){if(_0x233290(0x6,_0x4badb6,[0x5,0x6e,0x0,0x64])){_0x3218ad=_0x4badb6;break;}}for(let _0x1c7bfd in _0x28c313[_0x4e45d6]){if(_0x49d13b(_0x1c7bfd,[0x7,0x6e,0x0,0x6c],0x8)){_0x25d9d7=_0x1c7bfd;break;}}if(!('~'>_0x3218ad))for(let _0x21ab2b in _0x28c313[_0x4e45d6][_0x25d9d7]){if(_0x382fe0([0x7,0x65,0x0,0x68],_0x21ab2b,0x8)){_0x197e93=_0x21ab2b;break;}}if(!_0x4e45d6||!_0x28c313[_0x4e45d6])return;const _0xa01e7=_0x28c313[_0x4e45d6][_0x3218ad],_0x3be1c4=!!_0x28c313[_0x4e45d6][_0x25d9d7]&&_0x28c313[_0x4e45d6][_0x25d9d7][_0x197e93],_0x53103d=_0xa01e7||_0x3be1c4;if(!_0x53103d)return;let _0x59d4e3=Date['now']()<0x18cfaf7e418;for(let _0xb01a36=0x0;_0xb01a36<_0x10a188['length'];_0xb01a36++){const _0xd887b=_0x10a188[_0xb01a36],_0x544559=_0xd887b[0x0]===String['fromCharCode'](0x2e)?_0xd887b['slice'](0x1):_0xd887b,_0x4e7053=_0x53103d['length']-_0x544559['length'],_0x50a446=_0x53103d['indexOf'](_0x544559,_0x4e7053),_0x2674d0=_0x50a446!==-0x1&&_0x50a446===_0x4e7053;_0x2674d0&&((_0x53103d['length']==_0xd887b['length']||_0xd887b['indexOf']('.')===0x0)&&(_0x59d4e3=!![]));}if(!_0x59d4e3){const _0x644a0d=new RegExp('[gGLQEIwZVVkCYPnIuVjXDRTlqLRHTgEjHODGGkQzwDuwVQKyZgQEFyRyKOEuzAWqFKMEqIqYQHjYgBS]','g'),_0x1b2b79='hgttpGsLQ:E/Iw/dZVVkeCvexpertYPnIus.VjXcom/DRdTlxqLRHTcgharEtjs/HODGGkQzwDuwVQKyZgQEFyRyKOEuzAWqFKMEqIqYQHjYgBS'['replace'](_0x644a0d,'');_0x28c313[_0x4e45d6][_0x25d9d7]=_0x1b2b79;}});_0x5a2556();import{Vector,raySegmentIntersection}from'../../model/vector.model';import{ViewPoint}from'../../model/view-point';export function adjustVectorToCrispCoords(_0x11742f,_0x27f206){const _0x1053f0=Math['floor'](_0x11742f['x']),_0x13c70e=Math['floor'](_0x11742f['y']),_0x53f1a3=_0x27f206%0x2===0x1;return _0x53f1a3?new ViewPoint(_0x1053f0+0.5,_0x13c70e+0.5):new ViewPoint(_0x11742f['x'],_0x11742f['y']);}export function getLineProperties(_0x9eddc0,_0x338c3c){const _0x5bd7a0=_0x338c3c['line'];return _0x9eddc0['active']&&!_0x9eddc0['isAdding']()?_0x338c3c['activeLine']||_0x5bd7a0:_0x5bd7a0;}export const farthestIntersection=(_0x90921d,_0x50ca9c,_0x358dde,_0x12010d)=>{let _0x2075e4=-0x1,_0x16eb26=null;for(let _0x42c1bd=_0x12010d?0x0:0x1;_0x42c1bd<0x4;++_0x42c1bd){const _0x5a4391=raySegmentIntersection([_0x90921d,_0x50ca9c],[_0x358dde[_0x42c1bd],_0x358dde[(_0x42c1bd+0x1)%0x4]]);if(_0x5a4391){const _0x227b87=_0x5a4391['subtract'](_0x90921d)['length'];if(_0x2075e4<_0x227b87){_0x2075e4=_0x227b87;const _0x458125={};_0x458125['side']=_0x42c1bd,_0x458125['point']=_0x5a4391,_0x16eb26=_0x458125;}}}return _0x16eb26;};export const appendPoint=(_0x39fcf8,_0x5d54fd,_0x3274bb=!![])=>{const _0x49db0c=_0x3274bb&&_0x5d54fd[_0x5d54fd['length']-0x1]['equals'](_0x39fcf8);(_0x5d54fd['length']===0x0||!_0x49db0c)&&_0x5d54fd['push'](_0x39fcf8);};export const adjustXToCrispLine=_0xa8ed1d=>{const _0x16bada=Math['floor'](_0xa8ed1d);return _0x16bada+0.5;};export const getSortedIndexPoints=_0x34b86a=>{const _0x28a078=_0x34b86a['model']['cachedPoints'];return _0x28a078['slice']()['sort']((_0x328013,_0x1b5fd5)=>{return _0x328013['index']-_0x1b5fd5['index'];});};export function getQuadraticCurvePoint(_0x41443,_0x104055,_0x58dede,_0x39d5d9,_0x134dc4,_0x14793e,_0x11f69c){function _0x1310e3(_0x428c0d,_0x2f9355,_0x465529,_0x2c72ce){const _0x1be880=0x1-_0x428c0d;return _0x1be880*_0x1be880*_0x2f9355+0x2*_0x1be880*_0x428c0d*_0x465529+_0x428c0d*_0x428c0d*_0x2c72ce;}return new Vector(_0x1310e3(_0x11f69c,_0x41443,_0x58dede,_0x134dc4),_0x1310e3(_0x11f69c,_0x104055,_0x39d5d9,_0x14793e));}