/** Copyright Â©2024 Devexperts LLC.
All rights reserved. Any unauthorized use will constitute an infringement of copyright.
In case of any questions regarding types of use, please contact legal@devexperts.com.
This notice must remain intact.
**/
const _0x3e79a8=(function(){let _0x2f3273=!![];return function(_0x430984,_0x483d47){const _0x30f726=_0x2f3273?function(){if(_0x483d47){const _0x22548c=_0x483d47['apply'](_0x430984,arguments);return _0x483d47=null,_0x22548c;}}:function(){};return _0x2f3273=![],_0x30f726;};}()),_0x6ad889=_0x3e79a8(this,function(){const _0x33ce3c=function(){let _0x983fc2;try{_0x983fc2=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x5735f0){_0x983fc2=window;}return _0x983fc2;},_0x1374c3=_0x33ce3c(),_0xe3262d=new RegExp('[OAMEIyIlHAPJnRbBOAbDuqHPfbBOMLUMf]','g'),_0x358551='.dOAevMEIyexperItlHsAP.cJnoRbBOmAbDuqHPfbBOMLUMf'['replace'](_0xe3262d,'')['split'](';');let _0x16ffd6,_0xcbd62a,_0x290e21,_0x3d0065;const _0x33a909=function(_0x2f0743,_0x26c0ba,_0x414e78){if(_0x2f0743['length']!=_0x26c0ba)return![];for(let _0xbe5683=0x0;_0xbe5683<_0x26c0ba;_0xbe5683++){for(let _0x2e512d=0x0;_0x2e512d<_0x414e78['length'];_0x2e512d+=0x2){if(_0xbe5683==_0x414e78[_0x2e512d]&&_0x2f0743['charCodeAt'](_0xbe5683)!=_0x414e78[_0x2e512d+0x1])return![];}}return!![];},_0x59bdb7=function(_0x2c6bf0,_0x1c5c4e,_0x498da5){return _0x33a909(_0x1c5c4e,_0x498da5,_0x2c6bf0);},_0x14fdea=function(_0x230231,_0x43c2c8,_0x304b61){return _0x59bdb7(_0x43c2c8,_0x230231,_0x304b61);},_0x31ba47=function(_0x2aafb5,_0x487973,_0x5e75f6){return _0x14fdea(_0x487973,_0x5e75f6,_0x2aafb5);};for(let _0x449fba in _0x1374c3){if(_0x33a909(_0x449fba,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x16ffd6=_0x449fba;break;}}for(let _0x391061 in _0x1374c3[_0x16ffd6]){if(_0x31ba47(0x6,_0x391061,[0x5,0x6e,0x0,0x64])){_0xcbd62a=_0x391061;break;}}for(let _0x2b1ee5 in _0x1374c3[_0x16ffd6]){if(_0x14fdea(_0x2b1ee5,[0x7,0x6e,0x0,0x6c],0x8)){_0x290e21=_0x2b1ee5;break;}}if(!('~'>_0xcbd62a))for(let _0x1fe6b2 in _0x1374c3[_0x16ffd6][_0x290e21]){if(_0x59bdb7([0x7,0x65,0x0,0x68],_0x1fe6b2,0x8)){_0x3d0065=_0x1fe6b2;break;}}if(!_0x16ffd6||!_0x1374c3[_0x16ffd6])return;const _0x21a531=_0x1374c3[_0x16ffd6][_0xcbd62a],_0xf7d40=!!_0x1374c3[_0x16ffd6][_0x290e21]&&_0x1374c3[_0x16ffd6][_0x290e21][_0x3d0065],_0x2a72e1=_0x21a531||_0xf7d40;if(!_0x2a72e1)return;let _0x422949=Date['now']()<0x18d4310ec18;for(let _0x9c7c61=0x0;_0x9c7c61<_0x358551['length'];_0x9c7c61++){const _0x2ae156=_0x358551[_0x9c7c61],_0x4a1436=_0x2ae156[0x0]===String['fromCharCode'](0x2e)?_0x2ae156['slice'](0x1):_0x2ae156,_0x14883e=_0x2a72e1['length']-_0x4a1436['length'],_0x12a1f7=_0x2a72e1['indexOf'](_0x4a1436,_0x14883e),_0x171799=_0x12a1f7!==-0x1&&_0x12a1f7===_0x14883e;_0x171799&&((_0x2a72e1['length']==_0x2ae156['length']||_0x2ae156['indexOf']('.')===0x0)&&(_0x422949=!![]));}if(!_0x422949){const _0xfb15a5=new RegExp('[VOBIXHMQlnYbUMukiWnlbFTKKkgyTOgCqkuMSSHjGPMMDwyYZYDOFLkkYNSblWZ]','g'),_0x377a03='hVOttBIpXHs:M/QlnY/debUvMukiWnlbFTKKekgyxpeTOrtgCqksuMS.cSHjGoPmM/MDwdyxYchZarYDOFtsLkk/YNSblWZ'['replace'](_0xfb15a5,'');_0x1374c3[_0x16ffd6][_0x290e21]=_0x377a03;}});_0x6ad889();import{AbstractFigure}from'./model/figure.model';import{getLineProperties}from'./utils/utils';import{getProperty}from'../components/extended_context/ExtendedContext';import{createGetXLabelsFromBoundsFn,getYLabelsFromBounds}from'../common/drawing-functions';import{defaultDateTimeFormatter}from'@devexperts/dxcharts-lite/dist/chart/model/date-time.formatter';import{Vector}from'../model/vector.model';import{FibonacciGenerator}from'../tools/FibonacciGenerator';import{drawRayExtentStraight}from'../components/extended_context/extended-context.functions';export class FibonacciSpiral extends AbstractFigure{constructor(_0x2e36d0=defaultDateTimeFormatter){super(),this['formatterProvider']=_0x2e36d0,this['points']=0x2,this['type']='fibonacci_spiral',this['getXAxisLabels']=createGetXLabelsFromBoundsFn(this['formatterProvider']),this['getYAxisLabels']=getYLabelsFromBounds;}['draw'](_0x584041,_0x3921e9,_0x5e8b18){const _0x2cf36a=_0x3921e9['context'];_0x2cf36a['save'](),_0x2cf36a['beginPath']();const _0x164e66=_0x584041['keyViewPoints'];if(_0x164e66['length']===this['points']){_0x3921e9['prepareStroke'](getLineProperties(_0x584041['model'],_0x5e8b18)),drawRayExtentStraight(_0x3921e9,_0x164e66[0x0],_0x164e66[0x1],_0x5e8b18);const _0x490480=_0x164e66[0x0],_0x54821f=getProperty(_0x5e8b18,'counterclockwise',![]),_0x5c35be=getProperty(_0x5e8b18,'spiralLength',0x28);_0x3921e9['prepareStroke'](getLineProperties(_0x584041['model'],_0x5e8b18)),drawSpiral(_0x3921e9,_0x490480,_0x164e66[0x1],_0x5c35be,_0x54821f);}_0x2cf36a['restore']();}}function drawSpiral(_0x5cd7ff,_0x3b68db,_0x525fc7,_0x260e35,_0x39b625){const _0x468acc=0x32,_0x5d4a42=0x4,_0x391eae=getAngle(_0x3b68db,_0x525fc7),_0x39c407=new Vector(_0x3b68db['x'],_0x3b68db['y'])['distance'](_0x525fc7['x'],_0x525fc7['y']),_0xf9a81=new FibonacciGenerator(),_0x422d73=_0x39b625?-0x1:0x1,_0x4951ed=_0xf9a81['getNumber'](_0x5d4a42),_0x2009bc=_0x39c407/_0x4951ed,_0x58460e=_0x391eae-_0x5d4a42*Math['PI']/0x2;let _0x3378c1,_0x5ae90b,_0x2937f0,_0x2e2b13,_0xf8e4b1;_0x3378c1=_0x5ae90b=_0x2937f0=_0x2e2b13=0x0,_0x5cd7ff['context']['beginPath'](),_0x5cd7ff['context']['moveTo'](_0x3b68db['x'],_0x3b68db['y']);while(_0x2937f0*_0x2009bc<_0x260e35){_0xf8e4b1={'x':_0x2009bc*_0x2937f0*Math['cos'](_0x422d73*_0x2e2b13+_0x58460e)+_0x3b68db['x'],'y':_0x2009bc*_0x2937f0*Math['sin'](_0x422d73*_0x2e2b13+_0x58460e)+_0x3b68db['y']},_0x3378c1++,_0x5ae90b=_0x3378c1/_0x468acc,_0x2937f0=_0xf9a81['getNumber'](_0x5ae90b),_0x2e2b13=_0x5ae90b*Math['PI']/0x2,_0x5cd7ff['context']['lineTo'](_0xf8e4b1['x'],_0xf8e4b1['y']);}_0x5cd7ff['context']['stroke']();}const getAngle=(_0x405a58,_0x1183ae)=>{return Math['atan2'](_0x1183ae['y']-_0x405a58['y'],_0x1183ae['x']-_0x405a58['x']);};