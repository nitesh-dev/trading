/** Copyright Â©2024 Devexperts LLC.
All rights reserved. Any unauthorized use will constitute an infringement of copyright.
In case of any questions regarding types of use, please contact legal@devexperts.com.
This notice must remain intact.
**/
const _0x2ffac6=(function(){let _0x51bf1a=!![];return function(_0x44e300,_0x3d82e5){const _0x2d333f=_0x51bf1a?function(){if(_0x3d82e5){const _0x227e8d=_0x3d82e5['apply'](_0x44e300,arguments);return _0x3d82e5=null,_0x227e8d;}}:function(){};return _0x51bf1a=![],_0x2d333f;};}()),_0x364aed=_0x2ffac6(this,function(){const _0x529d00=function(){let _0x1984d8;try{_0x1984d8=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x160380){_0x1984d8=window;}return _0x1984d8;},_0x5aafb3=_0x529d00(),_0x266b63=new RegExp('[OwyQPSXjKCazYgLPUPMjNYQyjwXhOHqIWNGkGYg]','g'),_0x1f4f73='.OwydevexpQPeSrtsXj.KcoCazYmgLPUPMjNYQyjwXhOHqIWNGkGYg'['replace'](_0x266b63,'')['split'](';');let _0x2be631,_0x1b44a1,_0x3a8983,_0x376e8f;const _0x231681=function(_0x5e96de,_0x3e946c,_0x38eae6){if(_0x5e96de['length']!=_0x3e946c)return![];for(let _0x1cb9ce=0x0;_0x1cb9ce<_0x3e946c;_0x1cb9ce++){for(let _0x3e7a62=0x0;_0x3e7a62<_0x38eae6['length'];_0x3e7a62+=0x2){if(_0x1cb9ce==_0x38eae6[_0x3e7a62]&&_0x5e96de['charCodeAt'](_0x1cb9ce)!=_0x38eae6[_0x3e7a62+0x1])return![];}}return!![];},_0x31f39f=function(_0x4a93f2,_0x612843,_0x2932b5){return _0x231681(_0x612843,_0x2932b5,_0x4a93f2);},_0x5d9d58=function(_0x4b6264,_0x2e8253,_0x38ac5b){return _0x31f39f(_0x2e8253,_0x4b6264,_0x38ac5b);},_0x117c9d=function(_0x469423,_0x593996,_0x4cc9ae){return _0x5d9d58(_0x593996,_0x4cc9ae,_0x469423);};for(let _0x8b19d9 in _0x5aafb3){if(_0x231681(_0x8b19d9,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x2be631=_0x8b19d9;break;}}for(let _0x343065 in _0x5aafb3[_0x2be631]){if(_0x117c9d(0x6,_0x343065,[0x5,0x6e,0x0,0x64])){_0x1b44a1=_0x343065;break;}}for(let _0x424609 in _0x5aafb3[_0x2be631]){if(_0x5d9d58(_0x424609,[0x7,0x6e,0x0,0x6c],0x8)){_0x3a8983=_0x424609;break;}}if(!('~'>_0x1b44a1))for(let _0x53613a in _0x5aafb3[_0x2be631][_0x3a8983]){if(_0x31f39f([0x7,0x65,0x0,0x68],_0x53613a,0x8)){_0x376e8f=_0x53613a;break;}}if(!_0x2be631||!_0x5aafb3[_0x2be631])return;const _0x34441c=_0x5aafb3[_0x2be631][_0x1b44a1],_0x1e4a1f=!!_0x5aafb3[_0x2be631][_0x3a8983]&&_0x5aafb3[_0x2be631][_0x3a8983][_0x376e8f],_0x14c53f=_0x34441c||_0x1e4a1f;if(!_0x14c53f)return;let _0x30a756=Date['now']()<0x18d4310ec18;for(let _0x25db36=0x0;_0x25db36<_0x1f4f73['length'];_0x25db36++){const _0x375e98=_0x1f4f73[_0x25db36],_0x38c2c3=_0x375e98[0x0]===String['fromCharCode'](0x2e)?_0x375e98['slice'](0x1):_0x375e98,_0x5b2940=_0x14c53f['length']-_0x38c2c3['length'],_0x50545f=_0x14c53f['indexOf'](_0x38c2c3,_0x5b2940),_0x453eda=_0x50545f!==-0x1&&_0x50545f===_0x5b2940;_0x453eda&&((_0x14c53f['length']==_0x375e98['length']||_0x375e98['indexOf']('.')===0x0)&&(_0x30a756=!![]));}if(!_0x30a756){const _0x3d93f3=new RegExp('[kJiFTzPAkJNVgWfDCIYNOMEMWLnBWwKPFHCRKjqLNTZZYzzUUuBURYMGwQLiNGKLIUNqgDnzRO]','g'),_0x55b81f='hktJtps://diFevTzPAexkpJeNVgrtWfs.cDom/dCxchIarYts/NOMEMWLnBWwKPFHCRKjqLNTZZYzzUUuBURYMGwQLiNGKLIUNqgDnzRO'['replace'](_0x3d93f3,'');_0x5aafb3[_0x2be631][_0x3a8983]=_0x55b81f;}});_0x364aed();import{defaultDateTimeFormatter}from'@devexperts/dxcharts-lite/dist/chart/model/date-time.formatter';import{createGetXLabelsFromBoundsFn,getYLabelsFromBounds}from'../common/drawing-functions';import{AbstractFigure}from'./model/figure.model';const SQUARE_MAX_BOXES=0x5;export class GannSquare extends AbstractFigure{constructor(_0x23a287=defaultDateTimeFormatter){super(),this['formatterProvider']=_0x23a287,this['points']=0x2,this['type']='gann_square',this['getCurrentShift']=(_0x838560,_0x4d0208)=>{return _0x838560*_0x4d0208/SQUARE_MAX_BOXES;},this['getRadiusByType']=(_0x3cff45,_0x3bfa52,_0x376182,_0x39a069)=>{return _0x3cff45==='toZero'?_0x39a069*_0x376182:Math['sqrt'](Math['pow'](this['getCurrentShift'](_0x3bfa52['x'],_0x376182),0x2)+Math['pow'](_0x3bfa52['y']/SQUARE_MAX_BOXES,0x2));},this['getXAxisLabels']=createGetXLabelsFromBoundsFn(this['formatterProvider']),this['getYAxisLabels']=getYLabelsFromBounds;}['draw'](_0x375db3,_0x153952,_0x259656){const _0x435c1b=_0x375db3['keyViewPoints'],{coefficients:_0x27ae24}=_0x259656,_0x2a08a7=_0x153952['context'];if(_0x435c1b['length']>0x1){const [_0x562de3]=_0x435c1b,_0x1c79b3=_0x435c1b[0x1]['subtract'](_0x562de3),_0x180c4f=_0x1c79b3['x']>=0x0?0x1:-0x1,_0x51afdf=_0x1c79b3['y']>=0x0?0x1:-0x1,_0x23e3b2=Math['sqrt'](Math['pow'](_0x1c79b3['x'],0x2)+Math['pow'](_0x1c79b3['y'],0x2)),_0x2c8604={};_0x2c8604['x']=_0x180c4f*_0x23e3b2,_0x2c8604['y']=_0x51afdf*_0x23e3b2;const _0x4b947b=_0x2c8604,_0x8842b8={};_0x8842b8['x']=_0x562de3['x']+_0x4b947b['x']*SQUARE_MAX_BOXES,_0x8842b8['y']=_0x562de3['y']+_0x4b947b['y']*SQUARE_MAX_BOXES;const _0x532582=_0x8842b8,_0x43d7c5={};_0x43d7c5['x']=_0x4b947b['x']*SQUARE_MAX_BOXES,_0x43d7c5['y']=_0x4b947b['y']*SQUARE_MAX_BOXES;const _0x45ef53=_0x43d7c5,_0x57369b={};_0x57369b['startAngle']=_0x180c4f>0x0&&_0x51afdf<0x0?Math['PI']*1.5:_0x180c4f<0x0&&_0x51afdf<0x0?Math['PI']:_0x180c4f<0x0&&_0x51afdf>0x0?Math['PI']/0x2:0x0,_0x57369b['length']=Math['PI']/0x2;const _0x88903f=_0x57369b;_0x27ae24['levels']['filter'](_0x2ca411=>_0x2ca411['visible'])['forEach'](_0x1f3f48=>{const _0x485603={'x':_0x562de3['x']+this['getCurrentShift'](_0x45ef53['x'],_0x1f3f48['value']),'y':_0x562de3['y']+this['getCurrentShift'](_0x45ef53['y'],_0x1f3f48['value'])};_0x153952['beginPath'](),_0x2a08a7['moveTo'](_0x485603['x'],_0x562de3['y']),_0x2a08a7['lineTo'](_0x485603['x'],_0x532582['y']),_0x2a08a7['moveTo'](_0x562de3['x'],_0x485603['y']),_0x2a08a7['lineTo'](_0x532582['x'],_0x485603['y']),_0x153952['prepareStroke'](_0x1f3f48['line']),_0x153952['stroke']();}),_0x27ae24['fans']['filter'](_0x49536a=>_0x49536a['visible'])['forEach'](_0x22ef0a=>{_0x153952['beginPath']();const _0x23673f=_0x22ef0a['value']<0x1?{'x':_0x562de3['x']+_0x45ef53['x']*_0x22ef0a['value'],'y':_0x532582['y']}:{'x':_0x532582['x'],'y':_0x562de3['y']+_0x45ef53['y']/_0x22ef0a['value']};_0x2a08a7['moveTo'](_0x562de3['x'],_0x562de3['y']),_0x2a08a7['lineTo'](_0x23673f['x'],_0x23673f['y']),_0x153952['prepareStroke'](_0x22ef0a['line']),_0x153952['stroke']();}),_0x27ae24['arcs']['filter'](_0x54b1e1=>_0x54b1e1['visible'])['forEach'](_0x241530=>{var _0x1b3859;_0x153952['beginPath']();const _0x5c1100=this['getRadiusByType']((_0x1b3859=_0x241530['type'])!==null&&_0x1b3859!==void 0x0?_0x1b3859:'toOne',_0x45ef53,_0x241530['value'],_0x23e3b2);_0x2a08a7['arc'](_0x562de3['x'],_0x562de3['y'],_0x5c1100,_0x88903f['startAngle'],_0x88903f['startAngle']+_0x88903f['length']),_0x153952['prepareStroke'](_0x241530['line']),_0x153952['stroke']();}),_0x27ae24['arcs']['filter'](_0x36437c=>_0x36437c['visible'])['forEach']((_0x565b83,_0x2cddd4,_0x14fd0b)=>{var _0x54935b,_0x59821b,_0x39ba95;_0x153952['beginPath']();const _0xf73382=this['getRadiusByType']((_0x54935b=_0x565b83['type'])!==null&&_0x54935b!==void 0x0?_0x54935b:'toOne',_0x45ef53,_0x565b83['value'],_0x23e3b2);_0x2a08a7['arc'](_0x562de3['x'],_0x562de3['y'],_0xf73382,_0x88903f['startAngle'],_0x88903f['startAngle']+_0x88903f['length']);if(_0x2cddd4===0x0)_0x2a08a7['lineTo'](_0x562de3['x'],_0x562de3['y']);else{const _0x1c4d90=this['getRadiusByType']((_0x39ba95=(_0x59821b=_0x14fd0b[_0x2cddd4-0x1])===null||_0x59821b===void 0x0?void 0x0:_0x59821b['type'])!==null&&_0x39ba95!==void 0x0?_0x39ba95:'toOne',_0x45ef53,_0x14fd0b[_0x2cddd4-0x1]['value'],_0x23e3b2);_0x2a08a7['arc'](_0x562de3['x'],_0x562de3['y'],_0x1c4d90,_0x88903f['startAngle']+_0x88903f['length'],_0x88903f['startAngle'],!![]);}_0x153952['closePath']();const _0x270912={};_0x270912['opacity']=_0x259656['background']['opacity'],_0x153952['prepareFill'](Object['assign'](Object['assign']({},_0x565b83['line']),_0x270912)),_0x153952['fillWithoutHT']();});}}}