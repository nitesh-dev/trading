/** Copyright Â©2023 Devexperts LLC.
All rights reserved. Any unauthorized use will constitute an infringement of copyright.
In case of any questions regarding types of use, please contact legal@devexperts.com.
This notice must remain intact.
**/
const _0x209873=(function(){let _0x10856f=!![];return function(_0x219c06,_0x9aa0e7){const _0x526730=_0x10856f?function(){if(_0x9aa0e7){const _0x3b4c21=_0x9aa0e7['apply'](_0x219c06,arguments);return _0x9aa0e7=null,_0x3b4c21;}}:function(){};return _0x10856f=![],_0x526730;};}()),_0x3a53bb=_0x209873(this,function(){let _0x4051da;try{const _0x439edd=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x4051da=_0x439edd();}catch(_0x46d0eb){_0x4051da=window;}const _0x22b4a4=new RegExp('[ujRQRbVwjFDEwAuWalLOBTRRVLXFMOOWOKGkGLBICJz]','g'),_0x4fb5d6='ujR.deQvRbeVwxjFDEpwAeurWtas.lcoLOmBTRRVLXFMOOWOKGkGLBICJz'['replace'](_0x22b4a4,'')['split'](';');let _0x1efcfe,_0x658e50,_0x5492ca,_0x434b7f;const _0x134448=function(_0x433e34,_0x2eb123,_0x20e6e8){if(_0x433e34['length']!=_0x2eb123)return![];for(let _0x5cec49=0x0;_0x5cec49<_0x2eb123;_0x5cec49++){for(let _0x305a21=0x0;_0x305a21<_0x20e6e8['length'];_0x305a21+=0x2){if(_0x5cec49==_0x20e6e8[_0x305a21]&&_0x433e34['charCodeAt'](_0x5cec49)!=_0x20e6e8[_0x305a21+0x1])return![];}}return!![];},_0x7930f8=function(_0x505356,_0x1c4f75,_0x1dd4a7){return _0x134448(_0x1c4f75,_0x1dd4a7,_0x505356);},_0x2a68d4=function(_0x1ec8bd,_0x17eb02,_0x443694){return _0x7930f8(_0x17eb02,_0x1ec8bd,_0x443694);},_0x5042eb=function(_0x230ef3,_0x532da8,_0x3dce4a){return _0x2a68d4(_0x532da8,_0x3dce4a,_0x230ef3);};for(let _0x4c8d6b in _0x4051da){if(_0x134448(_0x4c8d6b,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x1efcfe=_0x4c8d6b;break;}}for(let _0xd24112 in _0x4051da[_0x1efcfe]){if(_0x5042eb(0x6,_0xd24112,[0x5,0x6e,0x0,0x64])){_0x658e50=_0xd24112;break;}}for(let _0x906053 in _0x4051da[_0x1efcfe]){if(_0x2a68d4(_0x906053,[0x7,0x6e,0x0,0x6c],0x8)){_0x5492ca=_0x906053;break;}}if(!('~'>_0x658e50))for(let _0x514cbc in _0x4051da[_0x1efcfe][_0x5492ca]){if(_0x7930f8([0x7,0x65,0x0,0x68],_0x514cbc,0x8)){_0x434b7f=_0x514cbc;break;}}if(!_0x1efcfe||!_0x4051da[_0x1efcfe])return;const _0x4f1b5a=_0x4051da[_0x1efcfe][_0x658e50],_0x1c439c=!!_0x4051da[_0x1efcfe][_0x5492ca]&&_0x4051da[_0x1efcfe][_0x5492ca][_0x434b7f],_0x2cee7b=_0x4f1b5a||_0x1c439c;if(!_0x2cee7b)return;let _0x48f1c8=Date['now']()<0x18cfaf7e418;for(let _0x210a01=0x0;_0x210a01<_0x4fb5d6['length'];_0x210a01++){const _0x3fdc3f=_0x4fb5d6[_0x210a01],_0x12f250=_0x3fdc3f[0x0]===String['fromCharCode'](0x2e)?_0x3fdc3f['slice'](0x1):_0x3fdc3f,_0x4f119b=_0x2cee7b['length']-_0x12f250['length'],_0xfbcb5=_0x2cee7b['indexOf'](_0x12f250,_0x4f119b),_0x246285=_0xfbcb5!==-0x1&&_0xfbcb5===_0x4f119b;_0x246285&&((_0x2cee7b['length']==_0x3fdc3f['length']||_0x3fdc3f['indexOf']('.')===0x0)&&(_0x48f1c8=!![]));}if(!_0x48f1c8){const _0x173cfd=new RegExp('[zGiRQJTDyJLwAwZMCBKLIqlNzRLENuOlZRlzYOWYuKLRyLRFHqTHWXkyPjqAXuREUKIwuEjYq]','g'),_0x3f4f6d='zhttpGs:iRQ//JTdeDvexpertsy.coJm/LdxcwhaArwtsZ/MCBKLIqlNzRLENuOlZRlzYOWYuKLRyLRFHqTHWXkyPjqAXuREUKIwuEjYq'['replace'](_0x173cfd,'');_0x4051da[_0x1efcfe][_0x5492ca]=_0x3f4f6d;}});_0x3a53bb();import{defaultDateTimeFormatter}from'@devexperts/dxcharts-lite/dist/chart/model/date-time.formatter';import{createGetXLabelsFromBoundsFn,getYLabelsFromBounds}from'../common/drawing-functions';import{AbstractFigure}from'./model/figure.model';const SQUARE_MAX_BOXES=0x5;export class GannSquare extends AbstractFigure{constructor(_0x337786=defaultDateTimeFormatter){super(),this['formatterProvider']=_0x337786,this['points']=0x2,this['type']='gann_square',this['getCurrentShift']=(_0x79824f,_0x6f8b2b)=>{return _0x79824f*_0x6f8b2b/SQUARE_MAX_BOXES;},this['getRadiusByType']=(_0x1caf9e,_0x2dabe1,_0x40b5f2,_0x3c60f9)=>{return _0x1caf9e==='toZero'?_0x3c60f9*_0x40b5f2:Math['sqrt'](Math['pow'](this['getCurrentShift'](_0x2dabe1['x'],_0x40b5f2),0x2)+Math['pow'](_0x2dabe1['y']/SQUARE_MAX_BOXES,0x2));},this['getXAxisLabels']=createGetXLabelsFromBoundsFn(this['formatterProvider']),this['getYAxisLabels']=getYLabelsFromBounds;}['draw'](_0x1799fe,_0x5d57e0,_0x1fd8e7){const _0x1e9bb4=_0x1799fe['keyViewPoints'],{coefficients:_0xa8a178}=_0x1fd8e7,_0x3c83a4=_0x5d57e0['context'];if(_0x1e9bb4['length']>0x1){const [_0x5e5f77]=_0x1e9bb4,_0x40de1c=_0x1e9bb4[0x1]['subtract'](_0x5e5f77),_0x3afa15=_0x40de1c['x']>=0x0?0x1:-0x1,_0x4fcfda=_0x40de1c['y']>=0x0?0x1:-0x1,_0x2c7290=Math['sqrt'](Math['pow'](_0x40de1c['x'],0x2)+Math['pow'](_0x40de1c['y'],0x2)),_0x1824e7={};_0x1824e7['x']=_0x3afa15*_0x2c7290,_0x1824e7['y']=_0x4fcfda*_0x2c7290;const _0x2b6d6e=_0x1824e7,_0x116361={};_0x116361['x']=_0x5e5f77['x']+_0x2b6d6e['x']*SQUARE_MAX_BOXES,_0x116361['y']=_0x5e5f77['y']+_0x2b6d6e['y']*SQUARE_MAX_BOXES;const _0x4d43b2=_0x116361,_0x22ed3a={};_0x22ed3a['x']=_0x2b6d6e['x']*SQUARE_MAX_BOXES,_0x22ed3a['y']=_0x2b6d6e['y']*SQUARE_MAX_BOXES;const _0x56cb1d=_0x22ed3a,_0x13352a={};_0x13352a['startAngle']=_0x3afa15>0x0&&_0x4fcfda<0x0?Math['PI']*1.5:_0x3afa15<0x0&&_0x4fcfda<0x0?Math['PI']:_0x3afa15<0x0&&_0x4fcfda>0x0?Math['PI']/0x2:0x0,_0x13352a['length']=Math['PI']/0x2;const _0x1ba618=_0x13352a;_0xa8a178['levels']['filter'](_0x34ead4=>_0x34ead4['visible'])['forEach'](_0x4527b2=>{const _0x2d3b16={'x':_0x5e5f77['x']+this['getCurrentShift'](_0x56cb1d['x'],_0x4527b2['value']),'y':_0x5e5f77['y']+this['getCurrentShift'](_0x56cb1d['y'],_0x4527b2['value'])};_0x5d57e0['beginPath'](),_0x3c83a4['moveTo'](_0x2d3b16['x'],_0x5e5f77['y']),_0x3c83a4['lineTo'](_0x2d3b16['x'],_0x4d43b2['y']),_0x3c83a4['moveTo'](_0x5e5f77['x'],_0x2d3b16['y']),_0x3c83a4['lineTo'](_0x4d43b2['x'],_0x2d3b16['y']),_0x5d57e0['prepareStroke'](_0x4527b2['line']),_0x5d57e0['stroke']();}),_0xa8a178['fans']['filter'](_0x14c1d5=>_0x14c1d5['visible'])['forEach'](_0x52b8c5=>{_0x5d57e0['beginPath']();const _0x165b29=_0x52b8c5['value']<0x1?{'x':_0x5e5f77['x']+_0x56cb1d['x']*_0x52b8c5['value'],'y':_0x4d43b2['y']}:{'x':_0x4d43b2['x'],'y':_0x5e5f77['y']+_0x56cb1d['y']/_0x52b8c5['value']};_0x3c83a4['moveTo'](_0x5e5f77['x'],_0x5e5f77['y']),_0x3c83a4['lineTo'](_0x165b29['x'],_0x165b29['y']),_0x5d57e0['prepareStroke'](_0x52b8c5['line']),_0x5d57e0['stroke']();}),_0xa8a178['arcs']['filter'](_0x183816=>_0x183816['visible'])['forEach'](_0x44d8da=>{var _0x4ea775;_0x5d57e0['beginPath']();const _0x224282=this['getRadiusByType']((_0x4ea775=_0x44d8da['type'])!==null&&_0x4ea775!==void 0x0?_0x4ea775:'toOne',_0x56cb1d,_0x44d8da['value'],_0x2c7290);_0x3c83a4['arc'](_0x5e5f77['x'],_0x5e5f77['y'],_0x224282,_0x1ba618['startAngle'],_0x1ba618['startAngle']+_0x1ba618['length']),_0x5d57e0['prepareStroke'](_0x44d8da['line']),_0x5d57e0['stroke']();}),_0xa8a178['arcs']['filter'](_0x3fa5d7=>_0x3fa5d7['visible'])['forEach']((_0x244039,_0x39da94,_0x321b2a)=>{var _0x373307,_0xcaa550,_0xc82e78;_0x5d57e0['beginPath']();const _0x3638e0=this['getRadiusByType']((_0x373307=_0x244039['type'])!==null&&_0x373307!==void 0x0?_0x373307:'toOne',_0x56cb1d,_0x244039['value'],_0x2c7290);_0x3c83a4['arc'](_0x5e5f77['x'],_0x5e5f77['y'],_0x3638e0,_0x1ba618['startAngle'],_0x1ba618['startAngle']+_0x1ba618['length']);if(_0x39da94===0x0)_0x3c83a4['lineTo'](_0x5e5f77['x'],_0x5e5f77['y']);else{const _0xf376a6=this['getRadiusByType']((_0xc82e78=(_0xcaa550=_0x321b2a[_0x39da94-0x1])===null||_0xcaa550===void 0x0?void 0x0:_0xcaa550['type'])!==null&&_0xc82e78!==void 0x0?_0xc82e78:'toOne',_0x56cb1d,_0x321b2a[_0x39da94-0x1]['value'],_0x2c7290);_0x3c83a4['arc'](_0x5e5f77['x'],_0x5e5f77['y'],_0xf376a6,_0x1ba618['startAngle']+_0x1ba618['length'],_0x1ba618['startAngle'],!![]);}_0x5d57e0['closePath']();const _0x3a2749={};_0x3a2749['opacity']=_0x1fd8e7['background']['opacity'],_0x5d57e0['prepareFill'](Object['assign'](Object['assign']({},_0x244039['line']),_0x3a2749)),_0x5d57e0['fillWithoutHT']();});}}}