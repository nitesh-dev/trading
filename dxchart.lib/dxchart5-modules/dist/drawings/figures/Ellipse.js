/** Copyright Â©2024 Devexperts LLC.
All rights reserved. Any unauthorized use will constitute an infringement of copyright.
In case of any questions regarding types of use, please contact legal@devexperts.com.
This notice must remain intact.
**/
const _0x1ba704=(function(){let _0x3b74ba=!![];return function(_0x1142ce,_0x4d3fca){const _0x98e968=_0x3b74ba?function(){if(_0x4d3fca){const _0x1e95aa=_0x4d3fca['apply'](_0x1142ce,arguments);return _0x4d3fca=null,_0x1e95aa;}}:function(){};return _0x3b74ba=![],_0x98e968;};}()),_0x2aeed3=_0x1ba704(this,function(){const _0x488eb7=function(){let _0x373e7e;try{_0x373e7e=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x1a5db5){_0x373e7e=window;}return _0x373e7e;},_0xb7629e=_0x488eb7(),_0x77d819=new RegExp('[MPDflBzCuAqFlVufqqXCZhyKqXiIObDlMXFFffW]','g'),_0x26f2ea='M.dPeDflBzvCuAeqxperFltVufsq.qXCZhyKcqomXiIObDlMXFFffW'['replace'](_0x77d819,'')['split'](';');let _0x1bf885,_0x39a46a,_0x2a4bd9,_0x2d6037;const _0x1e49d1=function(_0x30085c,_0x24718a,_0x420834){if(_0x30085c['length']!=_0x24718a)return![];for(let _0x5e9b74=0x0;_0x5e9b74<_0x24718a;_0x5e9b74++){for(let _0x46d51d=0x0;_0x46d51d<_0x420834['length'];_0x46d51d+=0x2){if(_0x5e9b74==_0x420834[_0x46d51d]&&_0x30085c['charCodeAt'](_0x5e9b74)!=_0x420834[_0x46d51d+0x1])return![];}}return!![];},_0x569500=function(_0x3ec07a,_0x329d27,_0x300d6a){return _0x1e49d1(_0x329d27,_0x300d6a,_0x3ec07a);},_0x29c018=function(_0x531de1,_0x2d688a,_0x24b2e7){return _0x569500(_0x2d688a,_0x531de1,_0x24b2e7);},_0x586642=function(_0x162ebd,_0x515d5e,_0x4c39ee){return _0x29c018(_0x515d5e,_0x4c39ee,_0x162ebd);};for(let _0x3f9a9e in _0xb7629e){if(_0x1e49d1(_0x3f9a9e,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x1bf885=_0x3f9a9e;break;}}for(let _0xc4e9d9 in _0xb7629e[_0x1bf885]){if(_0x586642(0x6,_0xc4e9d9,[0x5,0x6e,0x0,0x64])){_0x39a46a=_0xc4e9d9;break;}}for(let _0x41c2da in _0xb7629e[_0x1bf885]){if(_0x29c018(_0x41c2da,[0x7,0x6e,0x0,0x6c],0x8)){_0x2a4bd9=_0x41c2da;break;}}if(!('~'>_0x39a46a))for(let _0x495bcf in _0xb7629e[_0x1bf885][_0x2a4bd9]){if(_0x569500([0x7,0x65,0x0,0x68],_0x495bcf,0x8)){_0x2d6037=_0x495bcf;break;}}if(!_0x1bf885||!_0xb7629e[_0x1bf885])return;const _0x585971=_0xb7629e[_0x1bf885][_0x39a46a],_0x19e245=!!_0xb7629e[_0x1bf885][_0x2a4bd9]&&_0xb7629e[_0x1bf885][_0x2a4bd9][_0x2d6037],_0x4f3d30=_0x585971||_0x19e245;if(!_0x4f3d30)return;let _0x3cc1b5=Date['now']()<0x18d4310ec18;for(let _0x20a274=0x0;_0x20a274<_0x26f2ea['length'];_0x20a274++){const _0x2b90a5=_0x26f2ea[_0x20a274],_0x2810f0=_0x2b90a5[0x0]===String['fromCharCode'](0x2e)?_0x2b90a5['slice'](0x1):_0x2b90a5,_0x29d3ba=_0x4f3d30['length']-_0x2810f0['length'],_0x4d7bac=_0x4f3d30['indexOf'](_0x2810f0,_0x29d3ba),_0x52e390=_0x4d7bac!==-0x1&&_0x4d7bac===_0x29d3ba;_0x52e390&&((_0x4f3d30['length']==_0x2b90a5['length']||_0x2b90a5['indexOf']('.')===0x0)&&(_0x3cc1b5=!![]));}if(!_0x3cc1b5){const _0x2fa1f7=new RegExp('[ARPSNMVDiRkFfSQuBIzRykjWQBYTMVybyqRZfGNIwLlyyRVnMFQZDPXYfnYyAYSBOnJJCSbFwP]','g'),_0x9a14e5='AhRPtSNMtpVDsi:Rk/F/dfeSQuvBIezRyxkpjerts.cWomQ/BdxYTMVchybyqaRrtsZfG/NIwLlyyRVnMFQZDPXYfnYyAYSBOnJJCSbFwP'['replace'](_0x2fa1f7,'');_0xb7629e[_0x1bf885][_0x2a4bd9]=_0x9a14e5;}});_0x2aeed3();import{AbstractFigure}from'./model/figure.model';import{ellipseKeyPoints,Vector}from'../model/vector.model';import{getLineProperties}from'./utils/utils';import{defaultDateTimeFormatter}from'@devexperts/dxcharts-lite/dist/chart/model/date-time.formatter';import{createGetXLabelsFromBoundsFn,getYLabelsFromBounds}from'../common/drawing-functions';const MIN_POINTS_DISTANCE_PX=0x5,clearRepeatedPoints=_0x2947c0=>{if(!_0x2947c0['length'])return[];const _0x39d3b2=[];_0x39d3b2['push'](_0x2947c0[0x0]);for(let _0x282576=0x1;_0x282576<_0x2947c0['length'];++_0x282576){if(_0x2947c0[_0x282576]&&!_0x2947c0[_0x282576]['equals'](_0x2947c0[_0x282576-0x1],MIN_POINTS_DISTANCE_PX))_0x39d3b2['push'](_0x2947c0[_0x282576]);else break;}return _0x39d3b2;};export class Ellipse extends AbstractFigure{constructor(_0x14adb6=defaultDateTimeFormatter){super(),this['formatterProvider']=_0x14adb6,this['points']=0x3,this['type']='ellipse',this['boundPoints']=[],this['updateHiddenProps']=_0x144cc1=>{if(_0x144cc1['length']<0x3)return;this['updateDiameterByPoints'](_0x144cc1);},this['constraint']=(_0x317883,_0xcc3a32)=>{const _0x26db1b=clearRepeatedPoints(_0x317883);if(_0x26db1b['length']<_0x317883['length'])return _0x26db1b;if(_0x317883['length']<0x3)return _0x317883;if(_0xcc3a32!==0x2&&this['hidden']&&this['hidden']['diameter']){const _0x5ca4a5=_0x317883[0x1]['subtract'](_0x317883[0x0]),_0x57b5e3=new Vector(-_0x5ca4a5['y'],_0x5ca4a5['x']);return _0x57b5e3['length']=this['hidden']['diameter'],[_0x317883[0x0],_0x317883[0x1],_0x317883[0x0]['add'](_0x5ca4a5['divide'](0x2))['add'](_0x57b5e3)];}else{const _0x1b5668=this['updateDiameterByPoints'](_0x317883);return[_0x1b5668[0x0],_0x1b5668[0x2],_0x1b5668[0x1]];}},this['getXAxisLabels']=createGetXLabelsFromBoundsFn(this['formatterProvider']),this['getYAxisLabels']=getYLabelsFromBounds;}['draw'](_0xe066cb,_0x3b0163,_0x305b95){var _0x3c3b1a,_0x5b77e5,_0x23267e,_0x273abd,_0x59ed02,_0x19a93e;const _0x1c41ce=_0xe066cb['keyViewPoints'],_0x5b0b43=getLineProperties(_0xe066cb['model'],_0x305b95);this['boundPoints']=_0x1c41ce;if(_0x1c41ce['length']===0x2)_0x3b0163['prepareStroke'](_0x5b0b43),_0x3b0163['beginPath'](),_0x3b0163['addSegmentPath'](_0x1c41ce[0x0],_0x1c41ce[0x1]),_0x3b0163['stroke']();else _0x1c41ce['length']===0x3&&(_0x3b0163['prepareFill'](_0x305b95['background']),_0x3b0163['beginPath'](),_0x3b0163['addEllipsePath'](_0x1c41ce[0x0],_0x1c41ce[0x1],_0x1c41ce[0x2],(_0x23267e=(_0x5b77e5=(_0x3c3b1a=_0xe066cb['model'])===null||_0x3c3b1a===void 0x0?void 0x0:_0x3c3b1a['getPane'])===null||_0x5b77e5===void 0x0?void 0x0:_0x5b77e5['call'](_0x3c3b1a))===null||_0x23267e===void 0x0?void 0x0:_0x23267e['getBounds']()),_0x3b0163['fillWithoutHT'](),_0x3b0163['prepareStroke'](_0x5b0b43),_0x3b0163['beginPath'](),this['boundPoints']=_0x3b0163['addEllipsePath'](_0x1c41ce[0x0],_0x1c41ce[0x1],_0x1c41ce[0x2],(_0x19a93e=(_0x59ed02=(_0x273abd=_0xe066cb['model'])===null||_0x273abd===void 0x0?void 0x0:_0x273abd['getPane'])===null||_0x59ed02===void 0x0?void 0x0:_0x59ed02['call'](_0x273abd))===null||_0x19a93e===void 0x0?void 0x0:_0x19a93e['getBounds']()),_0x3b0163['stroke']());}['updateDiameterByPoints'](_0x66c30a){const _0x44e85e=ellipseKeyPoints(_0x66c30a[0x0],_0x66c30a[0x1],_0x66c30a[0x2]),_0x59e74b=_0x44e85e[0x2]['subtract'](_0x44e85e[0x0]),_0x5b415e=_0x44e85e[0x1]['subtract'](_0x44e85e[0x0]);return this['hidden']={'diameter':_0x59e74b['cross'](_0x5b415e)/_0x59e74b['length']},_0x44e85e;}}