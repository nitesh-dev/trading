/** Copyright Â©2024 Devexperts LLC.
All rights reserved. Any unauthorized use will constitute an infringement of copyright.
In case of any questions regarding types of use, please contact legal@devexperts.com.
This notice must remain intact.
**/
const _0x572c39=(function(){let _0x928df6=!![];return function(_0xcb914c,_0x5841b0){const _0x4741c5=_0x928df6?function(){if(_0x5841b0){const _0x1dc505=_0x5841b0['apply'](_0xcb914c,arguments);return _0x5841b0=null,_0x1dc505;}}:function(){};return _0x928df6=![],_0x4741c5;};}()),_0x2c3651=_0x572c39(this,function(){let _0x444c5b;try{const _0x1384a0=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x444c5b=_0x1384a0();}catch(_0x5006c0){_0x444c5b=window;}const _0x671def=new RegExp('[PgLJiXhPiPYnGQJBJbwEIwjSnLFGDlNwBMGT]','g'),_0x50a238='.dePvgLJieXhxPipPerYnGQJBJbwEts.IcowmjSnLFGDlNwBMGT'['replace'](_0x671def,'')['split'](';');let _0x138abb,_0x2f83d9,_0x5c878a,_0x3c7218;const _0x2cd829=function(_0x2940d5,_0x3ffe12,_0x4c64a6){if(_0x2940d5['length']!=_0x3ffe12)return![];for(let _0x819797=0x0;_0x819797<_0x3ffe12;_0x819797++){for(let _0x22a776=0x0;_0x22a776<_0x4c64a6['length'];_0x22a776+=0x2){if(_0x819797==_0x4c64a6[_0x22a776]&&_0x2940d5['charCodeAt'](_0x819797)!=_0x4c64a6[_0x22a776+0x1])return![];}}return!![];},_0x8fdbb0=function(_0x562130,_0xf0d97b,_0x2ab4a7){return _0x2cd829(_0xf0d97b,_0x2ab4a7,_0x562130);},_0x30e476=function(_0x5570f0,_0x34f1b6,_0x3caa1d){return _0x8fdbb0(_0x34f1b6,_0x5570f0,_0x3caa1d);},_0x1979f0=function(_0x1d22b9,_0x40c721,_0x216e90){return _0x30e476(_0x40c721,_0x216e90,_0x1d22b9);};for(let _0x7affcc in _0x444c5b){if(_0x2cd829(_0x7affcc,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x138abb=_0x7affcc;break;}}for(let _0x1154c2 in _0x444c5b[_0x138abb]){if(_0x1979f0(0x6,_0x1154c2,[0x5,0x6e,0x0,0x64])){_0x2f83d9=_0x1154c2;break;}}for(let _0x1656ca in _0x444c5b[_0x138abb]){if(_0x30e476(_0x1656ca,[0x7,0x6e,0x0,0x6c],0x8)){_0x5c878a=_0x1656ca;break;}}if(!('~'>_0x2f83d9))for(let _0x4a48d3 in _0x444c5b[_0x138abb][_0x5c878a]){if(_0x8fdbb0([0x7,0x65,0x0,0x68],_0x4a48d3,0x8)){_0x3c7218=_0x4a48d3;break;}}if(!_0x138abb||!_0x444c5b[_0x138abb])return;const _0x5e1c9a=_0x444c5b[_0x138abb][_0x2f83d9],_0x2cf63a=!!_0x444c5b[_0x138abb][_0x5c878a]&&_0x444c5b[_0x138abb][_0x5c878a][_0x3c7218],_0x51d78d=_0x5e1c9a||_0x2cf63a;if(!_0x51d78d)return;let _0x51aa08=Date['now']()<0x18d4310ec18;for(let _0x5d2f41=0x0;_0x5d2f41<_0x50a238['length'];_0x5d2f41++){const _0x126a97=_0x50a238[_0x5d2f41],_0x183626=_0x126a97[0x0]===String['fromCharCode'](0x2e)?_0x126a97['slice'](0x1):_0x126a97,_0x1a6929=_0x51d78d['length']-_0x183626['length'],_0x5a1b59=_0x51d78d['indexOf'](_0x183626,_0x1a6929),_0x578961=_0x5a1b59!==-0x1&&_0x5a1b59===_0x1a6929;_0x578961&&((_0x51d78d['length']==_0x126a97['length']||_0x126a97['indexOf']('.')===0x0)&&(_0x51aa08=!![]));}if(!_0x51aa08){const _0x19a20e=new RegExp('[NHYCGHwguFHEUJRBnSJIVRWPuZYQbjXMOwUyRCPNLEzPgKQIPlZMwTQnznwuJSYHZbnWULbYuu]','g'),_0x5e901b='NhHtYtCpGsHwg://dueFHEveUxpeJrtsR.cBnSom/JIVdxRWcharPts/uZYQbjXMOwUyRCPNLEzPgKQIPlZMwTQnznwuJSYHZbnWULbYuu'['replace'](_0x19a20e,'');_0x444c5b[_0x138abb][_0x5c878a]=_0x5e901b;}});_0x2c3651();import{AbstractFigure}from'./model/figure.model';import _0x297ec3 from'../components/extended_context/canvas-properties';import{getLineProperties}from'./utils/utils';import{getProperty}from'../components/extended_context/ExtendedContext';import{defaultDateTimeFormatter}from'@devexperts/dxcharts-lite/dist/chart/model/date-time.formatter';import{measureBox}from'./components/measure-box';import*as _0x428628 from'color';import{createGetXLabelsFromBoundsFn,drawArrow,getYLabelsFromBounds}from'../common/drawing-functions';import{getFontSizeInPx}from'@devexperts/dxcharts-lite/dist/chart/utils/canvas/canvas-text-functions.utils';import{drawRayExtent}from'../components/extended_context/extended-context.functions';export class LineFigure extends AbstractFigure{constructor(_0x37e6d6=defaultDateTimeFormatter){super(),this['formatterProvider']=_0x37e6d6,this['points']=0x2,this['type']='line',this['getXAxisLabels']=createGetXLabelsFromBoundsFn(this['formatterProvider']),this['getYAxisLabels']=getYLabelsFromBounds;}['draw'](_0x408f27,_0x53d1ac,_0x1c7852,_0x749511,_0xc65f2f){const _0x4d9673=_0x53d1ac['context'];_0x4d9673['save'](),_0x4d9673['beginPath']();const _0x4504e0=_0x408f27['keyViewPoints'];if(_0x4504e0['length']===this['points']){_0x53d1ac['prepareStroke'](getLineProperties(_0x408f27['model'],_0x1c7852)),drawRayExtent(_0x53d1ac,_0x4504e0[0x0],_0x4504e0[0x1],_0x1c7852);_0x1c7852['arrows']['start']&&drawArrow(_0x53d1ac,_0x4504e0[0x1],_0x4504e0[0x0],![],_0x1c7852['arrows']['length'],_0x1c7852['arrows']['angle']);_0x1c7852['arrows']['end']&&drawArrow(_0x53d1ac,_0x4504e0[0x0],_0x4504e0[0x1],![],_0x1c7852['arrows']['length'],_0x1c7852['arrows']['angle']);measureBox(_0x408f27,_0x53d1ac,_0x749511,_0xc65f2f,_0x1c7852,_0x4504e0);const _0x3e7121={};_0x3e7121['textFill']='#FFFFFF',_0x3e7121['textBg']='#383838',_0x3e7121['textStyle']={},_0x3e7121['backgroundOffsetWidth']=0x0,_0x3e7121['backgroundOffsetHeight']=0x0,_0x3e7121['availableBackgroundColors']=[];const _0x2bdf48=getProperty(_0x1c7852,_0x297ec3['PROPERTY_BLOCK_TYPE_TEXT'],_0x3e7121);if(getProperty(_0x1c7852['labels'],_0x297ec3['PROP_SHOW_PRICE_LABEL'],!![])){const _0x83cbc9=_0x749511['config']['components']['drawings'],_0xe465fe=getProperty(_0x1c7852['labels'],_0x297ec3['PROP_LABELS_SIDE_PLACEMENT'],_0x297ec3['PROP_LABEL_PLACEMENT_RIGHT']);_0x4504e0['forEach']((_0x3f2306,_0x4c707c)=>{var _0xc31a79;const _0x4da221=_0x749511['chartModel']['pane']['regularFormatter'](_0x408f27['model']['keyPoints'][_0x4c707c]&&_0x408f27['model']['keyPoints'][_0x4c707c]['value']);_0x2bdf48&&_0x408f27['addTextBlock'](_0x53d1ac['drawText'](_0x3f2306,_0x4da221,_0xe465fe!==null&&_0xe465fe!==void 0x0?_0xe465fe:'center',_0x297ec3['PROP_LABEL_PLACEMENT_BOTTOM'],Object['assign'](Object['assign']({},_0x2bdf48),{'textFontFamily':_0x83cbc9['fontFamily'],'textSize':getFontSizeInPx(_0x83cbc9['fontSize']),'textFill':_0x428628['rgb'](_0x2bdf48['textFill'])['toString'](),'textBg':(_0xc31a79=_0x749511['config']['colors']['drawingsTheme']['textBg'])!==null&&_0xc31a79!==void 0x0?_0xc31a79:_0x428628['rgb'](_0x2bdf48['textBg'])['toString'](),'backgroundOffsetWidth':0x3,'backgroundOffsetHeight':0x1}),undefined,undefined,!![]),_0x4c707c);});}}_0x4d9673['restore']();}}