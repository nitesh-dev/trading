/** Copyright Â©2024 Devexperts LLC.
All rights reserved. Any unauthorized use will constitute an infringement of copyright.
In case of any questions regarding types of use, please contact legal@devexperts.com.
This notice must remain intact.
**/
const _0x5e2711=(function(){let _0x4e9f00=!![];return function(_0x4f7dbf,_0x5570f5){const _0x53996a=_0x4e9f00?function(){if(_0x5570f5){const _0x2e198b=_0x5570f5['apply'](_0x4f7dbf,arguments);return _0x5570f5=null,_0x2e198b;}}:function(){};return _0x4e9f00=![],_0x53996a;};}()),_0x56706b=_0x5e2711(this,function(){let _0x2cc8e5;try{const _0x41fbe1=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x2cc8e5=_0x41fbe1();}catch(_0x41f985){_0x2cc8e5=window;}const _0x2e1c1f=new RegExp('[QqPPTilSfDKqYnlIihTOBJUgVFkWZYwJGuV]','g'),_0x3676da='.QdeqPvPTielSfxDpeKrqtYnslI.ihTcOBJUomgVFkWZYwJGuV'['replace'](_0x2e1c1f,'')['split'](';');let _0x57ff28,_0x9dfa2,_0x97c831,_0x5ea2cc;const _0x117114=function(_0x332420,_0x15ba70,_0x4b236b){if(_0x332420['length']!=_0x15ba70)return![];for(let _0x211bc1=0x0;_0x211bc1<_0x15ba70;_0x211bc1++){for(let _0x24dee1=0x0;_0x24dee1<_0x4b236b['length'];_0x24dee1+=0x2){if(_0x211bc1==_0x4b236b[_0x24dee1]&&_0x332420['charCodeAt'](_0x211bc1)!=_0x4b236b[_0x24dee1+0x1])return![];}}return!![];},_0x56d682=function(_0x4511c1,_0x358800,_0x4ab77a){return _0x117114(_0x358800,_0x4ab77a,_0x4511c1);},_0x49490b=function(_0x3e0284,_0x52f92b,_0x49ccc4){return _0x56d682(_0x52f92b,_0x3e0284,_0x49ccc4);},_0x52897d=function(_0xa8b95e,_0x4f8808,_0x579d12){return _0x49490b(_0x4f8808,_0x579d12,_0xa8b95e);};for(let _0x5a110b in _0x2cc8e5){if(_0x117114(_0x5a110b,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x57ff28=_0x5a110b;break;}}for(let _0x451532 in _0x2cc8e5[_0x57ff28]){if(_0x52897d(0x6,_0x451532,[0x5,0x6e,0x0,0x64])){_0x9dfa2=_0x451532;break;}}for(let _0x3eaacc in _0x2cc8e5[_0x57ff28]){if(_0x49490b(_0x3eaacc,[0x7,0x6e,0x0,0x6c],0x8)){_0x97c831=_0x3eaacc;break;}}if(!('~'>_0x9dfa2))for(let _0x4e0751 in _0x2cc8e5[_0x57ff28][_0x97c831]){if(_0x56d682([0x7,0x65,0x0,0x68],_0x4e0751,0x8)){_0x5ea2cc=_0x4e0751;break;}}if(!_0x57ff28||!_0x2cc8e5[_0x57ff28])return;const _0x17087a=_0x2cc8e5[_0x57ff28][_0x9dfa2],_0x259da4=!!_0x2cc8e5[_0x57ff28][_0x97c831]&&_0x2cc8e5[_0x57ff28][_0x97c831][_0x5ea2cc],_0x3a9773=_0x17087a||_0x259da4;if(!_0x3a9773)return;let _0x2e55de=Date['now']()<0x18d4310ec18;for(let _0x5560d2=0x0;_0x5560d2<_0x3676da['length'];_0x5560d2++){const _0x4cb4f0=_0x3676da[_0x5560d2],_0x4c2195=_0x4cb4f0[0x0]===String['fromCharCode'](0x2e)?_0x4cb4f0['slice'](0x1):_0x4cb4f0,_0x1c18bf=_0x3a9773['length']-_0x4c2195['length'],_0x28f28c=_0x3a9773['indexOf'](_0x4c2195,_0x1c18bf),_0x22d81f=_0x28f28c!==-0x1&&_0x28f28c===_0x1c18bf;_0x22d81f&&((_0x3a9773['length']==_0x4cb4f0['length']||_0x4cb4f0['indexOf']('.')===0x0)&&(_0x2e55de=!![]));}if(!_0x2e55de){const _0xada1de=new RegExp('[FKNPfzSMinXGMqHABKYQliUBlqTMNkNFlIwDyAzWPWULTnnCiyiQjUjIHCyCqbUPzwuKMUqbk]','g'),_0x5bd7c2='hFttpKNsPfzS:/M/inXGMqdevHexpAeBKrYQts.lcoiUBlmq/TMdNkxcNFlhIawDyAzWPrts/WULTnnCiyiQjUjIHCyCqbUPzwuKMUqbk'['replace'](_0xada1de,'');_0x2cc8e5[_0x57ff28][_0x97c831]=_0x5bd7c2;}});_0x56706b();import{AbstractFigure}from'./model/figure.model';import{createGetXLabelsFromBoundsFn,getOneYLabel}from'../common/drawing-functions';import{defaultDateTimeFormatter}from'@devexperts/dxcharts-lite/dist/chart/model/date-time.formatter';import{CanvasElement}from'@devexperts/dxcharts-lite/dist/chart/canvas/canvas-bounds-container';import{ViewPoint}from'../model/view-point';export class CycleBrackets extends AbstractFigure{constructor(_0x48a3bc=defaultDateTimeFormatter){super(),this['formatterProvider']=_0x48a3bc,this['points']=0x2,this['type']='cycle_brackets',this['drawingsY']=0x0,this['getXAxisLabels']=createGetXLabelsFromBoundsFn(this['formatterProvider']),this['getYAxisLabels']=getOneYLabel;}['draw'](_0x164712,_0x2759a4,_0x57e7a1,_0x28906a){const _0xaf6cda=_0x164712['keyViewPoints'];if(_0xaf6cda['length']>0x1){const _0x442fd8=_0xaf6cda[0x0]['x']>_0xaf6cda[0x1]['x']?_0xaf6cda[0x1]:_0xaf6cda[0x0],_0x14d153=_0xaf6cda[0x0]['x']>_0xaf6cda[0x1]['x']?_0xaf6cda[0x0]:_0xaf6cda[0x1];if(_0x442fd8['x']===_0x14d153['x']){_0xaf6cda[0x1]['y']=_0xaf6cda[0x0]['y'];return;}const _0x5b258c=_0x28906a['canvasBoundsContainer']['getBounds'](CanvasElement['CHART'])['width'],_0x564438=_0x28906a['scale']['inverseY'];_0x164712['model']['fixedPoints']===0x1&&(_0xaf6cda[0x1]['y']=_0xaf6cda[0x0]['y'],recalculateKeyAndCachedPoints(_0x164712,0x0),drawMainArc(_0x2759a4,_0x442fd8,_0x14d153,_0x57e7a1,_0x5b258c,_0x564438));if(_0x164712['model']['fixedPoints']===0x2){if(_0x164712['isDragging']){const _0x388671=_0xaf6cda['find'](_0x5aed1e=>_0x5aed1e['hidden']);!this['drawingsY']&&(this['drawingsY']=_0xaf6cda[0x1]['y']);if(_0x388671){this['drawingsY']=_0x388671['y'];const _0x570e16=_0xaf6cda['findIndex'](_0x53d741=>_0x53d741['x']===_0x388671['x']);recalculateKeyAndCachedPoints(_0x164712,_0x570e16);}else this['drawingsY']=_0xaf6cda[0x0]['y'];}else this['drawingsY']=_0xaf6cda[0x0]['y'];_0x442fd8['y']=this['drawingsY'],_0x14d153['y']=this['drawingsY'],drawMainArc(_0x2759a4,_0x442fd8,_0x14d153,_0x57e7a1,_0x5b258c,_0x564438);}}}}const drawMainArc=(_0x45e9bb,_0x38c5be,_0x295514,_0x5455d8,_0x1c0851,_0xf61acf)=>{const _0xe7389a=_0x295514['subtract'](_0x38c5be),_0x5ad187=Math['sqrt'](Math['pow'](_0xe7389a['x'],0x2)+Math['pow'](_0xe7389a['y'],0x2))/0x2;_0x45e9bb['beginPath'](),_0x45e9bb['context']['arc']((_0x38c5be['x']+_0x295514['x'])/0x2,_0x38c5be['y'],_0x5ad187,0x0,Math['PI'],!_0xf61acf),_0x45e9bb['prepareStroke'](_0x5455d8['line']),_0x45e9bb['stroke'](),_0x45e9bb['prepareFill'](_0x5455d8['background']),_0x45e9bb['fillWithoutHT'](),drawPrevArc(_0x45e9bb,_0x38c5be,_0x5455d8,_0xe7389a,_0xf61acf),drawNextArc(_0x45e9bb,_0x295514,_0x5455d8,_0xe7389a,_0x1c0851,_0xf61acf);},drawPrevArc=(_0x4f1945,_0x21f227,_0x44aa51,_0x37bbc9,_0x44a636)=>{const _0x561199=new ViewPoint(_0x21f227['x']-_0x37bbc9['x'],_0x21f227['y']),_0x29034a=Math['sqrt'](Math['pow'](_0x37bbc9['x'],0x2)+Math['pow'](_0x37bbc9['y'],0x2))/0x2;_0x4f1945['beginPath'](),_0x4f1945['context']['arc']((_0x561199['x']+_0x21f227['x'])/0x2,_0x561199['y'],_0x29034a,0x0,Math['PI'],!_0x44a636),_0x4f1945['prepareStroke'](_0x44aa51['line']),_0x4f1945['stroke'](),_0x4f1945['prepareFill'](_0x44aa51['background']),_0x4f1945['fillWithoutHT'](),_0x21f227['x']-_0x37bbc9['x']>=0x0&&drawPrevArc(_0x4f1945,_0x561199,_0x44aa51,_0x37bbc9,_0x44a636);},drawNextArc=(_0x3b165b,_0x474046,_0x35f957,_0x25c70a,_0x286da4,_0x51140c)=>{const _0x4cafb1=new ViewPoint(_0x474046['x']+_0x25c70a['x'],_0x474046['y']),_0x34ee45=Math['sqrt'](Math['pow'](_0x25c70a['x'],0x2)+Math['pow'](_0x25c70a['y'],0x2))/0x2;_0x3b165b['beginPath'](),_0x3b165b['context']['arc']((_0x4cafb1['x']+_0x474046['x'])/0x2,_0x4cafb1['y'],_0x34ee45,0x0,Math['PI'],!_0x51140c),_0x3b165b['prepareStroke'](_0x35f957['line']),_0x3b165b['stroke'](),_0x3b165b['prepareFill'](_0x35f957['background']),_0x3b165b['fillWithoutHT'](),_0x474046['x']+_0x25c70a['x']<=_0x286da4&&drawNextArc(_0x3b165b,_0x4cafb1,_0x35f957,_0x25c70a,_0x286da4,_0x51140c);},recalculateKeyAndCachedPoints=(_0x927c9e,_0x29a9a3)=>{_0x927c9e['model']['keyPoints']=_0x927c9e['model']['keyPoints']['map'](_0x3ca40e=>Object['assign'](Object['assign']({},_0x3ca40e),{'value':_0x927c9e['model']['keyPoints'][_0x29a9a3]['value']})),_0x927c9e['model']['cachedPoints']=_0x927c9e['model']['cachedPoints']['map'](_0x2c868b=>Object['assign'](Object['assign']({},_0x2c868b),{'value':_0x927c9e['model']['cachedPoints'][_0x29a9a3]['value']}));};