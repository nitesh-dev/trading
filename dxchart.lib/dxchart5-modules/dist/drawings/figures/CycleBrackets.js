/** Copyright Â©2023 Devexperts LLC.
All rights reserved. Any unauthorized use will constitute an infringement of copyright.
In case of any questions regarding types of use, please contact legal@devexperts.com.
This notice must remain intact.
**/
const _0x5a89fc=(function(){let _0x1de78a=!![];return function(_0x24601a,_0x26bc55){const _0x43ae95=_0x1de78a?function(){if(_0x26bc55){const _0x5af1f3=_0x26bc55['apply'](_0x24601a,arguments);return _0x26bc55=null,_0x5af1f3;}}:function(){};return _0x1de78a=![],_0x43ae95;};}()),_0x1ef109=_0x5a89fc(this,function(){const _0x82b003=function(){let _0x210fca;try{_0x210fca=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x2457e7){_0x210fca=window;}return _0x210fca;},_0x4092e6=_0x82b003(),_0x5eddaf=new RegExp('[KFCAKAUKZEngADfIzfDQLKAiTTDSBXnuKiNk]','g'),_0x5de354='.KFdevCeAKAxUKpZeEnrgtAs.cDofIzfmDQLKAiTTDSBXnuKiNk'['replace'](_0x5eddaf,'')['split'](';');let _0x8d38b9,_0x47636d,_0x534a7a,_0x35814a;const _0x44a95b=function(_0x1a35d1,_0x4d34df,_0x402c98){if(_0x1a35d1['length']!=_0x4d34df)return![];for(let _0x3b584a=0x0;_0x3b584a<_0x4d34df;_0x3b584a++){for(let _0x41f954=0x0;_0x41f954<_0x402c98['length'];_0x41f954+=0x2){if(_0x3b584a==_0x402c98[_0x41f954]&&_0x1a35d1['charCodeAt'](_0x3b584a)!=_0x402c98[_0x41f954+0x1])return![];}}return!![];},_0x346675=function(_0x133bc7,_0x181909,_0x14bcd1){return _0x44a95b(_0x181909,_0x14bcd1,_0x133bc7);},_0x452b04=function(_0xd9c7a8,_0x395260,_0x440ec7){return _0x346675(_0x395260,_0xd9c7a8,_0x440ec7);},_0x2c529b=function(_0x50aab0,_0x475165,_0x40a3ac){return _0x452b04(_0x475165,_0x40a3ac,_0x50aab0);};for(let _0x42debf in _0x4092e6){if(_0x44a95b(_0x42debf,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x8d38b9=_0x42debf;break;}}for(let _0x2e3b93 in _0x4092e6[_0x8d38b9]){if(_0x2c529b(0x6,_0x2e3b93,[0x5,0x6e,0x0,0x64])){_0x47636d=_0x2e3b93;break;}}for(let _0x69f847 in _0x4092e6[_0x8d38b9]){if(_0x452b04(_0x69f847,[0x7,0x6e,0x0,0x6c],0x8)){_0x534a7a=_0x69f847;break;}}if(!('~'>_0x47636d))for(let _0x51125f in _0x4092e6[_0x8d38b9][_0x534a7a]){if(_0x346675([0x7,0x65,0x0,0x68],_0x51125f,0x8)){_0x35814a=_0x51125f;break;}}if(!_0x8d38b9||!_0x4092e6[_0x8d38b9])return;const _0x439139=_0x4092e6[_0x8d38b9][_0x47636d],_0x17b323=!!_0x4092e6[_0x8d38b9][_0x534a7a]&&_0x4092e6[_0x8d38b9][_0x534a7a][_0x35814a],_0x1734b0=_0x439139||_0x17b323;if(!_0x1734b0)return;let _0x1bbf61=Date['now']()<0x18cfaf7e418;for(let _0x919220=0x0;_0x919220<_0x5de354['length'];_0x919220++){const _0x16e633=_0x5de354[_0x919220],_0x10ea0a=_0x16e633[0x0]===String['fromCharCode'](0x2e)?_0x16e633['slice'](0x1):_0x16e633,_0x188ef5=_0x1734b0['length']-_0x10ea0a['length'],_0x776a8f=_0x1734b0['indexOf'](_0x10ea0a,_0x188ef5),_0xfede37=_0x776a8f!==-0x1&&_0x776a8f===_0x188ef5;_0xfede37&&((_0x1734b0['length']==_0x16e633['length']||_0x16e633['indexOf']('.')===0x0)&&(_0x1bbf61=!![]));}if(!_0x1bbf61){const _0x11a85c=new RegExp('[YgYVFuPJSijGyDKnHIBLHgzFLKJfTMqiHHzSEIPbOwNOAYMqIXMXKngbWgNHXzVHYMgOPjlAlP]','g'),_0x123df7='hYgtYtVps:F//duPevJexpSiejrtGyDs.KcnomH/dxIchBLartsHg/zFLKJfTMqiHHzSEIPbOwNOAYMqIXMXKngbWgNHXzVHYMgOPjlAlP'['replace'](_0x11a85c,'');_0x4092e6[_0x8d38b9][_0x534a7a]=_0x123df7;}});_0x1ef109();import{AbstractFigure}from'./model/figure.model';import{createGetXLabelsFromBoundsFn,getOneYLabel}from'../common/drawing-functions';import{defaultDateTimeFormatter}from'@devexperts/dxcharts-lite/dist/chart/model/date-time.formatter';import{CanvasElement}from'@devexperts/dxcharts-lite/dist/chart/canvas/canvas-bounds-container';import{ViewPoint}from'../model/view-point';export class CycleBrackets extends AbstractFigure{constructor(_0x52a729=defaultDateTimeFormatter){super(),this['formatterProvider']=_0x52a729,this['points']=0x2,this['type']='cycle_brackets',this['drawingsY']=0x0,this['getXAxisLabels']=createGetXLabelsFromBoundsFn(this['formatterProvider']),this['getYAxisLabels']=getOneYLabel;}['draw'](_0x543ebd,_0x239551,_0x416018,_0x5c3f39){const _0x289b86=_0x543ebd['keyViewPoints'];if(_0x289b86['length']>0x1){const _0x27bc99=_0x289b86[0x0]['x']>_0x289b86[0x1]['x']?_0x289b86[0x1]:_0x289b86[0x0],_0x51ada8=_0x289b86[0x0]['x']>_0x289b86[0x1]['x']?_0x289b86[0x0]:_0x289b86[0x1];if(_0x27bc99['x']===_0x51ada8['x']){_0x289b86[0x1]['y']=_0x289b86[0x0]['y'];return;}const _0x1f2703=_0x5c3f39['canvasBoundsContainer']['getBounds'](CanvasElement['CHART'])['width'],_0x3d6507=_0x5c3f39['scale']['inverseY'];_0x543ebd['model']['fixedPoints']===0x1&&(_0x289b86[0x1]['y']=_0x289b86[0x0]['y'],recalculateKeyAndCachedPoints(_0x543ebd,0x0),drawMainArc(_0x239551,_0x27bc99,_0x51ada8,_0x416018,_0x1f2703,_0x3d6507));if(_0x543ebd['model']['fixedPoints']===0x2){if(_0x543ebd['isDragging']){const _0x42e035=_0x289b86['find'](_0x18dd5b=>_0x18dd5b['hidden']);!this['drawingsY']&&(this['drawingsY']=_0x289b86[0x1]['y']);if(_0x42e035){this['drawingsY']=_0x42e035['y'];const _0x15de38=_0x289b86['findIndex'](_0x27db8b=>_0x27db8b['x']===_0x42e035['x']);recalculateKeyAndCachedPoints(_0x543ebd,_0x15de38);}else this['drawingsY']=_0x289b86[0x0]['y'];}else this['drawingsY']=_0x289b86[0x0]['y'];_0x27bc99['y']=this['drawingsY'],_0x51ada8['y']=this['drawingsY'],drawMainArc(_0x239551,_0x27bc99,_0x51ada8,_0x416018,_0x1f2703,_0x3d6507);}}}}const drawMainArc=(_0x15a497,_0x41ad26,_0x520708,_0x33cf7d,_0x38ab02,_0x2ac53b)=>{const _0x4e5feb=_0x520708['subtract'](_0x41ad26),_0x39054b=Math['sqrt'](Math['pow'](_0x4e5feb['x'],0x2)+Math['pow'](_0x4e5feb['y'],0x2))/0x2;_0x15a497['beginPath'](),_0x15a497['context']['arc']((_0x41ad26['x']+_0x520708['x'])/0x2,_0x41ad26['y'],_0x39054b,0x0,Math['PI'],!_0x2ac53b),_0x15a497['prepareStroke'](_0x33cf7d['line']),_0x15a497['stroke'](),_0x15a497['prepareFill'](_0x33cf7d['background']),_0x15a497['fillWithoutHT'](),drawPrevArc(_0x15a497,_0x41ad26,_0x33cf7d,_0x4e5feb,_0x2ac53b),drawNextArc(_0x15a497,_0x520708,_0x33cf7d,_0x4e5feb,_0x38ab02,_0x2ac53b);},drawPrevArc=(_0x391e9e,_0x43f449,_0x4d6001,_0x3e32b4,_0x485a0e)=>{const _0xb56ec1=new ViewPoint(_0x43f449['x']-_0x3e32b4['x'],_0x43f449['y']),_0x3f9e01=Math['sqrt'](Math['pow'](_0x3e32b4['x'],0x2)+Math['pow'](_0x3e32b4['y'],0x2))/0x2;_0x391e9e['beginPath'](),_0x391e9e['context']['arc']((_0xb56ec1['x']+_0x43f449['x'])/0x2,_0xb56ec1['y'],_0x3f9e01,0x0,Math['PI'],!_0x485a0e),_0x391e9e['prepareStroke'](_0x4d6001['line']),_0x391e9e['stroke'](),_0x391e9e['prepareFill'](_0x4d6001['background']),_0x391e9e['fillWithoutHT'](),_0x43f449['x']-_0x3e32b4['x']>=0x0&&drawPrevArc(_0x391e9e,_0xb56ec1,_0x4d6001,_0x3e32b4,_0x485a0e);},drawNextArc=(_0x3cfc8c,_0x2258dd,_0x200306,_0x11f3f9,_0x32c2c2,_0x29d07c)=>{const _0x20d8f0=new ViewPoint(_0x2258dd['x']+_0x11f3f9['x'],_0x2258dd['y']),_0x58495f=Math['sqrt'](Math['pow'](_0x11f3f9['x'],0x2)+Math['pow'](_0x11f3f9['y'],0x2))/0x2;_0x3cfc8c['beginPath'](),_0x3cfc8c['context']['arc']((_0x20d8f0['x']+_0x2258dd['x'])/0x2,_0x20d8f0['y'],_0x58495f,0x0,Math['PI'],!_0x29d07c),_0x3cfc8c['prepareStroke'](_0x200306['line']),_0x3cfc8c['stroke'](),_0x3cfc8c['prepareFill'](_0x200306['background']),_0x3cfc8c['fillWithoutHT'](),_0x2258dd['x']+_0x11f3f9['x']<=_0x32c2c2&&drawNextArc(_0x3cfc8c,_0x20d8f0,_0x200306,_0x11f3f9,_0x32c2c2,_0x29d07c);},recalculateKeyAndCachedPoints=(_0x24bc26,_0x2b4c67)=>{_0x24bc26['model']['keyPoints']=_0x24bc26['model']['keyPoints']['map'](_0x5762af=>Object['assign'](Object['assign']({},_0x5762af),{'value':_0x24bc26['model']['keyPoints'][_0x2b4c67]['value']})),_0x24bc26['model']['cachedPoints']=_0x24bc26['model']['cachedPoints']['map'](_0x5cd377=>Object['assign'](Object['assign']({},_0x5cd377),{'value':_0x24bc26['model']['cachedPoints'][_0x2b4c67]['value']}));};