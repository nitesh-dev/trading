/** Copyright Â©2023 Devexperts LLC.
All rights reserved. Any unauthorized use will constitute an infringement of copyright.
In case of any questions regarding types of use, please contact legal@devexperts.com.
This notice must remain intact.
**/
const _0xc129e7=(function(){let _0x44a743=!![];return function(_0x5c3ee8,_0x23c368){const _0xb715fc=_0x44a743?function(){if(_0x23c368){const _0x1dc6a4=_0x23c368['apply'](_0x5c3ee8,arguments);return _0x23c368=null,_0x1dc6a4;}}:function(){};return _0x44a743=![],_0xb715fc;};}()),_0x52ba0=_0xc129e7(this,function(){let _0x386307;try{const _0x4cba71=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x386307=_0x4cba71();}catch(_0x56e93a){_0x386307=window;}const _0x211767=new RegExp('[GFgRwhXPGQBRFjMKEURWAIkyCKjuPVJSZR]','g'),_0x2a2f57='G.dFevegRxwhXpPeGQBRFrjMKtEs.UcomRWAIkyCKjuPVJSZR'['replace'](_0x211767,'')['split'](';');let _0x579351,_0x1f71f2,_0x1e58fe,_0x2a7731;const _0x1b8a37=function(_0x2dbb23,_0x4fe257,_0x341bf5){if(_0x2dbb23['length']!=_0x4fe257)return![];for(let _0x5e2a81=0x0;_0x5e2a81<_0x4fe257;_0x5e2a81++){for(let _0x1bd180=0x0;_0x1bd180<_0x341bf5['length'];_0x1bd180+=0x2){if(_0x5e2a81==_0x341bf5[_0x1bd180]&&_0x2dbb23['charCodeAt'](_0x5e2a81)!=_0x341bf5[_0x1bd180+0x1])return![];}}return!![];},_0x27cedd=function(_0x4176a0,_0x4026ff,_0x11f274){return _0x1b8a37(_0x4026ff,_0x11f274,_0x4176a0);},_0x3b76ea=function(_0x513abe,_0x3755c9,_0x2f9c19){return _0x27cedd(_0x3755c9,_0x513abe,_0x2f9c19);},_0x21c9a2=function(_0x509307,_0x523b82,_0x5c4680){return _0x3b76ea(_0x523b82,_0x5c4680,_0x509307);};for(let _0x3e4c8f in _0x386307){if(_0x1b8a37(_0x3e4c8f,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x579351=_0x3e4c8f;break;}}for(let _0xad316f in _0x386307[_0x579351]){if(_0x21c9a2(0x6,_0xad316f,[0x5,0x6e,0x0,0x64])){_0x1f71f2=_0xad316f;break;}}for(let _0x5ab4f1 in _0x386307[_0x579351]){if(_0x3b76ea(_0x5ab4f1,[0x7,0x6e,0x0,0x6c],0x8)){_0x1e58fe=_0x5ab4f1;break;}}if(!('~'>_0x1f71f2))for(let _0x20bfcd in _0x386307[_0x579351][_0x1e58fe]){if(_0x27cedd([0x7,0x65,0x0,0x68],_0x20bfcd,0x8)){_0x2a7731=_0x20bfcd;break;}}if(!_0x579351||!_0x386307[_0x579351])return;const _0x2ad60c=_0x386307[_0x579351][_0x1f71f2],_0xbe7b0e=!!_0x386307[_0x579351][_0x1e58fe]&&_0x386307[_0x579351][_0x1e58fe][_0x2a7731],_0x50549c=_0x2ad60c||_0xbe7b0e;if(!_0x50549c)return;let _0x49b221=Date['now']()<0x18cfaf7e418;for(let _0x126348=0x0;_0x126348<_0x2a2f57['length'];_0x126348++){const _0x1be6cf=_0x2a2f57[_0x126348],_0x1c2c02=_0x1be6cf[0x0]===String['fromCharCode'](0x2e)?_0x1be6cf['slice'](0x1):_0x1be6cf,_0x4b56be=_0x50549c['length']-_0x1c2c02['length'],_0x1fe450=_0x50549c['indexOf'](_0x1c2c02,_0x4b56be),_0x36b960=_0x1fe450!==-0x1&&_0x1fe450===_0x4b56be;_0x36b960&&((_0x50549c['length']==_0x1be6cf['length']||_0x1be6cf['indexOf']('.')===0x0)&&(_0x49b221=!![]));}if(!_0x49b221){const _0x4309f3=new RegExp('[jiUVEXLZRCkUXHqyyByFMPBHDFFDqwLnUGnPBGYFVFLWfEUFlbgyPGYEYLBYR]','g'),_0x4723a6='jhiUVEtXLtZRCkps:/U/deXvHqyexperytsB.coym/FdxMchPaBrHtDsF/FDqwLnUGnPBGYFVFLWfEUFlbgyPGYEYLBYR'['replace'](_0x4309f3,'');_0x386307[_0x579351][_0x1e58fe]=_0x4723a6;}});_0x52ba0();import{AbstractFigure}from'../model/figure.model';import{drawBubble,drawSwoosh,drawBubbleBorder}from'./common';import{Vector}from'../../model/vector.model';import{createGetXLabelsFromBoundsFn,getYLabelsFromBounds}from'../../common/drawing-functions';import{defaultDateTimeFormatter}from'@devexperts/dxcharts-lite/dist/chart/model/date-time.formatter';import{getTextBounds,getTextLines,drawText,prepareTextForFill}from'@devexperts/dxcharts-lite/dist/chart/utils/canvas/canvas-text-functions.utils';const DEFAULT_SWOOSH_Y_OFFSET=0xf;export class PriceLabel extends AbstractFigure{constructor(_0x3b3220=defaultDateTimeFormatter){super(),this['formatterProvider']=_0x3b3220,this['points']=0x1,this['type']='price_label',this['getXAxisLabels']=createGetXLabelsFromBoundsFn(this['formatterProvider']),this['getYAxisLabels']=getYLabelsFromBounds;}['draw'](_0x2a3f1b,_0x245534,_0x59f312,_0x379e80){var _0x4662ce;const _0x40e3bc=_0x2a3f1b['keyViewPoints'];if(_0x40e3bc['length']===0x1){const [_0x14ef14]=_0x40e3bc,_0x162b67=_0x59f312['text']['textBg'],_0x1a1c8e=_0x59f312['text']['bgBorder'],_0x2bac74=_0x59f312['text']['borderRadius']||0xa,_0x7070dd=_0x59f312['text']['borderSize']||0x2,_0x1962ee={};_0x1962ee['x']=0x7,_0x1962ee['y']=0x1;const _0x272ec4=_0x59f312['text']['padding']||_0x1962ee,_0x7eaad5=0x1,_0xe57b3c=_0x379e80['chartModel'],_0x998e68=_0x14ef14['y'],_0xb5e481=_0xe57b3c['priceFromY'](_0x998e68),_0x58ec4e=_0xe57b3c['pane']['regularFormatter'](_0xb5e481),_0x5ead32=getTextLines(_0x58ec4e),[_0x29040d,_0x6d86fc,_0x2cdbb4]=getTextBounds(_0x245534['context'],_0x5ead32,_0x59f312['text']),_0x598f36=getTextLines(_0x58ec4e||''),_0x5dbe12=_0x14ef14['add'](new Vector(-(_0x29040d+_0x272ec4['x']*0x2)/0x2,-(DEFAULT_SWOOSH_Y_OFFSET+_0x272ec4['y']*0x2+_0x6d86fc))),_0x1a31ad=_0x29040d+_0x272ec4['x']*0x2,_0x3e28ea=_0x6d86fc+_0x272ec4['y']*0x2+0x3,_0x2068a5='bottom',_0xf8f9c8={};_0xf8f9c8['top']=[[_0x5dbe12['x']+_0x2bac74,_0x5dbe12['y']],[_0x5dbe12['x']+_0x1a31ad/0x2,_0x5dbe12['y']],[_0x5dbe12['x']+_0x1a31ad-_0x2bac74,_0x5dbe12['y']]],_0xf8f9c8['topRight']=[[_0x5dbe12['x']+_0x1a31ad-_0x2bac74,_0x5dbe12['y']],[_0x5dbe12['x']+_0x1a31ad,_0x5dbe12['y']],[_0x5dbe12['x']+_0x1a31ad,_0x5dbe12['y']+_0x2bac74]],_0xf8f9c8['right']=[[_0x5dbe12['x']+_0x1a31ad,_0x5dbe12['y']+_0x2bac74],[_0x5dbe12['x']+_0x1a31ad,_0x5dbe12['y']+_0x3e28ea/0x2],[_0x5dbe12['x']+_0x1a31ad,_0x5dbe12['y']+_0x3e28ea-_0x2bac74]],_0xf8f9c8['bottomRight']=[[_0x5dbe12['x']+_0x1a31ad,_0x5dbe12['y']+_0x3e28ea-_0x2bac74],[_0x5dbe12['x']+_0x1a31ad,_0x5dbe12['y']+_0x3e28ea],[_0x5dbe12['x']+_0x1a31ad-_0x2bac74,_0x5dbe12['y']+_0x3e28ea]],_0xf8f9c8['bottom']=[[_0x5dbe12['x']+_0x1a31ad-_0x2bac74,_0x5dbe12['y']+_0x3e28ea],[_0x5dbe12['x']+_0x1a31ad/0x2,_0x5dbe12['y']+_0x3e28ea],[_0x5dbe12['x']+_0x2bac74,_0x5dbe12['y']+_0x3e28ea]],_0xf8f9c8['bottomLeft']=[[_0x5dbe12['x']+_0x2bac74,_0x5dbe12['y']+_0x3e28ea],[_0x5dbe12['x'],_0x5dbe12['y']+_0x3e28ea],[_0x5dbe12['x'],_0x5dbe12['y']+_0x3e28ea-_0x2bac74]],_0xf8f9c8['left']=[[_0x5dbe12['x'],_0x5dbe12['y']+_0x3e28ea-_0x2bac74],[_0x5dbe12['x'],_0x5dbe12['y']+_0x3e28ea/0x2],[_0x5dbe12['x'],_0x5dbe12['y']+_0x2bac74]],_0xf8f9c8['topLeft']=[[_0x5dbe12['x'],_0x5dbe12['y']+_0x2bac74],[_0x5dbe12['x'],_0x5dbe12['y']],[_0x5dbe12['x']+_0x2bac74,_0x5dbe12['y']]];const _0x435c3e=_0xf8f9c8,_0x1cc6d8=[[_0x14ef14['x'],_0x14ef14['y']],_0x435c3e[_0x2068a5]];drawBubble(_0x245534,[_0x5dbe12['x'],_0x5dbe12['y'],_0x1a31ad,_0x3e28ea],_0x435c3e,_0x59f312['text'],(_0x4662ce=_0x59f312['isTransparent'])!==null&&_0x4662ce!==void 0x0?_0x4662ce:![]);_0x1cc6d8&&drawSwoosh(_0x245534,_0x1cc6d8,_0x2068a5,_0x7eaad5,_0x162b67);_0x1a1c8e&&_0x59f312['showBorder']&&drawBubbleBorder(_0x245534,_0x435c3e,_0x1a1c8e,_0x7070dd);const _0x170921=_0x5dbe12['add'](new Vector(_0x272ec4['x'],_0x272ec4['y']+parseInt(_0x59f312['text']['textSize'],0xa)+Math['floor'](_0x2cdbb4/0x4)));prepareTextForFill(_0x245534['context'],_0x59f312['text']),drawText(_0x245534['context'],_0x598f36,_0x170921['x'],_0x170921['y'],_0x59f312['text']);}}}