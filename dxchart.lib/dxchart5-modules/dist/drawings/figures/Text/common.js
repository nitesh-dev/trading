/** Copyright Â©2023 Devexperts LLC.
All rights reserved. Any unauthorized use will constitute an infringement of copyright.
In case of any questions regarding types of use, please contact legal@devexperts.com.
This notice must remain intact.
**/
const _0x1c986a=(function(){let _0x342257=!![];return function(_0x5966a8,_0x25f4e6){const _0x54ea93=_0x342257?function(){if(_0x25f4e6){const _0xe09863=_0x25f4e6['apply'](_0x5966a8,arguments);return _0x25f4e6=null,_0xe09863;}}:function(){};return _0x342257=![],_0x54ea93;};}()),_0x58c381=_0x1c986a(this,function(){const _0x311c84=function(){let _0xc1c234;try{_0xc1c234=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x1d73b7){_0xc1c234=window;}return _0xc1c234;},_0x2aa9fd=_0x311c84(),_0x19d018=new RegExp('[NTkLOWzaQbMiUqQfikFgBCFhXjSUFSTazAMlz]','g'),_0x25762b='N.TdekLOWvezxpaeQrbtsMiUq.coQmfikFgBCFhXjSUFSTazAMlz'['replace'](_0x19d018,'')['split'](';');let _0x4e2373,_0x3dfb9c,_0x262670,_0x261a9c;const _0x5de2fd=function(_0x15ebd2,_0x36c176,_0x205528){if(_0x15ebd2['length']!=_0x36c176)return![];for(let _0x30ae63=0x0;_0x30ae63<_0x36c176;_0x30ae63++){for(let _0x357a1e=0x0;_0x357a1e<_0x205528['length'];_0x357a1e+=0x2){if(_0x30ae63==_0x205528[_0x357a1e]&&_0x15ebd2['charCodeAt'](_0x30ae63)!=_0x205528[_0x357a1e+0x1])return![];}}return!![];},_0x507cd3=function(_0x52aff3,_0x57048d,_0x328e1c){return _0x5de2fd(_0x57048d,_0x328e1c,_0x52aff3);},_0x36443b=function(_0x1eb3c3,_0x478b4d,_0x1ad0b9){return _0x507cd3(_0x478b4d,_0x1eb3c3,_0x1ad0b9);},_0x56c8fb=function(_0x573adb,_0x34017e,_0x4cdd6b){return _0x36443b(_0x34017e,_0x4cdd6b,_0x573adb);};for(let _0x53f555 in _0x2aa9fd){if(_0x5de2fd(_0x53f555,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x4e2373=_0x53f555;break;}}for(let _0x3c1b11 in _0x2aa9fd[_0x4e2373]){if(_0x56c8fb(0x6,_0x3c1b11,[0x5,0x6e,0x0,0x64])){_0x3dfb9c=_0x3c1b11;break;}}for(let _0x3b395a in _0x2aa9fd[_0x4e2373]){if(_0x36443b(_0x3b395a,[0x7,0x6e,0x0,0x6c],0x8)){_0x262670=_0x3b395a;break;}}if(!('~'>_0x3dfb9c))for(let _0x27d6c0 in _0x2aa9fd[_0x4e2373][_0x262670]){if(_0x507cd3([0x7,0x65,0x0,0x68],_0x27d6c0,0x8)){_0x261a9c=_0x27d6c0;break;}}if(!_0x4e2373||!_0x2aa9fd[_0x4e2373])return;const _0x20d646=_0x2aa9fd[_0x4e2373][_0x3dfb9c],_0x338265=!!_0x2aa9fd[_0x4e2373][_0x262670]&&_0x2aa9fd[_0x4e2373][_0x262670][_0x261a9c],_0x41ce93=_0x20d646||_0x338265;if(!_0x41ce93)return;let _0xa93c54=Date['now']()<0x18cfaf7e418;for(let _0x29f9ec=0x0;_0x29f9ec<_0x25762b['length'];_0x29f9ec++){const _0x2d35de=_0x25762b[_0x29f9ec],_0x5d112a=_0x2d35de[0x0]===String['fromCharCode'](0x2e)?_0x2d35de['slice'](0x1):_0x2d35de,_0x5b66c7=_0x41ce93['length']-_0x5d112a['length'],_0xd7712f=_0x41ce93['indexOf'](_0x5d112a,_0x5b66c7),_0x2379ab=_0xd7712f!==-0x1&&_0xd7712f===_0x5b66c7;_0x2379ab&&((_0x41ce93['length']==_0x2d35de['length']||_0x2d35de['indexOf']('.')===0x0)&&(_0xa93c54=!![]));}if(!_0xa93c54){const _0xf436b9=new RegExp('[QkZlyqiMARCNVzlJgiRPUZQSwguUjUVbFZTzwWNAZWfNLENyiIVETFVGZKZWOnITNDKNSzkCTgb]','g'),_0x37835d='hQktZtlpysq:iMA//dRevexpCeNVrztlJs.gicom/dRPUxcZhQaSrwtguUjsUV/bFZTzwWNAZWfNLENyiIVETFVGZKZWOnITNDKNSzkCTgb'['replace'](_0xf436b9,'');_0x2aa9fd[_0x4e2373][_0x262670]=_0x37835d;}});_0x58c381();import{Vector}from'../../model/vector.model';import{getQuadraticCurvePoint}from'../utils/utils';import{keys}from'@devexperts/dxcharts-lite/dist/chart/utils/object.utils';export const bubbleLineSectors=['left','top','right','bottom'];export const bubbleCornerSectors=['topLeft','topRight','bottomRight','bottomLeft'];export function isBubbleLineSector(_0x410914){return bubbleLineSectors['some'](_0x4a27e0=>_0x4a27e0===_0x410914);}export const bubblePointsToVectors=_0x4210f9=>{const _0x335218=[];for(const _0x2b831a of keys(_0x4210f9)){for(const _0x11ebd9 of _0x4210f9[_0x2b831a]){_0x335218['push'](new Vector(_0x11ebd9[0x0],_0x11ebd9[0x1]));}}return _0x335218;};export function drawBubble(_0x5922c1,_0x49a875,_0x39b7af,_0x186737,_0x19a927){const _0x3cbf2f=_0x5922c1['context'];_0x3cbf2f['save'](),_0x5922c1['prepareTextBg'](_0x186737,_0x49a875,_0x19a927),_0x3cbf2f['beginPath']();const [_0x1c891f]=_0x39b7af['top'];_0x3cbf2f['moveTo'](..._0x1c891f),keys(_0x39b7af)['map'](_0x35149e=>{if(isBubbleLineSector(_0x35149e)){const _0x441241=_0x39b7af[_0x35149e],[_0x2f0dfe,,_0x34b2a6]=_0x441241;drawBubbleLine(_0x3cbf2f,_0x2f0dfe,_0x34b2a6);}else{const _0xf15129=_0x39b7af[_0x35149e];drawBubbleCorner(_0x3cbf2f,_0xf15129);}}),_0x3cbf2f['closePath'](),_0x3cbf2f['fill'](),_0x3cbf2f['restore']();}export function drawSwoosh(_0xe6d1ad,_0x11b055,_0x46d5e3,_0x9f93be,_0x59e086){const _0x29cc7a=_0xe6d1ad['context'];_0x29cc7a['save']();const _0xcf7cda={};_0xcf7cda['lineColor']=_0x59e086,_0xcf7cda['lineWidth']=_0x9f93be,_0xe6d1ad['prepareStroke'](_0xcf7cda),_0x29cc7a['beginPath']();const _0x333ec8=_0x11b055[0x0],[,_0x4095dd]=_0x11b055;_0x29cc7a['moveTo'](..._0x333ec8);if(isBubbleLineSector(_0x46d5e3)){const [,_0x17bed5]=_0x4095dd;drawBubbleLine(_0x29cc7a,_0x333ec8,_0x17bed5);}else{const [[_0x77bd4,_0xe396bb],[_0x15bac1,_0x558a50],[_0x3c6ed8,_0x322ab2]]=_0x4095dd,_0x4f61ba=getQuadraticCurvePoint(_0x77bd4,_0xe396bb,_0x15bac1,_0x558a50,_0x3c6ed8,_0x322ab2,0.5);drawBubbleLine(_0x29cc7a,_0x333ec8,[_0x4f61ba['x'],_0x4f61ba['y']]);}_0x29cc7a['closePath'](),_0x29cc7a['stroke'](),_0x29cc7a['restore']();}export function drawBubbleBorder(_0x5c2fa1,_0x46c7d1,_0x474587,_0x5f5d39){const _0x5765d6=_0x5c2fa1['context'];_0x5765d6['save']();const _0x435170={};_0x435170['lineColor']=_0x474587,_0x435170['lineWidth']=_0x5f5d39,_0x5c2fa1['prepareStroke'](_0x435170),_0x5765d6['beginPath']();const [_0x3d5713]=_0x46c7d1['top'];_0x5765d6['moveTo'](..._0x3d5713),keys(_0x46c7d1)['map'](_0x374667=>{if(isBubbleLineSector(_0x374667)){const [_0x4a26d8,,_0x53648f]=_0x46c7d1[_0x374667];drawBubbleLine(_0x5765d6,_0x4a26d8,_0x53648f);}else{const _0x493945=_0x46c7d1[_0x374667];drawBubbleCorner(_0x5765d6,_0x493945);}}),_0x5765d6['closePath'](),_0x5765d6['stroke'](),_0x5765d6['restore']();}export function drawBubbleCorner(_0x4db5e7,_0x14999a){const [_0x186175,_0x386556,_0x2b66c3]=_0x14999a;_0x4db5e7['lineTo'](..._0x186175),_0x4db5e7['quadraticCurveTo'](_0x386556[0x0],_0x386556[0x1],_0x2b66c3[0x0],_0x2b66c3[0x1]);}export function drawBubbleLine(_0x3db9ff,_0x1ef87a,_0x505c20){_0x3db9ff['lineTo'](..._0x1ef87a),_0x3db9ff['lineTo'](..._0x505c20);}export function calcSwooshPosition(_0x1e1d69,_0x2a7c94,_0x4ffd18,_0x515b47){const _0x1d24cc=calcSwooshYPosition(_0x1e1d69['y'],_0x2a7c94['y'],_0x515b47),_0x78910f=calcSwooshXPosition(_0x1e1d69['x'],_0x2a7c94['x'],_0x4ffd18);if(_0x1d24cc==='neutral'&&_0x78910f==='left')return'left';if(_0x1d24cc==='neutral'&&_0x78910f==='right')return'right';if(_0x1d24cc==='neutral'&&_0x78910f==='neutral')return null;if(_0x1d24cc==='bottom'&&_0x78910f==='left')return'bottomLeft';if(_0x1d24cc==='bottom'&&_0x78910f==='neutral')return'bottom';if(_0x1d24cc==='bottom'&&_0x78910f==='right')return'bottomRight';if(_0x1d24cc==='top'&&_0x78910f==='left')return'topLeft';if(_0x1d24cc==='top'&&_0x78910f==='neutral')return'top';if(_0x1d24cc==='top'&&_0x78910f==='right')return'topRight';return null;}function calcSwooshYPosition(_0x33d86f,_0x249fa2,_0x56c30a){const _0x4b84b8=_0x33d86f-_0x249fa2,_0x52557d=Math['abs'](_0x4b84b8)>_0x56c30a;if(!_0x52557d)return'neutral';if(_0x4b84b8>0x0)return'bottom';return'top';}function calcSwooshXPosition(_0x1a0214,_0xd8956,_0x393276){const _0xbdc273=_0x1a0214-_0xd8956,_0x129b34=Math['abs'](_0xbdc273)>_0x393276;if(!_0x129b34)return'neutral';if(_0xbdc273>0x0)return'right';return'left';}