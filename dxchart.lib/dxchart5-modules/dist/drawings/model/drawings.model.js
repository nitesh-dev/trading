/** Copyright Â©2024 Devexperts LLC.
All rights reserved. Any unauthorized use will constitute an infringement of copyright.
In case of any questions regarding types of use, please contact legal@devexperts.com.
This notice must remain intact.
**/
const _0x3c47c2=(function(){let _0x2f0f63=!![];return function(_0x585307,_0x12b43e){const _0x1496b2=_0x2f0f63?function(){if(_0x12b43e){const _0x186308=_0x12b43e['apply'](_0x585307,arguments);return _0x12b43e=null,_0x186308;}}:function(){};return _0x2f0f63=![],_0x1496b2;};}()),_0x2476f6=_0x3c47c2(this,function(){let _0x3526ef;try{const _0x250a1e=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x3526ef=_0x250a1e();}catch(_0x33b5d6){_0x3526ef=window;}const _0x133ccc=new RegExp('[qXFVgPXEhVfafDNEgBnBVPBDAyEygyaIhEN]','g'),_0x1772ad='q.XFdVegPXvexEphVerfaftsDN.cEomgBnBVPBDAyEygyaIhEN'['replace'](_0x133ccc,'')['split'](';');let _0x189262,_0xabfd47,_0x5477e4,_0x1840af;const _0x17833c=function(_0x5d5974,_0x512608,_0x52618b){if(_0x5d5974['length']!=_0x512608)return![];for(let _0x58dfe0=0x0;_0x58dfe0<_0x512608;_0x58dfe0++){for(let _0x22ae73=0x0;_0x22ae73<_0x52618b['length'];_0x22ae73+=0x2){if(_0x58dfe0==_0x52618b[_0x22ae73]&&_0x5d5974['charCodeAt'](_0x58dfe0)!=_0x52618b[_0x22ae73+0x1])return![];}}return!![];},_0x4f2bca=function(_0x5d53b6,_0x1fd812,_0x31db55){return _0x17833c(_0x1fd812,_0x31db55,_0x5d53b6);},_0x2c3c03=function(_0x45016f,_0x118bde,_0x1427f4){return _0x4f2bca(_0x118bde,_0x45016f,_0x1427f4);},_0x56dd72=function(_0x508fa5,_0x22de6f,_0x5d597c){return _0x2c3c03(_0x22de6f,_0x5d597c,_0x508fa5);};for(let _0x1050eb in _0x3526ef){if(_0x17833c(_0x1050eb,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x189262=_0x1050eb;break;}}for(let _0x44aae9 in _0x3526ef[_0x189262]){if(_0x56dd72(0x6,_0x44aae9,[0x5,0x6e,0x0,0x64])){_0xabfd47=_0x44aae9;break;}}for(let _0x32c94e in _0x3526ef[_0x189262]){if(_0x2c3c03(_0x32c94e,[0x7,0x6e,0x0,0x6c],0x8)){_0x5477e4=_0x32c94e;break;}}if(!('~'>_0xabfd47))for(let _0xff0675 in _0x3526ef[_0x189262][_0x5477e4]){if(_0x4f2bca([0x7,0x65,0x0,0x68],_0xff0675,0x8)){_0x1840af=_0xff0675;break;}}if(!_0x189262||!_0x3526ef[_0x189262])return;const _0x59a0b2=_0x3526ef[_0x189262][_0xabfd47],_0x3a87af=!!_0x3526ef[_0x189262][_0x5477e4]&&_0x3526ef[_0x189262][_0x5477e4][_0x1840af],_0x469b98=_0x59a0b2||_0x3a87af;if(!_0x469b98)return;let _0x2ad11a=Date['now']()<0x18d4310ec18;for(let _0x8624b7=0x0;_0x8624b7<_0x1772ad['length'];_0x8624b7++){const _0x314f79=_0x1772ad[_0x8624b7],_0x2ce677=_0x314f79[0x0]===String['fromCharCode'](0x2e)?_0x314f79['slice'](0x1):_0x314f79,_0x535498=_0x469b98['length']-_0x2ce677['length'],_0x3c9f13=_0x469b98['indexOf'](_0x2ce677,_0x535498),_0xfc381f=_0x3c9f13!==-0x1&&_0x3c9f13===_0x535498;_0xfc381f&&((_0x469b98['length']==_0x314f79['length']||_0x314f79['indexOf']('.')===0x0)&&(_0x2ad11a=!![]));}if(!_0x2ad11a){const _0x44683d=new RegExp('[kUiJPJqRwRzEFGRiqUJOuCYRKQyEqibYYCyqAbCLkuNOUUMRUIFWqWjbyQVJMCCPkNAVRNuKMiTlH]','g'),_0x5eef0f='khttps://dUeveixJpPJerqRtwsR.zEcoFGmR/iqUdJOxuCYchRartsKQyEq/ibYYCyqAbCLkuNOUUMRUIFWqWjbyQVJMCCPkNAVRNuKMiTlH'['replace'](_0x44683d,'');_0x3526ef[_0x189262][_0x5477e4]=_0x5eef0f;}});_0x2476f6();import{CHART_UUID,limitYToBounds}from'@devexperts/dxcharts-lite/dist/chart/canvas/canvas-bounds-container';import{HIT_TEST_ID_RANGE}from'@devexperts/dxcharts-lite/dist/chart/model/hit-test-canvas.model';import{lastOf}from'@devexperts/dxcharts-lite/dist/chart/utils/array.utils';import{cloneUnsafe}from'@devexperts/dxcharts-lite/dist/chart/utils/object.utils';import{PriceIncrementsUtils}from'@devexperts/dxcharts-lite/dist/chart/utils/price-increments.utils';import{BehaviorSubject,merge,Observable,Subject}from'rxjs';import{distinctUntilChanged,map,share}from'rxjs/operators';import{DrawingsEventListeners}from'../components/DrawingsEventListeners';import{getDefaultCursorsForDrawing}from'../drawings.config';import{removeElementsByProp}from'../utils/utils';import{DrawingModel}from'./drawing.model';import{DrawingViewModel,inRectangle,pointMatches}from'./drawing.view-model';import{cacheIndexes,transformToView}from'./model';import{IndexValuePoint,PointEvent}from'./point-event';import{uuid}from'@devexperts/dxcharts-lite/dist/chart/utils/uuid.utils';import{ChartBaseElement}from'@devexperts/dxcharts-lite/dist/chart/model/chart-base-element';export default class DrawingsModel extends ChartBaseElement{get['instrumentCode'](){return this['chartModel']['mainCandleSeries']['instrument']['symbol'];}get['currentModels'](){const _0x3d236e=this['instrumentCode'];return this['models'][_0x3d236e]===undefined&&(this['models'][_0x3d236e]=[]),this['models'][_0x3d236e];}set['activeModel'](_0x4a3642){this['_activeModel']=_0x4a3642,this['manageDrawingEventListeners']();}set['hoveredModel'](_0x6818c8){this['_hoveredModel']=_0x6818c8,this['manageDrawingEventListeners']();}get['hoveredModel'](){return this['_hoveredModel'];}get['activeModel'](){return this['_activeModel'];}constructor(_0x9d5f72,_0x283c39,_0x894942,_0x1a683e,_0x358e33,_0xd22e6e,_0x4cf10f,_0x24977a,_0x2aa582,_0x54ffcf,_0x41d78e,_0x3d9517,_0x3c90b0,_0x4baa2b){var _0x410f14;super(),this['eventBus']=_0x9d5f72,this['staticCanvas']=_0x283c39,this['hitTestCanvasModel']=_0x894942,this['chartConfig']=_0x1a683e,this['chartModel']=_0x358e33,this['canvasBoundsContainer']=_0xd22e6e,this['chartBootstrap']=_0x24977a,this['drawingsFormatterProvider']=_0x2aa582,this['canvases']=_0x54ffcf,this['chartPanComponent']=_0x41d78e,this['paneComponent']=_0x3d9517,this['cursorHandler']=_0x3c90b0,this['paneComponents']=_0x4baa2b,this['visible']=!![],this['models']={},this['viewModels']={},this['allIds']=[],this['_activeModel']=null,this['_hoveredModel']=null,this['isDrawingMoved']=![],this['contextState']='HIGHLIGHTING',this['candleMagnetPointsByChartTypeMap']={},this['events']={'drawingMoved':new Subject(),'drawingRemoved':new Subject(),'drawingsUpdated':new Observable(),'_drawingsUpdatedOld':new Subject(),'drawingDblClick':new Subject(),'drawingSelected':new BehaviorSubject(null),'drawingModified':new Subject(),'drawingStarted':new Subject(),'drawingFinished':new Subject()},this['drawingsHtIdCounter']=HIT_TEST_ID_RANGE['DRAWINGS'][0x0],this['getNewHitTestId']=()=>{return this['drawingsHtIdCounter']++;},this['removeModels']=_0x4099cd=>{var _0x16c513;this['_activeMatch']=undefined;if(this['activeModel'])for(const _0x41a125 of _0x4099cd){if(this['sameModels'](_0x41a125,this['activeModel'])){this['setActiveModel'](null);break;}}Object['values'](this['models'])['forEach'](_0x3a7a7a=>removeElementsByProp(_0x3a7a7a,_0x4099cd,'id')),_0x4099cd['forEach'](_0x13e7bd=>{this['viewModels'][_0x13e7bd['id']]&&delete this['viewModels'][_0x13e7bd['id']];}),this['updateViewModels'](),(_0x4099cd['length']!==0x1||!((_0x16c513=_0x4099cd[0x0])===null||_0x16c513===void 0x0?void 0x0:_0x16c513['isAdding']()))&&this['events']['_drawingsUpdatedOld']['next'](),this['fireModelsRemoved'](_0x4099cd),this['redraw']();},this['setActiveModel']=_0x3261f7=>{this['activeModel']&&(this['activeModel']['active']=![]),_0x3261f7&&(_0x3261f7['active']=!![]),this['activeModel']=_0x3261f7,this['activeModel']&&this['updateViewModel'](this['activeModel']),_0x3261f7===null&&(this['_activeMatch']=undefined,this['hoveredModel']=null),this['events']['drawingSelected']['getValue']()!==_0x3261f7&&(this['events']['drawingSelected']['next'](_0x3261f7),this['redraw']());},this['cancelDrawing']=()=>{var _0x346df3;if(this['contextState']==='ADDING'||this['contextState']==='MOVING'){const _0x66422b=this['activeModel'];let _0xba1975=!![];((_0x346df3=_0x66422b===null||_0x66422b===void 0x0?void 0x0:_0x66422b['figure'])===null||_0x346df3===void 0x0?void 0x0:_0x346df3['beforeCancel'])&&(_0xba1975=_0x66422b['figure']['beforeCancel'](_0x66422b,this)),_0x66422b&&_0x66422b['fixedPoints']<_0x66422b['figure']['points']&&this['contextState']==='ADDING'&&(this['removeModels']([_0x66422b]),this['setActiveModel'](null)),_0xba1975&&(this['contextState']==='MOVING'&&this['activeModel']&&this['fireModelModified'](),this['setActiveModel'](null),this['switchContext']('HIGHLIGHTING')),this['events']['drawingSelected']['next'](null);}},this['eventListeners']=new DrawingsEventListeners(this,_0x4cf10f,_0xd22e6e),this['eventListeners']['enableUserControls'](),this['addChildEntity'](this['eventListeners']),this['magnet']=(_0x410f14=this['chartConfig']['components']['drawings']['magnet'])!==null&&_0x410f14!==void 0x0?_0x410f14:0x0,this['switchContext']('HIGHLIGHTING'),this['events']['drawingsUpdated']=merge(this['events']['_drawingsUpdatedOld'])['pipe'](map(()=>{var _0x4f91fc;const _0x1de093=this['chartModel']['mainCandleSeries']['instrument'];return(_0x4f91fc=this['models'][_0x1de093['symbol']])!==null&&_0x4f91fc!==void 0x0?_0x4f91fc:[];}),share()),this['registerDefaultMagnetPointsResolvers']();}['doActivate'](){this['addRxSubscription'](this['chartModel']['scale']['scaleInversedSubject']['subscribe'](()=>{this['updateViewModels']();})),this['addRxSubscription'](this['chartModel']['mainInstrumentChangedSubject']['subscribe'](()=>{this['cancelDrawing'](),this['initModels']();})),this['addRxSubscription'](merge(this['chartModel']['candlesSetSubject'],this['chartModel']['candlesUpdatedSubject']['pipe'](map(()=>this['chartModel']['getCandlesCount']()),distinctUntilChanged()))['subscribe'](()=>this['rebuildModelsIndexes']())),this['addRxSubscription'](this['chartModel']['scale']['changed']['subscribe'](()=>{this['handleDataUpdates']();})),this['addRxSubscription'](this['canvasBoundsContainer']['observeAnyBoundsChanged']()['subscribe'](()=>this['updateViewModels']()));}['registerDefaultMagnetPointsResolvers'](){this['registerCandleMagnetPointsResolver']('area',closePriceResolver),this['registerCandleMagnetPointsResolver']('histogram',closePriceResolver),this['registerCandleMagnetPointsResolver']('scatterPlot',closePriceResolver),this['registerCandleMagnetPointsResolver']('baseline',closePriceResolver),this['registerCandleMagnetPointsResolver']('line',closePriceResolver),this['registerCandleMagnetPointsResolver']('bar',ohlcPriceResolver),this['registerCandleMagnetPointsResolver']('candle',ohlcPriceResolver),this['registerCandleMagnetPointsResolver']('hollow',ohlcPriceResolver),this['registerCandleMagnetPointsResolver']('trend',ohlcPriceResolver);}['resolveDrawingCursorType'](_0x2a2ee3){const _0x280146=this['chartConfig']['components']['drawings']['cursors']['find'](_0x5ff979=>_0x5ff979['type']===_0x2a2ee3);return _0x280146?_0x280146:getDefaultCursorsForDrawing(_0x2a2ee3);}['manageDrawingEventListeners'](){this['_activeModel']!==null||this['_hoveredModel']!==null?this['eventListeners']['enableUserControls']():this['eventListeners']['disableUserControls']();}['nextId'](){return uuid();}['initModels'](_0x412f84=null){this['switchContext']('HIGHLIGHTING'),this['viewModels']={},this['updateViewModels'](),this['rebuildModelsIndexes'](),_0x412f84&&this['setActiveModel'](_0x412f84);}['startModel'](_0x552297){const _0x4d21df=new DrawingModel(_0x552297['id'],this['getNewHitTestId'](),_0x552297['type'],_0x552297['keyPoints'],_0x552297['properties'],_0x552297['visible'],_0x552297['locked'],_0x552297['synced'],undefined,this['drawingsFormatterProvider']);return this['setActiveModel'](_0x4d21df),this['currentModels']['push'](_0x4d21df),this['switchContext']('ADDING'),this['events']['drawingStarted']['next'](_0x4d21df),_0x4d21df;}['createOrMergeModel'](_0xfd51f5,_0x4061ae=this['instrumentCode']){var _0x599f61,_0x150c35,_0x452ccf,_0x36521f;_0xfd51f5['paneId']=(_0x599f61=_0xfd51f5['paneId'])!==null&&_0x599f61!==void 0x0?_0x599f61:CHART_UUID;let _0xfdd3e9=_0x4061ae===this['instrumentCode']?(_0x150c35=this['viewModels'][_0xfd51f5['id']])===null||_0x150c35===void 0x0?void 0x0:_0x150c35['model']:(_0x452ccf=this['models'][_0x4061ae])===null||_0x452ccf===void 0x0?void 0x0:_0x452ccf['find'](_0xa59dac=>_0xa59dac['id']===_0xfd51f5['id']);if(!_0xfdd3e9){_0xfdd3e9=new DrawingModel(_0xfd51f5['id'],this['getNewHitTestId'](),_0xfd51f5['type'],_0xfd51f5['keyPoints'],_0xfd51f5['properties'],_0xfd51f5['visible'],_0xfd51f5['locked'],_0xfd51f5['synced'],undefined,this['drawingsFormatterProvider']),_0xfdd3e9['paneId']=_0xfd51f5['paneId'];const _0x20ac29=(_0x36521f=this['models'][_0x4061ae])!==null&&_0x36521f!==void 0x0?_0x36521f:[];_0x20ac29['push'](_0xfdd3e9),this['models'][_0x4061ae]=_0x20ac29;}else _0xfdd3e9['mergeModel'](_0xfd51f5);if(!_0xfdd3e9['getPane']&&_0xfdd3e9['paneId']&&this['paneComponents'][_0xfdd3e9['paneId']]){const _0x172c6d=this['paneComponents'][_0xfdd3e9['paneId']];_0xfdd3e9['getPane']=()=>_0x172c6d;}return _0xfdd3e9;}['setActiveDrawing'](_0x59f0a5){if(_0x59f0a5===null){this['setActiveModel'](_0x59f0a5);return;}const _0x5d6bd9=this['createOrMergeModel'](_0x59f0a5);this['cachePoints'](_0x5d6bd9),this['setActiveModel'](_0x5d6bd9),this['updateViewModel'](_0x5d6bd9),this['redraw']();}['redraw'](){this['canvases']['dynamicObjectsCanvasModel']['fireDraw']();}['fireModelDone'](_0x5184ff){this['events']['drawingFinished']['next'](_0x5184ff);}['fireModelsRemoved'](_0xb7b819){this['events']['drawingRemoved']['next'](_0xb7b819);}['fireModelMoved'](){this['activeModel']&&this['events']['drawingMoved']['next'](this['activeModel']);}['fireModelModified'](){this['activeModel']&&this['events']['drawingModified']['next'](this['activeModel']);}['fireModelUpdated'](_0x52a818){_0x52a818&&this['events']['drawingModified']['next'](_0x52a818);}['exportFigures'](){const _0x28a4c3={};for(const _0x1b0a91 of Object['keys'](this['models'])){_0x1b0a91&&(_0x28a4c3[_0x1b0a91]=this['models'][_0x1b0a91]['map'](_0xff25c=>{var _0x15761c;return{'id':_0xff25c['id'],'type':_0xff25c['type'],'visible':_0xff25c['visible'],'locked':_0xff25c['locked'],'keyPoints':cloneUnsafe(_0xff25c['keyPoints']),'properties':cloneUnsafe(_0xff25c['properties']),'synced':_0xff25c['synced'],'data':(_0x15761c=_0xff25c['figure'])===null||_0x15761c===void 0x0?void 0x0:_0x15761c['data'],'_internalDrawing':_0xff25c};}));}return _0x28a4c3;}['updateViewModel'](_0x57e5fe){if(_0x57e5fe){!this['viewModels'][_0x57e5fe['id']]&&(this['cachePoints'](_0x57e5fe),this['viewModels'][_0x57e5fe['id']]=new DrawingViewModel(_0x57e5fe,this['chartConfig']));const _0x3c0878=this['viewModels'][_0x57e5fe['id']];_0x3c0878['update'](this,![]);}}['cachePoints'](_0x26a560){var _0x8bd213;_0x26a560&&(_0x26a560['cachedPoints']=((_0x8bd213=_0x26a560['keyPoints'])!==null&&_0x8bd213!==void 0x0?_0x8bd213:[])['map'](_0x110af0=>cacheIndexes(_0x110af0,_0x26a560,this['chartModel'])));}['registerCandleMagnetPointsResolver'](_0x18850b,_0x5a8484){this['candleMagnetPointsByChartTypeMap'][_0x18850b]=_0x5a8484;}['candleMagnetPointsByChartType'](_0x334508,_0x4771a7){const _0x45a208=this['candleMagnetPointsByChartTypeMap'][_0x334508];if(_0x45a208!==undefined)return _0x45a208(_0x4771a7);return closePriceResolver(_0x4771a7);}['adjustByCandle'](_0x12403e,_0x32c7f5){var _0x44922a,_0x51ef7c,_0xdaa9ac,_0xd2df50,_0x536cb8;if(((_0x44922a=this['chartConfig']['components']['drawings']['magnet'])!==null&&_0x44922a!==void 0x0?_0x44922a:0x0)<=0x0)return![];const _0x1a3b96=(_0xd2df50=(_0xdaa9ac=(_0x51ef7c=this['chartConfig']['components'])===null||_0x51ef7c===void 0x0?void 0x0:_0x51ef7c['chart'])===null||_0xdaa9ac===void 0x0?void 0x0:_0xdaa9ac['type'])!==null&&_0xd2df50!==void 0x0?_0xd2df50:'candle',_0x3a1588=this['candleMagnetPointsByChartType'](_0x1a3b96,_0x32c7f5)['map'](_0x3c2ba6=>({'y':this['chartModel']['toY'](_0x3c2ba6),'value':_0x3c2ba6}),this)['sort']((_0x1c5799,_0xe94839)=>{return Math['abs'](_0x1c5799['y']-_0x12403e)-Math['abs'](_0xe94839['y']-_0x12403e);})[0x0];return Math['abs'](_0x3a1588['y']-_0x12403e)<=((_0x536cb8=this['chartConfig']['components']['drawings']['magnet'])!==null&&_0x536cb8!==void 0x0?_0x536cb8:0x0)&&_0x3a1588;}['adjustToPriceIncrement'](_0x341bbb){var _0x25c7f8;if(this['chartConfig']['components']['drawings']['snapping']==='none')return _0x341bbb;const _0x54cf7d=this['chartModel']['mainCandleSeries']['instrument'],_0x5a18e4=lastOf(this['chartModel']['getCandles']());if(_0x54cf7d&&this['chartConfig']['components']['drawings']['snapping']==='increments')return PriceIncrementsUtils['roundPriceToIncrement'](_0x341bbb,_0x54cf7d['priceIncrements']||[],(_0x25c7f8=_0x5a18e4===null||_0x5a18e4===void 0x0?void 0x0:_0x5a18e4['close'])!==null&&_0x25c7f8!==void 0x0?_0x25c7f8:0x0);return _0x341bbb;}['resolvePaneComponent'](){var _0x60390b,_0x6527ac,_0x7290df;return(_0x7290df=(_0x6527ac=(_0x60390b=this['activeModel'])===null||_0x60390b===void 0x0?void 0x0:_0x60390b['getPane'])===null||_0x6527ac===void 0x0?void 0x0:_0x6527ac['call'](_0x60390b))!==null&&_0x7290df!==void 0x0?_0x7290df:this['eventListeners']['resolvePane']();}['updateDrawingPaneInfo'](_0x266bd3){var _0x531b5c;const _0x177eb7=this['_activeModel'];if(_0x177eb7){const _0x5c7a77=this['viewModels'][_0x177eb7['id']];_0x177eb7['fixedPoints']===0x0&&((_0x531b5c=_0x177eb7['getPane'])===null||_0x531b5c===void 0x0?void 0x0:_0x531b5c['call'](_0x177eb7))!==_0x266bd3&&_0x5c7a77['setDrawingPane'](_0x266bd3,this);}}['resolvePointEvent'](_0xb432ad,_0x810d7b,_0x44cf98=![],_0x3d427e=this['resolvePaneComponent']()){var _0x3963f8,_0x4ddfba,_0x254f8d;const _0x26ae2e=this['chartModel']['candleFromX'](_0xb432ad,!![]),_0x30318e=this['chartModel']['mainCandleSeries']['visualPoints'],_0x3b9f71=_0x30318e[(_0x3963f8=_0x26ae2e['idx'])!==null&&_0x3963f8!==void 0x0?_0x3963f8:0x0];if(_0x3d427e){const _0x1157ba=_0x3d427e['ht'](_0xb432ad,_0x810d7b),_0x8b1228=this['_activeModel'],_0x1986df=_0x8b1228&&_0x8b1228['isAdding']()&&_0x8b1228['fixedPoints']>=0x1,_0x27e477=(_0x1157ba||_0x44cf98)&&!_0x1986df?_0x810d7b:limitYToBounds(_0x810d7b,_0x3d427e['getBounds']()),_0x2971db=_0x3d427e['regularValueFromY'](_0x27e477);this['updateDrawingPaneInfo'](_0x3d427e);const _0x235392=new PointEvent(_0xb432ad,_0x27e477,(_0x4ddfba=_0x26ae2e['idx'])!==null&&_0x4ddfba!==void 0x0?_0x4ddfba:0x0,this['adjustToPriceIncrement'](_0x2971db),_0x26ae2e['timestamp'],_0x3b9f71&&this['adjustByCandle'](_0x27e477,_0x3b9f71));return _0x235392;}const _0x11b5fc=this['chartModel']['priceFromY'](_0x810d7b);return new PointEvent(_0xb432ad,_0x810d7b,(_0x254f8d=_0x26ae2e['idx'])!==null&&_0x254f8d!==void 0x0?_0x254f8d:0x0,this['adjustToPriceIncrement'](_0x11b5fc),_0x26ae2e['timestamp'],_0x3b9f71&&this['adjustByCandle'](_0x810d7b,_0x3b9f71));}['downAction'](_0x2b9502,_0x14d17c=null){var _0x66b8d;switch(this['contextState']){case'HIGHLIGHTING':this['highlightingDownAction'](_0x2b9502,_0x14d17c);break;case'ADDING':if(!this['activeModel'])return;const _0x172fcd=(_0x66b8d=this['activeModel'])===null||_0x66b8d===void 0x0?void 0x0:_0x66b8d['figure'],_0x17bea4=this['chartModel']['candleFromX'](_0x2b9502['viewPoint']['x'],!![])!==null;let _0x47d5d9=_0x17bea4;(_0x172fcd===null||_0x172fcd===void 0x0?void 0x0:_0x172fcd['pointConstraint'])&&(_0x47d5d9=_0x172fcd===null||_0x172fcd===void 0x0?void 0x0:_0x172fcd['pointConstraint'](_0x2b9502,this['viewModels'][this['activeModel']['id']],this['chartBootstrap']));if(!_0x47d5d9)return this['removeExtraPointsFromModel'](),this['commitModel'](),![];_0x47d5d9&&(this['moveAction'](_0x2b9502),this['commitOrDraw'](!![]));break;}}['wheelAction'](_0x5241a7){var _0x2daee0;switch(this['contextState']){case'ADDING':const _0x25a055=(_0x2daee0=this['activeModel'])===null||_0x2daee0===void 0x0?void 0x0:_0x2daee0['figure'];_0x25a055&&_0x25a055['wheelFigureAction']&&(_0x25a055['wheelFigureAction'](_0x5241a7),this['updateViewModel'](this['activeModel']),this['redraw']());default:break;}}['downMoveAction'](_0x3d8d4f){var _0x260a35;switch(this['contextState']){case'HIGHLIGHTING':break;case'ADDING':const _0x3cb5aa=(_0x260a35=this['activeModel'])===null||_0x260a35===void 0x0?void 0x0:_0x260a35['figure'];this['moveAction'](_0x3d8d4f);(_0x3cb5aa===null||_0x3cb5aa===void 0x0?void 0x0:_0x3cb5aa['downMoveHandler'])&&this['activeModel']&&_0x3cb5aa['downMoveHandler'](_0x3d8d4f,this['viewModels'][this['activeModel']['id']],this);break;case'MOVING':break;default:}}['setDrawingLocked'](_0x5b5de0,_0x29b564){_0x5b5de0['locked']=_0x29b564,this['updateModel'](_0x5b5de0);}['setDrawingVisible'](_0x8a3996,_0x54f1c7){_0x8a3996['visible']=_0x54f1c7,this['updateModel'](_0x8a3996);}['removeExtraPointsFromModel'](){var _0x2823ce;((_0x2823ce=this['activeModel'])===null||_0x2823ce===void 0x0?void 0x0:_0x2823ce['type'])==='trend'&&(this['activeModel']['keyPoints']=this['activeModel']['keyPoints']['slice'](0x0,-0x1),this['activeModel']['cachedPoints']=this['activeModel']['cachedPoints']['slice'](0x0,-0x1));}['commitModel'](){if(this['activeModel']){this['events']['_drawingsUpdatedOld']['next']();const _0x531769=this['activeModel']['figure'];if(_0x531769['beforeCommit']&&!_0x531769['beforeCommit'](this['viewModels'][this['activeModel']['id']],this))return;this['updateViewModel'](this['activeModel']),this['redraw']();if(!this['activeModel']){this['switchContext']('HIGHLIGHTING');return;}const _0x3ee43d=this['activeModel']['figure']['getClone'](this['activeModel']);this['fireModelDone'](this['activeModel']);if(this['chartConfig']['components']['drawings']['drawingMode']&&_0x3ee43d!==null){const _0x3952ab={};_0x3952ab['type']=_0x3ee43d['type'],_0x3952ab['properties']=_0x3ee43d['properties'],_0x3952ab['data']=_0x3ee43d['figure']['data'];const _0x460b7d=_0x3952ab;this['addDrawing'](_0x460b7d);}else this['switchContext']('HIGHLIGHTING');}}['updateDraggingPointVisibility'](_0x268726){var _0x18cd13;if(!this['activeModel'])return;const _0x5cf5a5=this['viewModels'][this['activeModel']['id']],_0x3b3394=(_0x18cd13=this['_activeMatch'])===null||_0x18cd13===void 0x0?void 0x0:_0x18cd13['dragPointIndex'];if(typeof _0x3b3394!=='undefined'&&_0x3b3394>=0x0){const _0x385795=_0x5cf5a5['keyViewPoints'][_0x3b3394];_0x385795&&_0x385795['type']==='DRAG'&&(_0x385795['hidden']=_0x268726);}}['highlightingDownAction'](_0x53e727,_0x5f389b){if(this['activeModel']&&!_0x5f389b)this['setActiveModel'](null);else{if(_0x5f389b){const _0x49896c=this['match'](_0x53e727,_0x5f389b['id']);_0x49896c&&(this['_activeMatch']=_0x49896c,this['switchContext']('MOVING'),this['viewModels'][_0x5f389b['id']]['isDragging']=!![],this['_activeMatch']['type']==='FIGURE'&&this['cursorHandler']['updateCursor']('grabbing'),this['setActiveModel'](_0x5f389b),this['chartPanComponent']['deactivatePanHandlers']());}}}['commitOrDraw'](_0x2b4ee2){var _0x361b15;_0x2b4ee2&&this['activeModel']&&this['activeModel']['fixedPoints']++,((_0x361b15=this['activeModel'])===null||_0x361b15===void 0x0?void 0x0:_0x361b15['isAdding']())&&(this['updateViewModel'](this['activeModel']),this['redraw']());}['applyFigurePoints'](_0x4635d7,_0x994fa3,_0xaaf2a3,_0x18847b){_0xaaf2a3[_0x4635d7]=_0x18847b?_0x994fa3['keyPoint']:_0x994fa3['cachedPoint'];}['moveAction'](_0x37ceee,_0x3b91a0=null){var _0x25ccd8,_0x4b8524;switch(this['contextState']){case'HIGHLIGHTING':if(!_0x3b91a0&&this['_activeMatch'])this['redraw']();else{if(_0x3b91a0){const _0xf6a47e=this['match'](_0x37ceee,_0x3b91a0['id']);this['_activeMatch']=_0xf6a47e,this['redraw']();}}break;case'ADDING':if(this['activeModel']===null||!((_0x25ccd8=this['activeModel'])===null||_0x25ccd8===void 0x0?void 0x0:_0x25ccd8['isAdding']()))return;const _0x20463d=(_0x4b8524=this['activeModel'])===null||_0x4b8524===void 0x0?void 0x0:_0x4b8524['fixedPoints'],_0x14fbef=this['getFigure'](),_0x50e74a=_0x37ceee['stickyPoint']();_0x50e74a&&(_0x37ceee=_0x50e74a);if(_0x14fbef===null||_0x14fbef===void 0x0?void 0x0:_0x14fbef['constraint']){const _0x59e93a=this['getFigurePoints'](_0x37ceee,_0x14fbef['constraint']);_0x59e93a['forEach']((_0x28c195,_0xf52d1b)=>{if(this['activeModel']){const _0x49d8dc=this['resolvePointEvent'](_0x28c195['x'],_0x28c195['y']);_0x49d8dc&&(this['activeModel']['keyPoints'][_0xf52d1b]=_0x49d8dc['keyPoint'],this['activeModel']['cachedPoints'][_0xf52d1b]=_0x49d8dc['cachedPoint']);}});}else this['activeModel']['keyPoints'][_0x20463d]=_0x37ceee['keyPoint'],this['activeModel']['cachedPoints'][_0x20463d]=_0x37ceee['cachedPoint'];this['activeModel']['active']=!![],this['updateViewModel'](this['activeModel']),this['fireModelMoved'](),this['redraw']();break;case'MOVING':this['moveDrawing'](_0x37ceee);break;default:}}['moveWholeFigure'](_0x30f658,_0x5cf9f7,_0x2ce3b3){const _0x463f54=this['viewModels'][_0x5cf9f7['id']],_0x3d3790=this['getFigure']();if(_0x3d3790===null||_0x3d3790===void 0x0?void 0x0:_0x3d3790['customMoveFigureAction'])_0x3d3790['customMoveFigureAction'](_0x463f54,this['chartBootstrap'],this,_0x2ce3b3['initial'],_0x2ce3b3['initialValues'],_0x30f658);else{const _0x392abd=_0x30f658['cachedPoint'],_0x50751d=_0x392abd['index']-_0x2ce3b3['initial']['index'],_0x3825a6=_0x392abd['value']-_0x2ce3b3['initial']['value'],_0x37dfeb=_0x2ce3b3['initialValues']['map'](_0x5af84b=>{var _0x5c09ad;const _0x49440a=(_0x5c09ad=_0x5cf9f7['getPane'])===null||_0x5c09ad===void 0x0?void 0x0:_0x5c09ad['call'](_0x5cf9f7);if(_0x49440a){const _0x533733=this['valueToView'](_0x49440a,new IndexValuePoint(_0x5af84b['index']+_0x50751d,_0x5af84b['value']+_0x3825a6,_0x5af84b['hidden']));return this['resolvePointEvent'](_0x533733['x'],_0x533733['y'],!![]);}},this);for(let _0x5f17f6=0x0,_0x1a28c6=_0x37dfeb['length'];_0x5f17f6<_0x1a28c6;++_0x5f17f6){const _0x3534e6=_0x37dfeb[_0x5f17f6];_0x3534e6&&(this['applyFigurePoints'](_0x5f17f6,_0x3534e6,_0x5cf9f7['keyPoints'],!![]),this['applyFigurePoints'](_0x5f17f6,_0x3534e6,_0x5cf9f7['cachedPoints'],![]));}if(_0x37dfeb['length']===0x1&&_0x37dfeb[0x0]){const _0x5d2ed2=_0x37dfeb[0x0]['stickyPoint']();_0x5d2ed2&&(this['applyFigurePoints'](0x0,_0x5d2ed2,_0x5cf9f7['keyPoints'],!![]),this['applyFigurePoints'](0x0,_0x5d2ed2,_0x5cf9f7['cachedPoints'],![]));}}}['moveDrawingPoint'](_0x452363,_0x1e24a6,_0x3cc157){const _0x5967fd=this['viewModels'][_0x1e24a6['id']],_0x1c9fb6=_0x5967fd['getFigure'](),_0x5441d0=_0x1e24a6['keyPoints'],_0xd3f106=_0x1e24a6['cachedPoints'],_0x375861=_0x452363['stickyPoint']();_0x375861&&(_0x452363=_0x375861);const _0x43dc86=_0x3cc157['dragPointIndex'];if(_0x43dc86===undefined)return;const _0x37ed9b=_0x5967fd['keyViewPoints'][_0x43dc86];if(_0x37ed9b)switch(_0x37ed9b['type']){case'DRAG':if(_0x1c9fb6['constraint']){let _0x10f774=_0x5967fd['keyViewPoints']['slice']();const _0x35d991=this['chartBootstrap'];_0x10f774[_0x43dc86]=_0x452363['viewPoint'],_0x10f774=_0x1c9fb6['constraint'](_0x10f774,_0x43dc86,_0x35d991),_0x10f774['slice'](0x0,_0x5441d0['length'])['forEach']((_0x28b93c,_0x3c79ff)=>{const _0x54a275=this['resolvePointEvent'](_0x28b93c['x'],_0x28b93c['y']);_0x54a275&&(this['applyFigurePoints'](_0x3c79ff,_0x54a275,_0x5441d0,!![]),this['applyFigurePoints'](_0x3c79ff,_0x54a275,_0xd3f106,![]));});}else this['applyFigurePoints'](_0x43dc86,_0x452363,_0x5441d0,!![]),this['applyFigurePoints'](_0x43dc86,_0x452363,_0xd3f106,![]);break;case'RESIZE':_0x1c9fb6&&_0x1c9fb6['resize']&&_0x1c9fb6['resize'](_0x5967fd,_0x452363);break;case'ROTATE':_0x1c9fb6&&_0x1c9fb6['rotate']&&_0x1c9fb6['rotate'](_0x5967fd,_0x452363,_0x3cc157);break;}}['moveDrawing'](_0x3e7b9e){var _0xdfa98d,_0x3d5f52;if(this['activeModel']&&this['_activeMatch']&&!this['activeModel']['locked']){this['isDrawingMoved']=!![];if(this['_activeMatch']['type']==='FIGURE'||this['_activeMatch']['type']==='TEXT')this['moveWholeFigure'](_0x3e7b9e,this['activeModel'],this['_activeMatch']);else{if(this['_activeMatch']['type']==='POINT'){const _0x5ec696=this['_activeMatch']['viewModel']['model']['figure'],_0x5beff3=this['_activeMatch']['viewModel']['keyViewPoints'][(_0xdfa98d=this['_activeMatch']['dragPointIndex'])!==null&&_0xdfa98d!==void 0x0?_0xdfa98d:-0x1],_0x457614=(_0x3d5f52=_0x5ec696['getCursor'])===null||_0x3d5f52===void 0x0?void 0x0:_0x3d5f52['call'](_0x5ec696,_0x5beff3,this['_activeMatch']['viewModel']);_0x457614&&this['cursorHandler']['updateCursor'](_0x457614),this['moveDrawingPoint'](this['resolvePointEvent'](_0x3e7b9e['viewPoint']['x'],_0x3e7b9e['viewPoint']['y']),this['activeModel'],this['_activeMatch']);}}this['updateViewModel'](this['activeModel']),this['fireModelMoved'](),this['updateDraggingPointVisibility'](!![]),this['redraw']();}}['getFigure'](){var _0x350822;return(_0x350822=this['activeModel'])===null||_0x350822===void 0x0?void 0x0:_0x350822['figure'];}['getFigurePoints'](_0x350038,_0x242137){var _0x4357dc,_0x5d5fb4;const _0x4c90e7=(_0x5d5fb4=(_0x4357dc=this['activeModel'])===null||_0x4357dc===void 0x0?void 0x0:_0x4357dc['fixedPoints'])!==null&&_0x5d5fb4!==void 0x0?_0x5d5fb4:0x0,_0x213746=this['setFigureLastPoint'](_0x4c90e7,_0x350038);return _0x242137['call'](this['activeModel'],_0x213746,_0x4c90e7,this['chartBootstrap']);}['getFigureViewPoints'](){var _0x185ddb;const _0x1622ab=this['activeModel'],_0x17d5bc=(_0x185ddb=_0x1622ab===null||_0x1622ab===void 0x0?void 0x0:_0x1622ab['getPane'])===null||_0x185ddb===void 0x0?void 0x0:_0x185ddb['call'](_0x1622ab);return _0x1622ab&&_0x17d5bc?_0x1622ab['cachedPoints']['map'](_0x13cd2d=>transformToView(_0x17d5bc,_0x13cd2d)):[];}['setFigureLastPoint'](_0x1efb9f,_0x44964a){const _0x1aced3=this['getFigureViewPoints']();return _0x1aced3[_0x1efb9f]=_0x44964a['viewPoint'],_0x1aced3;}['upAction'](){var _0x2678b4,_0x44c387;if(!this['activeModel'])return;const _0x3c1a59=this['viewModels'][this['activeModel']['id']],_0x24fce2=_0x3c1a59===null||_0x3c1a59===void 0x0?void 0x0:_0x3c1a59['getFigure']();(_0x2678b4=_0x24fce2===null||_0x24fce2===void 0x0?void 0x0:_0x24fce2['onUp'])===null||_0x2678b4===void 0x0?void 0x0:_0x2678b4['call'](_0x24fce2,_0x3c1a59,this);switch(this['contextState']){case'HIGHLIGHTING':break;case'ADDING':!((_0x44c387=this['activeModel'])===null||_0x44c387===void 0x0?void 0x0:_0x44c387['isAdding']())&&this['commitModel']();break;case'MOVING':this['updateDraggingPointVisibility'](![]);this['isDrawingMoved']&&(this['events']['_drawingsUpdatedOld']['next'](),this['isDrawingMoved']=![],this['fireModelModified'](),this['events']['drawingMoved']['next'](this['activeModel']));_0x3c1a59['isDragging']=![],this['switchContext']('HIGHLIGHTING'),this['redraw']();break;default:}}['dblClickAction'](_0x28deed,_0x366fdb=null){switch(this['contextState']){case'HIGHLIGHTING':_0x366fdb&&this['events']['drawingDblClick']['next'](_0x366fdb);break;case'ADDING':case'MOVING':default:}}['keyDownAction'](_0x34572d){var _0x26c499,_0x1236c9;this['activeModel']&&(_0x34572d==='Enter'&&((_0x1236c9=(_0x26c499=this['activeModel'])===null||_0x26c499===void 0x0?void 0x0:_0x26c499['figure'])===null||_0x1236c9===void 0x0?void 0x0:_0x1236c9['commitOnEnter'])&&this['commitModel'](),_0x34572d==='Escape'&&this['cancelDrawing'](),(_0x34572d==='Delete'||_0x34572d==='Backspace')&&(!this['activeModel']['getFigure']()['isEditing']&&(this['removeModels']([this['activeModel']]),this['cancelDrawing']())));}['getIdRange'](){return HIT_TEST_ID_RANGE['DRAWINGS'];}['lookup'](_0x37fad3){return this['currentModels']['find'](_0x48dbb4=>_0x48dbb4['htId']===_0x37fad3);}['onHover'](_0x45555c,_0x9bc955){this['hoveredModel']=_0x45555c;const _0x1609cc=this['resolvePointEvent'](_0x9bc955['x'],_0x9bc955['y']);_0x1609cc&&this['moveAction'](_0x1609cc,_0x45555c);}['onZoom'](_0x405571,_0x4a90d3){if(_0x405571!==null){const _0x440f93=this['resolvePointEvent'](_0x4a90d3['x'],_0x4a90d3['y']);if(_0x440f93){const _0x4ba79a=this['match'](_0x440f93,_0x405571['id']);this['_activeMatch']=_0x4ba79a;}}}['resolveCursor'](_0x2bfa6d,_0x3663a6){var _0x17e23f,_0x3791ee;if(_0x3663a6===undefined)return;const _0x2e6714=this['resolvePointEvent'](_0x2bfa6d['x'],_0x2bfa6d['y']),_0x12ab87=this['match'](_0x2e6714,_0x3663a6['id']);if(_0x12ab87===undefined)return;const _0x486321=this['resolveDrawingCursorType'](_0x12ab87['viewModel']['model']['type']);if(_0x12ab87['type']==='POINT'){const _0x192c5d=_0x12ab87['viewModel']['keyViewPoints'][(_0x17e23f=_0x12ab87['dragPointIndex'])!==null&&_0x17e23f!==void 0x0?_0x17e23f:-0x1],_0x2536cc=_0x12ab87['viewModel']['model']['figure'],_0x5ac317=(_0x3791ee=_0x2536cc['getCursor'])===null||_0x3791ee===void 0x0?void 0x0:_0x3791ee['call'](_0x2536cc,_0x192c5d,_0x12ab87['viewModel']);if(_0x5ac317)return _0x5ac317;if(_0x192c5d)switch(_0x192c5d['type']){case'RESIZE':return _0x486321['resize'];case'ROTATE':return _0x486321['rotate'];case'DRAG':default:return _0x486321['match'];}}if(_0x12ab87['isBorderMatch'])return _0x486321['resize'];if(_0x12ab87['viewModel']['model']['active'])return _0x486321['grab'];return _0x486321['match'];}['onDblClick'](_0x3c7900,_0x59788d){const _0x103468=this['resolvePointEvent'](_0x59788d['x'],_0x59788d['y']);_0x103468&&this['dblClickAction'](_0x103468,_0x3c7900);}['onMouseDown'](_0x14ecdb,_0x16d44f){const _0x577051=this['resolvePointEvent'](_0x16d44f['x'],_0x16d44f['y']);_0x577051&&this['downAction'](_0x577051,_0x14ecdb);}['valueToView'](_0xfd3f4c,_0x5b0cc6){return transformToView(_0xfd3f4c,_0x5b0cc6);}['match'](_0x5c8ace,_0x14a66c){const _0x1f116c=this['viewModels'][_0x14a66c],_0x5d7c0b=(_0x45cc1b,_0x3b2efc)=>{const _0x4c89f9=_0x5c8ace['cachedPoint'],_0x152974=_0x1f116c['model']['cachedPoints']['slice'](),_0x58137c=_0x1f116c['getFigure'](),_0x222d77=_0x58137c['borderMatchFunction']?_0x58137c['borderMatchFunction'](_0x1f116c,_0x4c89f9,this['chartBootstrap']):![],_0x422707={};return _0x422707['type']=_0x45cc1b,_0x422707['viewModel']=_0x1f116c,_0x422707['viewPoint']=_0x5c8ace['viewPoint'],_0x422707['initial']=_0x4c89f9,_0x422707['initialValues']=_0x152974,_0x422707['isBorderMatch']=_0x222d77,_0x422707['dragPointIndex']=_0x3b2efc,_0x422707;};if(_0x1f116c['keyPointsShown']()){const _0x302f66=_0x1f116c['keyViewPoints']['map']((_0x32c2a8,_0x61fc05)=>[pointMatches(_0x32c2a8,_0x5c8ace['viewPoint']),_0x61fc05])['filter'](([_0x5e5a09])=>_0x5e5a09!==undefined)['sort'](([_0x4889c1],[_0x5b9752])=>_0x4889c1-_0x5b9752)[0x0],_0x3784a8=_0x302f66?_0x302f66[0x1]:-0x1;if(_0x3784a8!==-0x1&&!_0x1f116c['getFigure']()['disablePointDrag']&&!_0x1f116c['keyViewPoints'][_0x3784a8]['hidden'])return _0x5d7c0b('POINT',_0x3784a8);for(const _0xb5a33f of _0x1f116c['textBlocks']){if(_0xb5a33f['matchWholeFigure'])return _0x5d7c0b('FIGURE');const _0x384bae=_0x5c8ace['viewPoint'];if(inRectangle(_0x384bae,_0xb5a33f['bounds'])){const _0x42c694=_0xb5a33f['index'];return _0x5d7c0b('TEXT',_0x42c694);}}}return _0x5d7c0b('FIGURE');}['switchContext'](_0x547384){this['contextState']=_0x547384,this['contextState']==='HIGHLIGHTING'?this['hitTestCanvasModel']['enableUserControls']():this['hitTestCanvasModel']['disableUserControls'](),this['contextState']==='ADDING'?this['chartPanComponent']['deactivatePanHandlers']():this['chartPanComponent']['activateChartPanHandlers']();}['removeAllModels'](){var _0x212a86;if(this['currentModels']['length']===0x0)return;this['setActiveModel'](null);const _0x3d57a5=this['currentModels']['slice']();this['models'][this['instrumentCode']]=[],this['viewModels']={},this['redraw'](),this['updateViewModels'](),(this['currentModels']['length']!==0x1||!((_0x212a86=this['currentModels'][0x0])===null||_0x212a86===void 0x0?void 0x0:_0x212a86['isAdding']()))&&this['events']['_drawingsUpdatedOld']['next'](),this['fireModelsRemoved'](_0x3d57a5);}['sameModels'](_0x68024a,_0x3fb7b5){return _0x68024a===null||_0x3fb7b5===null?_0x68024a===_0x3fb7b5:_0x68024a['id']===_0x3fb7b5['id'];}['updateModel'](_0x486b78){this['currentModels']['map'](_0x5cf1a8=>{return _0x5cf1a8['id']===_0x486b78['id']&&(_0x5cf1a8['mergeModel'](_0x486b78),!_0x5cf1a8['isAdding']()&&this['cachePoints'](_0x5cf1a8),this['updateViewModel'](_0x5cf1a8),this['events']['_drawingsUpdatedOld']['next'](),this['fireModelUpdated'](_0x5cf1a8),this['redraw']()),_0x5cf1a8;});}['removeDrawing'](_0x36dd11){const _0x2282c3=Object['values'](this['models'])['flat']()['find'](_0x5f2d44=>_0x5f2d44['id']===_0x36dd11);return _0x2282c3&&this['removeModels']([_0x2282c3]),_0x2282c3!==undefined;}['rebuildModelsIndexes'](){this['currentModels']['forEach'](_0x2df6bf=>{_0x2df6bf['cachedPoints']=_0x2df6bf['keyPoints']['map'](_0x43f8c2=>{return cacheIndexes(_0x43f8c2,_0x2df6bf,this['chartModel']);});}),this['updateViewModels']();}['handleDataUpdates'](){this['updateViewModels'](),this['redraw']();}['updateViewModels'](){this['currentModels']['forEach'](_0x46b25f=>this['updateViewModel'](_0x46b25f),this);}['addDrawing'](_0x256a16){var _0x42a3dc;const _0x67d938=Object['assign']({'id':(_0x42a3dc=_0x256a16['id'])!==null&&_0x42a3dc!==void 0x0?_0x42a3dc:this['nextId']()},_0x256a16);return this['startModel'](_0x67d938),_0x67d938;}['setDrawingsOrder'](_0x498d8c){_0x498d8c['forEach'](_0x8eb846=>{const _0x579669=this['currentModels']['findIndex'](_0x6f548e=>_0x6f548e['id']===_0x8eb846);if(_0x579669>=0x0){const _0x42a56e=this['currentModels']['splice'](_0x579669,0x1)[0x0];this['currentModels']['push'](_0x42a56e);}}),this['redraw']();}}const closePriceResolver=_0x151df9=>[_0x151df9['close']],ohlcPriceResolver=_0x3ac541=>[_0x3ac541['open'],_0x3ac541['close'],_0x3ac541['high'],_0x3ac541['low']];