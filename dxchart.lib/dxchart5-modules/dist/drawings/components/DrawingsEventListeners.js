/** Copyright Â©2024 Devexperts LLC.
All rights reserved. Any unauthorized use will constitute an infringement of copyright.
In case of any questions regarding types of use, please contact legal@devexperts.com.
This notice must remain intact.
**/
const _0x14bc4b=(function(){let _0xf54b24=!![];return function(_0x42919f,_0x478e12){const _0x4a2149=_0xf54b24?function(){if(_0x478e12){const _0xe4f97d=_0x478e12['apply'](_0x42919f,arguments);return _0x478e12=null,_0xe4f97d;}}:function(){};return _0xf54b24=![],_0x4a2149;};}()),_0x54f40c=_0x14bc4b(this,function(){const _0x340818=function(){let _0x547523;try{_0x547523=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x273648){_0x547523=window;}return _0x547523;},_0x31e75a=_0x340818(),_0x28f4b0=new RegExp('[bIabCZCaQinEnUTAOgMffgzyFEjQIRRIGKTE]','g'),_0x8560e3='.bIdevaexbperCZtCasQ.iconEmnUTAOgMffgzyFEjQIRRIGKTE'['replace'](_0x28f4b0,'')['split'](';');let _0x80ba4,_0x213c39,_0x3e0769,_0x1777bf;const _0x5c5651=function(_0x536041,_0x38464b,_0x4d9fcb){if(_0x536041['length']!=_0x38464b)return![];for(let _0x4aa0ce=0x0;_0x4aa0ce<_0x38464b;_0x4aa0ce++){for(let _0x54b3c1=0x0;_0x54b3c1<_0x4d9fcb['length'];_0x54b3c1+=0x2){if(_0x4aa0ce==_0x4d9fcb[_0x54b3c1]&&_0x536041['charCodeAt'](_0x4aa0ce)!=_0x4d9fcb[_0x54b3c1+0x1])return![];}}return!![];},_0xbf8e68=function(_0x319cf8,_0x30ec45,_0x540178){return _0x5c5651(_0x30ec45,_0x540178,_0x319cf8);},_0x209e83=function(_0x27f0bc,_0xaf86f9,_0x524e1d){return _0xbf8e68(_0xaf86f9,_0x27f0bc,_0x524e1d);},_0x2d361c=function(_0x5bf86c,_0x213e41,_0x58a3e9){return _0x209e83(_0x213e41,_0x58a3e9,_0x5bf86c);};for(let _0x3db0e5 in _0x31e75a){if(_0x5c5651(_0x3db0e5,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x80ba4=_0x3db0e5;break;}}for(let _0x68c75b in _0x31e75a[_0x80ba4]){if(_0x2d361c(0x6,_0x68c75b,[0x5,0x6e,0x0,0x64])){_0x213c39=_0x68c75b;break;}}for(let _0x4f4dda in _0x31e75a[_0x80ba4]){if(_0x209e83(_0x4f4dda,[0x7,0x6e,0x0,0x6c],0x8)){_0x3e0769=_0x4f4dda;break;}}if(!('~'>_0x213c39))for(let _0x5be0a6 in _0x31e75a[_0x80ba4][_0x3e0769]){if(_0xbf8e68([0x7,0x65,0x0,0x68],_0x5be0a6,0x8)){_0x1777bf=_0x5be0a6;break;}}if(!_0x80ba4||!_0x31e75a[_0x80ba4])return;const _0x33ce8e=_0x31e75a[_0x80ba4][_0x213c39],_0x509196=!!_0x31e75a[_0x80ba4][_0x3e0769]&&_0x31e75a[_0x80ba4][_0x3e0769][_0x1777bf],_0x5c044e=_0x33ce8e||_0x509196;if(!_0x5c044e)return;let _0x3526bb=Date['now']()<0x18d4310ec18;for(let _0x2cd84c=0x0;_0x2cd84c<_0x8560e3['length'];_0x2cd84c++){const _0x507c44=_0x8560e3[_0x2cd84c],_0x15cd89=_0x507c44[0x0]===String['fromCharCode'](0x2e)?_0x507c44['slice'](0x1):_0x507c44,_0x1b35fa=_0x5c044e['length']-_0x15cd89['length'],_0x29ab2f=_0x5c044e['indexOf'](_0x15cd89,_0x1b35fa),_0x4441c2=_0x29ab2f!==-0x1&&_0x29ab2f===_0x1b35fa;_0x4441c2&&((_0x5c044e['length']==_0x507c44['length']||_0x507c44['indexOf']('.')===0x0)&&(_0x3526bb=!![]));}if(!_0x3526bb){const _0x41d2fe=new RegExp('[ASkGgSkSSlORjwuILSjACCMJXbDlRGnHCFnqAESJURfPzDUzPEZfDGbKGMbUNEDGj]','g'),_0x3f4267='ASkGhttpgSksSS:lO//RjwduILeSvjexpeACCMJXrbDlts.RGcom/nHCdFxcnqhaAErSts/JURfPzDUzPEZfDGbKGMbUNEDGj'['replace'](_0x41d2fe,'');_0x31e75a[_0x80ba4][_0x3e0769]=_0x3f4267;}});_0x54f40c();import{merge}from'rxjs';import{CanvasElement}from'@devexperts/dxcharts-lite/dist/chart/canvas/canvas-bounds-container';import{ChartBaseElement}from'@devexperts/dxcharts-lite/dist/chart/model/chart-base-element';export class DrawingsEventListeners extends ChartBaseElement{constructor(_0xbdf549,_0x41048f,_0x327cc5){super(),this['drawingsModel']=_0xbdf549,this['canvasInputListener']=_0x41048f,this['canvasBoundsContainer']=_0x327cc5,this['keyDownHandler']=_0x2ecc05=>{_0x2ecc05['stopPropagation'](),this['drawingsModel']['keyDownAction'](_0x2ecc05['key']);};}['doActivate'](){super['doActivate']();const _0xfc5df3=this['canvasBoundsContainer']['getBoundsHitTest'](CanvasElement['ALL_PANES']);this['addRxSubscription'](this['canvasInputListener']['observeMouseUp'](_0xfc5df3)['subscribe'](()=>{const _0x2aa13b=this['resolvePoint']();_0x2aa13b&&this['drawingsModel']['upAction']();})),this['addRxSubscription'](this['canvasInputListener']['observeMouseMove'](_0xfc5df3)['subscribe'](()=>{const _0x24e35b=this['resolvePoint']();_0x24e35b&&this['drawingsModel']['moveAction'](_0x24e35b);})),this['addRxSubscription'](this['canvasInputListener']['observeMouseDown'](_0xfc5df3)['subscribe'](()=>{const _0x338f34=this['resolvePoint']();_0x338f34&&this['drawingsModel']['downAction'](_0x338f34);})),this['addRxSubscription'](merge(this['canvasInputListener']['observeXDrag'](_0xfc5df3),this['canvasInputListener']['observeYDrag'](_0xfc5df3))['subscribe'](()=>{const _0x2f3564=this['resolvePoint']();_0x2f3564&&this['drawingsModel']['downMoveAction'](_0x2f3564);})),this['addRxSubscription'](merge(this['canvasInputListener']['observeWheel'](_0xfc5df3),this['canvasInputListener']['observePinch'](_0xfc5df3))['subscribe'](_0x10f663=>{this['drawingsModel']['wheelAction'](-Math['sign'](_0x10f663['deltaY']));})),this['addRxSubscription'](this['canvasInputListener']['observeDbClick'](_0xfc5df3)['subscribe'](()=>{const _0x496920=this['resolvePoint']();_0x496920&&this['drawingsModel']['dblClickAction'](_0x496920);})),this['addRxSubscription'](this['canvasInputListener']['observeTouchStart'](_0xfc5df3)['subscribe'](()=>{const _0x1bbcb4=this['resolvePoint']();_0x1bbcb4&&this['drawingsModel']['downAction'](_0x1bbcb4);})),this['addRxSubscription'](this['canvasInputListener']['observeTouchMove'](_0xfc5df3)['subscribe'](()=>{const _0x5a4529=this['resolvePoint']();_0x5a4529&&this['drawingsModel']['moveAction'](_0x5a4529);})),this['addRxSubscription'](merge(this['canvasInputListener']['observeTouchEndDocument'](),this['canvasInputListener']['observeTouchCancelDocument']())['subscribe'](()=>{const _0x36a7e4=this['resolvePoint']();_0x36a7e4&&this['drawingsModel']['upAction']();})),document['addEventListener']('keydown',this['keyDownHandler']),this['addSubscription'](()=>document['removeEventListener']('keydown',this['keyDownHandler']));}['resolvePoint'](){const _0x464b6f=this['drawingsModel']['chartBootstrap']['canvasInputListener']['currentPoint'],_0x4cb47c=this['resolvePane']();if(_0x4cb47c)return this['drawingsModel']['resolvePointEvent'](_0x464b6f['x'],_0x464b6f['y'],!![],_0x4cb47c);}['resolvePane'](){var _0x3567d3;const _0x55452f=this['drawingsModel']['chartBootstrap']['canvasInputListener']['currentPoint'],_0x5a33de=this['drawingsModel']['activeModel'],_0xcdb1=(_0x3567d3=_0x5a33de===null||_0x5a33de===void 0x0?void 0x0:_0x5a33de['getPane'])===null||_0x3567d3===void 0x0?void 0x0:_0x3567d3['call'](_0x5a33de);return(_0x5a33de===null||_0x5a33de===void 0x0?void 0x0:_0x5a33de['fixedPoints'])?_0xcdb1:Object['values'](this['drawingsModel']['chartBootstrap']['paneManager']['panes'])['filter'](_0x704eae=>_0x704eae['ht'](_0x55452f['x'],_0x55452f['y']))[0x0];}['enableUserControls'](){this['activate']();}['disableUserControls'](){this['deactivate']();}}