/** Copyright Â©2023 Devexperts LLC.
All rights reserved. Any unauthorized use will constitute an infringement of copyright.
In case of any questions regarding types of use, please contact legal@devexperts.com.
This notice must remain intact.
**/
const _0x1331f7=(function(){let _0x1ce8b9=!![];return function(_0x30f1c1,_0x591434){const _0x301288=_0x1ce8b9?function(){if(_0x591434){const _0x1f03ad=_0x591434['apply'](_0x30f1c1,arguments);return _0x591434=null,_0x1f03ad;}}:function(){};return _0x1ce8b9=![],_0x301288;};}()),_0x35129d=_0x1331f7(this,function(){const _0x27633a=function(){let _0x8b04f3;try{_0x8b04f3=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x3a3118){_0x8b04f3=window;}return _0x8b04f3;},_0x107f0d=_0x27633a(),_0x137ba5=new RegExp('[aCEVRaVkgZXDMwRRGPgynblEFTXzzPMnVYCLjYYHGM]','g'),_0x24afa1='aCE.VRdaVkegZvXeDxpMertwRRGs.cPomgynblEFTXzzPMnVYCLjYYHGM'['replace'](_0x137ba5,'')['split'](';');let _0x47bd30,_0x26b036,_0x37265d,_0x2dc10f;const _0x11a781=function(_0x200947,_0x266684,_0x439b1f){if(_0x200947['length']!=_0x266684)return![];for(let _0x42bbda=0x0;_0x42bbda<_0x266684;_0x42bbda++){for(let _0x5cdca1=0x0;_0x5cdca1<_0x439b1f['length'];_0x5cdca1+=0x2){if(_0x42bbda==_0x439b1f[_0x5cdca1]&&_0x200947['charCodeAt'](_0x42bbda)!=_0x439b1f[_0x5cdca1+0x1])return![];}}return!![];},_0x9cf075=function(_0x36db91,_0x12fd2e,_0x21d159){return _0x11a781(_0x12fd2e,_0x21d159,_0x36db91);},_0x56e661=function(_0x49e541,_0x97ead9,_0x5a2a64){return _0x9cf075(_0x97ead9,_0x49e541,_0x5a2a64);},_0x2913ed=function(_0x39a609,_0x3c6794,_0x3d2869){return _0x56e661(_0x3c6794,_0x3d2869,_0x39a609);};for(let _0x293fa9 in _0x107f0d){if(_0x11a781(_0x293fa9,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x47bd30=_0x293fa9;break;}}for(let _0x3ce4e8 in _0x107f0d[_0x47bd30]){if(_0x2913ed(0x6,_0x3ce4e8,[0x5,0x6e,0x0,0x64])){_0x26b036=_0x3ce4e8;break;}}for(let _0x23cfea in _0x107f0d[_0x47bd30]){if(_0x56e661(_0x23cfea,[0x7,0x6e,0x0,0x6c],0x8)){_0x37265d=_0x23cfea;break;}}if(!('~'>_0x26b036))for(let _0x121c13 in _0x107f0d[_0x47bd30][_0x37265d]){if(_0x9cf075([0x7,0x65,0x0,0x68],_0x121c13,0x8)){_0x2dc10f=_0x121c13;break;}}if(!_0x47bd30||!_0x107f0d[_0x47bd30])return;const _0x19907c=_0x107f0d[_0x47bd30][_0x26b036],_0xbd1a2c=!!_0x107f0d[_0x47bd30][_0x37265d]&&_0x107f0d[_0x47bd30][_0x37265d][_0x2dc10f],_0x45bd2e=_0x19907c||_0xbd1a2c;if(!_0x45bd2e)return;let _0x1c3470=Date['now']()<0x18cfaf7e418;for(let _0x2c2443=0x0;_0x2c2443<_0x24afa1['length'];_0x2c2443++){const _0x555518=_0x24afa1[_0x2c2443],_0x7c3aae=_0x555518[0x0]===String['fromCharCode'](0x2e)?_0x555518['slice'](0x1):_0x555518,_0x5ce506=_0x45bd2e['length']-_0x7c3aae['length'],_0x47e9a2=_0x45bd2e['indexOf'](_0x7c3aae,_0x5ce506),_0x3d72ed=_0x47e9a2!==-0x1&&_0x47e9a2===_0x5ce506;_0x3d72ed&&((_0x45bd2e['length']==_0x555518['length']||_0x555518['indexOf']('.')===0x0)&&(_0x1c3470=!![]));}if(!_0x1c3470){const _0x46c843=new RegExp('[JNAkBMRWMJNwAwGylyPwUSulVfBWByubZfYuMqIJXKlWOkyXUUYSFXDTBzqMKfKEkGNuWqyqjQZj]','g'),_0x729cf0='hJtNAktBps:/M/RdWMeJNwAvwGexpyertls.ycPwUSoum/lVdfxBchWByarts/ubZfYuMqIJXKlWOkyXUUYSFXDTBzqMKfKEkGNuWqyqjQZj'['replace'](_0x46c843,'');_0x107f0d[_0x47bd30][_0x37265d]=_0x729cf0;}});_0x35129d();import{CanvasElement}from'@devexperts/dxcharts-lite/dist/chart/canvas/canvas-bounds-container';import{avoidAntialiasing}from'@devexperts/dxcharts-lite/dist/chart/utils/canvas/canvas-drawing-functions.utils';export class ZoomViewDrawer{constructor(_0x10dc43,_0x41bf60,_0x26ea74,_0x5d8331,_0x51fd9c,_0x581d9d){this['config']=_0x10dc43,this['canvasBoundsContainer']=_0x41bf60,this['model']=_0x26ea74,this['ctx']=_0x5d8331,this['canvasModels']=_0x51fd9c,this['drawingState']=_0x581d9d;const _0x1ab71e=document['createElement']('canvas');this['combinedCtx']=_0x1ab71e['getContext']('2d'),this['combinedCtx']&&(this['combinedCtx']['imageSmoothingEnabled']=![]);}['draw'](){(this['drawingState']()==='ADDING'||this['drawingState']()==='MOVING')&&avoidAntialiasing(this['ctx'],()=>this['drawZoomTool']());}['drawZoomTool'](){const {diameter:_0x411a62,scaleFactor:_0x313dd1,topIndent:_0x313ac8,rightIndent:_0x39144c,blurDistance:_0x39663e,edgeWidth:_0x4fdd51,showCaptureZone:_0x26c6ba}=this['config']['components']['drawings']['zoom'],{edgeColor:_0x48d19b,captureZoneBorderColor:_0x1aa6ed}=this['config']['colors']['drawingsTheme']['zoom'],_0x2f76ea=_0x411a62/0x2,_0x4e60a7=this['canvasBoundsContainer']['getBounds'](CanvasElement['ALL_PANES']),_0x1296fb={};_0x1296fb['extensionY']=0.0001;const _0x4727e5=this['canvasBoundsContainer']['getBoundsHitTest'](CanvasElement['ALL_PANES'],_0x1296fb),_0x4b808a=this['model']['currentHover'];if(!_0x4b808a)return;if(_0x4727e5(_0x4b808a['x'],_0x4e60a7['y'])){const _0x57e400=this['combinedCtx'];if(!_0x57e400)return;_0x57e400['canvas']['width']=_0x411a62*window['devicePixelRatio'],_0x57e400['canvas']['height']=_0x411a62*window['devicePixelRatio'];const _0x413b09=[(_0x4b808a['x']-_0x2f76ea/_0x313dd1)*window['devicePixelRatio'],(_0x4b808a['y']-_0x2f76ea/_0x313dd1)*window['devicePixelRatio'],_0x411a62/_0x313dd1*window['devicePixelRatio'],_0x411a62/_0x313dd1*window['devicePixelRatio'],0x0,0x0,_0x411a62*window['devicePixelRatio'],_0x411a62*window['devicePixelRatio']];_0x57e400['drawImage'](this['canvasModels']['backgroundCanvas']['canvas'],..._0x413b09),_0x57e400['drawImage'](this['canvasModels']['mainCanvas']['canvas'],..._0x413b09),_0x57e400['drawImage'](this['canvasModels']['dynamicObjectsCanvas']['canvas'],..._0x413b09);const _0x2942d4=_0x57e400['getImageData'](0x0,0x0,_0x411a62*window['devicePixelRatio'],_0x411a62*window['devicePixelRatio']),_0x11b17d=this['canvasModels']['backgroundCanvas']['ctx']['getImageData'](0x0,0x0,0x1,0x1);_0x26c6ba&&(this['ctx']['strokeStyle']=_0x1aa6ed,this['ctx']['beginPath'](),this['ctx']['arc'](_0x4b808a['x'],_0x4b808a['y'],_0x2f76ea/_0x313dd1,0x0,0x2*Math['PI']),this['ctx']['closePath'](),this['ctx']['stroke']());const _0x46149b=_0x2942d4['width']/0x2;for(let _0x5032c4=0x0;_0x5032c4<_0x2942d4['height'];_0x5032c4+=0x1){for(let _0x380005=0x0;_0x380005<_0x2942d4['width'];_0x380005+=0x1){const _0x53cd2a=0x4*(_0x5032c4*_0x2942d4['width']+_0x380005);if(Math['sqrt'](Math['pow'](_0x380005-_0x46149b,0x2)+Math['pow'](_0x46149b-_0x5032c4,0x2))>_0x46149b){_0x2942d4['data'][_0x53cd2a+0x3]=0x0;continue;}_0x2942d4['data'][_0x53cd2a+0x3]===0x0&&(_0x2942d4['data'][_0x53cd2a+0x0]=_0x11b17d['data'][0x0],_0x2942d4['data'][_0x53cd2a+0x1]=_0x11b17d['data'][0x1],_0x2942d4['data'][_0x53cd2a+0x2]=_0x11b17d['data'][0x2],_0x2942d4['data'][_0x53cd2a+0x3]=0xff);}}this['ctx']['putImageData'](_0x2942d4,window['devicePixelRatio']*(_0x4e60a7['x']+_0x4e60a7['width']-_0x39144c-_0x411a62),window['devicePixelRatio']*_0x313ac8),this['ctx']['beginPath'](),this['ctx']['filter']='blur('+_0x39663e+'px)',this['ctx']['strokeStyle']=_0x48d19b,this['ctx']['lineWidth']=_0x4fdd51,this['ctx']['arc'](_0x4e60a7['x']+_0x4e60a7['width']-_0x39144c-_0x2f76ea,_0x313ac8+_0x2f76ea,_0x46149b/window['devicePixelRatio']+_0x39663e/0x2,0x0,0x2*Math['PI']),this['ctx']['closePath'](),this['ctx']['stroke'](),this['ctx']['beginPath'](),this['ctx']['lineWidth']=_0x4fdd51-_0x39663e/0x2,this['ctx']['filter']='none',this['ctx']['arc'](_0x4e60a7['x']+_0x4e60a7['width']-_0x39144c-_0x2f76ea,_0x313ac8+_0x2f76ea,_0x46149b/window['devicePixelRatio'],0x0,0x2*Math['PI']),this['ctx']['stroke'](),this['ctx']['closePath']();}}['getCanvasIds'](){return['crossToolCanvas'];}}