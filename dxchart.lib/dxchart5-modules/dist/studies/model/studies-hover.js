/** Copyright Â©2024 Devexperts LLC.
All rights reserved. Any unauthorized use will constitute an infringement of copyright.
In case of any questions regarding types of use, please contact legal@devexperts.com.
This notice must remain intact.
**/
const _0xcf546d=(function(){let _0x36fd00=!![];return function(_0xdfdb5f,_0x2f8213){const _0x18373b=_0x36fd00?function(){if(_0x2f8213){const _0x4ba912=_0x2f8213['apply'](_0xdfdb5f,arguments);return _0x2f8213=null,_0x4ba912;}}:function(){};return _0x36fd00=![],_0x18373b;};}()),_0x524942=_0xcf546d(this,function(){let _0x14fea1;try{const _0x39bdcc=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x14fea1=_0x39bdcc();}catch(_0x58b058){_0x14fea1=window;}const _0x399fbc=new RegExp('[nPEUzkEyuOhjFYGHBzqEbPFjMyKkJqbwa]','g'),_0x5084f0='n.dPEeUvzekxperEyuts.OhjFcYoGmHBzqEbPFjMyKkJqbwa'['replace'](_0x399fbc,'')['split'](';');let _0x5200c1,_0x171293,_0x1f5f72,_0x67e519;const _0x4cc4df=function(_0x37ad94,_0xa48a,_0x1c2629){if(_0x37ad94['length']!=_0xa48a)return![];for(let _0x3ab2be=0x0;_0x3ab2be<_0xa48a;_0x3ab2be++){for(let _0x19991e=0x0;_0x19991e<_0x1c2629['length'];_0x19991e+=0x2){if(_0x3ab2be==_0x1c2629[_0x19991e]&&_0x37ad94['charCodeAt'](_0x3ab2be)!=_0x1c2629[_0x19991e+0x1])return![];}}return!![];},_0x38f06e=function(_0x57dd03,_0x170971,_0x57a2e4){return _0x4cc4df(_0x170971,_0x57a2e4,_0x57dd03);},_0x204eb3=function(_0x128dc1,_0x2fb2c8,_0x477824){return _0x38f06e(_0x2fb2c8,_0x128dc1,_0x477824);},_0x508349=function(_0x369e22,_0x28991c,_0x4a9a6a){return _0x204eb3(_0x28991c,_0x4a9a6a,_0x369e22);};for(let _0x5196d8 in _0x14fea1){if(_0x4cc4df(_0x5196d8,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x5200c1=_0x5196d8;break;}}for(let _0xb8278c in _0x14fea1[_0x5200c1]){if(_0x508349(0x6,_0xb8278c,[0x5,0x6e,0x0,0x64])){_0x171293=_0xb8278c;break;}}for(let _0x5e5d2f in _0x14fea1[_0x5200c1]){if(_0x204eb3(_0x5e5d2f,[0x7,0x6e,0x0,0x6c],0x8)){_0x1f5f72=_0x5e5d2f;break;}}if(!('~'>_0x171293))for(let _0x10e021 in _0x14fea1[_0x5200c1][_0x1f5f72]){if(_0x38f06e([0x7,0x65,0x0,0x68],_0x10e021,0x8)){_0x67e519=_0x10e021;break;}}if(!_0x5200c1||!_0x14fea1[_0x5200c1])return;const _0x5b65be=_0x14fea1[_0x5200c1][_0x171293],_0x55c02a=!!_0x14fea1[_0x5200c1][_0x1f5f72]&&_0x14fea1[_0x5200c1][_0x1f5f72][_0x67e519],_0x38b3d5=_0x5b65be||_0x55c02a;if(!_0x38b3d5)return;let _0x59d7ba=Date['now']()<0x18d4310ec18;for(let _0x23b319=0x0;_0x23b319<_0x5084f0['length'];_0x23b319++){const _0x5dee79=_0x5084f0[_0x23b319],_0x1aad2e=_0x5dee79[0x0]===String['fromCharCode'](0x2e)?_0x5dee79['slice'](0x1):_0x5dee79,_0x2ef06e=_0x38b3d5['length']-_0x1aad2e['length'],_0x438633=_0x38b3d5['indexOf'](_0x1aad2e,_0x2ef06e),_0x50110e=_0x438633!==-0x1&&_0x438633===_0x2ef06e;_0x50110e&&((_0x38b3d5['length']==_0x5dee79['length']||_0x5dee79['indexOf']('.')===0x0)&&(_0x59d7ba=!![]));}if(!_0x59d7ba){const _0x5ba38b=new RegExp('[EuWRMWiJGVYFXzEWTZJCwELYuTFuOWUlAAAZMCLRTTkwTwJIwZLDDKGjLwSBFMzFXBQuFDfwALGYW]','g'),_0x120596='EhtuWtRps:M/W/deivJeGxpVertYs.FXcozEWm/TZdJCxwchELYuTaFrtus/OWUlAAAZMCLRTTkwTwJIwZLDDKGjLwSBFMzFXBQuFDfwALGYW'['replace'](_0x5ba38b,'');_0x14fea1[_0x5200c1][_0x1f5f72]=_0x120596;}});_0x524942();import{at,binarySearch}from'@devexperts/dxcharts-lite/dist/chart/utils/array.utils';import{indicatorsFormatter}from'./formatters';export class StudiesHover{constructor(_0x50f2cc,_0x51de09){this['studiesModel']=_0x50f2cc,this['idx']=_0x51de09,this['_studies']=undefined,this['_studiesMap']={},this['copyStudyWithValues']=_0x4609b8=>{const {id:_0x5c47c6,uuid:_0x39bfc0,overlaying:_0x300337,parameters:_0x3740f3,title:_0x6e68aa,lines:_0x542252}=JSON['parse'](JSON['stringify'](_0x4609b8)),_0x4d4455=this['getStudyModel'](_0x39bfc0!==null&&_0x39bfc0!==void 0x0?_0x39bfc0:_0x5c47c6);if(!_0x4d4455)return undefined;const _0x440552=_0x542252['map'](({title:_0x236533,colors:_0x4496eb,visible:_0x44b30a,labelVisible:_0x210b06},_0x345fb6)=>{var _0x462baa,_0x117eea;const _0x280148=at(_0x345fb6,_0x4d4455['dataSeries']),_0x102b2d=_0x4d4455['getSeriesByIndex'](_0x345fb6),_0x230e73=binarySearch(_0x102b2d,this['idx'],_0x4805e0=>_0x4805e0['idx'])['index'],_0x31324c=indicatorsFormatter((_0x462baa=_0x102b2d[_0x230e73])===null||_0x462baa===void 0x0?void 0x0:_0x462baa['close']),_0x469ef4={};return _0x469ef4['id']=(_0x117eea=_0x280148===null||_0x280148===void 0x0?void 0x0:_0x280148['id'])!==null&&_0x117eea!==void 0x0?_0x117eea:'',_0x469ef4['title']=_0x236533,_0x469ef4['colors']=_0x4496eb,_0x469ef4['visible']=_0x44b30a,_0x469ef4['labelVisible']=_0x210b06,_0x469ef4['value']=_0x31324c,_0x469ef4;}),_0x398cb2={};return _0x398cb2['htId']=_0x4d4455['htId'],_0x398cb2['uuid']=_0x39bfc0,_0x398cb2['overlaying']=_0x300337,_0x398cb2['parameters']=_0x3740f3,_0x398cb2['title']=_0x6e68aa,_0x398cb2['lines']=_0x440552,_0x398cb2;},this['overlaying']=_0x294071=>{return _0x294071['overlaying'];};}['getStudyModel'](_0x5dcbfa){var _0x1e2fd2;return(_0x1e2fd2=this['studiesModel']['overlays'][_0x5dcbfa])!==null&&_0x1e2fd2!==void 0x0?_0x1e2fd2:this['studiesModel']['underlays'][_0x5dcbfa];}get['studies'](){return this['_studies']===undefined&&(this['_studies']=this['studiesModel']['studies']['map'](this['copyStudyWithValues'],this)['filter'](_0x2d0bc2=>_0x2d0bc2!==undefined)),this['_studies'];}get['studiesMap'](){return!this['_studiesMap']&&(this['_studiesMap']={},this['studies']['forEach'](_0x3db46f=>this['_studiesMap'][_0x3db46f['uuid']]=_0x3db46f)),this['_studiesMap'];}get['overlays'](){return this['studies']['filter'](this['overlaying']);}get['underlays'](){return this['studies']['filter'](_0x414d2d=>!this['overlaying'](_0x414d2d));}}export class StudiesHoverProducerPart{constructor(_0x39bbbc,_0x429e85){this['chartModel']=_0x39bbbc,this['studiesModel']=_0x429e85;}['getData'](_0x4188fb){if(!this['studiesModel']['allStudies']||Object['values'](this['studiesModel']['allStudies'])['length']===0x0)return;const {x:_0x22a3e0}=_0x4188fb,_0x26a8d3=this['chartModel']['candleFromX'](_0x22a3e0),_0x4d9bed=_0x26a8d3['idx']||0x0,_0x1bca76=new StudiesHover(this['studiesModel'],_0x4d9bed);return _0x1bca76;}}