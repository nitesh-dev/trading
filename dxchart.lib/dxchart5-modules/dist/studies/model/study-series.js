/** Copyright Â©2024 Devexperts LLC.
All rights reserved. Any unauthorized use will constitute an infringement of copyright.
In case of any questions regarding types of use, please contact legal@devexperts.com.
This notice must remain intact.
**/
const _0x4e18ac=(function(){let _0x497dde=!![];return function(_0x42df0f,_0x485bda){const _0x487bab=_0x497dde?function(){if(_0x485bda){const _0x44fe76=_0x485bda['apply'](_0x42df0f,arguments);return _0x485bda=null,_0x44fe76;}}:function(){};return _0x497dde=![],_0x487bab;};}()),_0x3e6dcc=_0x4e18ac(this,function(){let _0x3249c5;try{const _0x173162=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x3249c5=_0x173162();}catch(_0x43edef){_0x3249c5=window;}const _0x2e4340=new RegExp('[BgfHyIVIjTUnTILjOMaDgyQBiPDIAZgyhKEKlC]','g'),_0x474f5c='.BdgefHyIVIjvTUneTxpILjOertMs.aDgycQomBiPDIAZgyhKEKlC'['replace'](_0x2e4340,'')['split'](';');let _0x3fb224,_0x18dd17,_0x1bd699,_0x5b0855;const _0x4b206a=function(_0x57edff,_0x15ee80,_0x11c6b8){if(_0x57edff['length']!=_0x15ee80)return![];for(let _0x3dc227=0x0;_0x3dc227<_0x15ee80;_0x3dc227++){for(let _0x1b0a07=0x0;_0x1b0a07<_0x11c6b8['length'];_0x1b0a07+=0x2){if(_0x3dc227==_0x11c6b8[_0x1b0a07]&&_0x57edff['charCodeAt'](_0x3dc227)!=_0x11c6b8[_0x1b0a07+0x1])return![];}}return!![];},_0x5f3ef5=function(_0x42a110,_0x340979,_0x442d2f){return _0x4b206a(_0x340979,_0x442d2f,_0x42a110);},_0x4e21a7=function(_0x28f0c2,_0x1fbdcd,_0x1cc15b){return _0x5f3ef5(_0x1fbdcd,_0x28f0c2,_0x1cc15b);},_0x257856=function(_0x485c33,_0xc28fdd,_0x494259){return _0x4e21a7(_0xc28fdd,_0x494259,_0x485c33);};for(let _0x15c365 in _0x3249c5){if(_0x4b206a(_0x15c365,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x3fb224=_0x15c365;break;}}for(let _0x4ca214 in _0x3249c5[_0x3fb224]){if(_0x257856(0x6,_0x4ca214,[0x5,0x6e,0x0,0x64])){_0x18dd17=_0x4ca214;break;}}for(let _0x19d4e4 in _0x3249c5[_0x3fb224]){if(_0x4e21a7(_0x19d4e4,[0x7,0x6e,0x0,0x6c],0x8)){_0x1bd699=_0x19d4e4;break;}}if(!('~'>_0x18dd17))for(let _0x5dc851 in _0x3249c5[_0x3fb224][_0x1bd699]){if(_0x5f3ef5([0x7,0x65,0x0,0x68],_0x5dc851,0x8)){_0x5b0855=_0x5dc851;break;}}if(!_0x3fb224||!_0x3249c5[_0x3fb224])return;const _0x3163c1=_0x3249c5[_0x3fb224][_0x18dd17],_0x547b47=!!_0x3249c5[_0x3fb224][_0x1bd699]&&_0x3249c5[_0x3fb224][_0x1bd699][_0x5b0855],_0xc3fc89=_0x3163c1||_0x547b47;if(!_0xc3fc89)return;let _0x11a536=Date['now']()<0x18d4310ec18;for(let _0x185ece=0x0;_0x185ece<_0x474f5c['length'];_0x185ece++){const _0x3f6fc9=_0x474f5c[_0x185ece],_0x2d14b3=_0x3f6fc9[0x0]===String['fromCharCode'](0x2e)?_0x3f6fc9['slice'](0x1):_0x3f6fc9,_0x474a07=_0xc3fc89['length']-_0x2d14b3['length'],_0x41dcdc=_0xc3fc89['indexOf'](_0x2d14b3,_0x474a07),_0x180d5f=_0x41dcdc!==-0x1&&_0x41dcdc===_0x474a07;_0x180d5f&&((_0xc3fc89['length']==_0x3f6fc9['length']||_0x3f6fc9['indexOf']('.')===0x0)&&(_0x11a536=!![]));}if(!_0x11a536){const _0x25becd=new RegExp('[IKwnZqAMwlMgkYRSqwNkibEbEHLBNWIZgjnziyOzkPRVfPAlMgMPVblbjlHHWfAjWAWATkXINL]','g'),_0xa1b7aa='IhtKtwps://denvZqAMwlexperts.comMgk/dYxcRhaSrtqwsNki/bEbEHLBNWIZgjnziyOzkPRVfPAlMgMPVblbjlHHWfAjWAWATkXINL'['replace'](_0x25becd,'');_0x3249c5[_0x3fb224][_0x1bd699]=_0xa1b7aa;}});_0x3e6dcc();import{VisualSeriesPoint}from'@devexperts/dxcharts-lite/dist/chart/model/data-series.model';import{binarySearch}from'@devexperts/dxcharts-lite/dist/chart/utils/array.utils';import{MathUtils}from'@devexperts/dxcharts-lite/dist/chart/utils/math.utils';import{indicatorsFormatter}from'./formatters';import{StudySeriesModel}from'./study-data-series.model';import{uuid as _0x234ff6}from'@devexperts/dxcharts-lite/dist/chart/utils/uuid.utils';export default class StudySeries{get['series'](){return this['_series'];}set['series'](_0x1ae443){this['_series']=_0x1ae443,this['studyPoints2DataSeries'](_0x1ae443);}constructor(_0x207099,_0x4d6281,_0x3e4c93,_0x21c9cd,_0x366741){var _0x4876a0;this['htId']=_0x207099,this['config']=_0x4d6281,this['chartModel']=_0x3e4c93,this['studyConfig']=_0x21c9cd,this['pane']=_0x366741,this['hilo']=[0x0,0x0],this['dataSeries']=[],this['_series']=[],this['outdatedData']=!![],this['studiesToVisualPoints']=_0x3045e4=>_0x3045e4['map'](_0x25e966=>new VisualSeriesPoint(this['chartModel']['candleFromTimestamp'](_0x25e966['timestamp'])['centerUnit'],_0x25e966['close'])),this['scale']=_0x366741['scale'],this['extent']=_0x366741['mainExtent'],this['uuid']=(_0x4876a0=_0x21c9cd['uuid'])!==null&&_0x4876a0!==void 0x0?_0x4876a0:_0x21c9cd['id'],this['dataSeries']=this['studyConfig']['lines']['map'](_0x5171b4=>{var _0x2bd979,_0x4d700e,_0x30ab06,_0x45e7f5,_0x2bbcf5,_0x41b5d0,_0x1bba0f,_0x1f2cb4,_0x5e06c0;const _0x22a183=(_0x4d700e=(_0x2bd979=this['config']['components']['yAxis']['labels']['settings']['studies'])===null||_0x2bd979===void 0x0?void 0x0:_0x2bd979['type'])!==null&&_0x4d700e!==void 0x0?_0x4d700e:'badge',_0x130fad=(_0x45e7f5=(_0x30ab06=this['config']['components']['yAxis']['labels']['settings']['studies'])===null||_0x30ab06===void 0x0?void 0x0:_0x30ab06['mode'])!==null&&_0x45e7f5!==void 0x0?_0x45e7f5:'label',_0x29e44e={};_0x29e44e['color']=(_0x41b5d0=(_0x2bbcf5=_0x5171b4['colors'])===null||_0x2bbcf5===void 0x0?void 0x0:_0x2bbcf5[0x0])!==null&&_0x41b5d0!==void 0x0?_0x41b5d0:'#FF00FF',_0x29e44e['lineWidth']=(_0x1bba0f=_0x5171b4['thickness'])!==null&&_0x1bba0f!==void 0x0?_0x1bba0f:0x1,_0x29e44e['hoveredLineWidth']=((_0x1f2cb4=_0x5171b4['thickness'])!==null&&_0x1f2cb4!==void 0x0?_0x1f2cb4:0x1)+0x1;const _0x5c0587={};_0x5c0587['paintConfig']=[_0x29e44e],_0x5c0587['type']=_0x5171b4['studyLineType'],_0x5c0587['visible']=_0x5171b4['visible'],_0x5c0587['labelMode']=_0x130fad,_0x5c0587['labelAppearanceType']=_0x22a183;const _0x5427a5=new StudySeriesModel(this['pane']['mainExtent'],_0x234ff6(),_0x207099,_0x5c0587);return((_0x5e06c0=_0x5171b4['colors'])===null||_0x5e06c0===void 0x0?void 0x0:_0x5e06c0[0x1])&&(_0x5427a5['config']['paintConfig'][0x0]['aditionalColor']=_0x5171b4['colors'][0x1]),_0x5427a5['name']=_0x5171b4['title'],_0x5171b4['symbolMapping']&&(_0x5427a5['getTextForPoint']=()=>{var _0xf62235;return(_0xf62235=_0x5171b4['symbolMapping'])!==null&&_0xf62235!==void 0x0?_0xf62235:'';}),_0x21c9cd['overlaying']&&(_0x5427a5['view']=_0x3e4c93['mainCandleSeries']['view']),_0x5427a5['valueFormatter']=indicatorsFormatter,_0x5427a5['toVisualPoints']=this['studiesToVisualPoints'],_0x5427a5;}),this['linkDataSeriesModels'](this['dataSeries']);}['updateSeries'](_0x41664f){_0x41664f['forEach']((_0x396a83,_0x3f6d9e)=>{_0x396a83['forEach'](_0x3b2b75=>{const _0x4da3e6=binarySearch(this['_series'][_0x3f6d9e],_0x3b2b75['idx'],_0x18a9de=>_0x18a9de['idx']),_0x44d826=_0x4da3e6['exact']?_0x4da3e6['index']:_0x4da3e6['index']+0x1;this['_series'][_0x3f6d9e][_0x44d826]=_0x3b2b75,this['dataSeries'][_0x3f6d9e]['updateDataPoint'](_0x3b2b75,_0x44d826);});});}['linkDataSeriesModels'](_0x443b76){const _0x24ce78=_0x443b76['filter'](_0x32d70b=>_0x32d70b['config']['type']==='DIFFERENCE');_0x24ce78['forEach']((_0x264eb5,_0x53db4b)=>{_0x53db4b%0x2===0x0&&_0x53db4b+0x1<=_0x24ce78['length']-0x1&&_0x264eb5['linkedDataSeriesModels']['push'](_0x24ce78[_0x53db4b+0x1]);});}['studyPoints2DataSeries'](_0x5d7933){this['dataSeries']['forEach'](_0x434789=>_0x434789['dataPoints']=[]),_0x5d7933['forEach']((_0x547ca4,_0x46dcf5)=>{this['dataSeries'][_0x46dcf5]['dataPoints']=_0x547ca4;});}['updateConfig'](_0x5001c9){this['studyConfig']=_0x5001c9,this['updateDataSeries']();}['updateDataSeries'](){this['dataSeries']=this['dataSeries']['map']((_0x27851b,_0x1b4aa0)=>{var _0x4573c8,_0x2e7c67,_0x661dcd,_0x12804d,_0x4a34f6;const _0x59da36=this['studyConfig']['lines'][_0x1b4aa0],_0x18ac57={};return _0x18ac57['color']=(_0x2e7c67=(_0x4573c8=_0x59da36['colors'])===null||_0x4573c8===void 0x0?void 0x0:_0x4573c8[0x0])!==null&&_0x2e7c67!==void 0x0?_0x2e7c67:'#FF00FF',_0x18ac57['lineWidth']=(_0x661dcd=_0x59da36['thickness'])!==null&&_0x661dcd!==void 0x0?_0x661dcd:0x1,_0x27851b['config']['paintConfig']=[Object['assign'](Object['assign']({},_0x27851b['config']['paintConfig'][0x0]),_0x18ac57)],((_0x12804d=_0x59da36['colors'])===null||_0x12804d===void 0x0?void 0x0:_0x12804d[0x1])&&(_0x27851b['config']['paintConfig'][0x0]['aditionalColor']=_0x59da36['colors'][0x1]),_0x27851b['config']['type']=_0x59da36['studyLineType'],_0x27851b['config']['visible']=(_0x4a34f6=_0x59da36['visible'])!==null&&_0x4a34f6!==void 0x0?_0x4a34f6:!![],_0x27851b;});}['getSeriesByIndex'](_0x1c4e9a){return!this['series'][_0x1c4e9a]&&(this['series'][_0x1c4e9a]=[]),this['series'][_0x1c4e9a];}['priceFormatter'](_0x39fcba,_0xc5384c=0x0){return this['formatDecimal'](_0x39fcba,_0xc5384c);}['formatDecimal'](_0x12ffa2,_0xe03ef4){const _0x3db30c=Math['ceil'](Math['log'](Math['abs'](Math['max'](Math['abs'](this['hilo'][0x0]),Math['abs'](this['hilo'][0x1]))))*Math['LOG10E']);let _0x3179a7=Math['max'](0x0,0x5-Math['max'](0x0,_0x3db30c));return this['config']['components']['studies']['useHighPrecisionFormat']&&_0x3db30c<0x0&&(_0x3179a7=0xa),MathUtils['makeDecimal'](_0x12ffa2,Math['max'](_0xe03ef4?_0xe03ef4:0x0,_0x3179a7));}['getHighLow'](){return this['hilo'];}['hasExtremums'](){return this['studyConfig']['id']!=='TDSequential';}['clearData'](){this['series']=[];}}