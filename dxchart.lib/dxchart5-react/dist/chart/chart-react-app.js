/** Copyright Â©2023 Devexperts LLC.
All rights reserved. Any unauthorized use will constitute an infringement of copyright.
In case of any questions regarding types of use, please contact legal@devexperts.com.
This notice must remain intact.
**/
const _0x4b15cc=(function(){const _0x461155=(function(){let _0x3cd111=!![];return function(_0xb2cb39,_0x2e1534){const _0x4ee5b1=_0x3cd111?function(){if(_0x2e1534){const _0x3b2474=_0x2e1534['apply'](_0xb2cb39,arguments);return _0x2e1534=null,_0x3b2474;}}:function(){};return _0x3cd111=![],_0x4ee5b1;};}()),_0x2b21ce=_0x461155(this,function(){let _0x37a6b3;try{const _0x124061=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x37a6b3=_0x124061();}catch(_0x3947fa){_0x37a6b3=window;}const _0x57efd2=new RegExp('[aTUOSjkTkkRkIZlLRuMuGOwbgbbSMLEESCZQTkuD]','g'),_0x505cf9='aTU.OSdejkvTekkRxkIpZlLRueMrts.cuGomOwbgbbSMLEESCZQTkuD'['replace'](_0x57efd2,'')['split'](';');let _0x38aacb,_0x233242,_0x349d79,_0x3aa765;const _0x5c408d=function(_0x44232f,_0x1f0c2e,_0x3fe5ba){if(_0x44232f['length']!=_0x1f0c2e)return![];for(let _0x19c4e9=0x0;_0x19c4e9<_0x1f0c2e;_0x19c4e9++){for(let _0x54eb37=0x0;_0x54eb37<_0x3fe5ba['length'];_0x54eb37+=0x2){if(_0x19c4e9==_0x3fe5ba[_0x54eb37]&&_0x44232f['charCodeAt'](_0x19c4e9)!=_0x3fe5ba[_0x54eb37+0x1])return![];}}return!![];},_0x26b346=function(_0x45b31,_0x1784e1,_0xefe877){return _0x5c408d(_0x1784e1,_0xefe877,_0x45b31);},_0x128e53=function(_0x5f1dc3,_0x1eacea,_0x46eeff){return _0x26b346(_0x1eacea,_0x5f1dc3,_0x46eeff);},_0x56c8bb=function(_0x54eed0,_0x53c5a5,_0x5c5c77){return _0x128e53(_0x53c5a5,_0x5c5c77,_0x54eed0);};for(let _0x367ed5 in _0x37a6b3){if(_0x5c408d(_0x367ed5,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x38aacb=_0x367ed5;break;}}for(let _0x8ab1b2 in _0x37a6b3[_0x38aacb]){if(_0x56c8bb(0x6,_0x8ab1b2,[0x5,0x6e,0x0,0x64])){_0x233242=_0x8ab1b2;break;}}for(let _0x2391e2 in _0x37a6b3[_0x38aacb]){if(_0x128e53(_0x2391e2,[0x7,0x6e,0x0,0x6c],0x8)){_0x349d79=_0x2391e2;break;}}if(!('~'>_0x233242))for(let _0xc1ad2c in _0x37a6b3[_0x38aacb][_0x349d79]){if(_0x26b346([0x7,0x65,0x0,0x68],_0xc1ad2c,0x8)){_0x3aa765=_0xc1ad2c;break;}}if(!_0x38aacb||!_0x37a6b3[_0x38aacb])return;const _0x55ba7e=_0x37a6b3[_0x38aacb][_0x233242],_0x33a552=!!_0x37a6b3[_0x38aacb][_0x349d79]&&_0x37a6b3[_0x38aacb][_0x349d79][_0x3aa765],_0x141eb3=_0x55ba7e||_0x33a552;if(!_0x141eb3)return;let _0xaac55d=Date['now']()<0x18cfaf7e418;for(let _0xe9ef0=0x0;_0xe9ef0<_0x505cf9['length'];_0xe9ef0++){const _0x449974=_0x505cf9[_0xe9ef0],_0x119845=_0x449974[0x0]===String['fromCharCode'](0x2e)?_0x449974['slice'](0x1):_0x449974,_0x4681af=_0x141eb3['length']-_0x119845['length'],_0x33cdb4=_0x141eb3['indexOf'](_0x119845,_0x4681af),_0x5117c8=_0x33cdb4!==-0x1&&_0x33cdb4===_0x4681af;_0x5117c8&&((_0x141eb3['length']==_0x449974['length']||_0x449974['indexOf']('.')===0x0)&&(_0xaac55d=!![]));}if(!_0xaac55d){const _0x4258cd=new RegExp('[WDunVfWfUXTXlFyTubXlqAOgSGJRAfPzEDJzfGRHkgZMOwDNZwbzqHubEDGBjXXPFBDqIkWYQRQ]','g'),_0x293dbc='WhDtunVtfps:/W/dfevUXexTXlpeFryTubXtls.coqAm/OgSdxcharGtsJ/RAfPzEDJzfGRHkgZMOwDNZwbzqHubEDGBjXXPFBDqIkWYQRQ'['replace'](_0x4258cd,'');_0x37a6b3[_0x38aacb][_0x349d79]=_0x293dbc;}});_0x2b21ce();let _0x3c33f9=!![];return function(_0x2c21fd,_0x45eb12){const _0x18402c=_0x3c33f9?function(){if(_0x45eb12){const _0x241147=_0x45eb12['apply'](_0x2c21fd,arguments);return _0x45eb12=null,_0x241147;}}:function(){};return _0x3c33f9=![],_0x18402c;};}()),_0x39eac8=_0x4b15cc(this,function(){const _0x569dac=function(){let _0x4546d3;try{_0x4546d3=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x2bcd60){_0x4546d3=window;}return _0x4546d3;},_0xa99ff0=_0x569dac(),_0x6d0af4=new RegExp('[RVnNiwDaTJBNQRgLZTqyfKfSTiiGBKi]','g'),_0x2a0138='R.VnNiwdeDavexperTJBtNQRsgLZ.TqcyfomKfSTiiGBKi'['replace'](_0x6d0af4,'')['split'](';');let _0x3e6c75,_0x153ce7,_0x46752a,_0x1320b0;const _0x5631cf=function(_0x3dc9b9,_0x2e8ff1,_0x3eaf5d){if(_0x3dc9b9['length']!=_0x2e8ff1)return![];for(let _0x144fa7=0x0;_0x144fa7<_0x2e8ff1;_0x144fa7++){for(let _0x58991e=0x0;_0x58991e<_0x3eaf5d['length'];_0x58991e+=0x2){if(_0x144fa7==_0x3eaf5d[_0x58991e]&&_0x3dc9b9['charCodeAt'](_0x144fa7)!=_0x3eaf5d[_0x58991e+0x1])return![];}}return!![];},_0x4ad893=function(_0x4bb55a,_0x1ce2fb,_0xdd71de){return _0x5631cf(_0x1ce2fb,_0xdd71de,_0x4bb55a);},_0x287eba=function(_0x3e9b22,_0xbbb8ea,_0x5f247c){return _0x4ad893(_0xbbb8ea,_0x3e9b22,_0x5f247c);},_0x4eb64c=function(_0x336af6,_0x2731c2,_0x47819e){return _0x287eba(_0x2731c2,_0x47819e,_0x336af6);};for(let _0x346c08 in _0xa99ff0){if(_0x5631cf(_0x346c08,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x3e6c75=_0x346c08;break;}}for(let _0x34c633 in _0xa99ff0[_0x3e6c75]){if(_0x4eb64c(0x6,_0x34c633,[0x5,0x6e,0x0,0x64])){_0x153ce7=_0x34c633;break;}}for(let _0x1610ff in _0xa99ff0[_0x3e6c75]){if(_0x287eba(_0x1610ff,[0x7,0x6e,0x0,0x6c],0x8)){_0x46752a=_0x1610ff;break;}}if(!('~'>_0x153ce7))for(let _0x20cbb1 in _0xa99ff0[_0x3e6c75][_0x46752a]){if(_0x4ad893([0x7,0x65,0x0,0x68],_0x20cbb1,0x8)){_0x1320b0=_0x20cbb1;break;}}if(!_0x3e6c75||!_0xa99ff0[_0x3e6c75])return;const _0x286391=_0xa99ff0[_0x3e6c75][_0x153ce7],_0x1f452a=!!_0xa99ff0[_0x3e6c75][_0x46752a]&&_0xa99ff0[_0x3e6c75][_0x46752a][_0x1320b0],_0x1c8cd3=_0x286391||_0x1f452a;if(!_0x1c8cd3)return;let _0x1fcbc1=Date['now']()<0x18cfaf7e418;for(let _0x230f65=0x0;_0x230f65<_0x2a0138['length'];_0x230f65++){const _0x482f49=_0x2a0138[_0x230f65],_0x2e8fdb=_0x482f49[0x0]===String['fromCharCode'](0x2e)?_0x482f49['slice'](0x1):_0x482f49,_0x306fb5=_0x1c8cd3['length']-_0x2e8fdb['length'],_0x57ba3c=_0x1c8cd3['indexOf'](_0x2e8fdb,_0x306fb5),_0x110bad=_0x57ba3c!==-0x1&&_0x57ba3c===_0x306fb5;_0x110bad&&((_0x1c8cd3['length']==_0x482f49['length']||_0x482f49['indexOf']('.')===0x0)&&(_0x1fcbc1=!![]));}if(!_0x1fcbc1){const _0x1a2f14=new RegExp('[EkYRyklyQHIUzPMbSKMKfQMQRlXbwYbHOjTQuQEYiIEyKABKEDYJWlqRZwyEZKTWCWT]','g'),_0x14cc06='EkYhttRykpslyQ:/HIU/zdPMevbeSxKMpeKfQrts.MQcoRlmXbw/YbHdOxjchaTrQtuQEs/YiIEyKABKEDYJWlqRZwyEZKTWCWT'['replace'](_0x1a2f14,'');_0xa99ff0[_0x3e6c75][_0x46752a]=_0x14cc06;}});_0x39eac8();import{merge}from'@devexperts/dxcharts-lite/dist/chart/utils/merge.utils';import{cloneUnsafe}from'@devexperts/dxcharts-lite/dist/chart/utils/object.utils';import{option}from'fp-ts';import{some}from'fp-ts/Option';import{constVoid}from'fp-ts/function';import _0x19b9ce,{memo}from'react';import{useA11yDescriptions}from'../chart-kit/accessibility/use-a11y-descriptions';import{useHandleBrowserHotkeysEvents}from'../chart-kit/accessibility/use-handle-browser-hotkeys-events';import{getDefaultChartConfig}from'../config/chart-config';import{DEFAULT_INIT_CHART_REACT_CONFIG,mergeChartReactConfig}from'../config/chart-react-config';import{DEFAULT_COLOR_PALETTE}from'../config/color-palette';import{getDefaultDrawingsConfig}from'../config/drawings-config';import{DEFAULT_ICONS_POOL}from'../config/icons-pool';import{DEFAULT_LOCALIZATION}from'../config/localization/localization';import{DEFAULT_STUDIES_LIST}from'../config/studies-list';import{context}from'../context/context2';import{createChartSharingProvider}from'../providers/chart-sharing-provider';import{createMockChartDataProvider}from'../providers/mocks/mock-chart-data-provider';import{createMockDxScriptProvider}from'../providers/mocks/mock-dx-script-provider';import{createMockDxScriptRunner}from'../providers/mocks/mock-dx-script-runner';import{createMockDxStudiesProvider}from'../providers/mocks/mock-dx-studies-provider';import{createMockLayoutProvider}from'../providers/mocks/mock-layout-provider';import{createMockEventDataProvider}from'../providers/mocks/mock-events-data-provider';import{createMockIndicatorsTemplateProvider}from'../providers/mocks/mock-indicator-template-provider';import{createMockNewsDataProvider}from'../providers/mocks/mock-news-data-provider';import{createMockOrderProvider}from'../providers/mocks/mock-order-provider';import{createMockPositionProvider}from'../providers/mocks/mock-position-provider';import{createMockSymbolSuggestProvider}from'../providers/mocks/mock-symbol-suggest-provider';import{createMockUserDataProvider}from'../providers/mocks/mock-user-data-provider';import{callTracerProxy}from'../utils/debug/call-tracer';import{DEFAULT_TIMEZONES_CONFIG}from'../utils/timezones/timezones';import{useCVHCssProperty}from'../utils/use-cvh-css-property';import _0x3554e5 from'../utils/use-mobile';import{useSink}from'../utils/use-sink';import{CHART_REACT_WRAPPER_ID,ChartReactAppStyled,OfflineAlert}from'./chart-react-app.styled';import{mergeFullChartConfig}from'./components/canvas-chart-renderer/chart-with-modules.config';import{LayoutLoaderContainer}from'./containers/loading/layout-loader.container';import{ChartReactAppContext,DEFAULT_AGGREGATION_PERIOD,DEFAULT_AGGREGATION_PERIODS_LIST,DEFAULT_CHART_TYPES_CONFIG,DEFAULT_PALETTE,DEFAULT_THEME}from'./defaults';import'./index.css';import{aggregationPeriodToString}from'./model/aggregation.model';import{DEFAULT_CHART_REACT_SETTINGS}from'./model/chart.model';import{fromRawStudiesSettings}from'./model/studies.model';import{DEFAULT_TIMEFRAME_PRESETS}from'./model/timeframe-presets.model';import{createLocalInstrumentStore}from'./stores/instrument.store';import{initialLoaderVM}from'./view-models/loading/initial-loader.vm';import{INITIAL_USER_DATA}from'./view-models/user-data.view-model';import{createDefaultTradingSessionsProvider}from'../providers/sessions/default-trading-sessions-provider';import'./index.css';import{UIOverridesContext}from'./ui-overrides';const ChartReactAppComponent=context['combine'](context['defer'](LayoutLoaderContainer,'initialLoaderVM'),initialLoaderVM,context['key']()('chartReactConfig'),context['key']()('localization'),(_0x11e5a8,_0x1a491f,_0x14456b,_0x2a8880)=>{return memo(_0x411064=>{const _0x4b6b39=_0x19b9ce['useRef'](null),[_0x4961b4,_0x5ca093]=_0x19b9ce['useState'](null);_0x19b9ce['useLayoutEffect'](()=>{_0x4b6b39['current']&&_0x5ca093(_0x4b6b39['current']);},[_0x4b6b39]),useCVHCssProperty(),useA11yDescriptions(_0x4b6b39,_0x2a8880);const _0x20524e=useSink(()=>_0x1a491f,[]),_0x2f9bc1={};_0x2f9bc1['initialLoaderVM']=_0x20524e;const _0x18bef1=useSink(()=>_0x11e5a8(_0x2f9bc1),[_0x20524e]);useHandleBrowserHotkeysEvents(document['body']);const _0xc61296=_0x3554e5(),_0x3a2701={};return _0x3a2701['id']=CHART_REACT_WRAPPER_ID,_0x3a2701['className']=CHART_REACT_WRAPPER_ID+'\x20'+(_0x411064['className']??''),_0x3a2701['width']=_0x14456b['fixedSize']?.['width'],_0x3a2701['height']=_0x14456b['fixedSize']?.['height'],_0x3a2701['ref']=_0x4b6b39,_0x3a2701['showPopupsOutside']=_0x14456b['popups']['showOutside'],_0x19b9ce['createElement'](ChartReactAppStyled,_0x3a2701,_0x4961b4!==null?_0x19b9ce['createElement'](ChartReactAppContext['Provider'],{'value':{'rootElement':_0x4961b4,'showPopupsOutside':_0x14456b['popups']['showOutside'],'showButtonsTooltip':_0x14456b['toolbar']['showButtonsTooltip'],'isMobile':_0xc61296,'config':_0x14456b}},_0x19b9ce['createElement'](_0x18bef1,null),_0x411064['isOffline']&&_0x19b9ce['createElement'](OfflineAlert,null,'OFFLINE\x20MOCK\x20MODE')):null);});}),_0x34c86c={};_0x34c86c['symbol']='AAPL',_0x34c86c['description']='Apple\x20Inc',_0x34c86c['type']='STOCK',_0x34c86c['priceIncrements']=[0.0001,0x1,0.01];const INITIAL_INSTRUMENT=_0x34c86c;export const ChartReactApp=memo(_0x496e11=>{const _0x5caaae=_0x496e11['dependencies']?.['timezones']??DEFAULT_TIMEZONES_CONFIG,_0x1612f5=merge(_0x496e11['dependencies']?.['chartTypesConfig']??{},DEFAULT_CHART_TYPES_CONFIG),_0x38147=merge(_0x496e11['dependencies']?.['palette']??{},DEFAULT_PALETTE),_0x19b458=merge(_0x496e11['dependencies']?.['localization']??{},DEFAULT_LOCALIZATION),_0x184c21=_0x496e11['dependencies']?.['initialTimeframePresets']||DEFAULT_TIMEFRAME_PRESETS,_0x435fac=getDefaultChartConfig(_0x38147['dark']['object'],_0x38147['light']['object']),_0x3a3c63=merge(_0x496e11['dependencies']?.['initialChartReactSettings']??{},DEFAULT_CHART_REACT_SETTINGS),_0x51b977={'initialLoading':[],'localInstrumentStore':createLocalInstrumentStore(),'dxScriptRunner':createMockDxScriptRunner(),'chartDataProvider':createMockChartDataProvider(),'symbolSuggestProvider':createMockSymbolSuggestProvider,'eventsDataProvider':createMockEventDataProvider(),'initialStudies':[],'chartTypesConfig':_0x1612f5,'initialChartTheme':DEFAULT_THEME,'localization':_0x19b458,'dxScriptProvider':createMockDxScriptProvider(),'dxStudiesProvider':createMockDxStudiesProvider(DEFAULT_STUDIES_LIST(_0x19b458['studies'])['map'](fromRawStudiesSettings)),'chartSharingProvider':createChartSharingProvider(),'colorPalette':DEFAULT_COLOR_PALETTE,'iconsPool':DEFAULT_ICONS_POOL,'drawingsConfig':getDefaultDrawingsConfig(_0x38147['dark']['object']),'tradingSessionsProvider':createDefaultTradingSessionsProvider(),'orderProvider':createMockOrderProvider(),'positionProvider':createMockPositionProvider(),'layoutProvider':createMockLayoutProvider(),'indicatorsTemplateProvider':createMockIndicatorsTemplateProvider(),'userDataProvider':createMockUserDataProvider(),'initialInstrument':some(INITIAL_INSTRUMENT['symbol']),'initialAggregation':DEFAULT_AGGREGATION_PERIOD,'initialChartConfig':_0x435fac,'chartReactConfig':DEFAULT_INIT_CHART_REACT_CONFIG,'initialChartReactSettings':_0x3a3c63,'initialAggregationPeriods':DEFAULT_AGGREGATION_PERIODS_LIST,'onApiCreated':_0x496e11['onApiCreated']??constVoid,'palette':_0x38147,'timezones':_0x5caaae,'initialTimeframePresets':_0x184c21,'newsDataProvider':createMockNewsDataProvider()},_0x39e9bf=overrideDependencies(_0x51b977,_0x496e11['dependencies']),_0xa433ba=mergeFullChartConfig(cloneUnsafe(_0x39e9bf['initialChartConfig']),_0x435fac),_0x2eb13f=mergeChartReactConfig(cloneUnsafe(_0x39e9bf['chartReactConfig'])),_0x58a971={..._0x39e9bf['chartReactConfig']['dateFormatters']};_0x2eb13f['dateFormatters']=_0x58a971;const _0x328d46={...INITIAL_USER_DATA,'customPeriods':_0x39e9bf['initialAggregationPeriods']['map'](_0x46a014=>aggregationPeriodToString(_0x46a014))},_0x1ddd7e={..._0x39e9bf};_0x1ddd7e['chartConfig']=_0xa433ba,_0x1ddd7e['chartReactConfig']=_0x2eb13f,_0x1ddd7e['initialUserData']=_0x328d46;const _0x28086c=_0x1ddd7e,_0x414bb3=useSink(()=>ChartReactAppComponent(_0x28086c),[_0x28086c['palette']]),_0x1da22e={};_0x1da22e['value']=_0x496e11['uiOverrides']??{};const _0x137825={..._0x496e11['data']},_0x9b707c=_0x137825;return _0x9b707c['className']=_0x496e11['className'],_0x19b9ce['createElement'](UIOverridesContext['Provider'],_0x1da22e,_0x19b9ce['createElement'](_0x414bb3,_0x9b707c));});const overrideDependencies=(_0x5089d1,_0x2c9cec)=>{if(_0x2c9cec){for(const [_0x434926,_0xdc3231]of Object['entries'](_0x2c9cec)){if(_0xdc3231!==undefined&&_0xdc3231!==null){let _0x5cba10;_0x434926['indexOf']('Provider')!==-0x1&&(_0x5cba10=_0x434926),_0x5cba10?_0x5089d1[_0x434926]=callTracerProxy(_0x5cba10,_0xdc3231):_0x5089d1[_0x434926]=_0xdc3231;}}_0x2c9cec['initialInstrument']!==undefined&&(_0x5089d1['initialInstrument']=option['fromNullable'](_0x2c9cec['initialInstrument']));}return _0x5089d1;};