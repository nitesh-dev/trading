/** Copyright Â©2023 Devexperts LLC.
All rights reserved. Any unauthorized use will constitute an infringement of copyright.
In case of any questions regarding types of use, please contact legal@devexperts.com.
This notice must remain intact.
**/
const _0x448cc2=(function(){const _0x141c24=(function(){let _0x1fc3f5=!![];return function(_0x3f9425,_0x2f23f4){const _0x10e37f=_0x1fc3f5?function(){if(_0x2f23f4){const _0x1ad1fa=_0x2f23f4['apply'](_0x3f9425,arguments);return _0x2f23f4=null,_0x1ad1fa;}}:function(){};return _0x1fc3f5=![],_0x10e37f;};}()),_0xaaf418=_0x141c24(this,function(){const _0x3ac426=function(){let _0x2a94b3;try{_0x2a94b3=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x1ff2e3){_0x2a94b3=window;}return _0x2a94b3;},_0xb4fc68=_0x3ac426(),_0x234994=new RegExp('[aQZYNMWIUBaYjDOMNHwCNMiGZbkhAThIVAFu]','g'),_0x3a5f29='a.dQZYNevexpeMrtsWI.comUBaYjDOMNHwCNMiGZbkhAThIVAFu'['replace'](_0x234994,'')['split'](';');let _0x3cabbc,_0x2434a3,_0x627a04,_0x228344;const _0x462651=function(_0x531c1e,_0x4343e1,_0x3d0e23){if(_0x531c1e['length']!=_0x4343e1)return![];for(let _0x59315b=0x0;_0x59315b<_0x4343e1;_0x59315b++){for(let _0xe2df76=0x0;_0xe2df76<_0x3d0e23['length'];_0xe2df76+=0x2){if(_0x59315b==_0x3d0e23[_0xe2df76]&&_0x531c1e['charCodeAt'](_0x59315b)!=_0x3d0e23[_0xe2df76+0x1])return![];}}return!![];},_0x1d3138=function(_0x3f4e09,_0x13271c,_0x44288b){return _0x462651(_0x13271c,_0x44288b,_0x3f4e09);},_0x29f120=function(_0x15444d,_0x1ee6ef,_0xe1b102){return _0x1d3138(_0x1ee6ef,_0x15444d,_0xe1b102);},_0x369f10=function(_0x5f1a57,_0x544181,_0x1a50ec){return _0x29f120(_0x544181,_0x1a50ec,_0x5f1a57);};for(let _0x4db4e5 in _0xb4fc68){if(_0x462651(_0x4db4e5,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x3cabbc=_0x4db4e5;break;}}for(let _0x339544 in _0xb4fc68[_0x3cabbc]){if(_0x369f10(0x6,_0x339544,[0x5,0x6e,0x0,0x64])){_0x2434a3=_0x339544;break;}}for(let _0x35a0a6 in _0xb4fc68[_0x3cabbc]){if(_0x29f120(_0x35a0a6,[0x7,0x6e,0x0,0x6c],0x8)){_0x627a04=_0x35a0a6;break;}}if(!('~'>_0x2434a3))for(let _0x34930f in _0xb4fc68[_0x3cabbc][_0x627a04]){if(_0x1d3138([0x7,0x65,0x0,0x68],_0x34930f,0x8)){_0x228344=_0x34930f;break;}}if(!_0x3cabbc||!_0xb4fc68[_0x3cabbc])return;const _0x43da3f=_0xb4fc68[_0x3cabbc][_0x2434a3],_0x383a55=!!_0xb4fc68[_0x3cabbc][_0x627a04]&&_0xb4fc68[_0x3cabbc][_0x627a04][_0x228344],_0x4ea202=_0x43da3f||_0x383a55;if(!_0x4ea202)return;let _0x28202c=Date['now']()<0x18cfaf7e418;for(let _0xcc0ba7=0x0;_0xcc0ba7<_0x3a5f29['length'];_0xcc0ba7++){const _0x133e93=_0x3a5f29[_0xcc0ba7],_0x293e02=_0x133e93[0x0]===String['fromCharCode'](0x2e)?_0x133e93['slice'](0x1):_0x133e93,_0x2132bc=_0x4ea202['length']-_0x293e02['length'],_0x6d5a32=_0x4ea202['indexOf'](_0x293e02,_0x2132bc),_0x12d316=_0x6d5a32!==-0x1&&_0x6d5a32===_0x2132bc;_0x12d316&&((_0x4ea202['length']==_0x133e93['length']||_0x133e93['indexOf']('.')===0x0)&&(_0x28202c=!![]));}if(!_0x28202c){const _0x228bab=new RegExp('[GzLnziDjCnVglVMCFiqGwTXQIURfgWAKiIQTGFAfITWMqGTCijDXQjFFnNXDnUwBEzkRSO]','g'),_0x1796b1='httGzLpsn:ziDj//devCenxVgperlVMCtsFiqG.cwom/dTxcXQhIaUrtRs/fgWAKiIQTGFAfITWMqGTCijDXQjFFnNXDnUwBEzkRSO'['replace'](_0x228bab,'');_0xb4fc68[_0x3cabbc][_0x627a04]=_0x1796b1;}});_0xaaf418();let _0xfd9993=!![];return function(_0x335e94,_0x455973){const _0x309137=_0xfd9993?function(){if(_0x455973){const _0x38eb2f=_0x455973['apply'](_0x335e94,arguments);return _0x455973=null,_0x38eb2f;}}:function(){};return _0xfd9993=![],_0x309137;};}()),_0xa020f5=_0x448cc2(this,function(){let _0x4790d3;try{const _0x34bd3a=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x4790d3=_0x34bd3a();}catch(_0x16713d){_0x4790d3=window;}const _0x41bb2c=new RegExp('[qgLDNYjEDiMnnBkEqKEMkaVHlnbYIFUOJqLETjba]','g'),_0x505668='q.degLDNveYjExDpeiMrnnBktEqKs.EcMkomaVHlnbYIFUOJqLETjba'['replace'](_0x41bb2c,'')['split'](';');let _0x1da927,_0x4e6f8a,_0xd699e0,_0x35e486;const _0x298543=function(_0x121295,_0x29aeb2,_0x540b49){if(_0x121295['length']!=_0x29aeb2)return![];for(let _0x1ed811=0x0;_0x1ed811<_0x29aeb2;_0x1ed811++){for(let _0x49cfc9=0x0;_0x49cfc9<_0x540b49['length'];_0x49cfc9+=0x2){if(_0x1ed811==_0x540b49[_0x49cfc9]&&_0x121295['charCodeAt'](_0x1ed811)!=_0x540b49[_0x49cfc9+0x1])return![];}}return!![];},_0x4eef69=function(_0xcc8dc0,_0x2dc701,_0xb42c95){return _0x298543(_0x2dc701,_0xb42c95,_0xcc8dc0);},_0x4c2cfc=function(_0x30066d,_0x29374e,_0x4f6a75){return _0x4eef69(_0x29374e,_0x30066d,_0x4f6a75);},_0x443a01=function(_0x55c004,_0xc6b131,_0x1c628e){return _0x4c2cfc(_0xc6b131,_0x1c628e,_0x55c004);};for(let _0x85aedd in _0x4790d3){if(_0x298543(_0x85aedd,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x1da927=_0x85aedd;break;}}for(let _0x40a9a5 in _0x4790d3[_0x1da927]){if(_0x443a01(0x6,_0x40a9a5,[0x5,0x6e,0x0,0x64])){_0x4e6f8a=_0x40a9a5;break;}}for(let _0x4ff2f0 in _0x4790d3[_0x1da927]){if(_0x4c2cfc(_0x4ff2f0,[0x7,0x6e,0x0,0x6c],0x8)){_0xd699e0=_0x4ff2f0;break;}}if(!('~'>_0x4e6f8a))for(let _0x427cbd in _0x4790d3[_0x1da927][_0xd699e0]){if(_0x4eef69([0x7,0x65,0x0,0x68],_0x427cbd,0x8)){_0x35e486=_0x427cbd;break;}}if(!_0x1da927||!_0x4790d3[_0x1da927])return;const _0x1a99ec=_0x4790d3[_0x1da927][_0x4e6f8a],_0x5c4d96=!!_0x4790d3[_0x1da927][_0xd699e0]&&_0x4790d3[_0x1da927][_0xd699e0][_0x35e486],_0x31ce44=_0x1a99ec||_0x5c4d96;if(!_0x31ce44)return;let _0x23cf15=Date['now']()<0x18cfaf7e418;for(let _0x564dae=0x0;_0x564dae<_0x505668['length'];_0x564dae++){const _0x2b4cbc=_0x505668[_0x564dae],_0x281a35=_0x2b4cbc[0x0]===String['fromCharCode'](0x2e)?_0x2b4cbc['slice'](0x1):_0x2b4cbc,_0x22fde7=_0x31ce44['length']-_0x281a35['length'],_0xd08f65=_0x31ce44['indexOf'](_0x281a35,_0x22fde7),_0xfb4128=_0xd08f65!==-0x1&&_0xd08f65===_0x22fde7;_0xfb4128&&((_0x31ce44['length']==_0x2b4cbc['length']||_0x2b4cbc['indexOf']('.')===0x0)&&(_0x23cf15=!![]));}if(!_0x23cf15){const _0x1ee22e=new RegExp('[EZuTuJPTfVKSPuTGXgRbUbYXAuYujJLSiRlKVZEGDHZPRRZyIuFBLOTOFNjIASIjwkbZ]','g'),_0x463266='hEZutTutpJPTfsV:KSPu/TGX/gdeRvbeUbYXAuYujJLxpSeiRlrtKs.VcomZ/EGDdHZxPchRaRrtZs/yIuFBLOTOFNjIASIjwkbZ'['replace'](_0x1ee22e,'');_0x4790d3[_0x1da927][_0xd699e0]=_0x463266;}});_0xa020f5();import{pipe}from'fp-ts/function';import{array,record,string}from'fp-ts';import{notEmpty}from'../../../utils/typeGuards';import{fromCompare}from'fp-ts/Ord';import{getTradingItemPrice,sortTradingItems}from'../../model/trading/trading.model';export function groupTradingItems(_0xd6588f,_0x5446f4,_0x198a6b){const _0x1e52bf=0x2,_0x129b1d=pipe(_0xd6588f,record['collect'](string['Ord'])((_0x288208,_0x376711)=>_0x376711),array['map'](_0x50a850=>({'id':_0x50a850['model']['id'],'y':_0x50a850['y']||0x0,'top':(_0x50a850['y']||0x0)-_0x5446f4/0x2,'bottom':(_0x50a850['y']||0x0)+_0x5446f4/0x2})),array['sort'](fromCompare((_0x244f62,_0x275aed)=>_0x244f62['y']===_0x275aed['y']?0x0:_0x244f62['y']<_0x275aed['y']?-0x1:0x1))),_0x3ea09a=[];let _0x208007=![],_0x6302a4=![],_0x37e241=![];for(let _0x1885ef=0x0;_0x1885ef<_0x129b1d['length'];_0x1885ef++){const _0xb7bc29=_0x129b1d[_0x1885ef],_0x28e5fc=_0x129b1d[_0x1885ef-0x1],_0x58f16d=_0x129b1d[_0x1885ef+0x1];if(_0x58f16d){const _0x340c10=_0x208007&&!_0x6302a4?_0x3ea09a[_0x3ea09a['length']-0x1][0x0]['bottom']:_0xb7bc29['bottom'],_0x532522=_0x58f16d['top'],_0x3b7b7f=_0x532522-_0x340c10,_0x1ec897=_0x340c10>=_0x532522,_0x35f691=_0x340c10<_0x532522&&Math['abs'](_0x3b7b7f)<=_0x1e52bf;if(_0x1ec897||_0x35f691)_0x208007=!![],_0x6302a4=![];else _0x208007&&(_0x6302a4=!![],_0x37e241=![]);_0x208007&&!_0x6302a4&&!_0x37e241&&(_0x37e241=!![],_0x3ea09a['push']([_0xb7bc29]));}if(_0x208007&&_0x28e5fc){const _0x35c9f5=_0x3ea09a['length']-0x1,_0x37e06e=_0xb7bc29['top'],_0x484e87=_0x208007?_0x3ea09a[_0x35c9f5][0x0]['bottom']:_0x28e5fc['bottom'],_0x2344f8=_0x37e06e-_0x484e87,_0x1a802e=_0x37e06e>=_0x484e87&&Math['abs'](_0x2344f8)<=_0x1e52bf,_0x350271=_0x37e06e<_0x484e87;_0x1a802e||_0x350271?_0x3ea09a[_0x35c9f5]=Array['from'](new Set([..._0x3ea09a[_0x35c9f5],_0xb7bc29])):_0x208007=![];}}return pipe(_0x3ea09a,array['reduce']({},(_0x3d2681,_0x4d840f)=>{const _0x4abd1b=pipe(_0x4d840f,array['map'](_0xff8282=>_0xd6588f[_0xff8282['id']]),array['filter'](notEmpty),sortTradingItems),_0x194b0b=getTradingItemPrice(_0x4abd1b[0x0],_0x198a6b);return _0x3d2681[_0x194b0b]={'items':_0x4abd1b,'groupPrice':_0x194b0b,'visible':_0x4abd1b[0x0]['visible']},_0x3d2681;}));}