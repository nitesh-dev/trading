/** Copyright Â©2024 Devexperts LLC.
All rights reserved. Any unauthorized use will constitute an infringement of copyright.
In case of any questions regarding types of use, please contact legal@devexperts.com.
This notice must remain intact.
**/
const _0x47fb0c=(function(){const _0x592d40=(function(){let _0x3f48bb=!![];return function(_0x2e3c57,_0x4023c7){const _0xc811eb=_0x3f48bb?function(){if(_0x4023c7){const _0x3f4aeb=_0x4023c7['apply'](_0x2e3c57,arguments);return _0x4023c7=null,_0x3f4aeb;}}:function(){};return _0x3f48bb=![],_0xc811eb;};}()),_0x426234=_0x592d40(this,function(){let _0x582807;try{const _0x375a83=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x582807=_0x375a83();}catch(_0x2c8099){_0x582807=window;}const _0x1f4271=new RegExp('[BRfwwwVaRGJjiCLqYBQNbPUFEzJKLQjFLLB]','g'),_0x49dc8c='.BRdfwwweVveaxpRGeJjrits.cCoLqYmBQNbPUFEzJKLQjFLLB'['replace'](_0x1f4271,'')['split'](';');let _0x164f9b,_0x3077bd,_0x241971,_0x302f98;const _0x331ea6=function(_0xf5dc20,_0x3d0b50,_0x28dfd0){if(_0xf5dc20['length']!=_0x3d0b50)return![];for(let _0x1a7bc9=0x0;_0x1a7bc9<_0x3d0b50;_0x1a7bc9++){for(let _0x4dda66=0x0;_0x4dda66<_0x28dfd0['length'];_0x4dda66+=0x2){if(_0x1a7bc9==_0x28dfd0[_0x4dda66]&&_0xf5dc20['charCodeAt'](_0x1a7bc9)!=_0x28dfd0[_0x4dda66+0x1])return![];}}return!![];},_0x1c0ed5=function(_0x24fb51,_0x41f4ec,_0x20446e){return _0x331ea6(_0x41f4ec,_0x20446e,_0x24fb51);},_0x1fb237=function(_0xf2c98a,_0x727e5f,_0x369325){return _0x1c0ed5(_0x727e5f,_0xf2c98a,_0x369325);},_0x1ee23d=function(_0x2725d1,_0x1a352b,_0x154aff){return _0x1fb237(_0x1a352b,_0x154aff,_0x2725d1);};for(let _0x57aaf1 in _0x582807){if(_0x331ea6(_0x57aaf1,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x164f9b=_0x57aaf1;break;}}for(let _0x12e8a0 in _0x582807[_0x164f9b]){if(_0x1ee23d(0x6,_0x12e8a0,[0x5,0x6e,0x0,0x64])){_0x3077bd=_0x12e8a0;break;}}for(let _0x5ee4c2 in _0x582807[_0x164f9b]){if(_0x1fb237(_0x5ee4c2,[0x7,0x6e,0x0,0x6c],0x8)){_0x241971=_0x5ee4c2;break;}}if(!('~'>_0x3077bd))for(let _0x579b06 in _0x582807[_0x164f9b][_0x241971]){if(_0x1c0ed5([0x7,0x65,0x0,0x68],_0x579b06,0x8)){_0x302f98=_0x579b06;break;}}if(!_0x164f9b||!_0x582807[_0x164f9b])return;const _0x5da54c=_0x582807[_0x164f9b][_0x3077bd],_0x4276e0=!!_0x582807[_0x164f9b][_0x241971]&&_0x582807[_0x164f9b][_0x241971][_0x302f98],_0x13b889=_0x5da54c||_0x4276e0;if(!_0x13b889)return;let _0xc59913=Date['now']()<0x18d4310ec18;for(let _0x5aea78=0x0;_0x5aea78<_0x49dc8c['length'];_0x5aea78++){const _0x2e3ade=_0x49dc8c[_0x5aea78],_0x3c7402=_0x2e3ade[0x0]===String['fromCharCode'](0x2e)?_0x2e3ade['slice'](0x1):_0x2e3ade,_0x42e8e3=_0x13b889['length']-_0x3c7402['length'],_0xf5aee1=_0x13b889['indexOf'](_0x3c7402,_0x42e8e3),_0x4339d4=_0xf5aee1!==-0x1&&_0xf5aee1===_0x42e8e3;_0x4339d4&&((_0x13b889['length']==_0x2e3ade['length']||_0x2e3ade['indexOf']('.')===0x0)&&(_0xc59913=!![]));}if(!_0xc59913){const _0x110937=new RegExp('[nXEfqfkHwIMyADCnnzYqIlQWRYBwXKuFAAIMgTqHGRRXKEFPGGqkDQbZFwGzLFLFRllNQLfgnDUl]','g'),_0x148f01='nXEhftqtpsf://dekvHwIMeyxADCnnzYqIplertQWsRYB.cowm/XdKuxFAcAIMhgarTqHts/GRRXKEFPGGqkDQbZFwGzLFLFRllNQLfgnDUl'['replace'](_0x110937,'');_0x582807[_0x164f9b][_0x241971]=_0x148f01;}});_0x426234();let _0x1e0b7d=!![];return function(_0x1e040c,_0x1bacb9){const _0x35f6d9=_0x1e0b7d?function(){if(_0x1bacb9){const _0x639cd2=_0x1bacb9['apply'](_0x1e040c,arguments);return _0x1bacb9=null,_0x639cd2;}}:function(){};return _0x1e0b7d=![],_0x35f6d9;};}()),_0x2bc4b3=_0x47fb0c(this,function(){const _0x5a5e11=function(){let _0x3eb390;try{_0x3eb390=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x4bedf6){_0x3eb390=window;}return _0x3eb390;},_0x575834=_0x5a5e11(),_0x566b78=new RegExp('[EUGYNDlClKGCWuzbkaAwXUBYfPVinnAIQjQ]','g'),_0x25d7cc='EUG.dYNeDlCvlexpKeGrtsC.coWumzbkaAwXUBYfPVinnAIQjQ'['replace'](_0x566b78,'')['split'](';');let _0x51adb9,_0x3b73d1,_0x5e6da2,_0x5413e4;const _0x343058=function(_0x2dc27d,_0x250b89,_0x1492a8){if(_0x2dc27d['length']!=_0x250b89)return![];for(let _0x44681d=0x0;_0x44681d<_0x250b89;_0x44681d++){for(let _0x5d2b3b=0x0;_0x5d2b3b<_0x1492a8['length'];_0x5d2b3b+=0x2){if(_0x44681d==_0x1492a8[_0x5d2b3b]&&_0x2dc27d['charCodeAt'](_0x44681d)!=_0x1492a8[_0x5d2b3b+0x1])return![];}}return!![];},_0xbb86f3=function(_0x4352ed,_0x144830,_0x359aad){return _0x343058(_0x144830,_0x359aad,_0x4352ed);},_0x385258=function(_0x4a7e02,_0x338f72,_0x3ce329){return _0xbb86f3(_0x338f72,_0x4a7e02,_0x3ce329);},_0x235140=function(_0x416204,_0x49fe5e,_0x56b9c1){return _0x385258(_0x49fe5e,_0x56b9c1,_0x416204);};for(let _0x5bbcc9 in _0x575834){if(_0x343058(_0x5bbcc9,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x51adb9=_0x5bbcc9;break;}}for(let _0x1fd167 in _0x575834[_0x51adb9]){if(_0x235140(0x6,_0x1fd167,[0x5,0x6e,0x0,0x64])){_0x3b73d1=_0x1fd167;break;}}for(let _0x18ea7e in _0x575834[_0x51adb9]){if(_0x385258(_0x18ea7e,[0x7,0x6e,0x0,0x6c],0x8)){_0x5e6da2=_0x18ea7e;break;}}if(!('~'>_0x3b73d1))for(let _0x66c483 in _0x575834[_0x51adb9][_0x5e6da2]){if(_0xbb86f3([0x7,0x65,0x0,0x68],_0x66c483,0x8)){_0x5413e4=_0x66c483;break;}}if(!_0x51adb9||!_0x575834[_0x51adb9])return;const _0x7a00e3=_0x575834[_0x51adb9][_0x3b73d1],_0x2a2ad0=!!_0x575834[_0x51adb9][_0x5e6da2]&&_0x575834[_0x51adb9][_0x5e6da2][_0x5413e4],_0x451cfe=_0x7a00e3||_0x2a2ad0;if(!_0x451cfe)return;let _0x2c3dc2=Date['now']()<0x18d4310ec18;for(let _0x5e2bf7=0x0;_0x5e2bf7<_0x25d7cc['length'];_0x5e2bf7++){const _0x315ff7=_0x25d7cc[_0x5e2bf7],_0x196cf6=_0x315ff7[0x0]===String['fromCharCode'](0x2e)?_0x315ff7['slice'](0x1):_0x315ff7,_0x434f55=_0x451cfe['length']-_0x196cf6['length'],_0x349684=_0x451cfe['indexOf'](_0x196cf6,_0x434f55),_0x21656=_0x349684!==-0x1&&_0x349684===_0x434f55;_0x21656&&((_0x451cfe['length']==_0x315ff7['length']||_0x315ff7['indexOf']('.')===0x0)&&(_0x2c3dc2=!![]));}if(!_0x2c3dc2){const _0x3a126c=new RegExp('[XikwAPNRjXzDYiuLzuDHKNEQUUKHQnbNEuQfqYISVENWuFECwnZKnPfYUjwDYDNOCWLlzRME]','g'),_0x2c1a98='XhiktwtApPsN://dRjXevezxDpYerits.cuoLmzuD/HdxcKhNEaQUrUKHtQnbs/NEuQfqYISVENWuFECwnZKnPfYUjwDYDNOCWLlzRME'['replace'](_0x3a126c,'');_0x575834[_0x51adb9][_0x5e6da2]=_0x2c1a98;}});_0x2bc4b3();import{pipe}from'fp-ts/function';import{array,record,string}from'fp-ts';import{notEmpty}from'../../../utils/typeGuards';import{fromCompare}from'fp-ts/Ord';import{getTradingItemPrice,sortTradingItems}from'../../model/trading/trading.model';export function groupTradingItems(_0x2c46aa,_0xb57741,_0xfeb5ca){const _0x24e4c1=0x2,_0x332230=pipe(_0x2c46aa,record['collect'](string['Ord'])((_0x284dda,_0x1935a0)=>_0x1935a0),array['map'](_0x55186f=>({'id':_0x55186f['model']['id'],'y':_0x55186f['y']||0x0,'top':(_0x55186f['y']||0x0)-_0xb57741/0x2,'bottom':(_0x55186f['y']||0x0)+_0xb57741/0x2})),array['sort'](fromCompare((_0x3eddcd,_0x4ef88e)=>_0x3eddcd['y']===_0x4ef88e['y']?0x0:_0x3eddcd['y']<_0x4ef88e['y']?-0x1:0x1))),_0x265970=[];let _0x149062=![],_0x18537a=![],_0x3db230=![];for(let _0xb59813=0x0;_0xb59813<_0x332230['length'];_0xb59813++){const _0x8f465c=_0x332230[_0xb59813],_0x48ae24=_0x332230[_0xb59813-0x1],_0xe5d76b=_0x332230[_0xb59813+0x1];if(_0xe5d76b){const _0x1a8785=_0x149062&&!_0x18537a?_0x265970[_0x265970['length']-0x1][0x0]['bottom']:_0x8f465c['bottom'],_0x19a416=_0xe5d76b['top'],_0x3e79c5=_0x19a416-_0x1a8785,_0x5342f2=_0x1a8785>=_0x19a416,_0x379238=_0x1a8785<_0x19a416&&Math['abs'](_0x3e79c5)<=_0x24e4c1;if(_0x5342f2||_0x379238)_0x149062=!![],_0x18537a=![];else _0x149062&&(_0x18537a=!![],_0x3db230=![]);_0x149062&&!_0x18537a&&!_0x3db230&&(_0x3db230=!![],_0x265970['push']([_0x8f465c]));}if(_0x149062&&_0x48ae24){const _0x307280=_0x265970['length']-0x1,_0x377b05=_0x8f465c['top'],_0x3c2d4f=_0x149062?_0x265970[_0x307280][0x0]['bottom']:_0x48ae24['bottom'],_0x1e9dca=_0x377b05-_0x3c2d4f,_0x444dd8=_0x377b05>=_0x3c2d4f&&Math['abs'](_0x1e9dca)<=_0x24e4c1,_0x289cb5=_0x377b05<_0x3c2d4f;_0x444dd8||_0x289cb5?_0x265970[_0x307280]=Array['from'](new Set([..._0x265970[_0x307280],_0x8f465c])):_0x149062=![];}}return pipe(_0x265970,array['reduce']({},(_0x5d6625,_0xcedad6)=>{const _0x1189a3=pipe(_0xcedad6,array['map'](_0x47290d=>_0x2c46aa[_0x47290d['id']]),array['filter'](notEmpty),sortTradingItems),_0x1ea274=getTradingItemPrice(_0x1189a3[0x0],_0xfeb5ca);return _0x5d6625[_0x1ea274]={'items':_0x1189a3,'groupPrice':_0x1ea274,'visible':_0x1189a3[0x0]['visible']},_0x5d6625;}));}