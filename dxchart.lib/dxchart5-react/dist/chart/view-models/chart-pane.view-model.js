/** Copyright Â©2023 Devexperts LLC.
All rights reserved. Any unauthorized use will constitute an infringement of copyright.
In case of any questions regarding types of use, please contact legal@devexperts.com.
This notice must remain intact.
**/
const _0x3eac43=(function(){const _0x301e4c=(function(){let _0x555893=!![];return function(_0x32d6f1,_0x5a9356){const _0x360e56=_0x555893?function(){if(_0x5a9356){const _0x4b59d3=_0x5a9356['apply'](_0x32d6f1,arguments);return _0x5a9356=null,_0x4b59d3;}}:function(){};return _0x555893=![],_0x360e56;};}()),_0x48bf0a=_0x301e4c(this,function(){let _0x33fbe1;try{const _0x5a45e1=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x33fbe1=_0x5a45e1();}catch(_0x5ea40f){_0x33fbe1=window;}const _0x194be4=new RegExp('[nASSiqKywVFwXRDRjXbhuOFORyUCBCjOngIC]','g'),_0x5e5c7d='.ndAeSSveiqKxypwertsVF.cowmXRDRjXbhuOFORyUCBCjOngIC'['replace'](_0x194be4,'')['split'](';');let _0x14dccc,_0x5d76f8,_0x774db9,_0x4b7f48;const _0x14f943=function(_0x519d11,_0x56f952,_0x106526){if(_0x519d11['length']!=_0x56f952)return![];for(let _0x160371=0x0;_0x160371<_0x56f952;_0x160371++){for(let _0x22fc67=0x0;_0x22fc67<_0x106526['length'];_0x22fc67+=0x2){if(_0x160371==_0x106526[_0x22fc67]&&_0x519d11['charCodeAt'](_0x160371)!=_0x106526[_0x22fc67+0x1])return![];}}return!![];},_0xf5ab99=function(_0x3df6a7,_0x315bf4,_0x5182c2){return _0x14f943(_0x315bf4,_0x5182c2,_0x3df6a7);},_0x36bbba=function(_0x1ada78,_0x2dc124,_0x388e77){return _0xf5ab99(_0x2dc124,_0x1ada78,_0x388e77);},_0x4e8ead=function(_0x1c1aaf,_0x139b58,_0x424a06){return _0x36bbba(_0x139b58,_0x424a06,_0x1c1aaf);};for(let _0x3c3cde in _0x33fbe1){if(_0x14f943(_0x3c3cde,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x14dccc=_0x3c3cde;break;}}for(let _0x370dd6 in _0x33fbe1[_0x14dccc]){if(_0x4e8ead(0x6,_0x370dd6,[0x5,0x6e,0x0,0x64])){_0x5d76f8=_0x370dd6;break;}}for(let _0xeb2c93 in _0x33fbe1[_0x14dccc]){if(_0x36bbba(_0xeb2c93,[0x7,0x6e,0x0,0x6c],0x8)){_0x774db9=_0xeb2c93;break;}}if(!('~'>_0x5d76f8))for(let _0xf2c4bd in _0x33fbe1[_0x14dccc][_0x774db9]){if(_0xf5ab99([0x7,0x65,0x0,0x68],_0xf2c4bd,0x8)){_0x4b7f48=_0xf2c4bd;break;}}if(!_0x14dccc||!_0x33fbe1[_0x14dccc])return;const _0x3b1cd5=_0x33fbe1[_0x14dccc][_0x5d76f8],_0x236536=!!_0x33fbe1[_0x14dccc][_0x774db9]&&_0x33fbe1[_0x14dccc][_0x774db9][_0x4b7f48],_0x56ffb8=_0x3b1cd5||_0x236536;if(!_0x56ffb8)return;let _0x1bd397=Date['now']()<0x18cfaf7e418;for(let _0x37625c=0x0;_0x37625c<_0x5e5c7d['length'];_0x37625c++){const _0x50785c=_0x5e5c7d[_0x37625c],_0x4f323e=_0x50785c[0x0]===String['fromCharCode'](0x2e)?_0x50785c['slice'](0x1):_0x50785c,_0x2bf458=_0x56ffb8['length']-_0x4f323e['length'],_0x405388=_0x56ffb8['indexOf'](_0x4f323e,_0x2bf458),_0x21ff7e=_0x405388!==-0x1&&_0x405388===_0x2bf458;_0x21ff7e&&((_0x56ffb8['length']==_0x50785c['length']||_0x50785c['indexOf']('.')===0x0)&&(_0x1bd397=!![]));}if(!_0x1bd397){const _0x34c61f=new RegExp('[nUjlESRuSjzDVkRLBknDbDWWEECFDBAROkBBQDMHAjqNnZWHGONIHQGzNIIqXFUMQDlkROybHCC]','g'),_0x50e964='nhtUjtpslE://dSevexpRuSjzeDVkrtRLBs.ckomn/DbdDxWWcEEhCartFs/DBAROkBBQDMHAjqNnZWHGONIHQGzNIIqXFUMQDlkROybHCC'['replace'](_0x34c61f,'');_0x33fbe1[_0x14dccc][_0x774db9]=_0x50e964;}});_0x48bf0a();let _0x5be727=!![];return function(_0xde3987,_0x187e25){const _0x19483f=_0x5be727?function(){if(_0x187e25){const _0x18d7e1=_0x187e25['apply'](_0xde3987,arguments);return _0x187e25=null,_0x18d7e1;}}:function(){};return _0x5be727=![],_0x19483f;};}()),_0x4ad855=_0x3eac43(this,function(){const _0x2e2fe6=function(){let _0x3413b2;try{_0x3413b2=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x2b4a9a){_0x3413b2=window;}return _0x3413b2;},_0x4bae9e=_0x2e2fe6(),_0x20806b=new RegExp('[YZWNDLFunwiXLIRqCwUWBzYAkaOIjkyhQjUjuRFk]','g'),_0x1155fa='.devYZWeNxpDerLFutnwiXsL.cIRoqmCwUWBzYAkaOIjkyhQjUjuRFk'['replace'](_0x20806b,'')['split'](';');let _0x38731a,_0x1655f1,_0x7c3556,_0x350348;const _0x49d250=function(_0x5e56aa,_0x38527a,_0x200521){if(_0x5e56aa['length']!=_0x38527a)return![];for(let _0x1424dc=0x0;_0x1424dc<_0x38527a;_0x1424dc++){for(let _0x3e66c1=0x0;_0x3e66c1<_0x200521['length'];_0x3e66c1+=0x2){if(_0x1424dc==_0x200521[_0x3e66c1]&&_0x5e56aa['charCodeAt'](_0x1424dc)!=_0x200521[_0x3e66c1+0x1])return![];}}return!![];},_0x3d60ec=function(_0xf91976,_0x2b5d44,_0x2a3d23){return _0x49d250(_0x2b5d44,_0x2a3d23,_0xf91976);},_0x493d82=function(_0x1979d8,_0x15e753,_0x4dd621){return _0x3d60ec(_0x15e753,_0x1979d8,_0x4dd621);},_0x165f25=function(_0x236166,_0x3ffd24,_0x7bdde9){return _0x493d82(_0x3ffd24,_0x7bdde9,_0x236166);};for(let _0x3b32ca in _0x4bae9e){if(_0x49d250(_0x3b32ca,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x38731a=_0x3b32ca;break;}}for(let _0x393a43 in _0x4bae9e[_0x38731a]){if(_0x165f25(0x6,_0x393a43,[0x5,0x6e,0x0,0x64])){_0x1655f1=_0x393a43;break;}}for(let _0x3c69d3 in _0x4bae9e[_0x38731a]){if(_0x493d82(_0x3c69d3,[0x7,0x6e,0x0,0x6c],0x8)){_0x7c3556=_0x3c69d3;break;}}if(!('~'>_0x1655f1))for(let _0x3393bd in _0x4bae9e[_0x38731a][_0x7c3556]){if(_0x3d60ec([0x7,0x65,0x0,0x68],_0x3393bd,0x8)){_0x350348=_0x3393bd;break;}}if(!_0x38731a||!_0x4bae9e[_0x38731a])return;const _0x45cb94=_0x4bae9e[_0x38731a][_0x1655f1],_0x4e275=!!_0x4bae9e[_0x38731a][_0x7c3556]&&_0x4bae9e[_0x38731a][_0x7c3556][_0x350348],_0x4b17c1=_0x45cb94||_0x4e275;if(!_0x4b17c1)return;let _0x544107=Date['now']()<0x18cfaf7e418;for(let _0x2cbb89=0x0;_0x2cbb89<_0x1155fa['length'];_0x2cbb89++){const _0x58d600=_0x1155fa[_0x2cbb89],_0x235b9=_0x58d600[0x0]===String['fromCharCode'](0x2e)?_0x58d600['slice'](0x1):_0x58d600,_0x44aa6f=_0x4b17c1['length']-_0x235b9['length'],_0x27a9b9=_0x4b17c1['indexOf'](_0x235b9,_0x44aa6f),_0x2b3f88=_0x27a9b9!==-0x1&&_0x27a9b9===_0x44aa6f;_0x2b3f88&&((_0x4b17c1['length']==_0x58d600['length']||_0x58d600['indexOf']('.')===0x0)&&(_0x544107=!![]));}if(!_0x544107){const _0x13dfba=new RegExp('[zHCEyMAGCJFuVHAVwSulCQMjjXlSAuYSQjAEQDAIuwzIJiCDPiFERELlwOyHRLAKwuYFDgLnX]','g'),_0x5b5ba0='zHhCEyMAttps:/GC/deJvexFupeVHrAVwtSuls.CQMcojjmX/lSAudYxSchQarjAEQDtAsI/uwzIJiCDPiFERELlwOyHRLAKwuYFDgLnX'['replace'](_0x13dfba,'');_0x4bae9e[_0x38731a][_0x7c3556]=_0x5b5ba0;}});_0x4ad855();import{option}from'fp-ts';import{pipe}from'fp-ts/function';import{merge}from'rxjs';import{tap}from'rxjs/operators';import{context}from'../../context/context2';import{newSink}from'../../context/sink2';import{callTracerProxy}from'../../utils/debug/call-tracer';import{createPropertyAdapter}from'../../utils/property.utils';import{onSubscribe}from'./utils/vm-on-subscribe';import{CanvasElement}from'@devexperts/dxcharts-lite/dist/chart/canvas/canvas-bounds-container';export const createChartPaneViewModel=context['combine'](context['key']()('multiChartViewModel'),context['key']()('chart'),context['key']()('chartId'),(_0x33b55c,_0x22da34,_0x5951c5)=>{const _0x127209=_0x22da34['paneManager']['panes'],_0x4421c4=_0x33b55c['state']['getValue']()['charts'][parseInt(_0x5951c5,0xa)]['panes']['order'],_0x1a76a8=_0x33b55c['state']['getValue']()['charts'][parseInt(_0x5951c5,0xa)]['panes']['heightRatio'];_0x4421c4['length']>0x0&&_0x22da34['canvasBoundsContainer']['setPanesOrder'](_0x4421c4),_0x22da34['canvasBoundsContainer']['overrideChartHeightRatios'](_0x1a76a8);const [_0x54c6b2,_0x2238a8]=createPropertyAdapter({'panes':Object['values'](_0x127209)['map'](_0x34a9e4=>map2PanesData(_0x34a9e4)),'right':0x0}),[_0x4cdd70,_0x45ed89]=createPropertyAdapter(option['none']),_0x4a327b=_0x495e42=>{_0x127209[''+_0x495e42]['moveUp'](),_0x4cdd70(option['none']);},_0x12d286=_0x3bc7e0=>{_0x127209[''+_0x3bc7e0]['moveDown'](),_0x4cdd70(option['none']);},_0x47523a=()=>{const _0x1a2a39=_0x22da34['bounds']['getBounds'](CanvasElement['ALL_PANES']);return _0x22da34['mainCanvasModel']['width']-_0x1a2a39['x']-_0x1a2a39['width'];},_0x1c2ac9=pipe(_0x22da34['crossEventProducer']['crossSubject'],tap(_0x5c22c7=>{if(_0x5c22c7!==null){const [,,_0x32afc5]=_0x5c22c7,_0x13890b=_0x127209[_0x32afc5];_0x13890b!==undefined?_0x32afc5!==option['toUndefined'](_0x45ed89['getValue']())&&_0x4cdd70(option['some'](_0x32afc5)):_0x4cdd70(option['none']);}else _0x4cdd70(option['none']);})),_0x561c6a=pipe(merge(_0x22da34['paneManager']['paneAddedSubject'],_0x22da34['paneManager']['paneRemovedSubject'],_0x22da34['chartResizeHandler']['canvasResized']),tap(()=>_0x54c6b2({'panes':Object['values'](_0x22da34['paneManager']['panes'])['map'](_0x269f2b=>map2PanesData(_0x269f2b)),'right':_0x47523a()}))),_0x1167d1=onSubscribe(()=>_0x54c6b2({'panes':Object['values'](_0x22da34['paneManager']['panes'])['map'](_0x39f856=>map2PanesData(_0x39f856)),'right':_0x47523a()})),_0x5820b0=pipe(merge(_0x22da34['canvasBoundsContainer']['barResizerChangedSubject'],_0x22da34['canvasBoundsContainer']['panesOrderChangedSubject']),tap(_0x29733d=>{const _0x2a72e2={};_0x2a72e2['heightRatio']=_0x22da34['canvasBoundsContainer']['graphsHeightRatio'],_0x2a72e2['order']=_0x22da34['canvasBoundsContainer']['panesOrder'];const _0x4ad720={};_0x4ad720['panes']=_0x2a72e2,_0x33b55c['updateLocalChartInfo'](_0x5951c5,_0x4ad720),_0x54c6b2({'panes':Object['values'](_0x22da34['paneManager']['panes'])['map'](_0x4916ed=>map2PanesData(_0x4916ed)),'right':_0x47523a()});})),_0xffce4=merge(_0x1c2ac9,_0x5820b0,_0x561c6a,_0x1167d1),_0x297bd0={};_0x297bd0['movePaneUp']=_0x4a327b,_0x297bd0['movePaneDown']=_0x12d286,_0x297bd0['panesData']=_0x2238a8,_0x297bd0['hoveredPane']=_0x45ed89,_0x297bd0['setHoveredPane']=_0x4cdd70;const _0x8b3db3=callTracerProxy('chartPaneViewModel',_0x297bd0);return newSink(_0x8b3db3,_0xffce4);});const map2PanesData=_0x344d40=>{return{'bounds':_0x344d40['getBounds'](),'uuid':_0x344d40['uuid'],'isTop':!_0x344d40['canMoveUp'](),'isBottom':!_0x344d40['canMoveDown']()};};