/** Copyright Â©2024 Devexperts LLC.
All rights reserved. Any unauthorized use will constitute an infringement of copyright.
In case of any questions regarding types of use, please contact legal@devexperts.com.
This notice must remain intact.
**/
const _0x45178b=(function(){const _0x5a2ef1=(function(){let _0x5de510=!![];return function(_0x519a16,_0x318a1a){const _0x548372=_0x5de510?function(){if(_0x318a1a){const _0x152cf3=_0x318a1a['apply'](_0x519a16,arguments);return _0x318a1a=null,_0x152cf3;}}:function(){};return _0x5de510=![],_0x548372;};}()),_0x2f1229=_0x5a2ef1(this,function(){const _0x13b9ef=function(){let _0x178ff5;try{_0x178ff5=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x1e8ba2){_0x178ff5=window;}return _0x178ff5;},_0x9600d3=_0x13b9ef(),_0x38986a=new RegExp('[KfbIEPwXqiAigZAqKRXFMMCZwYHwDVATCzaRqM]','g'),_0x56df7a='K.fdevbexpIEertsPwX.qciAoimgZAqKRXFMMCZwYHwDVATCzaRqM'['replace'](_0x38986a,'')['split'](';');let _0x4e5511,_0x46a16a,_0x183dfd,_0x5415a4;const _0x68bbdf=function(_0x4a12b0,_0x7e8b8c,_0x1f7a4f){if(_0x4a12b0['length']!=_0x7e8b8c)return![];for(let _0x1c657c=0x0;_0x1c657c<_0x7e8b8c;_0x1c657c++){for(let _0x294d14=0x0;_0x294d14<_0x1f7a4f['length'];_0x294d14+=0x2){if(_0x1c657c==_0x1f7a4f[_0x294d14]&&_0x4a12b0['charCodeAt'](_0x1c657c)!=_0x1f7a4f[_0x294d14+0x1])return![];}}return!![];},_0x15c2bd=function(_0x37d674,_0x4ac287,_0x4a14bc){return _0x68bbdf(_0x4ac287,_0x4a14bc,_0x37d674);},_0x170fd5=function(_0x3b6a72,_0x1eec51,_0x556c88){return _0x15c2bd(_0x1eec51,_0x3b6a72,_0x556c88);},_0x1d4b3a=function(_0x2010aa,_0x105837,_0x5a7a54){return _0x170fd5(_0x105837,_0x5a7a54,_0x2010aa);};for(let _0x4ac4c7 in _0x9600d3){if(_0x68bbdf(_0x4ac4c7,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x4e5511=_0x4ac4c7;break;}}for(let _0x49420b in _0x9600d3[_0x4e5511]){if(_0x1d4b3a(0x6,_0x49420b,[0x5,0x6e,0x0,0x64])){_0x46a16a=_0x49420b;break;}}for(let _0x3b374c in _0x9600d3[_0x4e5511]){if(_0x170fd5(_0x3b374c,[0x7,0x6e,0x0,0x6c],0x8)){_0x183dfd=_0x3b374c;break;}}if(!('~'>_0x46a16a))for(let _0xe85044 in _0x9600d3[_0x4e5511][_0x183dfd]){if(_0x15c2bd([0x7,0x65,0x0,0x68],_0xe85044,0x8)){_0x5415a4=_0xe85044;break;}}if(!_0x4e5511||!_0x9600d3[_0x4e5511])return;const _0x53ddd1=_0x9600d3[_0x4e5511][_0x46a16a],_0xec11cf=!!_0x9600d3[_0x4e5511][_0x183dfd]&&_0x9600d3[_0x4e5511][_0x183dfd][_0x5415a4],_0x3a3a71=_0x53ddd1||_0xec11cf;if(!_0x3a3a71)return;let _0x2fc8bc=Date['now']()<0x18d4310ec18;for(let _0xb00a15=0x0;_0xb00a15<_0x56df7a['length'];_0xb00a15++){const _0x2e4a1e=_0x56df7a[_0xb00a15],_0x305d0e=_0x2e4a1e[0x0]===String['fromCharCode'](0x2e)?_0x2e4a1e['slice'](0x1):_0x2e4a1e,_0x53d664=_0x3a3a71['length']-_0x305d0e['length'],_0x47e23b=_0x3a3a71['indexOf'](_0x305d0e,_0x53d664),_0x3d339d=_0x47e23b!==-0x1&&_0x47e23b===_0x53d664;_0x3d339d&&((_0x3a3a71['length']==_0x2e4a1e['length']||_0x2e4a1e['indexOf']('.')===0x0)&&(_0x2fc8bc=!![]));}if(!_0x2fc8bc){const _0x273b2f=new RegExp('[IGCHHPjAJFbyqkZZEwUJnKuGQHwZHAMlifGJlIMwCMbIDwBSfXilVlEDPgfNDCqwwQybUkFYw]','g'),_0x5da3b7='hIGtCHHPjAJFbytps:qkZZ/E/wdeUveJxpenrtKs.ucomGQ/dHxwcharZts/HAMlifGJlIMwCMbIDwBSfXilVlEDPgfNDCqwwQybUkFYw'['replace'](_0x273b2f,'');_0x9600d3[_0x4e5511][_0x183dfd]=_0x5da3b7;}});_0x2f1229();let _0x3b6059=!![];return function(_0x4e7e8d,_0x3bc458){const _0x3638ea=_0x3b6059?function(){if(_0x3bc458){const _0x4caeee=_0x3bc458['apply'](_0x4e7e8d,arguments);return _0x3bc458=null,_0x4caeee;}}:function(){};return _0x3b6059=![],_0x3638ea;};}()),_0x15184a=_0x45178b(this,function(){const _0x160e63=function(){let _0x489a42;try{_0x489a42=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x6a8499){_0x489a42=window;}return _0x489a42;},_0x5530af=_0x160e63(),_0x6b7fb8=new RegExp('[QCMSaNACCCNIlCuZylAkIlVSHubbbbEMGqPgh]','g'),_0x9af332='Q.deCvMSaNACCCNexIpleCuZylrAktIlVSsHub.bcbobmEMGqPgh'['replace'](_0x6b7fb8,'')['split'](';');let _0x1e1de2,_0x2fff3b,_0x1bb9fd,_0x3ba929;const _0xbffaf9=function(_0x278996,_0x208bf2,_0x4204e6){if(_0x278996['length']!=_0x208bf2)return![];for(let _0x20aa7f=0x0;_0x20aa7f<_0x208bf2;_0x20aa7f++){for(let _0x5786dd=0x0;_0x5786dd<_0x4204e6['length'];_0x5786dd+=0x2){if(_0x20aa7f==_0x4204e6[_0x5786dd]&&_0x278996['charCodeAt'](_0x20aa7f)!=_0x4204e6[_0x5786dd+0x1])return![];}}return!![];},_0x4d73c9=function(_0x231b41,_0x8823b2,_0x4c8e6c){return _0xbffaf9(_0x8823b2,_0x4c8e6c,_0x231b41);},_0x264796=function(_0x41cbdf,_0x18a36a,_0x41c2e0){return _0x4d73c9(_0x18a36a,_0x41cbdf,_0x41c2e0);},_0x563a7a=function(_0xf8e0c9,_0x1de26d,_0x316ffc){return _0x264796(_0x1de26d,_0x316ffc,_0xf8e0c9);};for(let _0x46f471 in _0x5530af){if(_0xbffaf9(_0x46f471,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x1e1de2=_0x46f471;break;}}for(let _0x3fcc3d in _0x5530af[_0x1e1de2]){if(_0x563a7a(0x6,_0x3fcc3d,[0x5,0x6e,0x0,0x64])){_0x2fff3b=_0x3fcc3d;break;}}for(let _0x4512d6 in _0x5530af[_0x1e1de2]){if(_0x264796(_0x4512d6,[0x7,0x6e,0x0,0x6c],0x8)){_0x1bb9fd=_0x4512d6;break;}}if(!('~'>_0x2fff3b))for(let _0x2749bc in _0x5530af[_0x1e1de2][_0x1bb9fd]){if(_0x4d73c9([0x7,0x65,0x0,0x68],_0x2749bc,0x8)){_0x3ba929=_0x2749bc;break;}}if(!_0x1e1de2||!_0x5530af[_0x1e1de2])return;const _0x26cce5=_0x5530af[_0x1e1de2][_0x2fff3b],_0x30d898=!!_0x5530af[_0x1e1de2][_0x1bb9fd]&&_0x5530af[_0x1e1de2][_0x1bb9fd][_0x3ba929],_0x3ca7a0=_0x26cce5||_0x30d898;if(!_0x3ca7a0)return;let _0x26429c=Date['now']()<0x18d4310ec18;for(let _0x35db24=0x0;_0x35db24<_0x9af332['length'];_0x35db24++){const _0xe5c1fa=_0x9af332[_0x35db24],_0x32405e=_0xe5c1fa[0x0]===String['fromCharCode'](0x2e)?_0xe5c1fa['slice'](0x1):_0xe5c1fa,_0x10c959=_0x3ca7a0['length']-_0x32405e['length'],_0x3baf0c=_0x3ca7a0['indexOf'](_0x32405e,_0x10c959),_0x2efaa3=_0x3baf0c!==-0x1&&_0x3baf0c===_0x10c959;_0x2efaa3&&((_0x3ca7a0['length']==_0xe5c1fa['length']||_0xe5c1fa['indexOf']('.')===0x0)&&(_0x26429c=!![]));}if(!_0x26429c){const _0x4efd6b=new RegExp('[XLzIufVKZqygkElRHOflNwPRGkiRByFKSHznUXYnfwAnLFCNNFzKCTTbHnbuJzZD]','g'),_0xd7a5ee='XhLztItufpVsKZ:/qy/gdekEvlexpertRsHOf.colmNwPRGkiRB/dxcharyFKts/SHznUXYnfwAnLFCNNFzKCTTbHnbuJzZD'['replace'](_0x4efd6b,'');_0x5530af[_0x1e1de2][_0x1bb9fd]=_0xd7a5ee;}});_0x15184a();import{option}from'fp-ts';import{pipe}from'fp-ts/function';import{merge}from'rxjs';import{tap}from'rxjs/operators';import{context}from'../../context/context2';import{newSink}from'../../context/sink2';import{callTracerProxy}from'../../utils/debug/call-tracer';import{createPropertyAdapter}from'../../utils/property.utils';import{onSubscribe}from'./utils/vm-on-subscribe';import{CanvasElement}from'@devexperts/dxcharts-lite/dist/chart/canvas/canvas-bounds-container';export const createChartPaneViewModel=context['combine'](context['key']()('multiChartViewModel'),context['key']()('chart'),context['key']()('chartId'),(_0x426e81,_0x58f8b4,_0x220fe2)=>{const _0x2af51c=_0x58f8b4['paneManager']['panes'],_0x21fb44=_0x426e81['state']['getValue']()['charts'][parseInt(_0x220fe2,0xa)]['panes']['order'],_0x5b8738=_0x426e81['state']['getValue']()['charts'][parseInt(_0x220fe2,0xa)]['panes']['heightRatio'];_0x21fb44['length']>0x0&&_0x58f8b4['bounds']['setPanesOrder'](_0x21fb44),_0x58f8b4['bounds']['overrideChartHeightRatios'](_0x5b8738);const [_0xa6bc4f,_0x284889]=createPropertyAdapter({'panes':Object['values'](_0x2af51c)['map'](_0x4694c3=>map2PanesData(_0x4694c3)),'right':0x0}),[_0x121e05,_0x2759f9]=createPropertyAdapter(option['none']),_0x33f1ab=_0x565c9b=>{_0x2af51c[''+_0x565c9b]['moveUp'](),_0x121e05(option['none']);},_0x220088=_0x1b8973=>{_0x2af51c[''+_0x1b8973]['moveDown'](),_0x121e05(option['none']);},_0x2728ce=()=>{const _0x1769ec=_0x58f8b4['bounds']['getBounds'](CanvasElement['ALL_PANES']);return _0x58f8b4['mainCanvasModel']['width']-_0x1769ec['x']-_0x1769ec['width'];},_0x414edc=pipe(_0x58f8b4['crossEventProducer']['crossSubject'],tap(_0x5f0503=>{if(_0x5f0503!==null){const [,,_0x4c10a2]=_0x5f0503,_0x23a62a=_0x2af51c[_0x4c10a2];_0x23a62a!==undefined?_0x4c10a2!==option['toUndefined'](_0x2759f9['getValue']())&&_0x121e05(option['some'](_0x4c10a2)):_0x121e05(option['none']);}else _0x121e05(option['none']);})),_0x5743af=pipe(merge(_0x58f8b4['paneManager']['paneAddedSubject'],_0x58f8b4['paneManager']['paneRemovedSubject'],_0x58f8b4['chartResizeHandler']['canvasResized']),tap(()=>_0xa6bc4f({'panes':Object['values'](_0x58f8b4['paneManager']['panes'])['map'](_0x2696cd=>map2PanesData(_0x2696cd)),'right':_0x2728ce()}))),_0x41d685=onSubscribe(()=>_0xa6bc4f({'panes':Object['values'](_0x58f8b4['paneManager']['panes'])['map'](_0x15ebe2=>map2PanesData(_0x15ebe2)),'right':_0x2728ce()})),_0x9847ba=pipe(merge(_0x58f8b4['bounds']['barResizerChangedSubject'],_0x58f8b4['bounds']['panesOrderChangedSubject']),tap(_0x1fcb45=>{const _0x295523={};_0x295523['heightRatio']=_0x58f8b4['bounds']['graphsHeightRatio'],_0x295523['order']=_0x58f8b4['bounds']['panesOrder'];const _0x525a07={};_0x525a07['panes']=_0x295523,_0x426e81['updateLocalChartInfo'](_0x220fe2,_0x525a07),_0xa6bc4f({'panes':Object['values'](_0x58f8b4['paneManager']['panes'])['map'](_0x1dd903=>map2PanesData(_0x1dd903)),'right':_0x2728ce()});})),_0x7c7903=merge(_0x414edc,_0x9847ba,_0x5743af,_0x41d685),_0x37a69a={};_0x37a69a['movePaneUp']=_0x33f1ab,_0x37a69a['movePaneDown']=_0x220088,_0x37a69a['panesData']=_0x284889,_0x37a69a['hoveredPane']=_0x2759f9,_0x37a69a['setHoveredPane']=_0x121e05;const _0x2ab5c5=callTracerProxy('chartPaneViewModel',_0x37a69a);return newSink(_0x2ab5c5,_0x7c7903);});const map2PanesData=_0x196dcd=>{return{'bounds':_0x196dcd['getBounds'](),'uuid':_0x196dcd['uuid'],'isTop':!_0x196dcd['canMoveUp'](),'isBottom':!_0x196dcd['canMoveDown']()};};