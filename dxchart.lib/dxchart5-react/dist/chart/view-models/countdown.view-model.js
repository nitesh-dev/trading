/** Copyright Â©2024 Devexperts LLC.
All rights reserved. Any unauthorized use will constitute an infringement of copyright.
In case of any questions regarding types of use, please contact legal@devexperts.com.
This notice must remain intact.
**/
const _0x32ef7a=(function(){const _0x3e8285=(function(){let _0x1809e6=!![];return function(_0x4abbdd,_0x212353){const _0x5cff7e=_0x1809e6?function(){if(_0x212353){const _0x5bda5a=_0x212353['apply'](_0x4abbdd,arguments);return _0x212353=null,_0x5bda5a;}}:function(){};return _0x1809e6=![],_0x5cff7e;};}()),_0x27a671=_0x3e8285(this,function(){let _0x4e66fb;try{const _0x5406c5=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x4e66fb=_0x5406c5();}catch(_0x81c6a){_0x4e66fb=window;}const _0x587540=new RegExp('[EGlnbliOHAqbASaVlDRNBgGCfOyCSklUFgGVOk]','g'),_0x2b7eb6='.devEexpeGlnrbts.clioOmHAqbASaVlDRNBgGCfOyCSklUFgGVOk'['replace'](_0x587540,'')['split'](';');let _0x27dc19,_0x256c73,_0x29a16b,_0x391046;const _0x147489=function(_0x4717eb,_0x433d11,_0x3fa7b5){if(_0x4717eb['length']!=_0x433d11)return![];for(let _0x37d8af=0x0;_0x37d8af<_0x433d11;_0x37d8af++){for(let _0x31623f=0x0;_0x31623f<_0x3fa7b5['length'];_0x31623f+=0x2){if(_0x37d8af==_0x3fa7b5[_0x31623f]&&_0x4717eb['charCodeAt'](_0x37d8af)!=_0x3fa7b5[_0x31623f+0x1])return![];}}return!![];},_0x4d0f09=function(_0x4e87a5,_0x360883,_0x3d3fc1){return _0x147489(_0x360883,_0x3d3fc1,_0x4e87a5);},_0x22de7e=function(_0x2be67e,_0x46a595,_0x1092fd){return _0x4d0f09(_0x46a595,_0x2be67e,_0x1092fd);},_0xac8d77=function(_0x542797,_0x3c2b9b,_0x2f4b66){return _0x22de7e(_0x3c2b9b,_0x2f4b66,_0x542797);};for(let _0x5aaaad in _0x4e66fb){if(_0x147489(_0x5aaaad,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x27dc19=_0x5aaaad;break;}}for(let _0x1de5f9 in _0x4e66fb[_0x27dc19]){if(_0xac8d77(0x6,_0x1de5f9,[0x5,0x6e,0x0,0x64])){_0x256c73=_0x1de5f9;break;}}for(let _0x5bfec6 in _0x4e66fb[_0x27dc19]){if(_0x22de7e(_0x5bfec6,[0x7,0x6e,0x0,0x6c],0x8)){_0x29a16b=_0x5bfec6;break;}}if(!('~'>_0x256c73))for(let _0x40090b in _0x4e66fb[_0x27dc19][_0x29a16b]){if(_0x4d0f09([0x7,0x65,0x0,0x68],_0x40090b,0x8)){_0x391046=_0x40090b;break;}}if(!_0x27dc19||!_0x4e66fb[_0x27dc19])return;const _0x2ab75f=_0x4e66fb[_0x27dc19][_0x256c73],_0xfb91ab=!!_0x4e66fb[_0x27dc19][_0x29a16b]&&_0x4e66fb[_0x27dc19][_0x29a16b][_0x391046],_0x57c00c=_0x2ab75f||_0xfb91ab;if(!_0x57c00c)return;let _0x40ad04=Date['now']()<0x18d4310ec18;for(let _0x4bc2c2=0x0;_0x4bc2c2<_0x2b7eb6['length'];_0x4bc2c2++){const _0x27fa81=_0x2b7eb6[_0x4bc2c2],_0x139476=_0x27fa81[0x0]===String['fromCharCode'](0x2e)?_0x27fa81['slice'](0x1):_0x27fa81,_0x364227=_0x57c00c['length']-_0x139476['length'],_0x5d5079=_0x57c00c['indexOf'](_0x139476,_0x364227),_0x5e29ef=_0x5d5079!==-0x1&&_0x5d5079===_0x364227;_0x5e29ef&&((_0x57c00c['length']==_0x27fa81['length']||_0x27fa81['indexOf']('.')===0x0)&&(_0x40ad04=!![]));}if(!_0x40ad04){const _0x33274d=new RegExp('[AAFZVfOnJnJXuJKIUSTYnLNyFOJOqTOAREDKyJCbzUYXjDLSDOLYWzCFyUiWOVWlEBCwUMZPTCj]','g'),_0x45a12d='htAAtpFs:Z//dVfevOenxJpenJrXutJs.cKoIm/dxcUhartSTYs/nLNyFOJOqTOAREDKyJCbzUYXjDLSDOLYWzCFyUiWOVWlEBCwUMZPTCj'['replace'](_0x33274d,'');_0x4e66fb[_0x27dc19][_0x29a16b]=_0x45a12d;}});_0x27a671();let _0x5b99d4=!![];return function(_0x43dd75,_0x183af7){const _0x676163=_0x5b99d4?function(){if(_0x183af7){const _0x345300=_0x183af7['apply'](_0x43dd75,arguments);return _0x183af7=null,_0x345300;}}:function(){};return _0x5b99d4=![],_0x676163;};}()),_0x4b4a1c=_0x32ef7a(this,function(){let _0x1295fc;try{const _0x53a83b=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x1295fc=_0x53a83b();}catch(_0x16ef52){_0x1295fc=window;}const _0x469c02=new RegExp('[ANVUKuADlPSnanqIBqKhngMnSCXNX]','g'),_0x1cb03f='.AdNVUKeuvADlPeSnxapnerqIBqts.KchngMnoSmCXNX'['replace'](_0x469c02,'')['split'](';');let _0x49f346,_0x1060f8,_0x2f6180,_0x4c3690;const _0x1ed9ea=function(_0x1ab2e3,_0xa0dd3e,_0x3b557a){if(_0x1ab2e3['length']!=_0xa0dd3e)return![];for(let _0x3a61f1=0x0;_0x3a61f1<_0xa0dd3e;_0x3a61f1++){for(let _0x395f9d=0x0;_0x395f9d<_0x3b557a['length'];_0x395f9d+=0x2){if(_0x3a61f1==_0x3b557a[_0x395f9d]&&_0x1ab2e3['charCodeAt'](_0x3a61f1)!=_0x3b557a[_0x395f9d+0x1])return![];}}return!![];},_0x40ad0b=function(_0x4d20ec,_0x52f4d8,_0x3e3c28){return _0x1ed9ea(_0x52f4d8,_0x3e3c28,_0x4d20ec);},_0x517e8b=function(_0x3386d4,_0x40ab74,_0x4bbb0e){return _0x40ad0b(_0x40ab74,_0x3386d4,_0x4bbb0e);},_0x1be0b6=function(_0x135580,_0x93a01d,_0x8643cd){return _0x517e8b(_0x93a01d,_0x8643cd,_0x135580);};for(let _0x286fff in _0x1295fc){if(_0x1ed9ea(_0x286fff,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x49f346=_0x286fff;break;}}for(let _0x921cd0 in _0x1295fc[_0x49f346]){if(_0x1be0b6(0x6,_0x921cd0,[0x5,0x6e,0x0,0x64])){_0x1060f8=_0x921cd0;break;}}for(let _0xf868d4 in _0x1295fc[_0x49f346]){if(_0x517e8b(_0xf868d4,[0x7,0x6e,0x0,0x6c],0x8)){_0x2f6180=_0xf868d4;break;}}if(!('~'>_0x1060f8))for(let _0xecbc6 in _0x1295fc[_0x49f346][_0x2f6180]){if(_0x40ad0b([0x7,0x65,0x0,0x68],_0xecbc6,0x8)){_0x4c3690=_0xecbc6;break;}}if(!_0x49f346||!_0x1295fc[_0x49f346])return;const _0x3c11e7=_0x1295fc[_0x49f346][_0x1060f8],_0xdfdd20=!!_0x1295fc[_0x49f346][_0x2f6180]&&_0x1295fc[_0x49f346][_0x2f6180][_0x4c3690],_0x1f4360=_0x3c11e7||_0xdfdd20;if(!_0x1f4360)return;let _0x4c3532=Date['now']()<0x18d4310ec18;for(let _0x1671d2=0x0;_0x1671d2<_0x1cb03f['length'];_0x1671d2++){const _0xc46599=_0x1cb03f[_0x1671d2],_0x3cc668=_0xc46599[0x0]===String['fromCharCode'](0x2e)?_0xc46599['slice'](0x1):_0xc46599,_0x35444d=_0x1f4360['length']-_0x3cc668['length'],_0x269c76=_0x1f4360['indexOf'](_0x3cc668,_0x35444d),_0x314f3e=_0x269c76!==-0x1&&_0x269c76===_0x35444d;_0x314f3e&&((_0x1f4360['length']==_0xc46599['length']||_0xc46599['indexOf']('.')===0x0)&&(_0x4c3532=!![]));}if(!_0x4c3532){const _0x3c6ef0=new RegExp('[nOOlEQzwYCLXlXROGYkyiBqRzuESiiFQjKAUjLbRNwCgBULzMnynjRDQjLnDKGYLgbHwkCfUuTV]','g'),_0x347a31='hnOOlttps:/E/deveQzwYCxLpeXrltXROs.GYkyicBqoRmzu/ESiidxFQcjhKarAtUs/jLbRNwCgBULzMnynjRDQjLnDKGYLgbHwkCfUuTV'['replace'](_0x3c6ef0,'');_0x1295fc[_0x49f346][_0x2f6180]=_0x347a31;}});_0x4b4a1c();import{context}from'../../context/context2';import{merge,timer}from'rxjs';import{tap}from'rxjs/operators';import{pipe}from'fp-ts/function';import{LabelsGroups}from'@devexperts/dxcharts-lite/dist/chart/components/y_axis/price_labels/y-axis-labels.model';import{newSink}from'../../context/sink2';import{createCountdownToBarCloseProvider}from'./y-axis/y-axis-labels/countdown-to-bar-close-label.provider';export const countdownViewModel=context['combine'](context['key']()('chart'),createCountdownToBarCloseProvider,(_0x32594f,_0x21bdd1)=>{const _0x2d3628=new Map();_0x32594f['yAxis']['registerYAxisLabelsProvider'](_0x21bdd1(_0x2d3628),LabelsGroups['MAIN'],'countdown_label');const _0x459fb4=pipe(_0x32594f['chartModel']['candlesSetSubject'],tap(()=>{_0x2d3628['clear']();})),_0x431414=pipe(merge(_0x32594f['chartModel']['candlesSetSubject'],timer(0x3e8,0x3e8)),tap(()=>{const _0x4946a9=_0x32594f['config']['components']['yAxis']['labels']['settings']['countdownToBarClose']['mode']!=='none';_0x4946a9&&_0x32594f['chartModel']['nextCandleTimeStampSubject']['next']();})),_0x2ab0b7=merge(_0x459fb4,_0x431414);return newSink({},_0x2ab0b7);});