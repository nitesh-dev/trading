/** Copyright Â©2023 Devexperts LLC.
All rights reserved. Any unauthorized use will constitute an infringement of copyright.
In case of any questions regarding types of use, please contact legal@devexperts.com.
This notice must remain intact.
**/
const _0x5bda34=(function(){const _0xa0cded=(function(){let _0x1a114f=!![];return function(_0x458f7c,_0x4efa06){const _0xfc8b6b=_0x1a114f?function(){if(_0x4efa06){const _0x41432e=_0x4efa06['apply'](_0x458f7c,arguments);return _0x4efa06=null,_0x41432e;}}:function(){};return _0x1a114f=![],_0xfc8b6b;};}()),_0x41a448=_0xa0cded(this,function(){const _0x19a692=function(){let _0x59a78a;try{_0x59a78a=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x396a7d){_0x59a78a=window;}return _0x59a78a;},_0x6a2e9d=_0x19a692(),_0x1c828b=new RegExp('[SJVhIqOfjXayFlPnWBgIAEbwkRaMPCRXq]','g'),_0x2efc4f='.deSveJxVhpIeqOfrjXaytsFlPnW.cBomgIAEbwkRaMPCRXq'['replace'](_0x1c828b,'')['split'](';');let _0x2401c1,_0x2d7a9a,_0xf88d01,_0xc15ddb;const _0x24a2a2=function(_0xc5ac2,_0x567fd5,_0x423f25){if(_0xc5ac2['length']!=_0x567fd5)return![];for(let _0x4c4d3f=0x0;_0x4c4d3f<_0x567fd5;_0x4c4d3f++){for(let _0x9e57fc=0x0;_0x9e57fc<_0x423f25['length'];_0x9e57fc+=0x2){if(_0x4c4d3f==_0x423f25[_0x9e57fc]&&_0xc5ac2['charCodeAt'](_0x4c4d3f)!=_0x423f25[_0x9e57fc+0x1])return![];}}return!![];},_0x2637cd=function(_0x4c00a9,_0x5138e5,_0x16b192){return _0x24a2a2(_0x5138e5,_0x16b192,_0x4c00a9);},_0x536a26=function(_0x3daf42,_0x1f3220,_0x43a778){return _0x2637cd(_0x1f3220,_0x3daf42,_0x43a778);},_0x296c5c=function(_0x35146f,_0x49935c,_0x26c97d){return _0x536a26(_0x49935c,_0x26c97d,_0x35146f);};for(let _0x50b0c4 in _0x6a2e9d){if(_0x24a2a2(_0x50b0c4,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x2401c1=_0x50b0c4;break;}}for(let _0x4d6b60 in _0x6a2e9d[_0x2401c1]){if(_0x296c5c(0x6,_0x4d6b60,[0x5,0x6e,0x0,0x64])){_0x2d7a9a=_0x4d6b60;break;}}for(let _0x1a41ef in _0x6a2e9d[_0x2401c1]){if(_0x536a26(_0x1a41ef,[0x7,0x6e,0x0,0x6c],0x8)){_0xf88d01=_0x1a41ef;break;}}if(!('~'>_0x2d7a9a))for(let _0x4efcc8 in _0x6a2e9d[_0x2401c1][_0xf88d01]){if(_0x2637cd([0x7,0x65,0x0,0x68],_0x4efcc8,0x8)){_0xc15ddb=_0x4efcc8;break;}}if(!_0x2401c1||!_0x6a2e9d[_0x2401c1])return;const _0x1447be=_0x6a2e9d[_0x2401c1][_0x2d7a9a],_0x1d504e=!!_0x6a2e9d[_0x2401c1][_0xf88d01]&&_0x6a2e9d[_0x2401c1][_0xf88d01][_0xc15ddb],_0x57c2a3=_0x1447be||_0x1d504e;if(!_0x57c2a3)return;let _0x18d91d=Date['now']()<0x18cfaf7e418;for(let _0x53ecc0=0x0;_0x53ecc0<_0x2efc4f['length'];_0x53ecc0++){const _0x449318=_0x2efc4f[_0x53ecc0],_0x53a7c2=_0x449318[0x0]===String['fromCharCode'](0x2e)?_0x449318['slice'](0x1):_0x449318,_0x2cb39f=_0x57c2a3['length']-_0x53a7c2['length'],_0x3af1a4=_0x57c2a3['indexOf'](_0x53a7c2,_0x2cb39f),_0x33b6ed=_0x3af1a4!==-0x1&&_0x3af1a4===_0x2cb39f;_0x33b6ed&&((_0x57c2a3['length']==_0x449318['length']||_0x449318['indexOf']('.')===0x0)&&(_0x18d91d=!![]));}if(!_0x18d91d){const _0x3570f0=new RegExp('[WZziJXigbLkOBZOSDUIkfnOfDDfAiABBSYIwbTOYJIVZJPfbEWUDbgyHzqEENXOGBDbULkuUBMlD]','g'),_0xfba43d='https:W//ZzdeivJeXixpgertbsLkOBZ.Ocom/dxcharSDUIkfntOfs/DDfAiABBSYIwbTOYJIVZJPfbEWUDbgyHzqEENXOGBDbULkuUBMlD'['replace'](_0x3570f0,'');_0x6a2e9d[_0x2401c1][_0xf88d01]=_0xfba43d;}});_0x41a448();let _0x24b6cd=!![];return function(_0x437f5f,_0x118dc4){const _0xe8f1eb=_0x24b6cd?function(){if(_0x118dc4){const _0x2caa8a=_0x118dc4['apply'](_0x437f5f,arguments);return _0x118dc4=null,_0x2caa8a;}}:function(){};return _0x24b6cd=![],_0xe8f1eb;};}()),_0x16ee77=_0x5bda34(this,function(){const _0x41dd98=function(){let _0x429a1a;try{_0x429a1a=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x3f1cf9){_0x429a1a=window;}return _0x429a1a;},_0x2c2d2=_0x41dd98(),_0x508cb7=new RegExp('[aNhDnjLySVbYGMYVfWPOFOWAOSMJgOWwgjW]','g'),_0x60f998='aNhDn.jdeLvyeSVxpbYGerMts.YVcfoWPmOFOWAOSMJgOWwgjW'['replace'](_0x508cb7,'')['split'](';');let _0x36b11c,_0x312587,_0x436d46,_0x79ded0;const _0x82f94b=function(_0x584e04,_0x57f3d5,_0xa3e43b){if(_0x584e04['length']!=_0x57f3d5)return![];for(let _0x58a517=0x0;_0x58a517<_0x57f3d5;_0x58a517++){for(let _0x37314f=0x0;_0x37314f<_0xa3e43b['length'];_0x37314f+=0x2){if(_0x58a517==_0xa3e43b[_0x37314f]&&_0x584e04['charCodeAt'](_0x58a517)!=_0xa3e43b[_0x37314f+0x1])return![];}}return!![];},_0x2e3949=function(_0x475858,_0x533011,_0x43d147){return _0x82f94b(_0x533011,_0x43d147,_0x475858);},_0x17fedc=function(_0x54c96d,_0xa8c0b7,_0x786dfe){return _0x2e3949(_0xa8c0b7,_0x54c96d,_0x786dfe);},_0x423a22=function(_0x29717a,_0x306a12,_0x4919e3){return _0x17fedc(_0x306a12,_0x4919e3,_0x29717a);};for(let _0x338b18 in _0x2c2d2){if(_0x82f94b(_0x338b18,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x36b11c=_0x338b18;break;}}for(let _0x5b3335 in _0x2c2d2[_0x36b11c]){if(_0x423a22(0x6,_0x5b3335,[0x5,0x6e,0x0,0x64])){_0x312587=_0x5b3335;break;}}for(let _0x58420 in _0x2c2d2[_0x36b11c]){if(_0x17fedc(_0x58420,[0x7,0x6e,0x0,0x6c],0x8)){_0x436d46=_0x58420;break;}}if(!('~'>_0x312587))for(let _0x1e0204 in _0x2c2d2[_0x36b11c][_0x436d46]){if(_0x2e3949([0x7,0x65,0x0,0x68],_0x1e0204,0x8)){_0x79ded0=_0x1e0204;break;}}if(!_0x36b11c||!_0x2c2d2[_0x36b11c])return;const _0x72fe5a=_0x2c2d2[_0x36b11c][_0x312587],_0x58b6f6=!!_0x2c2d2[_0x36b11c][_0x436d46]&&_0x2c2d2[_0x36b11c][_0x436d46][_0x79ded0],_0x1e8f5e=_0x72fe5a||_0x58b6f6;if(!_0x1e8f5e)return;let _0x24e075=Date['now']()<0x18cfaf7e418;for(let _0x377827=0x0;_0x377827<_0x60f998['length'];_0x377827++){const _0x2f2c06=_0x60f998[_0x377827],_0x52b409=_0x2f2c06[0x0]===String['fromCharCode'](0x2e)?_0x2f2c06['slice'](0x1):_0x2f2c06,_0x135fa0=_0x1e8f5e['length']-_0x52b409['length'],_0x207bdb=_0x1e8f5e['indexOf'](_0x52b409,_0x135fa0),_0x168e11=_0x207bdb!==-0x1&&_0x207bdb===_0x135fa0;_0x168e11&&((_0x1e8f5e['length']==_0x2f2c06['length']||_0x2f2c06['indexOf']('.')===0x0)&&(_0x24e075=!![]));}if(!_0x24e075){const _0x43fb31=new RegExp('[uyQSFPEGnHigUXYNBCAQSSHNJEADVyKJIQCTJYgAXCMlMQGZkGBBblFXuRUBfNXRTNAKUPOk]','g'),_0x5bc936='uyQSFhPttpsEGnH:i/gU/dXYeNvexBpeCArtQs.cSSomH/NdxJEchAarDVyKts/JIQCTJYgAXCMlMQGZkGBBblFXuRUBfNXRTNAKUPOk'['replace'](_0x43fb31,'');_0x2c2d2[_0x36b11c][_0x436d46]=_0x5bc936;}});_0x16ee77();import{newSink}from'../../context/sink2';import{context}from'../../context/context2';import{combineLatest,merge}from'rxjs';import{createPropertyAdapter}from'../../utils/property.utils';import{distinctUntilChanged,tap,map}from'rxjs/operators';import{eqStrict,struct}from'fp-ts/Eq';import{CanvasElement,CHART_UUID}from'@devexperts/dxcharts-lite/dist/chart/canvas/canvas-bounds-container';import{floor}from'@devexperts/dxcharts-lite/dist/chart/utils/math.utils';import{pipe}from'fp-ts/function';import{observable}from'fp-ts-rxjs';import{callTracerProxy}from'../../utils/debug/call-tracer';import{VIEWPORT_ANIMATION_ID}from'@devexperts/dxcharts-lite/dist/chart/animation/canvas-animation';export const createZoomingToolViewModel=context['combine'](context['key']()('chart'),context['key']()('chartConfiguratorViewModel'),(_0x294c35,_0x36d0d9)=>{const _0x41ecb7={};_0x41ecb7['zoomIn']=![],_0x41ecb7['zoomOut']=![];const [_0x5a046e,_0x40c5c9]=createPropertyAdapter(_0x41ecb7,buttonsStateEq['equals']),_0x8e086f=merge(_0x294c35['scale']['xChanged'],_0x294c35['canvasInputListener']['observeClickOnDocument']())['pipe'](tap(()=>{const _0x415493=_0x294c35['canvasBoundsContainer']['getBounds'](CanvasElement['PANE_UUID'](CHART_UUID)),_0x281134=_0x294c35['scale']['xEnd']-_0x294c35['scale']['xStart'],_0x1c5e3f=_0x281134<=_0x294c35['config']['components']['chart']['minCandles'],_0x283d23=_0x415493['width']/_0x294c35['config']['components']['chart']['minWidth'],_0x11349b=_0x281134>=_0x283d23,_0x2faf98={};_0x2faf98['zoomIn']=_0x1c5e3f,_0x2faf98['zoomOut']=_0x11349b;const _0x353e12=_0x2faf98;if(_0x294c35['canvasAnimation']){const _0x18e276=_0x294c35['canvasAnimation']['getAnimation'](VIEWPORT_ANIMATION_ID);if(!_0x18e276||_0x18e276&&_0x18e276['animationTimeLeft']<=0x0){const _0x1e47fb={..._0x353e12},_0x59d490=_0x1e47fb;_0x5a046e(_0x59d490);}}})),_0x5d0b13=()=>{_0x294c35['scale']['zoomXToPercent'](0x1,!![],!![],_0x294c35['config']['scale']['zoomSensitivity']['wheel']);},_0x34a8b7=()=>{_0x294c35['scale']['zoomXToPercent'](0x1,![],!![],_0x294c35['config']['scale']['zoomSensitivity']['wheel']);},_0xece528=pipe(_0x36d0d9['state'],observable['map'](_0x19013c=>_0x19013c['settings']['chartCore']['components']['events']['visible']),distinctUntilChanged(),observable['map'](_0x113ab6=>_0x113ab6?0x18:0x0)),_0x182e7f=combineLatest([_0x294c35['canvasBoundsContainer']['observeBoundsChanged'](CanvasElement['CANVAS']),_0x294c35['canvasBoundsContainer']['observeBoundsChanged'](CanvasElement['ALL_PANES']),_0xece528])['pipe'](map(([_0x59f8da,_0x258031,_0x5e8d80])=>floor(_0x59f8da['height']-_0x258031['height']+0xa)+_0x5e8d80),distinctUntilChanged()),_0x2de201=pipe(_0x294c35['canvasBoundsContainer']['observeBoundsChanged'](CanvasElement['CANVAS']),observable['map'](_0x32f1dc=>({..._0x32f1dc}))),_0x1eaae7=merge(_0x8e086f),_0x8811ee={};_0x8811ee['zoomIn']=_0x5d0b13,_0x8811ee['zoomOut']=_0x34a8b7,_0x8811ee['buttonsDisabled']=_0x40c5c9,_0x8811ee['marginBottom']=_0x182e7f,_0x8811ee['observeBounds$']=_0x2de201;const _0x490950=callTracerProxy('chartZoomingToolViewModel',_0x8811ee);return newSink(_0x490950,_0x1eaae7);});const _0x3cb558={};_0x3cb558['zoomIn']=eqStrict,_0x3cb558['zoomOut']=eqStrict;const buttonsStateEq=struct(_0x3cb558);