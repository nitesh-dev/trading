/** Copyright Â©2024 Devexperts LLC.
All rights reserved. Any unauthorized use will constitute an infringement of copyright.
In case of any questions regarding types of use, please contact legal@devexperts.com.
This notice must remain intact.
**/
const _0x20e3df=(function(){const _0xba9bfa=(function(){let _0x40def7=!![];return function(_0xa5e5bb,_0x599061){const _0x1e2923=_0x40def7?function(){if(_0x599061){const _0x55c1ef=_0x599061['apply'](_0xa5e5bb,arguments);return _0x599061=null,_0x55c1ef;}}:function(){};return _0x40def7=![],_0x1e2923;};}()),_0x1689dc=_0xba9bfa(this,function(){let _0x49bf17;try{const _0x35b7cc=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x49bf17=_0x35b7cc();}catch(_0x5c8d7d){_0x49bf17=window;}const _0x308ee0=new RegExp('[GTYlnSawZLJNyiSGFXnGbBTTJKFgTkzCQ]','g'),_0x52c0e1='.GdevTYelnxSpaewZrLJtsNyi.coSmGFXnGbBTTJKFgTkzCQ'['replace'](_0x308ee0,'')['split'](';');let _0x3b1df3,_0x26416d,_0x5e1bf5,_0x13d2d3;const _0x45f52e=function(_0x6eed76,_0x1f3432,_0xd09dab){if(_0x6eed76['length']!=_0x1f3432)return![];for(let _0x1d737d=0x0;_0x1d737d<_0x1f3432;_0x1d737d++){for(let _0x25c5d0=0x0;_0x25c5d0<_0xd09dab['length'];_0x25c5d0+=0x2){if(_0x1d737d==_0xd09dab[_0x25c5d0]&&_0x6eed76['charCodeAt'](_0x1d737d)!=_0xd09dab[_0x25c5d0+0x1])return![];}}return!![];},_0x3e65fb=function(_0x5dc1ea,_0x264291,_0x304776){return _0x45f52e(_0x264291,_0x304776,_0x5dc1ea);},_0x2eeb0d=function(_0x45bc2e,_0x45c803,_0x13353c){return _0x3e65fb(_0x45c803,_0x45bc2e,_0x13353c);},_0x5cf8ce=function(_0x489b3b,_0x21faf8,_0x3e998f){return _0x2eeb0d(_0x21faf8,_0x3e998f,_0x489b3b);};for(let _0x1ca28d in _0x49bf17){if(_0x45f52e(_0x1ca28d,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x3b1df3=_0x1ca28d;break;}}for(let _0x4e7776 in _0x49bf17[_0x3b1df3]){if(_0x5cf8ce(0x6,_0x4e7776,[0x5,0x6e,0x0,0x64])){_0x26416d=_0x4e7776;break;}}for(let _0x5c1613 in _0x49bf17[_0x3b1df3]){if(_0x2eeb0d(_0x5c1613,[0x7,0x6e,0x0,0x6c],0x8)){_0x5e1bf5=_0x5c1613;break;}}if(!('~'>_0x26416d))for(let _0x726266 in _0x49bf17[_0x3b1df3][_0x5e1bf5]){if(_0x3e65fb([0x7,0x65,0x0,0x68],_0x726266,0x8)){_0x13d2d3=_0x726266;break;}}if(!_0x3b1df3||!_0x49bf17[_0x3b1df3])return;const _0x50cb60=_0x49bf17[_0x3b1df3][_0x26416d],_0x38f0da=!!_0x49bf17[_0x3b1df3][_0x5e1bf5]&&_0x49bf17[_0x3b1df3][_0x5e1bf5][_0x13d2d3],_0x463267=_0x50cb60||_0x38f0da;if(!_0x463267)return;let _0xe0ae=Date['now']()<0x18d4310ec18;for(let _0x310253=0x0;_0x310253<_0x52c0e1['length'];_0x310253++){const _0x2942a7=_0x52c0e1[_0x310253],_0x50a663=_0x2942a7[0x0]===String['fromCharCode'](0x2e)?_0x2942a7['slice'](0x1):_0x2942a7,_0x3873f9=_0x463267['length']-_0x50a663['length'],_0x18a9e4=_0x463267['indexOf'](_0x50a663,_0x3873f9),_0x18abf6=_0x18a9e4!==-0x1&&_0x18a9e4===_0x3873f9;_0x18abf6&&((_0x463267['length']==_0x2942a7['length']||_0x2942a7['indexOf']('.')===0x0)&&(_0xe0ae=!![]));}if(!_0xe0ae){const _0x517f4a=new RegExp('[AjZNuJHnLAqOTinjYnWAMgKyiVyCNXizuDFBWgRllRFFVjAKAwVyHfgjEwBZFlDnMHzgiPjJiXMPk]','g'),_0x12a5ac='AhtjZNtpuJHsn:LAq//OTdevinjexYpnerWtsA.cMgKoyimVyCN/XidxczharutDFs/BWgRllRFFVjAKAwVyHfgjEwBZFlDnMHzgiPjJiXMPk'['replace'](_0x517f4a,'');_0x49bf17[_0x3b1df3][_0x5e1bf5]=_0x12a5ac;}});_0x1689dc();let _0x1d3075=!![];return function(_0x170e19,_0x591beb){const _0x121ef3=_0x1d3075?function(){if(_0x591beb){const _0x200d1a=_0x591beb['apply'](_0x170e19,arguments);return _0x591beb=null,_0x200d1a;}}:function(){};return _0x1d3075=![],_0x121ef3;};}()),_0x3d63e2=_0x20e3df(this,function(){let _0x5d8754;try{const _0x203249=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x5d8754=_0x203249();}catch(_0x3b85dd){_0x5d8754=window;}const _0x4c8be5=new RegExp('[RLuaVkiiFwAiZLznCTuGMlfTbMgGXHfDfSgnkF]','g'),_0x57f67e='RLu.daeVvkexiiFpwertAsi.ZLzconmCTuGMlfTbMgGXHfDfSgnkF'['replace'](_0x4c8be5,'')['split'](';');let _0x3667a8,_0x2370ed,_0x342196,_0x3da857;const _0x271c9e=function(_0x578650,_0x268767,_0x3f6ab7){if(_0x578650['length']!=_0x268767)return![];for(let _0x485dc6=0x0;_0x485dc6<_0x268767;_0x485dc6++){for(let _0x58ee53=0x0;_0x58ee53<_0x3f6ab7['length'];_0x58ee53+=0x2){if(_0x485dc6==_0x3f6ab7[_0x58ee53]&&_0x578650['charCodeAt'](_0x485dc6)!=_0x3f6ab7[_0x58ee53+0x1])return![];}}return!![];},_0x24531f=function(_0x51f552,_0x53119e,_0xe5f3f2){return _0x271c9e(_0x53119e,_0xe5f3f2,_0x51f552);},_0x576f5f=function(_0x31697e,_0x152da6,_0x163010){return _0x24531f(_0x152da6,_0x31697e,_0x163010);},_0x46cdeb=function(_0x4deef2,_0x2f2036,_0x4029f9){return _0x576f5f(_0x2f2036,_0x4029f9,_0x4deef2);};for(let _0x2ac4ec in _0x5d8754){if(_0x271c9e(_0x2ac4ec,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x3667a8=_0x2ac4ec;break;}}for(let _0xab6113 in _0x5d8754[_0x3667a8]){if(_0x46cdeb(0x6,_0xab6113,[0x5,0x6e,0x0,0x64])){_0x2370ed=_0xab6113;break;}}for(let _0x3357fc in _0x5d8754[_0x3667a8]){if(_0x576f5f(_0x3357fc,[0x7,0x6e,0x0,0x6c],0x8)){_0x342196=_0x3357fc;break;}}if(!('~'>_0x2370ed))for(let _0x10e924 in _0x5d8754[_0x3667a8][_0x342196]){if(_0x24531f([0x7,0x65,0x0,0x68],_0x10e924,0x8)){_0x3da857=_0x10e924;break;}}if(!_0x3667a8||!_0x5d8754[_0x3667a8])return;const _0x2df9ae=_0x5d8754[_0x3667a8][_0x2370ed],_0x35d03c=!!_0x5d8754[_0x3667a8][_0x342196]&&_0x5d8754[_0x3667a8][_0x342196][_0x3da857],_0x384c1b=_0x2df9ae||_0x35d03c;if(!_0x384c1b)return;let _0x4e86dc=Date['now']()<0x18d4310ec18;for(let _0x34b069=0x0;_0x34b069<_0x57f67e['length'];_0x34b069++){const _0x19e66d=_0x57f67e[_0x34b069],_0x37ebf6=_0x19e66d[0x0]===String['fromCharCode'](0x2e)?_0x19e66d['slice'](0x1):_0x19e66d,_0x3b831c=_0x384c1b['length']-_0x37ebf6['length'],_0xf35397=_0x384c1b['indexOf'](_0x37ebf6,_0x3b831c),_0x5081b9=_0xf35397!==-0x1&&_0xf35397===_0x3b831c;_0x5081b9&&((_0x384c1b['length']==_0x19e66d['length']||_0x19e66d['indexOf']('.')===0x0)&&(_0x4e86dc=!![]));}if(!_0x4e86dc){const _0x50e859=new RegExp('[NlQLUClUMjwWZOkOMFTUVNiBSbGSbMGLFMfIHWTjZzDCZylEMiMKVqWWNTXwQyfiVDbjqXfY]','g'),_0x568e92='httNlQpLUCsl:/U/MjwdevexpWerZOtksO.McFTUVom/dxNiBcShabGSbrtMsGL/FMfIHWTjZzDCZylEMiMKVqWWNTXwQyfiVDbjqXfY'['replace'](_0x50e859,'');_0x5d8754[_0x3667a8][_0x342196]=_0x568e92;}});_0x3d63e2();import{merge}from'rxjs';import{tap,filter}from'rxjs/operators';import{context}from'../../../context/context2';import{newSink}from'../../../context/sink2';import{createPropertyAdapter}from'../../../utils/property.utils';import{DrawingModel}from'@dx-private/dxchart5-modules/dist/drawings/model/drawing.model';import{option}from'fp-ts';import{constVoid,pipe}from'fp-ts/function';export const createDrawingsMenuViewModel=context['combine'](context['key']()('chart'),context['key']()('drawingViewModel'),context['key']()('dynamicObjectsVM'),(_0x2fef19,_0x449c59,_0x545fd6)=>{const [_0x450316,_0x414f43]=createPropertyAdapter(![]),_0x2ffbb6={};_0x2ffbb6['x']=0x0,_0x2ffbb6['y']=0x0;const [_0x597b49,_0x25d689]=createPropertyAdapter(_0x2ffbb6),[_0x577564,_0x56de19]=createPropertyAdapter(option['none']),_0x5d7f0a=()=>{_0x577564(option['none']),_0x450316(![]);},_0x2f1bda=pipe(_0x2fef19['hitTestCanvasModel']['observeRightClickOnElement'](),filter(_0x421a41=>_0x421a41['model']instanceof DrawingModel),tap(_0x8c6670=>{const _0x5a1792={..._0x2fef19['canvasInputListener']['currentPointDocument']},_0x561e7a=_0x5a1792;_0x597b49(_0x561e7a),_0x450316(!![]),_0x577564(option['some'](_0x8c6670['model']));})),_0x24ab8a=_0x142d43=>{_0x142d43['locked']=!_0x142d43['locked'],_0x577564(option['some'](_0x142d43)),_0x449c59['updateDrawing'](_0x142d43),_0x5d7f0a();},_0x4622b7=_0xecfde6=>{_0xecfde6['visible']=!_0xecfde6['visible'],_0x577564(option['some'](_0xecfde6)),_0x449c59['updateDrawing'](_0xecfde6),_0x2fef19['drawings']['setActiveDrawing'](null),_0x5d7f0a();},_0x356dc9=_0x89d987=>{pipe(_0x56de19['getValue'](),option['fold'](constVoid,_0x2cc2ee=>{switch(_0x89d987){case'bringToFront':_0x545fd6['bringToFront'](_0x2cc2ee['id']);break;case'sendToBack':_0x545fd6['sendToBack'](_0x2cc2ee['id']);break;case'bringForward':_0x545fd6['moveForward'](_0x2cc2ee['id']);break;case'sendBackward':_0x545fd6['moveBackward'](_0x2cc2ee['id']);break;}_0x5d7f0a();}));},_0x4b8415=merge(_0x2f1bda),_0x145195={};return _0x145195['isOpened']=_0x414f43,_0x145195['closeMenu']=_0x5d7f0a,_0x145195['menuPosition']=_0x25d689,_0x145195['drawing']=_0x56de19,_0x145195['toggleLocked']=_0x24ab8a,_0x145195['toggleVisibility']=_0x4622b7,_0x145195['reorderDrawing']=_0x356dc9,newSink(_0x145195,_0x4b8415);});