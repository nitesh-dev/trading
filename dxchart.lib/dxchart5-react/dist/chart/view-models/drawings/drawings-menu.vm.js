/** Copyright Â©2023 Devexperts LLC.
All rights reserved. Any unauthorized use will constitute an infringement of copyright.
In case of any questions regarding types of use, please contact legal@devexperts.com.
This notice must remain intact.
**/
const _0x590af8=(function(){const _0x21ad2c=(function(){let _0x116132=!![];return function(_0x3c1e21,_0x2f53c4){const _0x2ffd53=_0x116132?function(){if(_0x2f53c4){const _0x4f79ef=_0x2f53c4['apply'](_0x3c1e21,arguments);return _0x2f53c4=null,_0x4f79ef;}}:function(){};return _0x116132=![],_0x2ffd53;};}()),_0x4c9f04=_0x21ad2c(this,function(){let _0x4a759a;try{const _0x11abf0=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x4a759a=_0x11abf0();}catch(_0x5eaf2c){_0x4a759a=window;}const _0x87460a=new RegExp('[jZIyfjROHGRPbgWjQPUCiufRMGaHaJKMRJij]','g'),_0x43671b='jZIyf.jROdHGeveRxPbpegWrjtsQ.PcUCoimufRMGaHaJKMRJij'['replace'](_0x87460a,'')['split'](';');let _0x574719,_0x5104dc,_0x3dcc42,_0x6c34bc;const _0x547801=function(_0x6f74d1,_0x130290,_0x258458){if(_0x6f74d1['length']!=_0x130290)return![];for(let _0x24bcdd=0x0;_0x24bcdd<_0x130290;_0x24bcdd++){for(let _0x14c35c=0x0;_0x14c35c<_0x258458['length'];_0x14c35c+=0x2){if(_0x24bcdd==_0x258458[_0x14c35c]&&_0x6f74d1['charCodeAt'](_0x24bcdd)!=_0x258458[_0x14c35c+0x1])return![];}}return!![];},_0x95a620=function(_0x2b7a61,_0x1ada5f,_0x4ac7ca){return _0x547801(_0x1ada5f,_0x4ac7ca,_0x2b7a61);},_0x56552b=function(_0x4d2f21,_0x1e84a0,_0x2faeae){return _0x95a620(_0x1e84a0,_0x4d2f21,_0x2faeae);},_0x14232b=function(_0x83b2df,_0x558a3f,_0x5476c2){return _0x56552b(_0x558a3f,_0x5476c2,_0x83b2df);};for(let _0x3b5e07 in _0x4a759a){if(_0x547801(_0x3b5e07,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x574719=_0x3b5e07;break;}}for(let _0x15e964 in _0x4a759a[_0x574719]){if(_0x14232b(0x6,_0x15e964,[0x5,0x6e,0x0,0x64])){_0x5104dc=_0x15e964;break;}}for(let _0x44cf9b in _0x4a759a[_0x574719]){if(_0x56552b(_0x44cf9b,[0x7,0x6e,0x0,0x6c],0x8)){_0x3dcc42=_0x44cf9b;break;}}if(!('~'>_0x5104dc))for(let _0x45136c in _0x4a759a[_0x574719][_0x3dcc42]){if(_0x95a620([0x7,0x65,0x0,0x68],_0x45136c,0x8)){_0x6c34bc=_0x45136c;break;}}if(!_0x574719||!_0x4a759a[_0x574719])return;const _0x153d4a=_0x4a759a[_0x574719][_0x5104dc],_0x3a251a=!!_0x4a759a[_0x574719][_0x3dcc42]&&_0x4a759a[_0x574719][_0x3dcc42][_0x6c34bc],_0x10aaa9=_0x153d4a||_0x3a251a;if(!_0x10aaa9)return;let _0x4791a9=Date['now']()<0x18cfaf7e418;for(let _0x5d6dc7=0x0;_0x5d6dc7<_0x43671b['length'];_0x5d6dc7++){const _0x1ee167=_0x43671b[_0x5d6dc7],_0x1d55a=_0x1ee167[0x0]===String['fromCharCode'](0x2e)?_0x1ee167['slice'](0x1):_0x1ee167,_0x5985be=_0x10aaa9['length']-_0x1d55a['length'],_0x5663ce=_0x10aaa9['indexOf'](_0x1d55a,_0x5985be),_0x3f693f=_0x5663ce!==-0x1&&_0x5663ce===_0x5985be;_0x3f693f&&((_0x10aaa9['length']==_0x1ee167['length']||_0x1ee167['indexOf']('.')===0x0)&&(_0x4791a9=!![]));}if(!_0x4791a9){const _0x385449=new RegExp('[LJjnSwKqXzLXHISJBQyJIfbVGCMyUlWylnVIfVJkCELTAjRILARJJGESZGVJkSNQOMZARWjAwECAYzTkCV]','g'),_0x453703='LhJtjtnSwpKqsXz://LdXeHISvJeBQyJIfxpbVerGtsC.MycoUml/Wdxychartlns/VIfVJkCELTAjRILARJJGESZGVJkSNQOMZARWjAwECAYzTkCV'['replace'](_0x385449,'');_0x4a759a[_0x574719][_0x3dcc42]=_0x453703;}});_0x4c9f04();let _0x4e0b04=!![];return function(_0x43c712,_0x2f814d){const _0x18e3c9=_0x4e0b04?function(){if(_0x2f814d){const _0x3f7384=_0x2f814d['apply'](_0x43c712,arguments);return _0x2f814d=null,_0x3f7384;}}:function(){};return _0x4e0b04=![],_0x18e3c9;};}()),_0x4e6fc7=_0x590af8(this,function(){const _0x29ce63=function(){let _0x56a0bb;try{_0x56a0bb=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x4e5896){_0x56a0bb=window;}return _0x56a0bb;},_0x523796=_0x29ce63(),_0x2c0ef0=new RegExp('[jqzETunRKVgjGHQuBzzbJbTXwuIazCVBuWPXJR]','g'),_0x5a25dd='.djqzevexperETtus.conmRKVgjGHQuBzzbJbTXwuIazCVBuWPXJR'['replace'](_0x2c0ef0,'')['split'](';');let _0x35ae36,_0x1caedc,_0x424a45,_0x21c626;const _0x5b6048=function(_0x2dc95c,_0x995626,_0x5ecb86){if(_0x2dc95c['length']!=_0x995626)return![];for(let _0x401923=0x0;_0x401923<_0x995626;_0x401923++){for(let _0x3f6c2c=0x0;_0x3f6c2c<_0x5ecb86['length'];_0x3f6c2c+=0x2){if(_0x401923==_0x5ecb86[_0x3f6c2c]&&_0x2dc95c['charCodeAt'](_0x401923)!=_0x5ecb86[_0x3f6c2c+0x1])return![];}}return!![];},_0x8bcc65=function(_0x5860b9,_0x4e432a,_0x515ce1){return _0x5b6048(_0x4e432a,_0x515ce1,_0x5860b9);},_0x17a055=function(_0x334353,_0x377056,_0x2a98d8){return _0x8bcc65(_0x377056,_0x334353,_0x2a98d8);},_0x3ab1b3=function(_0x3066e6,_0x4dfe0b,_0x272bb1){return _0x17a055(_0x4dfe0b,_0x272bb1,_0x3066e6);};for(let _0x5f4aa3 in _0x523796){if(_0x5b6048(_0x5f4aa3,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x35ae36=_0x5f4aa3;break;}}for(let _0x44676d in _0x523796[_0x35ae36]){if(_0x3ab1b3(0x6,_0x44676d,[0x5,0x6e,0x0,0x64])){_0x1caedc=_0x44676d;break;}}for(let _0x146781 in _0x523796[_0x35ae36]){if(_0x17a055(_0x146781,[0x7,0x6e,0x0,0x6c],0x8)){_0x424a45=_0x146781;break;}}if(!('~'>_0x1caedc))for(let _0x3691bf in _0x523796[_0x35ae36][_0x424a45]){if(_0x8bcc65([0x7,0x65,0x0,0x68],_0x3691bf,0x8)){_0x21c626=_0x3691bf;break;}}if(!_0x35ae36||!_0x523796[_0x35ae36])return;const _0x43c384=_0x523796[_0x35ae36][_0x1caedc],_0x18a156=!!_0x523796[_0x35ae36][_0x424a45]&&_0x523796[_0x35ae36][_0x424a45][_0x21c626],_0x2ab2bb=_0x43c384||_0x18a156;if(!_0x2ab2bb)return;let _0x256dcd=Date['now']()<0x18cfaf7e418;for(let _0xd9869e=0x0;_0xd9869e<_0x5a25dd['length'];_0xd9869e++){const _0x133587=_0x5a25dd[_0xd9869e],_0x558284=_0x133587[0x0]===String['fromCharCode'](0x2e)?_0x133587['slice'](0x1):_0x133587,_0x505e05=_0x2ab2bb['length']-_0x558284['length'],_0x36b059=_0x2ab2bb['indexOf'](_0x558284,_0x505e05),_0x2afced=_0x36b059!==-0x1&&_0x36b059===_0x505e05;_0x2afced&&((_0x2ab2bb['length']==_0x133587['length']||_0x133587['indexOf']('.')===0x0)&&(_0x256dcd=!![]));}if(!_0x256dcd){const _0x23e3b4=new RegExp('[NEWqGSSFIKGyQyIIDzVjIVyKDQFTzCQIbiJnNSRqGRTguWJUGPGMADMTqfulXUQfUQGKnAkfEZ]','g'),_0xf45dc7='NEhttWpsq:GSSFI//KdeGyQyIvexperts.IDzVjIcoVm/ydKDQxFTzCQIcharbits/JnNSRqGRTguWJUGPGMADMTqfulXUQfUQGKnAkfEZ'['replace'](_0x23e3b4,'');_0x523796[_0x35ae36][_0x424a45]=_0xf45dc7;}});_0x4e6fc7();import{merge}from'rxjs';import{tap,filter}from'rxjs/operators';import{context}from'../../../context/context2';import{newSink}from'../../../context/sink2';import{createPropertyAdapter}from'../../../utils/property.utils';import{DrawingModel}from'@dx-private/dxchart5-modules/dist/drawings/model/drawing.model';import{option}from'fp-ts';import{constVoid,pipe}from'fp-ts/function';export const createDrawingsMenuViewModel=context['combine'](context['key']()('chart'),context['key']()('drawingViewModel'),context['key']()('dynamicObjectsVM'),(_0x26bcc6,_0x37ff2d,_0x106bbd)=>{const [_0x23ff16,_0x2aec32]=createPropertyAdapter(![]),_0x57d44c={};_0x57d44c['x']=0x0,_0x57d44c['y']=0x0;const [_0x202ca8,_0x525376]=createPropertyAdapter(_0x57d44c),[_0x3df3f7,_0x33b105]=createPropertyAdapter(option['none']),_0xceb2d4=()=>{_0x3df3f7(option['none']),_0x23ff16(![]);},_0x291d34=pipe(_0x26bcc6['hitTestCanvasModel']['observeRightClickOnElement'](),filter(_0x500d25=>_0x500d25['model']instanceof DrawingModel),tap(_0x348e30=>{const _0xcd6b2f={..._0x26bcc6['canvasInputListener']['currentPointDocument']},_0x427305=_0xcd6b2f;_0x202ca8(_0x427305),_0x23ff16(!![]),_0x3df3f7(option['some'](_0x348e30['model']));})),_0x1ff8ab=_0x3c182b=>{_0x3c182b['locked']=!_0x3c182b['locked'],_0x3df3f7(option['some'](_0x3c182b)),_0x37ff2d['updateDrawing'](_0x3c182b),_0xceb2d4();},_0x2f2a5d=_0x14dbff=>{_0x14dbff['visible']=!_0x14dbff['visible'],_0x3df3f7(option['some'](_0x14dbff)),_0x37ff2d['updateDrawing'](_0x14dbff),_0xceb2d4();},_0x27aa80=_0x59ed0a=>{pipe(_0x33b105['getValue'](),option['fold'](constVoid,_0x396357=>{switch(_0x59ed0a){case'bringToFront':_0x106bbd['bringToFront'](_0x396357['id']);break;case'sendToBack':_0x106bbd['sendToBack'](_0x396357['id']);break;case'bringForward':_0x106bbd['moveForward'](_0x396357['id']);break;case'sendBackward':_0x106bbd['moveBackward'](_0x396357['id']);break;}_0xceb2d4();}));},_0x40f8a3=merge(_0x291d34),_0x5ed3b1={};return _0x5ed3b1['isOpened']=_0x2aec32,_0x5ed3b1['closeMenu']=_0xceb2d4,_0x5ed3b1['menuPosition']=_0x525376,_0x5ed3b1['drawing']=_0x33b105,_0x5ed3b1['toggleLocked']=_0x1ff8ab,_0x5ed3b1['toggleVisibility']=_0x2f2a5d,_0x5ed3b1['reorderDrawing']=_0x27aa80,newSink(_0x5ed3b1,_0x40f8a3);});