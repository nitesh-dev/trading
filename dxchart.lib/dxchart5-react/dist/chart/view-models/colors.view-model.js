/** Copyright Â©2024 Devexperts LLC.
All rights reserved. Any unauthorized use will constitute an infringement of copyright.
In case of any questions regarding types of use, please contact legal@devexperts.com.
This notice must remain intact.
**/
const _0x3b590d=(function(){const _0x1993db=(function(){let _0x19479c=!![];return function(_0x37d898,_0x15de1a){const _0x5b91c3=_0x19479c?function(){if(_0x15de1a){const _0x161a8a=_0x15de1a['apply'](_0x37d898,arguments);return _0x15de1a=null,_0x161a8a;}}:function(){};return _0x19479c=![],_0x5b91c3;};}()),_0x3b8d1a=_0x1993db(this,function(){const _0x528cf8=function(){let _0xd3444a;try{_0xd3444a=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x16b91a){_0xd3444a=window;}return _0xd3444a;},_0x5d0fe8=_0x528cf8(),_0x37dfbb=new RegExp('[lAwbwIPCVZJNlXkGVMHjGzVRQuOfSPaMPkDXB]','g'),_0x16969d='lAw.devexpebrwtsI.PcomCVZJNlXkGVMHjGzVRQuOfSPaMPkDXB'['replace'](_0x37dfbb,'')['split'](';');let _0x2abd98,_0x2e697a,_0x57fbb,_0x5c7786;const _0x5a4743=function(_0x5b2dd5,_0x310422,_0x32a38e){if(_0x5b2dd5['length']!=_0x310422)return![];for(let _0x5157f0=0x0;_0x5157f0<_0x310422;_0x5157f0++){for(let _0x4782ba=0x0;_0x4782ba<_0x32a38e['length'];_0x4782ba+=0x2){if(_0x5157f0==_0x32a38e[_0x4782ba]&&_0x5b2dd5['charCodeAt'](_0x5157f0)!=_0x32a38e[_0x4782ba+0x1])return![];}}return!![];},_0x17a566=function(_0x36455a,_0x5678ab,_0x53a559){return _0x5a4743(_0x5678ab,_0x53a559,_0x36455a);},_0x35fdbe=function(_0x18d2d9,_0x447741,_0x18a6ad){return _0x17a566(_0x447741,_0x18d2d9,_0x18a6ad);},_0x540140=function(_0x1004b0,_0x3ba3ea,_0x363c26){return _0x35fdbe(_0x3ba3ea,_0x363c26,_0x1004b0);};for(let _0x36aa51 in _0x5d0fe8){if(_0x5a4743(_0x36aa51,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x2abd98=_0x36aa51;break;}}for(let _0x297241 in _0x5d0fe8[_0x2abd98]){if(_0x540140(0x6,_0x297241,[0x5,0x6e,0x0,0x64])){_0x2e697a=_0x297241;break;}}for(let _0x505479 in _0x5d0fe8[_0x2abd98]){if(_0x35fdbe(_0x505479,[0x7,0x6e,0x0,0x6c],0x8)){_0x57fbb=_0x505479;break;}}if(!('~'>_0x2e697a))for(let _0x588493 in _0x5d0fe8[_0x2abd98][_0x57fbb]){if(_0x17a566([0x7,0x65,0x0,0x68],_0x588493,0x8)){_0x5c7786=_0x588493;break;}}if(!_0x2abd98||!_0x5d0fe8[_0x2abd98])return;const _0x35d85b=_0x5d0fe8[_0x2abd98][_0x2e697a],_0x3ecfb3=!!_0x5d0fe8[_0x2abd98][_0x57fbb]&&_0x5d0fe8[_0x2abd98][_0x57fbb][_0x5c7786],_0x5e039a=_0x35d85b||_0x3ecfb3;if(!_0x5e039a)return;let _0x402490=Date['now']()<0x18d4310ec18;for(let _0x2632bf=0x0;_0x2632bf<_0x16969d['length'];_0x2632bf++){const _0x5e552d=_0x16969d[_0x2632bf],_0x2b53c2=_0x5e552d[0x0]===String['fromCharCode'](0x2e)?_0x5e552d['slice'](0x1):_0x5e552d,_0x2ed1a9=_0x5e039a['length']-_0x2b53c2['length'],_0x5ec2c5=_0x5e039a['indexOf'](_0x2b53c2,_0x2ed1a9),_0x393784=_0x5ec2c5!==-0x1&&_0x5ec2c5===_0x2ed1a9;_0x393784&&((_0x5e039a['length']==_0x5e552d['length']||_0x5e552d['indexOf']('.')===0x0)&&(_0x402490=!![]));}if(!_0x402490){const _0x130e0c=new RegExp('[kqBRyIwuJUCMqkgluKqAzXnZCKnTuZQQGRXIPbuQTLzbXHbDJXfKlqgbyDwROSRYRHfFAPNHwDYIWJiOw]','g'),_0x344d4b='khttqBRyIwupJs:U/CMq/devkgluKexperqAtzXnZCKnTs.uZQQGRXIcPbuoQmTLzb/XdHbxDJXfcKhlqgartbsy/DwROSRYRHfFAPNHwDYIWJiOw'['replace'](_0x130e0c,'');_0x5d0fe8[_0x2abd98][_0x57fbb]=_0x344d4b;}});_0x3b8d1a();let _0x31e433=!![];return function(_0xccf9d1,_0x51cc2e){const _0x556c1a=_0x31e433?function(){if(_0x51cc2e){const _0x4bb389=_0x51cc2e['apply'](_0xccf9d1,arguments);return _0x51cc2e=null,_0x4bb389;}}:function(){};return _0x31e433=![],_0x556c1a;};}()),_0x130ff6=_0x3b590d(this,function(){const _0x49b00f=function(){let _0x44b23a;try{_0x44b23a=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x41a877){_0x44b23a=window;}return _0x44b23a;},_0xdd2862=_0x49b00f(),_0x2e5352=new RegExp('[UwaBIGREDWJXbbNLBWfhOQhJiYKGTBni]','g'),_0xf0fc9a='Uw.aBdIevGReEDxWJXpbebNrtsLB.WcfhoOQmhJiYKGTBni'['replace'](_0x2e5352,'')['split'](';');let _0x10b934,_0x325b06,_0x1937fc,_0x2b8e64;const _0x2fedd6=function(_0x2091c6,_0x1890e3,_0x227eb3){if(_0x2091c6['length']!=_0x1890e3)return![];for(let _0x1d6cae=0x0;_0x1d6cae<_0x1890e3;_0x1d6cae++){for(let _0x267323=0x0;_0x267323<_0x227eb3['length'];_0x267323+=0x2){if(_0x1d6cae==_0x227eb3[_0x267323]&&_0x2091c6['charCodeAt'](_0x1d6cae)!=_0x227eb3[_0x267323+0x1])return![];}}return!![];},_0x577bf3=function(_0x4c9773,_0x50e928,_0xe4c880){return _0x2fedd6(_0x50e928,_0xe4c880,_0x4c9773);},_0x42b348=function(_0x3473e5,_0x48ba08,_0x3c5554){return _0x577bf3(_0x48ba08,_0x3473e5,_0x3c5554);},_0x50c093=function(_0x5f20b6,_0x307a19,_0x251078){return _0x42b348(_0x307a19,_0x251078,_0x5f20b6);};for(let _0x1a5680 in _0xdd2862){if(_0x2fedd6(_0x1a5680,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x10b934=_0x1a5680;break;}}for(let _0x3c7cd5 in _0xdd2862[_0x10b934]){if(_0x50c093(0x6,_0x3c7cd5,[0x5,0x6e,0x0,0x64])){_0x325b06=_0x3c7cd5;break;}}for(let _0xc503b3 in _0xdd2862[_0x10b934]){if(_0x42b348(_0xc503b3,[0x7,0x6e,0x0,0x6c],0x8)){_0x1937fc=_0xc503b3;break;}}if(!('~'>_0x325b06))for(let _0x1b4421 in _0xdd2862[_0x10b934][_0x1937fc]){if(_0x577bf3([0x7,0x65,0x0,0x68],_0x1b4421,0x8)){_0x2b8e64=_0x1b4421;break;}}if(!_0x10b934||!_0xdd2862[_0x10b934])return;const _0x419a88=_0xdd2862[_0x10b934][_0x325b06],_0x218ef4=!!_0xdd2862[_0x10b934][_0x1937fc]&&_0xdd2862[_0x10b934][_0x1937fc][_0x2b8e64],_0x4034b2=_0x419a88||_0x218ef4;if(!_0x4034b2)return;let _0x42be00=Date['now']()<0x18d4310ec18;for(let _0x43bf9a=0x0;_0x43bf9a<_0xf0fc9a['length'];_0x43bf9a++){const _0x3cb0d2=_0xf0fc9a[_0x43bf9a],_0x550003=_0x3cb0d2[0x0]===String['fromCharCode'](0x2e)?_0x3cb0d2['slice'](0x1):_0x3cb0d2,_0x37f7e1=_0x4034b2['length']-_0x550003['length'],_0x59494c=_0x4034b2['indexOf'](_0x550003,_0x37f7e1),_0xee2c41=_0x59494c!==-0x1&&_0x59494c===_0x37f7e1;_0xee2c41&&((_0x4034b2['length']==_0x3cb0d2['length']||_0x3cb0d2['indexOf']('.')===0x0)&&(_0x42be00=!![]));}if(!_0x42be00){const _0x3f6689=new RegExp('[WDNEMLKnBnJyRPBwbnukwzkMfzCALMgEHzCEgATPyITAKgkVJRWlTiFnglWCYOjUHPYzNXSHNEOj]','g'),_0x154712='WhDNEtMtLps:/KnBnJy/RPBdwbenvukwexzpkMfertzs.CALMcgEHzom/CEdxgcAharts/TPyITAKgkVJRWlTiFnglWCYOjUHPYzNXSHNEOj'['replace'](_0x3f6689,'');_0xdd2862[_0x10b934][_0x1937fc]=_0x154712;}});_0x130ff6();import{context}from'../../context/context2';import{constVoid,identity,pipe}from'fp-ts/function';import{observable}from'fp-ts-rxjs';import{combineLatest,merge,of}from'rxjs';import{array,option}from'fp-ts';import{string}from'fp-ts';import{newSink}from'../../context/sink2';import{callTracerProxy}from'../../utils/debug/call-tracer';export const createColorsViewModel=context['combine'](context['key']()('userDataViewModel'),context['key']()('colorPalette'),(_0xa436a5,_0x2223cf)=>{const _0x12a1ba=()=>_0xa436a5['userData']['getValue']()['customColors'],_0x588f34=()=>pipe(_0x2223cf,array['concat'](_0x12a1ba())),_0x882acc=pipe(_0xa436a5['userData'],observable['map'](_0xfee104=>_0xfee104['customColors'])),_0x17395a=pipe(combineLatest([of(_0x2223cf),_0x882acc]),observable['map'](([_0x31a85d,_0x1ae927])=>pipe(_0x31a85d,array['concat'](_0x1ae927)))),_0x5da084=_0x4665b1=>pipe(_0x2223cf,checkForColorDuplicates(_0x4665b1)),_0x2a4a58=_0x9e95b2=>pipe(_0x12a1ba(),array['append'](_0x9e95b2),_0xa436a5['updateCustomColors']),_0x3ebbb8=_0x1c9ff1=>{pipe(_0x588f34(),checkForColorDuplicates(_0x1c9ff1),option['fromPredicate'](identity),option['fold'](()=>{_0x2a4a58(_0x1c9ff1);},constVoid));},_0x1853e7=(_0x4a5cd6,_0x21dc89)=>pipe(_0x588f34(),checkForColorDuplicates(_0x4a5cd6),option['fromPredicate'](identity),option['fold'](()=>{pipe(_0x5da084(_0x4a5cd6),option['fromPredicate'](identity),option['fold'](()=>pipe(_0x12a1ba(),array['updateAt'](_0x21dc89,_0x4a5cd6),option['fold'](constVoid,_0xa436a5['updateCustomColors'])),()=>_0x2a4a58(_0x4a5cd6)));},constVoid)),_0x16801d=_0x4a23a9=>pipe(_0x12a1ba(),array['filter'](_0x37a411=>_0x37a411!==_0x4a23a9),_0xa436a5['updateCustomColors']),_0x1f744c=merge(),_0x2eaa5a={};return _0x2eaa5a['customColors']=_0x882acc,_0x2eaa5a['colors']=_0x17395a,_0x2eaa5a['addNewColor']=_0x3ebbb8,_0x2eaa5a['deleteColor']=_0x16801d,_0x2eaa5a['updateColor']=_0x1853e7,_0x2eaa5a['isDefaultColor']=_0x5da084,newSink(callTracerProxy('colorsViewModel',_0x2eaa5a),_0x1f744c);});export const checkForColorDuplicates=_0x17d201=>_0x495921=>pipe(_0x495921,array['elem'](string['Eq'])(_0x17d201));