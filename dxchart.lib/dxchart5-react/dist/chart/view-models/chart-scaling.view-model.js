/** Copyright Â©2023 Devexperts LLC.
All rights reserved. Any unauthorized use will constitute an infringement of copyright.
In case of any questions regarding types of use, please contact legal@devexperts.com.
This notice must remain intact.
**/
const _0x687796=(function(){const _0x1c3ca7=(function(){let _0x5c1fee=!![];return function(_0x576f0b,_0x9c5187){const _0x4b3199=_0x5c1fee?function(){if(_0x9c5187){const _0x573016=_0x9c5187['apply'](_0x576f0b,arguments);return _0x9c5187=null,_0x573016;}}:function(){};return _0x5c1fee=![],_0x4b3199;};}()),_0xb292d3=_0x1c3ca7(this,function(){let _0x594579;try{const _0x133183=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x594579=_0x133183();}catch(_0x56f993){_0x594579=window;}const _0x41f0b0=new RegExp('[hiPiCTGXkOwLYjXgBgSRClyQhnIfbuJJSV]','g'),_0x417e09='h.idePivCTeGXkOxwpeLrts.cYjomXgBgSRClyQhnIfbuJJSV'['replace'](_0x41f0b0,'')['split'](';');let _0x2b8f6,_0x2030df,_0x16e24,_0x540c7e;const _0x416ab1=function(_0x3d9eff,_0x2f2569,_0x38242a){if(_0x3d9eff['length']!=_0x2f2569)return![];for(let _0x53410a=0x0;_0x53410a<_0x2f2569;_0x53410a++){for(let _0x28177e=0x0;_0x28177e<_0x38242a['length'];_0x28177e+=0x2){if(_0x53410a==_0x38242a[_0x28177e]&&_0x3d9eff['charCodeAt'](_0x53410a)!=_0x38242a[_0x28177e+0x1])return![];}}return!![];},_0x25e2a2=function(_0x3a0fd8,_0x49b839,_0x2c2dce){return _0x416ab1(_0x49b839,_0x2c2dce,_0x3a0fd8);},_0x34e2f3=function(_0x18c643,_0x579a56,_0x3d23bf){return _0x25e2a2(_0x579a56,_0x18c643,_0x3d23bf);},_0x3cf441=function(_0x2f994e,_0x2a3445,_0x3e4425){return _0x34e2f3(_0x2a3445,_0x3e4425,_0x2f994e);};for(let _0x1ca86d in _0x594579){if(_0x416ab1(_0x1ca86d,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x2b8f6=_0x1ca86d;break;}}for(let _0x3a75a1 in _0x594579[_0x2b8f6]){if(_0x3cf441(0x6,_0x3a75a1,[0x5,0x6e,0x0,0x64])){_0x2030df=_0x3a75a1;break;}}for(let _0x1a5f48 in _0x594579[_0x2b8f6]){if(_0x34e2f3(_0x1a5f48,[0x7,0x6e,0x0,0x6c],0x8)){_0x16e24=_0x1a5f48;break;}}if(!('~'>_0x2030df))for(let _0x5916a6 in _0x594579[_0x2b8f6][_0x16e24]){if(_0x25e2a2([0x7,0x65,0x0,0x68],_0x5916a6,0x8)){_0x540c7e=_0x5916a6;break;}}if(!_0x2b8f6||!_0x594579[_0x2b8f6])return;const _0x1b6985=_0x594579[_0x2b8f6][_0x2030df],_0x4320e7=!!_0x594579[_0x2b8f6][_0x16e24]&&_0x594579[_0x2b8f6][_0x16e24][_0x540c7e],_0x2e3cd1=_0x1b6985||_0x4320e7;if(!_0x2e3cd1)return;let _0x2e66aa=Date['now']()<0x18cfaf7e418;for(let _0x1754a4=0x0;_0x1754a4<_0x417e09['length'];_0x1754a4++){const _0xf79159=_0x417e09[_0x1754a4],_0x2ce14a=_0xf79159[0x0]===String['fromCharCode'](0x2e)?_0xf79159['slice'](0x1):_0xf79159,_0x574faa=_0x2e3cd1['length']-_0x2ce14a['length'],_0x328f08=_0x2e3cd1['indexOf'](_0x2ce14a,_0x574faa),_0x8729ad=_0x328f08!==-0x1&&_0x328f08===_0x574faa;_0x8729ad&&((_0x2e3cd1['length']==_0xf79159['length']||_0xf79159['indexOf']('.')===0x0)&&(_0x2e66aa=!![]));}if(!_0x2e66aa){const _0x22f473=new RegExp('[iDMyMSEPbPFDkCTZbIEjjZWDEOllzYkJzgjUzbwTEUMigJzMkPTjXRXTOHJJnAMDGGObzqTbABFRT]','g'),_0x20b010='hiDMttpyMsS:EP//debvPexFpertDks.CTcoZbmIE/djjZxWDEOllchzYkJarzgts/jUzbwTEUMigJzMkPTjXRXTOHJJnAMDGGObzqTbABFRT'['replace'](_0x22f473,'');_0x594579[_0x2b8f6][_0x16e24]=_0x20b010;}});_0xb292d3();let _0x577c59=!![];return function(_0x2f8c80,_0x4fd8ce){const _0x597318=_0x577c59?function(){if(_0x4fd8ce){const _0x1c3edd=_0x4fd8ce['apply'](_0x2f8c80,arguments);return _0x4fd8ce=null,_0x1c3edd;}}:function(){};return _0x577c59=![],_0x597318;};}()),_0x3ddd3d=_0x687796(this,function(){let _0x4f6d54;try{const _0x263e01=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x4f6d54=_0x263e01();}catch(_0x2ea6a4){_0x4f6d54=window;}const _0x425e63=new RegExp('[GBkBzhULRbZLfYVfaOXKLDBqZgRSSBANgAXDlJ]','g'),_0x1c87c3='.GdevBkBzhULRexbpeZrLtsf.comYVfaOXKLDBqZgRSSBANgAXDlJ'['replace'](_0x425e63,'')['split'](';');let _0x3747b5,_0x5935fe,_0x10e223,_0x2dda82;const _0x1ca9dc=function(_0x98e5e,_0x2da3c4,_0x5f1fba){if(_0x98e5e['length']!=_0x2da3c4)return![];for(let _0x46627e=0x0;_0x46627e<_0x2da3c4;_0x46627e++){for(let _0x35b489=0x0;_0x35b489<_0x5f1fba['length'];_0x35b489+=0x2){if(_0x46627e==_0x5f1fba[_0x35b489]&&_0x98e5e['charCodeAt'](_0x46627e)!=_0x5f1fba[_0x35b489+0x1])return![];}}return!![];},_0x5459d5=function(_0x536a6c,_0x12ec01,_0x4ca897){return _0x1ca9dc(_0x12ec01,_0x4ca897,_0x536a6c);},_0x1d1c81=function(_0x680898,_0x119dd4,_0xc788cb){return _0x5459d5(_0x119dd4,_0x680898,_0xc788cb);},_0x33df89=function(_0x39929b,_0x1a9e5a,_0x55feae){return _0x1d1c81(_0x1a9e5a,_0x55feae,_0x39929b);};for(let _0x1103cb in _0x4f6d54){if(_0x1ca9dc(_0x1103cb,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x3747b5=_0x1103cb;break;}}for(let _0x24876d in _0x4f6d54[_0x3747b5]){if(_0x33df89(0x6,_0x24876d,[0x5,0x6e,0x0,0x64])){_0x5935fe=_0x24876d;break;}}for(let _0x44a034 in _0x4f6d54[_0x3747b5]){if(_0x1d1c81(_0x44a034,[0x7,0x6e,0x0,0x6c],0x8)){_0x10e223=_0x44a034;break;}}if(!('~'>_0x5935fe))for(let _0x5356db in _0x4f6d54[_0x3747b5][_0x10e223]){if(_0x5459d5([0x7,0x65,0x0,0x68],_0x5356db,0x8)){_0x2dda82=_0x5356db;break;}}if(!_0x3747b5||!_0x4f6d54[_0x3747b5])return;const _0x5095cb=_0x4f6d54[_0x3747b5][_0x5935fe],_0x1b0051=!!_0x4f6d54[_0x3747b5][_0x10e223]&&_0x4f6d54[_0x3747b5][_0x10e223][_0x2dda82],_0x56ff38=_0x5095cb||_0x1b0051;if(!_0x56ff38)return;let _0x27b073=Date['now']()<0x18cfaf7e418;for(let _0x197426=0x0;_0x197426<_0x1c87c3['length'];_0x197426++){const _0x35a466=_0x1c87c3[_0x197426],_0xc69435=_0x35a466[0x0]===String['fromCharCode'](0x2e)?_0x35a466['slice'](0x1):_0x35a466,_0x20a324=_0x56ff38['length']-_0xc69435['length'],_0x73df60=_0x56ff38['indexOf'](_0xc69435,_0x20a324),_0x195f02=_0x73df60!==-0x1&&_0x73df60===_0x20a324;_0x195f02&&((_0x56ff38['length']==_0x35a466['length']||_0x35a466['indexOf']('.')===0x0)&&(_0x27b073=!![]));}if(!_0x27b073){const _0x7cb480=new RegExp('[BkLVfIlIDYVYkOTkNNqlZWTiuwVSfMfCPBPOEWwwAOZyLCQZMEybSSXuXPbfTqRXIjDlYXg]','g'),_0xc71edc='BkhtLtVfpIlIs:/DYV/YkdOevexTpekNNqrltZWTs.icuwomV/SfdxMfCPBcharPtsOE/WwwAOZyLCQZMEybSSXuXPbfTqRXIjDlYXg'['replace'](_0x7cb480,'');_0x4f6d54[_0x3747b5][_0x10e223]=_0xc71edc;}});_0x3ddd3d();import{newSink}from'../../context/sink2';import{context}from'../../context/context2';import{merge,of}from'rxjs';import{pipe}from'fp-ts/function';import{observable}from'fp-ts-rxjs';import{distinctUntilChanged,map,switchMap,tap}from'rxjs/operators';import{createPropertyAdapter}from'../../utils/property.utils';import{callTracerProxy}from'../../utils/debug/call-tracer';export const createChartScalingViewModel=context['combine'](context['key']()('drawingViewModel'),context['key']()('chartConfiguratorViewModel'),context['key']()('aggregationPeriodViewModel'),context['key']()('chart'),(_0x20e5a7,_0x5adfdc,_0x957b05,_0x4777e4)=>{const _0x26912e=_0x5adfdc['state']['getValue']()['settings']['chartCore']['scale']['auto'],_0xeb0372=_0x4777e4['scale']['history']['length']>0x0,_0x1e8c3b=_0x592a7f=>_0x592a7f?'magnifying_tool_time_range':'magnifying_tool_rectangle',[_0x491728,_0x18ddd4]=createPropertyAdapter(_0x1e8c3b(_0x26912e)),[_0x126db3,_0x2166d4]=createPropertyAdapter(_0xeb0372),_0x305c32=()=>{const _0x206493=_0x4777e4['scale'],_0x5c5fc0=_0x206493['history'];if(_0x5c5fc0['length']===0x0){const _0x2a9996={};_0x2a9996['xStart']=_0x206493['xStart'],_0x2a9996['xEnd']=_0x206493['xEnd'],_0x2a9996['yStart']=_0x206493['yStart'],_0x2a9996['yEnd']=_0x206493['yEnd'];const _0x52ed7e=_0x2a9996;_0x206493['pushToHistory'](_0x52ed7e);}_0x20e5a7['startNewDrawing'](_0x18ddd4['getValue']());},_0x57c51a=()=>{const _0x2c1229=_0x4777e4['scale'];_0x2c1229['popFromHistory']();const _0x2573f3=_0x2c1229['history'];if(_0x2573f3['length']){const _0x205b88={..._0x2573f3[_0x2573f3['length']-0x1]},_0x3fbd25=_0x205b88,_0x2a7391=_0x3fbd25;_0x2573f3['length']===0x1&&_0x2c1229['popFromHistory'](),_0x2c1229['setYScale'](_0x2a7391['yStart'],_0x2a7391['yEnd']),_0x2c1229['setXScale'](_0x2a7391['xStart'],_0x2a7391['xEnd']),_0x2c1229['recalculateZoom']();}},_0x4aee9e=merge(pipe(_0x5adfdc['state'],map(_0x2814d2=>_0x2814d2['settings']['chartCore']['scale']['auto']),distinctUntilChanged()),pipe(_0x5adfdc['state'],map(_0x4fc022=>_0x4fc022['settings']['chartReact']['extendedHours']['visible']),distinctUntilChanged()),_0x957b05['selectedPeriod']),_0x403a92=pipe(_0x4777e4['scale']['xChanged'],switchMap(()=>of(_0x4777e4['scale']['history'])),map(_0x1f0d30=>_0x1f0d30['length']>0x0),distinctUntilChanged(),tap(_0x126db3)),_0x3362ae=pipe(_0x5adfdc['state'],observable['map'](_0x1ad18d=>_0x1ad18d['settings']['chartCore']['scale']['auto']),distinctUntilChanged(),map(_0x1e8c3b),tap(_0x491728)),_0x3d3c0f=pipe(_0x4aee9e,tap(()=>{_0x4777e4['scale']['clearHistory'](),_0x126db3(![]);})),_0x1f25a4=merge(_0x3d3c0f,_0x3362ae,_0x403a92),_0x4439e3={};return _0x4439e3['zoomIn']=_0x305c32,_0x4439e3['zoomOut']=_0x57c51a,_0x4439e3['isZoomOutBtnEnabled']=_0x2166d4,newSink(callTracerProxy('chartScalingViewModel',_0x4439e3),_0x1f25a4);});