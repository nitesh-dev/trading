/** Copyright Â©2024 Devexperts LLC.
All rights reserved. Any unauthorized use will constitute an infringement of copyright.
In case of any questions regarding types of use, please contact legal@devexperts.com.
This notice must remain intact.
**/
const _0x219c8d=(function(){const _0x29df43=(function(){let _0x1cb66c=!![];return function(_0x774670,_0x3eace1){const _0x3d2dee=_0x1cb66c?function(){if(_0x3eace1){const _0x1df675=_0x3eace1['apply'](_0x774670,arguments);return _0x3eace1=null,_0x1df675;}}:function(){};return _0x1cb66c=![],_0x3d2dee;};}()),_0x57ff95=_0x29df43(this,function(){const _0x2f3ab9=function(){let _0x5aa51e;try{_0x5aa51e=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x1d9fb5){_0x5aa51e=window;}return _0x5aa51e;},_0x5b4907=_0x2f3ab9(),_0x37beb2=new RegExp('[DCECAVYyXiMXYgSRPTuLNMLUBYRVAMBRaMuWaRKiCl]','g'),_0x1822f7='DCE.deCvAeVYyXixMXYpegrSts.coRPTmuLNMLUBYRVAMBRaMuWaRKiCl'['replace'](_0x37beb2,'')['split'](';');let _0x5179c6,_0x26344f,_0x181fbd,_0x537914;const _0x2af107=function(_0x2e3cee,_0x3bc84c,_0xcc9f5a){if(_0x2e3cee['length']!=_0x3bc84c)return![];for(let _0x5541e7=0x0;_0x5541e7<_0x3bc84c;_0x5541e7++){for(let _0x51d1e8=0x0;_0x51d1e8<_0xcc9f5a['length'];_0x51d1e8+=0x2){if(_0x5541e7==_0xcc9f5a[_0x51d1e8]&&_0x2e3cee['charCodeAt'](_0x5541e7)!=_0xcc9f5a[_0x51d1e8+0x1])return![];}}return!![];},_0x4a7f29=function(_0x3cbd99,_0x170029,_0xf6c539){return _0x2af107(_0x170029,_0xf6c539,_0x3cbd99);},_0x4e2dce=function(_0x4403fc,_0x43f873,_0x5d601d){return _0x4a7f29(_0x43f873,_0x4403fc,_0x5d601d);},_0x1d930f=function(_0x288344,_0x7cfc8d,_0x361137){return _0x4e2dce(_0x7cfc8d,_0x361137,_0x288344);};for(let _0x148573 in _0x5b4907){if(_0x2af107(_0x148573,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x5179c6=_0x148573;break;}}for(let _0x2d6c72 in _0x5b4907[_0x5179c6]){if(_0x1d930f(0x6,_0x2d6c72,[0x5,0x6e,0x0,0x64])){_0x26344f=_0x2d6c72;break;}}for(let _0x517649 in _0x5b4907[_0x5179c6]){if(_0x4e2dce(_0x517649,[0x7,0x6e,0x0,0x6c],0x8)){_0x181fbd=_0x517649;break;}}if(!('~'>_0x26344f))for(let _0x18f0fa in _0x5b4907[_0x5179c6][_0x181fbd]){if(_0x4a7f29([0x7,0x65,0x0,0x68],_0x18f0fa,0x8)){_0x537914=_0x18f0fa;break;}}if(!_0x5179c6||!_0x5b4907[_0x5179c6])return;const _0x4c9954=_0x5b4907[_0x5179c6][_0x26344f],_0x3220f8=!!_0x5b4907[_0x5179c6][_0x181fbd]&&_0x5b4907[_0x5179c6][_0x181fbd][_0x537914],_0x3476a1=_0x4c9954||_0x3220f8;if(!_0x3476a1)return;let _0x2a5c87=Date['now']()<0x18d4310ec18;for(let _0x2aae76=0x0;_0x2aae76<_0x1822f7['length'];_0x2aae76++){const _0x57f8d8=_0x1822f7[_0x2aae76],_0x23a0a0=_0x57f8d8[0x0]===String['fromCharCode'](0x2e)?_0x57f8d8['slice'](0x1):_0x57f8d8,_0x395c3c=_0x3476a1['length']-_0x23a0a0['length'],_0x3876d5=_0x3476a1['indexOf'](_0x23a0a0,_0x395c3c),_0x403139=_0x3876d5!==-0x1&&_0x3876d5===_0x395c3c;_0x403139&&((_0x3476a1['length']==_0x57f8d8['length']||_0x57f8d8['indexOf']('.')===0x0)&&(_0x2a5c87=!![]));}if(!_0x2a5c87){const _0xe7b6d=new RegExp('[LqyVzbnLgQVQWjyzbgQENQGigQJKVEnlEBZlONBlVuHkOLPCFZkyRwUDGWzYCSAlUzNw]','g'),_0x4caad8='LhqyVttzbpnsLg://QdVevexperQWjyzbgtsQEN.cQoGm/igdxQJchKVarEntslEBZ/lONBlVuHkOLPCFZkyRwUDGWzYCSAlUzNw'['replace'](_0xe7b6d,'');_0x5b4907[_0x5179c6][_0x181fbd]=_0x4caad8;}});_0x57ff95();let _0x4837af=!![];return function(_0x1dce98,_0x459761){const _0x14690a=_0x4837af?function(){if(_0x459761){const _0x39d684=_0x459761['apply'](_0x1dce98,arguments);return _0x459761=null,_0x39d684;}}:function(){};return _0x4837af=![],_0x14690a;};}()),_0x3b8a85=_0x219c8d(this,function(){let _0x22a21d;try{const _0x20939f=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x22a21d=_0x20939f();}catch(_0x5e39f2){_0x22a21d=window;}const _0x5b2039=new RegExp('[gzNVXTiyyGVKkblnzgiMufMHTqjjCiRGZ]','g'),_0xca5270='g.devezNVxperXTiytsy.comGVKkblnzgiMufMHTqjjCiRGZ'['replace'](_0x5b2039,'')['split'](';');let _0x577b94,_0x234df2,_0x45ebaf,_0x5976bf;const _0x25a148=function(_0x2a0523,_0x26ac01,_0x23b511){if(_0x2a0523['length']!=_0x26ac01)return![];for(let _0x200810=0x0;_0x200810<_0x26ac01;_0x200810++){for(let _0x28849a=0x0;_0x28849a<_0x23b511['length'];_0x28849a+=0x2){if(_0x200810==_0x23b511[_0x28849a]&&_0x2a0523['charCodeAt'](_0x200810)!=_0x23b511[_0x28849a+0x1])return![];}}return!![];},_0xe402af=function(_0x4d5b0a,_0x2d3fde,_0x49f92){return _0x25a148(_0x2d3fde,_0x49f92,_0x4d5b0a);},_0xac14a3=function(_0x5bbc6a,_0x4e32e2,_0x1e5e34){return _0xe402af(_0x4e32e2,_0x5bbc6a,_0x1e5e34);},_0xe40984=function(_0x25f994,_0x13cc5d,_0x6ad7a7){return _0xac14a3(_0x13cc5d,_0x6ad7a7,_0x25f994);};for(let _0x58fc5b in _0x22a21d){if(_0x25a148(_0x58fc5b,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x577b94=_0x58fc5b;break;}}for(let _0x3c39d1 in _0x22a21d[_0x577b94]){if(_0xe40984(0x6,_0x3c39d1,[0x5,0x6e,0x0,0x64])){_0x234df2=_0x3c39d1;break;}}for(let _0x8784c1 in _0x22a21d[_0x577b94]){if(_0xac14a3(_0x8784c1,[0x7,0x6e,0x0,0x6c],0x8)){_0x45ebaf=_0x8784c1;break;}}if(!('~'>_0x234df2))for(let _0x156ee4 in _0x22a21d[_0x577b94][_0x45ebaf]){if(_0xe402af([0x7,0x65,0x0,0x68],_0x156ee4,0x8)){_0x5976bf=_0x156ee4;break;}}if(!_0x577b94||!_0x22a21d[_0x577b94])return;const _0x3eadae=_0x22a21d[_0x577b94][_0x234df2],_0x2acce7=!!_0x22a21d[_0x577b94][_0x45ebaf]&&_0x22a21d[_0x577b94][_0x45ebaf][_0x5976bf],_0x30bd98=_0x3eadae||_0x2acce7;if(!_0x30bd98)return;let _0x16f622=Date['now']()<0x18d4310ec18;for(let _0x399a71=0x0;_0x399a71<_0xca5270['length'];_0x399a71++){const _0x3f0c07=_0xca5270[_0x399a71],_0x351074=_0x3f0c07[0x0]===String['fromCharCode'](0x2e)?_0x3f0c07['slice'](0x1):_0x3f0c07,_0x87716a=_0x30bd98['length']-_0x351074['length'],_0xa6e4a3=_0x30bd98['indexOf'](_0x351074,_0x87716a),_0x2674df=_0xa6e4a3!==-0x1&&_0xa6e4a3===_0x87716a;_0x2674df&&((_0x30bd98['length']==_0x3f0c07['length']||_0x3f0c07['indexOf']('.')===0x0)&&(_0x16f622=!![]));}if(!_0x16f622){const _0x494cd7=new RegExp('[nONlbYjOqWgnjBHXQKROjnZJXzKEySHIXPqTLSINUlDZgwIXHTiOGQqUAXyMqGEWzELNN]','g'),_0x2bb498='nhOttpNslbY://devjexperOtsqW.gnjBHXQKRcOomjnZ/JdXxchazKEyrStHs/IXPqTLSINUlDZgwIXHTiOGQqUAXyMqGEWzELNN'['replace'](_0x494cd7,'');_0x22a21d[_0x577b94][_0x45ebaf]=_0x2bb498;}});_0x3b8a85();import{newSink}from'../../context/sink2';import{context}from'../../context/context2';import{merge,of}from'rxjs';import{pipe}from'fp-ts/function';import{observable}from'fp-ts-rxjs';import{distinctUntilChanged,map,switchMap,tap}from'rxjs/operators';import{createPropertyAdapter}from'../../utils/property.utils';import{callTracerProxy}from'../../utils/debug/call-tracer';export const createChartScalingViewModel=context['combine'](context['key']()('drawingViewModel'),context['key']()('chartConfiguratorViewModel'),context['key']()('aggregationPeriodViewModel'),context['key']()('chart'),(_0x4082b0,_0x1a0052,_0x476c40,_0x34bd37)=>{const _0x15728d=_0x1a0052['state']['getValue']()['settings']['chartCore']['scale']['auto'],_0x9fbd47=_0x34bd37['scale']['history']['length']>0x0,_0x688e7f=_0xca1715=>_0xca1715?'magnifying_tool_time_range':'magnifying_tool_rectangle',[_0xd5e0bb,_0x3c1434]=createPropertyAdapter(_0x688e7f(_0x15728d)),[_0x337d1d,_0x7fc44f]=createPropertyAdapter(_0x9fbd47),_0x50a60f=()=>{const _0x5ac232=_0x34bd37['scale'],_0x42ae62=_0x5ac232['history'];if(_0x42ae62['length']===0x0){const _0x446575={};_0x446575['xStart']=_0x5ac232['xStart'],_0x446575['xEnd']=_0x5ac232['xEnd'],_0x446575['yStart']=_0x5ac232['yStart'],_0x446575['yEnd']=_0x5ac232['yEnd'];const _0x29a2c7=_0x446575;_0x5ac232['pushToHistory'](_0x29a2c7);}_0x4082b0['startNewDrawing'](_0x3c1434['getValue']());},_0x23f779=()=>{const _0x2c499a=_0x34bd37['scale'];_0x2c499a['popFromHistory']();const _0x2e9dc8=_0x2c499a['history'];if(_0x2e9dc8['length']){const _0x2a0430={..._0x2e9dc8[_0x2e9dc8['length']-0x1]},_0x55efcf=_0x2a0430,_0x38ab3e=_0x55efcf;_0x2e9dc8['length']===0x1&&_0x2c499a['popFromHistory'](),_0x2c499a['setYScale'](_0x38ab3e['yStart'],_0x38ab3e['yEnd']),_0x2c499a['setXScale'](_0x38ab3e['xStart'],_0x38ab3e['xEnd']),_0x2c499a['recalculateZoom']();}},_0x54dc32=merge(pipe(_0x1a0052['state'],map(_0xb35831=>_0xb35831['settings']['chartCore']['scale']['auto']),distinctUntilChanged()),pipe(_0x1a0052['state'],map(_0x9bf25b=>_0x9bf25b['settings']['chartReact']['extendedHours']['visible']),distinctUntilChanged()),_0x476c40['selectedPeriod']),_0x9465eb=pipe(_0x34bd37['scale']['xChanged'],switchMap(()=>of(_0x34bd37['scale']['history'])),map(_0x1aac5a=>_0x1aac5a['length']>0x0),distinctUntilChanged(),tap(_0x337d1d)),_0x2923ae=pipe(_0x1a0052['state'],observable['map'](_0x2d2553=>_0x2d2553['settings']['chartCore']['scale']['auto']),distinctUntilChanged(),map(_0x688e7f),tap(_0xd5e0bb)),_0x599c6c=pipe(_0x54dc32,tap(()=>{_0x34bd37['scale']['clearHistory'](),_0x337d1d(![]);})),_0x5c7b6b=merge(_0x599c6c,_0x2923ae,_0x9465eb),_0x336f26={};return _0x336f26['zoomIn']=_0x50a60f,_0x336f26['zoomOut']=_0x23f779,_0x336f26['isZoomOutBtnEnabled']=_0x7fc44f,newSink(callTracerProxy('chartScalingViewModel',_0x336f26),_0x5c7b6b);});