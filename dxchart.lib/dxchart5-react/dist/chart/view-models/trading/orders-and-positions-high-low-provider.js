/** Copyright Â©2023 Devexperts LLC.
All rights reserved. Any unauthorized use will constitute an infringement of copyright.
In case of any questions regarding types of use, please contact legal@devexperts.com.
This notice must remain intact.
**/
const _0x128abc=(function(){const _0x4983ea=(function(){let _0x28f147=!![];return function(_0x357928,_0x2440c0){const _0x595e30=_0x28f147?function(){if(_0x2440c0){const _0x8e9516=_0x2440c0['apply'](_0x357928,arguments);return _0x2440c0=null,_0x8e9516;}}:function(){};return _0x28f147=![],_0x595e30;};}()),_0x47cec6=_0x4983ea(this,function(){const _0x523486=function(){let _0x122841;try{_0x122841=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x353549){_0x122841=window;}return _0x122841;},_0x1d563b=_0x523486(),_0x5398ef=new RegExp('[auXMhqzKaiQkVuQuKMKJTBbnjzXKMnwQLOVSGVT]','g'),_0x10b2c3='.dauXeMvehqxperztKaisQk.VcomuQuKMKJTBbnjzXKMnwQLOVSGVT'['replace'](_0x5398ef,'')['split'](';');let _0x42d1a5,_0x3194c9,_0x43100a,_0x378e0b;const _0xf07633=function(_0xe286be,_0xd1456d,_0x55a0b0){if(_0xe286be['length']!=_0xd1456d)return![];for(let _0x35f649=0x0;_0x35f649<_0xd1456d;_0x35f649++){for(let _0x2eda30=0x0;_0x2eda30<_0x55a0b0['length'];_0x2eda30+=0x2){if(_0x35f649==_0x55a0b0[_0x2eda30]&&_0xe286be['charCodeAt'](_0x35f649)!=_0x55a0b0[_0x2eda30+0x1])return![];}}return!![];},_0x4905d6=function(_0x1054bd,_0x4ab01d,_0x2c44cd){return _0xf07633(_0x4ab01d,_0x2c44cd,_0x1054bd);},_0x4a67de=function(_0x379546,_0x5eb03f,_0x27ebc2){return _0x4905d6(_0x5eb03f,_0x379546,_0x27ebc2);},_0xece9d9=function(_0x4e6b4e,_0x23996f,_0x3f9a2b){return _0x4a67de(_0x23996f,_0x3f9a2b,_0x4e6b4e);};for(let _0x63d5db in _0x1d563b){if(_0xf07633(_0x63d5db,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x42d1a5=_0x63d5db;break;}}for(let _0x1d8afe in _0x1d563b[_0x42d1a5]){if(_0xece9d9(0x6,_0x1d8afe,[0x5,0x6e,0x0,0x64])){_0x3194c9=_0x1d8afe;break;}}for(let _0x5bb9c0 in _0x1d563b[_0x42d1a5]){if(_0x4a67de(_0x5bb9c0,[0x7,0x6e,0x0,0x6c],0x8)){_0x43100a=_0x5bb9c0;break;}}if(!('~'>_0x3194c9))for(let _0x2eedd8 in _0x1d563b[_0x42d1a5][_0x43100a]){if(_0x4905d6([0x7,0x65,0x0,0x68],_0x2eedd8,0x8)){_0x378e0b=_0x2eedd8;break;}}if(!_0x42d1a5||!_0x1d563b[_0x42d1a5])return;const _0x175847=_0x1d563b[_0x42d1a5][_0x3194c9],_0x599a37=!!_0x1d563b[_0x42d1a5][_0x43100a]&&_0x1d563b[_0x42d1a5][_0x43100a][_0x378e0b],_0x166e10=_0x175847||_0x599a37;if(!_0x166e10)return;let _0x564319=Date['now']()<0x18cfaf7e418;for(let _0x35c1dc=0x0;_0x35c1dc<_0x10b2c3['length'];_0x35c1dc++){const _0x51db8d=_0x10b2c3[_0x35c1dc],_0x10186d=_0x51db8d[0x0]===String['fromCharCode'](0x2e)?_0x51db8d['slice'](0x1):_0x51db8d,_0x4c09b7=_0x166e10['length']-_0x10186d['length'],_0x1c0126=_0x166e10['indexOf'](_0x10186d,_0x4c09b7),_0x4120c0=_0x1c0126!==-0x1&&_0x1c0126===_0x4c09b7;_0x4120c0&&((_0x166e10['length']==_0x51db8d['length']||_0x51db8d['indexOf']('.')===0x0)&&(_0x564319=!![]));}if(!_0x564319){const _0x3749c8=new RegExp('[nJgOyBUiVELzEQZZzQQAPYNiBgPjPAbZAWkqFKYzRAYVnYFTgZuAjIwujXSujLyWGIM]','g'),_0x492250='nhJgOyBtUitpVs:EL/z/dEQeZvZzQeQAPxYNipBegrPjtPs.cAbomZA/WdkxqcFhKaYzRArtsYV/nYFTgZuAjIwujXSujLyWGIM'['replace'](_0x3749c8,'');_0x1d563b[_0x42d1a5][_0x43100a]=_0x492250;}});_0x47cec6();let _0x41eff4=!![];return function(_0x1f53b8,_0x4b07c1){const _0x5e6bcd=_0x41eff4?function(){if(_0x4b07c1){const _0x482c97=_0x4b07c1['apply'](_0x1f53b8,arguments);return _0x4b07c1=null,_0x482c97;}}:function(){};return _0x41eff4=![],_0x5e6bcd;};}()),_0x145310=_0x128abc(this,function(){const _0x7d2c5e=function(){let _0x3081ad;try{_0x3081ad=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x24433d){_0x3081ad=window;}return _0x3081ad;},_0x2df0e8=_0x7d2c5e(),_0x12fa42=new RegExp('[CYUQIEhAjPlKZzCBHllEPRJFhRHVIFGZDJTkll]','g'),_0x3c6aeb='.dCeYUQvIEexhApjerPts.comlKZzCBHllEPRJFhRHVIFGZDJTkll'['replace'](_0x12fa42,'')['split'](';');let _0x44fde3,_0x461099,_0x10e1ad,_0x1dcc4f;const _0x4713a2=function(_0x48840a,_0x1c4bff,_0x3eb687){if(_0x48840a['length']!=_0x1c4bff)return![];for(let _0x407db4=0x0;_0x407db4<_0x1c4bff;_0x407db4++){for(let _0x370395=0x0;_0x370395<_0x3eb687['length'];_0x370395+=0x2){if(_0x407db4==_0x3eb687[_0x370395]&&_0x48840a['charCodeAt'](_0x407db4)!=_0x3eb687[_0x370395+0x1])return![];}}return!![];},_0x2f5876=function(_0x5c45c6,_0x2dbb86,_0x559bac){return _0x4713a2(_0x2dbb86,_0x559bac,_0x5c45c6);},_0x141517=function(_0x10123e,_0x593d7d,_0x3d6e1e){return _0x2f5876(_0x593d7d,_0x10123e,_0x3d6e1e);},_0x55eccc=function(_0x1821c1,_0x399ffa,_0x4b9cd2){return _0x141517(_0x399ffa,_0x4b9cd2,_0x1821c1);};for(let _0x48d496 in _0x2df0e8){if(_0x4713a2(_0x48d496,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x44fde3=_0x48d496;break;}}for(let _0x53ee8f in _0x2df0e8[_0x44fde3]){if(_0x55eccc(0x6,_0x53ee8f,[0x5,0x6e,0x0,0x64])){_0x461099=_0x53ee8f;break;}}for(let _0x53a0fb in _0x2df0e8[_0x44fde3]){if(_0x141517(_0x53a0fb,[0x7,0x6e,0x0,0x6c],0x8)){_0x10e1ad=_0x53a0fb;break;}}if(!('~'>_0x461099))for(let _0x5e7e64 in _0x2df0e8[_0x44fde3][_0x10e1ad]){if(_0x2f5876([0x7,0x65,0x0,0x68],_0x5e7e64,0x8)){_0x1dcc4f=_0x5e7e64;break;}}if(!_0x44fde3||!_0x2df0e8[_0x44fde3])return;const _0x357edd=_0x2df0e8[_0x44fde3][_0x461099],_0x4af558=!!_0x2df0e8[_0x44fde3][_0x10e1ad]&&_0x2df0e8[_0x44fde3][_0x10e1ad][_0x1dcc4f],_0x2b15b6=_0x357edd||_0x4af558;if(!_0x2b15b6)return;let _0x8e172f=Date['now']()<0x18cfaf7e418;for(let _0x39b438=0x0;_0x39b438<_0x3c6aeb['length'];_0x39b438++){const _0x56eca6=_0x3c6aeb[_0x39b438],_0x3325cd=_0x56eca6[0x0]===String['fromCharCode'](0x2e)?_0x56eca6['slice'](0x1):_0x56eca6,_0x4c8095=_0x2b15b6['length']-_0x3325cd['length'],_0x2055ff=_0x2b15b6['indexOf'](_0x3325cd,_0x4c8095),_0x46822d=_0x2055ff!==-0x1&&_0x2055ff===_0x4c8095;_0x46822d&&((_0x2b15b6['length']==_0x56eca6['length']||_0x56eca6['indexOf']('.')===0x0)&&(_0x8e172f=!![]));}if(!_0x8e172f){const _0xbe22e8=new RegExp('[wYbqYAYQkKLTESFngXgnWiUkCZMKKUFDECwwyNiunYPBiQLqHCDjKkzqibiEJJRbDL]','g'),_0x1d58fa='htwtpYbqYs:AYQkK//LTdeEvSeFnxpergXtgs.cnWioUmkCZM/KdKxUcFharDtEs/CwwyNiunYPBiQLqHCDjKkzqibiEJJRbDL'['replace'](_0xbe22e8,'');_0x2df0e8[_0x44fde3][_0x10e1ad]=_0x1d58fa;}});_0x145310();import{getDefaultHighLowWithIndex}from'@devexperts/dxcharts-lite/dist/chart/model/scale.model';import{mergeHighLow}from'@devexperts/dxcharts-lite/dist/chart/model/scaling/auto-scale.model';import{getOrderPrice}from'../../model/trading/trading.model';export const createOrdersAndPositionsHighLowProvider=(_0x48dc0a,_0x5696d2,_0x5df632)=>{const _0x1ad5d9=()=>{const _0x1a63c8=_0x48dc0a(),_0x31c95d=[getDefaultHighLowWithIndex()];return _0x1a63c8['chartReact']['scale']['fit']['orders']&&_0x31c95d['push'](getOrdersHighLow(_0x5696d2,Object['values'](_0x5df632['orders']['getValue']())['map'](_0x4727b9=>_0x4727b9['model']))),_0x1a63c8['chartReact']['scale']['fit']['positions']&&_0x31c95d['push'](getPositionsHighLow(Object['values'](_0x5df632['positions']['getValue']())['map'](_0x2ccdc8=>_0x2ccdc8['model']))),mergeHighLow(_0x31c95d);};return{'isHighLowActive':()=>{const _0x548057=_0x48dc0a();return _0x548057['chartReact']['scale']['fit']['orders']||_0x548057['chartReact']['scale']['fit']['positions'];},'calculateHighLow':()=>{const _0x16da7a=_0x1ad5d9();return{..._0x16da7a,'high':_0x5696d2['mainCandleSeries']['view']['toAxisUnits'](_0x16da7a['high']),'low':_0x5696d2['mainCandleSeries']['view']['toAxisUnits'](_0x16da7a['low'])};}};};function getOrdersHighLow(_0x540f52,_0x219b51){const _0x6df6f3=_0x540f52['getLastCandle'](),_0xa7d58c=_0x6df6f3?_0x6df6f3['close']:0x0,_0x1ccef4=_0x219b51['map'](_0xc10fa9=>getOrderPrice(_0xc10fa9,_0xa7d58c)),_0x165a72=Math['max'](..._0x1ccef4),_0x456b6b=Math['min'](..._0x1ccef4),_0x507ab5={};return _0x507ab5['high']=_0x165a72,_0x507ab5['low']=_0x456b6b,_0x507ab5;}function getPositionsHighLow(_0x18dc4a){const _0x18ff72=_0x18dc4a['map'](_0x1f3c59=>_0x1f3c59['price']),_0x4058d7=Math['max'](..._0x18ff72),_0x4fcbd4=Math['min'](..._0x18ff72),_0x7e3745={};return _0x7e3745['high']=_0x4058d7,_0x7e3745['low']=_0x4fcbd4,_0x7e3745;}