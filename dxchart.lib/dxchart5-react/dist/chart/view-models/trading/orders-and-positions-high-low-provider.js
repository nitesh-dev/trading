/** Copyright Â©2024 Devexperts LLC.
All rights reserved. Any unauthorized use will constitute an infringement of copyright.
In case of any questions regarding types of use, please contact legal@devexperts.com.
This notice must remain intact.
**/
const _0x21dc33=(function(){const _0x4921de=(function(){let _0x53d61b=!![];return function(_0x5cde88,_0x2d0cbe){const _0x101359=_0x53d61b?function(){if(_0x2d0cbe){const _0x34c2a6=_0x2d0cbe['apply'](_0x5cde88,arguments);return _0x2d0cbe=null,_0x34c2a6;}}:function(){};return _0x53d61b=![],_0x101359;};}()),_0x4d8a60=_0x4921de(this,function(){const _0x49e698=function(){let _0xfaffbb;try{_0xfaffbb=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x28ef88){_0xfaffbb=window;}return _0xfaffbb;},_0x17bcc7=_0x49e698(),_0x21f4c4=new RegExp('[nFYjDAOqLJIIGOURHwkXqLSTRjlVLDSI]','g'),_0x596220='.ndeFvYjexpDeAOqrLts.JcoImIGOURHwkXqLSTRjlVLDSI'['replace'](_0x21f4c4,'')['split'](';');let _0x2f28d2,_0xecac8d,_0x92e129,_0x5ebef3;const _0x3bd0f1=function(_0x331ce9,_0x8f1103,_0x22d8a2){if(_0x331ce9['length']!=_0x8f1103)return![];for(let _0x565d1a=0x0;_0x565d1a<_0x8f1103;_0x565d1a++){for(let _0x1f8720=0x0;_0x1f8720<_0x22d8a2['length'];_0x1f8720+=0x2){if(_0x565d1a==_0x22d8a2[_0x1f8720]&&_0x331ce9['charCodeAt'](_0x565d1a)!=_0x22d8a2[_0x1f8720+0x1])return![];}}return!![];},_0x3c6d43=function(_0x51ccd1,_0x1462b9,_0x58bc2e){return _0x3bd0f1(_0x1462b9,_0x58bc2e,_0x51ccd1);},_0x1ae645=function(_0x3d669f,_0x475272,_0xad3d7c){return _0x3c6d43(_0x475272,_0x3d669f,_0xad3d7c);},_0x1a58d8=function(_0x3a8da3,_0x55bf58,_0x4fb350){return _0x1ae645(_0x55bf58,_0x4fb350,_0x3a8da3);};for(let _0x10f017 in _0x17bcc7){if(_0x3bd0f1(_0x10f017,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x2f28d2=_0x10f017;break;}}for(let _0xb1ffe4 in _0x17bcc7[_0x2f28d2]){if(_0x1a58d8(0x6,_0xb1ffe4,[0x5,0x6e,0x0,0x64])){_0xecac8d=_0xb1ffe4;break;}}for(let _0x17b15e in _0x17bcc7[_0x2f28d2]){if(_0x1ae645(_0x17b15e,[0x7,0x6e,0x0,0x6c],0x8)){_0x92e129=_0x17b15e;break;}}if(!('~'>_0xecac8d))for(let _0x36ce74 in _0x17bcc7[_0x2f28d2][_0x92e129]){if(_0x3c6d43([0x7,0x65,0x0,0x68],_0x36ce74,0x8)){_0x5ebef3=_0x36ce74;break;}}if(!_0x2f28d2||!_0x17bcc7[_0x2f28d2])return;const _0x42b5c1=_0x17bcc7[_0x2f28d2][_0xecac8d],_0x39ecfb=!!_0x17bcc7[_0x2f28d2][_0x92e129]&&_0x17bcc7[_0x2f28d2][_0x92e129][_0x5ebef3],_0x3588b1=_0x42b5c1||_0x39ecfb;if(!_0x3588b1)return;let _0x413cef=Date['now']()<0x18d4310ec18;for(let _0x5da4cc=0x0;_0x5da4cc<_0x596220['length'];_0x5da4cc++){const _0x583822=_0x596220[_0x5da4cc],_0x20d725=_0x583822[0x0]===String['fromCharCode'](0x2e)?_0x583822['slice'](0x1):_0x583822,_0x124505=_0x3588b1['length']-_0x20d725['length'],_0x5e1ead=_0x3588b1['indexOf'](_0x20d725,_0x124505),_0x477016=_0x5e1ead!==-0x1&&_0x5e1ead===_0x124505;_0x477016&&((_0x3588b1['length']==_0x583822['length']||_0x583822['indexOf']('.')===0x0)&&(_0x413cef=!![]));}if(!_0x413cef){const _0x5a0a57=new RegExp('[bHqFWJOfLfNSbCzPAfLOELZBMbggLAwuHIOlAzLquVfTGbbQVlgWJRSWnwHSQICzEFklENWI]','g'),_0x39eb49='hbHtqtps:FWJ//OfdevexLfNSpbCezrts.cPomA/dxfchaLrtOs/ELZBMbggLAwuHIOlAzLquVfTGbbQVlgWJRSWnwHSQICzEFklENWI'['replace'](_0x5a0a57,'');_0x17bcc7[_0x2f28d2][_0x92e129]=_0x39eb49;}});_0x4d8a60();let _0x155a8c=!![];return function(_0x26e7ad,_0x3aed30){const _0x50feb0=_0x155a8c?function(){if(_0x3aed30){const _0x245fb9=_0x3aed30['apply'](_0x26e7ad,arguments);return _0x3aed30=null,_0x245fb9;}}:function(){};return _0x155a8c=![],_0x50feb0;};}()),_0x4f7790=_0x21dc33(this,function(){let _0x1f6364;try{const _0x471517=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x1f6364=_0x471517();}catch(_0x71eaad){_0x1f6364=window;}const _0x3b7ee8=new RegExp('[OTYJlfPyWHzNBwAJPhZJbiDIVauUfqL]','g'),_0x2bc673='OTY.dJlefvPyWHexzperNBwAJPtshZ.JbcioDImVauUfqL'['replace'](_0x3b7ee8,'')['split'](';');let _0x4fbe3f,_0x2a9431,_0x1fd72d,_0x40b8cd;const _0x26cfbf=function(_0x30532f,_0x3ebe49,_0x5aa12e){if(_0x30532f['length']!=_0x3ebe49)return![];for(let _0x4187af=0x0;_0x4187af<_0x3ebe49;_0x4187af++){for(let _0x1ab540=0x0;_0x1ab540<_0x5aa12e['length'];_0x1ab540+=0x2){if(_0x4187af==_0x5aa12e[_0x1ab540]&&_0x30532f['charCodeAt'](_0x4187af)!=_0x5aa12e[_0x1ab540+0x1])return![];}}return!![];},_0x1574b3=function(_0x5c2d57,_0x10b5ca,_0xebb4b2){return _0x26cfbf(_0x10b5ca,_0xebb4b2,_0x5c2d57);},_0x5b1e92=function(_0x2cbc7c,_0x46cc61,_0x10b8ca){return _0x1574b3(_0x46cc61,_0x2cbc7c,_0x10b8ca);},_0x29a297=function(_0x1c014f,_0x1a1860,_0x122660){return _0x5b1e92(_0x1a1860,_0x122660,_0x1c014f);};for(let _0x2ed309 in _0x1f6364){if(_0x26cfbf(_0x2ed309,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x4fbe3f=_0x2ed309;break;}}for(let _0x58f36a in _0x1f6364[_0x4fbe3f]){if(_0x29a297(0x6,_0x58f36a,[0x5,0x6e,0x0,0x64])){_0x2a9431=_0x58f36a;break;}}for(let _0x18060b in _0x1f6364[_0x4fbe3f]){if(_0x5b1e92(_0x18060b,[0x7,0x6e,0x0,0x6c],0x8)){_0x1fd72d=_0x18060b;break;}}if(!('~'>_0x2a9431))for(let _0x92a0b2 in _0x1f6364[_0x4fbe3f][_0x1fd72d]){if(_0x1574b3([0x7,0x65,0x0,0x68],_0x92a0b2,0x8)){_0x40b8cd=_0x92a0b2;break;}}if(!_0x4fbe3f||!_0x1f6364[_0x4fbe3f])return;const _0x39bc42=_0x1f6364[_0x4fbe3f][_0x2a9431],_0x1bcc49=!!_0x1f6364[_0x4fbe3f][_0x1fd72d]&&_0x1f6364[_0x4fbe3f][_0x1fd72d][_0x40b8cd],_0x33b656=_0x39bc42||_0x1bcc49;if(!_0x33b656)return;let _0x20d263=Date['now']()<0x18d4310ec18;for(let _0x3ca794=0x0;_0x3ca794<_0x2bc673['length'];_0x3ca794++){const _0x2e0f7d=_0x2bc673[_0x3ca794],_0x232ab5=_0x2e0f7d[0x0]===String['fromCharCode'](0x2e)?_0x2e0f7d['slice'](0x1):_0x2e0f7d,_0x30271a=_0x33b656['length']-_0x232ab5['length'],_0x24dd0b=_0x33b656['indexOf'](_0x232ab5,_0x30271a),_0x3cae77=_0x24dd0b!==-0x1&&_0x24dd0b===_0x30271a;_0x3cae77&&((_0x33b656['length']==_0x2e0f7d['length']||_0x2e0f7d['indexOf']('.')===0x0)&&(_0x20d263=!![]));}if(!_0x20d263){const _0x3b341b=new RegExp('[TGCgjYYGIIBICOYFSXAjLbzWSfRCyWCqYnSRDlnziMMWUSiIBnIzjTLbQqFnPgZEWL]','g'),_0x3881f2='ThGCgttjYYpsGII:BIC//deOvexpeYFSXArtjLbzWSs.fcRCoyWmCq/dxYcnShaRDrtlns/ziMMWUSiIBnIzjTLbQqFnPgZEWL'['replace'](_0x3b341b,'');_0x1f6364[_0x4fbe3f][_0x1fd72d]=_0x3881f2;}});_0x4f7790();import{getDefaultHighLowWithIndex}from'@devexperts/dxcharts-lite/dist/chart/model/scale.model';import{mergeHighLow}from'@devexperts/dxcharts-lite/dist/chart/model/scaling/auto-scale.model';import{getOrderPrice}from'../../model/trading/trading.model';export const createOrdersAndPositionsHighLowProvider=(_0x27e21f,_0x37f7ba,_0x310609)=>{const _0x5c15b6=()=>{const _0x59ae99=_0x27e21f(),_0x3f0e17=[getDefaultHighLowWithIndex()];return _0x59ae99['chartReact']['scale']['fit']['orders']&&_0x3f0e17['push'](getOrdersHighLow(_0x37f7ba,Object['values'](_0x310609['orders']['getValue']())['map'](_0xda4594=>_0xda4594['model']))),_0x59ae99['chartReact']['scale']['fit']['positions']&&_0x3f0e17['push'](getPositionsHighLow(Object['values'](_0x310609['positions']['getValue']())['map'](_0x422d9b=>_0x422d9b['model']))),mergeHighLow(_0x3f0e17);};return{'isHighLowActive':()=>{const _0x31d583=_0x27e21f();return _0x31d583['chartReact']['scale']['fit']['orders']||_0x31d583['chartReact']['scale']['fit']['positions'];},'calculateHighLow':()=>{const _0x5ad28f=_0x5c15b6();return{..._0x5ad28f,'high':_0x37f7ba['mainCandleSeries']['view']['toAxisUnits'](_0x5ad28f['high']),'low':_0x37f7ba['mainCandleSeries']['view']['toAxisUnits'](_0x5ad28f['low'])};}};};function getOrdersHighLow(_0x4440be,_0x3a183f){const _0x36eeea=_0x4440be['getLastCandle'](),_0x127415=_0x36eeea?_0x36eeea['close']:0x0,_0x412ee9=_0x3a183f['map'](_0x283163=>getOrderPrice(_0x283163,_0x127415)),_0x3886d1=Math['max'](..._0x412ee9),_0x27d777=Math['min'](..._0x412ee9),_0x490f86={};return _0x490f86['high']=_0x3886d1,_0x490f86['low']=_0x27d777,_0x490f86;}function getPositionsHighLow(_0x1dff73){const _0x218c23=_0x1dff73['map'](_0x2d7ffe=>_0x2d7ffe['price']),_0x30ce8a=Math['max'](..._0x218c23),_0x439262=Math['min'](..._0x218c23),_0x1bcd5f={};return _0x1bcd5f['high']=_0x30ce8a,_0x1bcd5f['low']=_0x439262,_0x1bcd5f;}