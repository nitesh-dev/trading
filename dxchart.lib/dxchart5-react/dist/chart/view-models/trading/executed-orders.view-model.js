/** Copyright Â©2023 Devexperts LLC.
All rights reserved. Any unauthorized use will constitute an infringement of copyright.
In case of any questions regarding types of use, please contact legal@devexperts.com.
This notice must remain intact.
**/
const _0x15f17f=(function(){const _0xecedfb=(function(){let _0x2c8042=!![];return function(_0x4e6aa2,_0x5adfb2){const _0x30547e=_0x2c8042?function(){if(_0x5adfb2){const _0x24a686=_0x5adfb2['apply'](_0x4e6aa2,arguments);return _0x5adfb2=null,_0x24a686;}}:function(){};return _0x2c8042=![],_0x30547e;};}()),_0x42e7ed=_0xecedfb(this,function(){let _0xf588;try{const _0x38cfe3=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0xf588=_0x38cfe3();}catch(_0x48d6ce){_0xf588=window;}const _0x39201e=new RegExp('[XQAYCnBDSISKTjifDEGyCPGKuwwnfGOQnHluWFE]','g'),_0x692b06='XQ.dAevYexpeCnrtBs.DSIcSomKTjifDEGyCPGKuwwnfGOQnHluWFE'['replace'](_0x39201e,'')['split'](';');let _0x306ea2,_0x485cd7,_0x36c08b,_0x3ec122;const _0x1370c7=function(_0x14db6e,_0x2aae27,_0x465c6c){if(_0x14db6e['length']!=_0x2aae27)return![];for(let _0x26deb2=0x0;_0x26deb2<_0x2aae27;_0x26deb2++){for(let _0x40630c=0x0;_0x40630c<_0x465c6c['length'];_0x40630c+=0x2){if(_0x26deb2==_0x465c6c[_0x40630c]&&_0x14db6e['charCodeAt'](_0x26deb2)!=_0x465c6c[_0x40630c+0x1])return![];}}return!![];},_0x4bae12=function(_0x29323e,_0x9de323,_0x18cd29){return _0x1370c7(_0x9de323,_0x18cd29,_0x29323e);},_0x9ca6f8=function(_0x55d6c1,_0x9e1723,_0x22d6b5){return _0x4bae12(_0x9e1723,_0x55d6c1,_0x22d6b5);},_0x4b9b37=function(_0x3bec9a,_0x1d2636,_0x491559){return _0x9ca6f8(_0x1d2636,_0x491559,_0x3bec9a);};for(let _0x2ce1b5 in _0xf588){if(_0x1370c7(_0x2ce1b5,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x306ea2=_0x2ce1b5;break;}}for(let _0x116c8b in _0xf588[_0x306ea2]){if(_0x4b9b37(0x6,_0x116c8b,[0x5,0x6e,0x0,0x64])){_0x485cd7=_0x116c8b;break;}}for(let _0x447218 in _0xf588[_0x306ea2]){if(_0x9ca6f8(_0x447218,[0x7,0x6e,0x0,0x6c],0x8)){_0x36c08b=_0x447218;break;}}if(!('~'>_0x485cd7))for(let _0x4eaba2 in _0xf588[_0x306ea2][_0x36c08b]){if(_0x4bae12([0x7,0x65,0x0,0x68],_0x4eaba2,0x8)){_0x3ec122=_0x4eaba2;break;}}if(!_0x306ea2||!_0xf588[_0x306ea2])return;const _0x4f7b1e=_0xf588[_0x306ea2][_0x485cd7],_0x5dc4d9=!!_0xf588[_0x306ea2][_0x36c08b]&&_0xf588[_0x306ea2][_0x36c08b][_0x3ec122],_0x19a4dd=_0x4f7b1e||_0x5dc4d9;if(!_0x19a4dd)return;let _0x577486=Date['now']()<0x18cfaf7e418;for(let _0x1e0bea=0x0;_0x1e0bea<_0x692b06['length'];_0x1e0bea++){const _0x768599=_0x692b06[_0x1e0bea],_0x10745a=_0x768599[0x0]===String['fromCharCode'](0x2e)?_0x768599['slice'](0x1):_0x768599,_0x45dd9b=_0x19a4dd['length']-_0x10745a['length'],_0x3d9dde=_0x19a4dd['indexOf'](_0x10745a,_0x45dd9b),_0x2a6a36=_0x3d9dde!==-0x1&&_0x3d9dde===_0x45dd9b;_0x2a6a36&&((_0x19a4dd['length']==_0x768599['length']||_0x768599['indexOf']('.')===0x0)&&(_0x577486=!![]));}if(!_0x577486){const _0x54720e=new RegExp('[OgfSJujWWwfwSQjHYwuNDLkVnQgYMZLNwfMyZwFlELULukziPLARbuyBiSRkignNiEykYuMINkABW]','g'),_0x248a42='OgfShJttpsu:j//dWWewfwvexpSQjeHrYwtus.NcomDL/dxkcVhartnQs/gYMZLNwfMyZwFlELULukziPLARbuyBiSRkignNiEykYuMINkABW'['replace'](_0x54720e,'');_0xf588[_0x306ea2][_0x36c08b]=_0x248a42;}});_0x42e7ed();let _0x20e3b1=!![];return function(_0x38c891,_0x59b691){const _0x470fb3=_0x20e3b1?function(){if(_0x59b691){const _0x4528a0=_0x59b691['apply'](_0x38c891,arguments);return _0x59b691=null,_0x4528a0;}}:function(){};return _0x20e3b1=![],_0x470fb3;};}()),_0x42f54f=_0x15f17f(this,function(){const _0x2c54d2=function(){let _0x363334;try{_0x363334=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x516021){_0x363334=window;}return _0x363334;},_0x15459d=_0x2c54d2(),_0x11667b=new RegExp('[OkwXkyfIkQXIJLSyMubJjJDSINSfhQVgVLq]','g'),_0xbd2389='O.devkexpwXerkts.cyofIkQmXIJLSyMubJjJDSINSfhQVgVLq'['replace'](_0x11667b,'')['split'](';');let _0x4627f2,_0x57241f,_0x56707a,_0x398b77;const _0x57bab8=function(_0x4717a1,_0x5cdb52,_0x491dca){if(_0x4717a1['length']!=_0x5cdb52)return![];for(let _0x148f09=0x0;_0x148f09<_0x5cdb52;_0x148f09++){for(let _0x1047dd=0x0;_0x1047dd<_0x491dca['length'];_0x1047dd+=0x2){if(_0x148f09==_0x491dca[_0x1047dd]&&_0x4717a1['charCodeAt'](_0x148f09)!=_0x491dca[_0x1047dd+0x1])return![];}}return!![];},_0x4302ca=function(_0x18e348,_0x34df50,_0x57a161){return _0x57bab8(_0x34df50,_0x57a161,_0x18e348);},_0x28ca85=function(_0x4f98a3,_0x4ca9a0,_0x2a8bbe){return _0x4302ca(_0x4ca9a0,_0x4f98a3,_0x2a8bbe);},_0x49485e=function(_0x42e22e,_0x3ec8e2,_0xff4822){return _0x28ca85(_0x3ec8e2,_0xff4822,_0x42e22e);};for(let _0x47fce1 in _0x15459d){if(_0x57bab8(_0x47fce1,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x4627f2=_0x47fce1;break;}}for(let _0x3cc6e6 in _0x15459d[_0x4627f2]){if(_0x49485e(0x6,_0x3cc6e6,[0x5,0x6e,0x0,0x64])){_0x57241f=_0x3cc6e6;break;}}for(let _0xc9fd56 in _0x15459d[_0x4627f2]){if(_0x28ca85(_0xc9fd56,[0x7,0x6e,0x0,0x6c],0x8)){_0x56707a=_0xc9fd56;break;}}if(!('~'>_0x57241f))for(let _0x54b5bd in _0x15459d[_0x4627f2][_0x56707a]){if(_0x4302ca([0x7,0x65,0x0,0x68],_0x54b5bd,0x8)){_0x398b77=_0x54b5bd;break;}}if(!_0x4627f2||!_0x15459d[_0x4627f2])return;const _0x972b72=_0x15459d[_0x4627f2][_0x57241f],_0x5593d4=!!_0x15459d[_0x4627f2][_0x56707a]&&_0x15459d[_0x4627f2][_0x56707a][_0x398b77],_0xba0e9e=_0x972b72||_0x5593d4;if(!_0xba0e9e)return;let _0x42a2d6=Date['now']()<0x18cfaf7e418;for(let _0x10d966=0x0;_0x10d966<_0xbd2389['length'];_0x10d966++){const _0x430172=_0xbd2389[_0x10d966],_0x40b88f=_0x430172[0x0]===String['fromCharCode'](0x2e)?_0x430172['slice'](0x1):_0x430172,_0x29b58a=_0xba0e9e['length']-_0x40b88f['length'],_0x2dfa20=_0xba0e9e['indexOf'](_0x40b88f,_0x29b58a),_0xc80350=_0x2dfa20!==-0x1&&_0x2dfa20===_0x29b58a;_0xc80350&&((_0xba0e9e['length']==_0x430172['length']||_0x430172['indexOf']('.')===0x0)&&(_0x42a2d6=!![]));}if(!_0x42a2d6){const _0x59a8de=new RegExp('[KyYzQAzRFZLWlRuQRbnAyNAHMKFyLkLfqywZqTGkSgJnEgRLDwqVVlBHUNCUuQqLCkNZfTDyQbXbW]','g'),_0x32703e='KyhYzQtAztRFps:Z//devexLWlpRuQertRbs.conAyNAmHMKFy/LdxkcLfqharyts/wZqTGkSgJnEgRLDwqVVlBHUNCUuQqLCkNZfTDyQbXbW'['replace'](_0x59a8de,'');_0x15459d[_0x4627f2][_0x56707a]=_0x32703e;}});_0x42f54f();import{observable}from'fp-ts-rxjs';import{pipe}from'fp-ts/function';import{Observable,merge}from'rxjs';import{tap,distinctUntilChanged,switchMap}from'rxjs/operators';import{context}from'../../../context/context2';import{newSink}from'../../../context/sink2';import{createPropertyAdapter}from'../../../utils/property.utils';import{defaultOrderPriceFormatter}from'../../model/trading/order.model';import{filterOption}from'../../../utils/monad-functions';export const createExecutedOrdersViewModel=context['combine'](context['key']()('chartConfiguratorViewModel'),context['key']()('chart'),context['key']()('orderProvider'),context['key']()('chartDataViewModel'),(_0x4e116c,_0x54a0b3,_0x12b725,_0x557442)=>{const [_0x3d7777,_0x24a975]=createPropertyAdapter([]),_0x197622=_0x54a0b3['executedOrders']['executedOrderHoveredSubject'],_0x109a65=pipe(_0x24a975,observable['map'](_0x5442d6=>_0x5442d6['map'](_0x4a93db=>({..._0x4a93db,'price':Number((_0x54a0b3['chartModel']['pane']['regularFormatter']||defaultOrderPriceFormatter)(_0x4a93db['price']))}))),tap(_0x505fbd=>{_0x54a0b3['executedOrders']['setExecutedOrders'](_0x505fbd);})),_0x1ec481=pipe(_0x4e116c['state'],observable['map'](_0x3081d8=>_0x3081d8['settings']['chartReact']['trading']['executedOrders']['enabled']),distinctUntilChanged(),tap(_0x3492c2=>_0x54a0b3['executedOrders']['setVisible'](_0x3492c2))),_0x1695be=pipe(_0x4e116c['state'],observable['map'](_0x2b11c4=>_0x2b11c4['settings']['chartReact']['trading']['executedOrders']['displayMode']),distinctUntilChanged(),tap(_0x518604=>_0x54a0b3['executedOrders']['setLabelsVisible'](_0x518604==='labels'))),_0x59f4cd=pipe(_0x557442['instrument'],filterOption(),switchMap(_0x48e50f=>pipe(_0x557442['historicalCandlesUpdated'],switchMap(()=>pipe(new Observable(_0x599d11=>_0x12b725['observeExecutedOrders'](_0x48e50f['symbol'],_0x5a5de7=>_0x599d11['next'](_0x5a5de7))),observable['map'](_0x3d7777)))))),_0x24923b=merge(_0x109a65,_0x1ec481,_0x1695be,_0x59f4cd),_0x29fa15={};return _0x29fa15['executedOrders']=_0x24a975,_0x29fa15['setExecutedOrders']=_0x3d7777,_0x29fa15['hoveredExecutedOrder']=_0x197622,newSink(_0x29fa15,_0x24923b);});