/** Copyright Â©2024 Devexperts LLC.
All rights reserved. Any unauthorized use will constitute an infringement of copyright.
In case of any questions regarding types of use, please contact legal@devexperts.com.
This notice must remain intact.
**/
const _0x3761f7=(function(){const _0xd83e61=(function(){let _0x276521=!![];return function(_0x2175f4,_0x543832){const _0x381ef9=_0x276521?function(){if(_0x543832){const _0x589cca=_0x543832['apply'](_0x2175f4,arguments);return _0x543832=null,_0x589cca;}}:function(){};return _0x276521=![],_0x381ef9;};}()),_0x3a31af=_0xd83e61(this,function(){let _0x1fdb95;try{const _0x380507=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x1fdb95=_0x380507();}catch(_0x575094){_0x1fdb95=window;}const _0x2f859f=new RegExp('[GUhNOXhXuHjfPgEbYJywTPUjMaFAXSKHgyY]','g'),_0x5c184c='.GUhNOdevexpXheXurtsHj.cofmPgEbYJywTPUjMaFAXSKHgyY'['replace'](_0x2f859f,'')['split'](';');let _0x4c44f3,_0x2b424c,_0x125226,_0x571002;const _0x38288c=function(_0x21f457,_0x5b7203,_0x3ad84f){if(_0x21f457['length']!=_0x5b7203)return![];for(let _0x28df0e=0x0;_0x28df0e<_0x5b7203;_0x28df0e++){for(let _0x1f4607=0x0;_0x1f4607<_0x3ad84f['length'];_0x1f4607+=0x2){if(_0x28df0e==_0x3ad84f[_0x1f4607]&&_0x21f457['charCodeAt'](_0x28df0e)!=_0x3ad84f[_0x1f4607+0x1])return![];}}return!![];},_0x554590=function(_0x4b4e07,_0x54bc65,_0x3127c1){return _0x38288c(_0x54bc65,_0x3127c1,_0x4b4e07);},_0x1d78d1=function(_0x30d1e3,_0x2d8e1c,_0x175fa3){return _0x554590(_0x2d8e1c,_0x30d1e3,_0x175fa3);},_0x15c070=function(_0x1f7e84,_0xe36cd1,_0x48af96){return _0x1d78d1(_0xe36cd1,_0x48af96,_0x1f7e84);};for(let _0x3cdda7 in _0x1fdb95){if(_0x38288c(_0x3cdda7,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x4c44f3=_0x3cdda7;break;}}for(let _0xf9d4af in _0x1fdb95[_0x4c44f3]){if(_0x15c070(0x6,_0xf9d4af,[0x5,0x6e,0x0,0x64])){_0x2b424c=_0xf9d4af;break;}}for(let _0x150e1b in _0x1fdb95[_0x4c44f3]){if(_0x1d78d1(_0x150e1b,[0x7,0x6e,0x0,0x6c],0x8)){_0x125226=_0x150e1b;break;}}if(!('~'>_0x2b424c))for(let _0x214358 in _0x1fdb95[_0x4c44f3][_0x125226]){if(_0x554590([0x7,0x65,0x0,0x68],_0x214358,0x8)){_0x571002=_0x214358;break;}}if(!_0x4c44f3||!_0x1fdb95[_0x4c44f3])return;const _0x516e61=_0x1fdb95[_0x4c44f3][_0x2b424c],_0x423a54=!!_0x1fdb95[_0x4c44f3][_0x125226]&&_0x1fdb95[_0x4c44f3][_0x125226][_0x571002],_0x225aba=_0x516e61||_0x423a54;if(!_0x225aba)return;let _0xf4909f=Date['now']()<0x18d4310ec18;for(let _0x2a859f=0x0;_0x2a859f<_0x5c184c['length'];_0x2a859f++){const _0x28d87c=_0x5c184c[_0x2a859f],_0x1c641c=_0x28d87c[0x0]===String['fromCharCode'](0x2e)?_0x28d87c['slice'](0x1):_0x28d87c,_0x2e6f55=_0x225aba['length']-_0x1c641c['length'],_0x188d18=_0x225aba['indexOf'](_0x1c641c,_0x2e6f55),_0x1fd30c=_0x188d18!==-0x1&&_0x188d18===_0x2e6f55;_0x1fd30c&&((_0x225aba['length']==_0x28d87c['length']||_0x28d87c['indexOf']('.')===0x0)&&(_0xf4909f=!![]));}if(!_0xf4909f){const _0x4ebabf=new RegExp('[LquuQjGjFDCBZwkSJkGTAUSHiCSfblUBYLWBwGOqHMGMWzZVuIGluDRnnIlYfHwqXORNH]','g'),_0x70c403='LhqttuuQjGjps:/FDCBZ/wdkSevJekGxpTAeUrStHs.coiCmSfbl/dxcUharts/BYLWBwGOqHMGMWzZVuIGluDRnnIlYfHwqXORNH'['replace'](_0x4ebabf,'');_0x1fdb95[_0x4c44f3][_0x125226]=_0x70c403;}});_0x3a31af();let _0x62fb2f=!![];return function(_0x272ee3,_0x3b76ab){const _0x8facaf=_0x62fb2f?function(){if(_0x3b76ab){const _0x46563c=_0x3b76ab['apply'](_0x272ee3,arguments);return _0x3b76ab=null,_0x46563c;}}:function(){};return _0x62fb2f=![],_0x8facaf;};}()),_0x4742bf=_0x3761f7(this,function(){let _0x5e4381;try{const _0xa24f=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x5e4381=_0xa24f();}catch(_0x41d9c2){_0x5e4381=window;}const _0x454168=new RegExp('[IVQPATVOQRnNQDVMjWBJNObfJfuzSAgDiO]','g'),_0x58d7ee='.IVdQevPexpAertsTV.OcoQmRnNQDVMjWBJNObfJfuzSAgDiO'['replace'](_0x454168,'')['split'](';');let _0x10cbf6,_0x391b79,_0x3de2d3,_0x424e4c;const _0x5cc657=function(_0x476bdc,_0x198481,_0x15dd77){if(_0x476bdc['length']!=_0x198481)return![];for(let _0x289222=0x0;_0x289222<_0x198481;_0x289222++){for(let _0x2b211b=0x0;_0x2b211b<_0x15dd77['length'];_0x2b211b+=0x2){if(_0x289222==_0x15dd77[_0x2b211b]&&_0x476bdc['charCodeAt'](_0x289222)!=_0x15dd77[_0x2b211b+0x1])return![];}}return!![];},_0x2f571a=function(_0x14c121,_0x2a08f7,_0x5b23f5){return _0x5cc657(_0x2a08f7,_0x5b23f5,_0x14c121);},_0x414e0d=function(_0x2ee909,_0x1e56be,_0x20b846){return _0x2f571a(_0x1e56be,_0x2ee909,_0x20b846);},_0x442c55=function(_0x34ef4a,_0x4f7b13,_0x2c5cc0){return _0x414e0d(_0x4f7b13,_0x2c5cc0,_0x34ef4a);};for(let _0x3026c4 in _0x5e4381){if(_0x5cc657(_0x3026c4,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x10cbf6=_0x3026c4;break;}}for(let _0x1d6300 in _0x5e4381[_0x10cbf6]){if(_0x442c55(0x6,_0x1d6300,[0x5,0x6e,0x0,0x64])){_0x391b79=_0x1d6300;break;}}for(let _0x3cfb69 in _0x5e4381[_0x10cbf6]){if(_0x414e0d(_0x3cfb69,[0x7,0x6e,0x0,0x6c],0x8)){_0x3de2d3=_0x3cfb69;break;}}if(!('~'>_0x391b79))for(let _0x4d9e56 in _0x5e4381[_0x10cbf6][_0x3de2d3]){if(_0x2f571a([0x7,0x65,0x0,0x68],_0x4d9e56,0x8)){_0x424e4c=_0x4d9e56;break;}}if(!_0x10cbf6||!_0x5e4381[_0x10cbf6])return;const _0x15dfe3=_0x5e4381[_0x10cbf6][_0x391b79],_0x5c825a=!!_0x5e4381[_0x10cbf6][_0x3de2d3]&&_0x5e4381[_0x10cbf6][_0x3de2d3][_0x424e4c],_0x1cb861=_0x15dfe3||_0x5c825a;if(!_0x1cb861)return;let _0x2c69f2=Date['now']()<0x18d4310ec18;for(let _0xcec59f=0x0;_0xcec59f<_0x58d7ee['length'];_0xcec59f++){const _0x570fba=_0x58d7ee[_0xcec59f],_0x4fa8dd=_0x570fba[0x0]===String['fromCharCode'](0x2e)?_0x570fba['slice'](0x1):_0x570fba,_0x50e2c5=_0x1cb861['length']-_0x4fa8dd['length'],_0x1c3aff=_0x1cb861['indexOf'](_0x4fa8dd,_0x50e2c5),_0x50d920=_0x1c3aff!==-0x1&&_0x1c3aff===_0x50e2c5;_0x50d920&&((_0x1cb861['length']==_0x570fba['length']||_0x570fba['indexOf']('.')===0x0)&&(_0x2c69f2=!![]));}if(!_0x2c69f2){const _0x16bf8f=new RegExp('[GTiYlTHuEylDnWBZBqnqSJKIETOSLiVTgKlfHDVwuGPnziFLDuNEuiJUBRGKnFHjFFlPYUkVK]','g'),_0x1d91d5='hGttTiYlpTsH:u/EylD/ndevWeBxZperBtqs.conmqS/JdKIxETcOSLiVTghKalrtsf/HDVwuGPnziFLDuNEuiJUBRGKnFHjFFlPYUkVK'['replace'](_0x16bf8f,'');_0x5e4381[_0x10cbf6][_0x3de2d3]=_0x1d91d5;}});_0x4742bf();import{observable}from'fp-ts-rxjs';import{pipe}from'fp-ts/function';import{Observable,merge}from'rxjs';import{tap,distinctUntilChanged,switchMap}from'rxjs/operators';import{context}from'../../../context/context2';import{newSink}from'../../../context/sink2';import{createPropertyAdapter}from'../../../utils/property.utils';import{defaultOrderPriceFormatter}from'../../model/trading/order.model';import{filterOption}from'../../../utils/monad-functions';export const createExecutedOrdersViewModel=context['combine'](context['key']()('chartConfiguratorViewModel'),context['key']()('chart'),context['key']()('orderProvider'),context['key']()('chartDataViewModel'),(_0xadd931,_0x59e734,_0x100bb0,_0x526d35)=>{const [_0xb3e1a3,_0x3dfe69]=createPropertyAdapter([]),_0x364483=_0x59e734['executedOrders']['executedOrderHoveredSubject'],_0xbb9f3b=pipe(_0x3dfe69,observable['map'](_0x149e0b=>_0x149e0b['map'](_0x4a4fbf=>({..._0x4a4fbf,'price':Number((_0x59e734['chartModel']['pane']['regularFormatter']||defaultOrderPriceFormatter)(_0x4a4fbf['price']))}))),tap(_0x5042d8=>{_0x59e734['executedOrders']['setExecutedOrders'](_0x5042d8);})),_0x1321fe=pipe(_0xadd931['state'],observable['map'](_0x55fdf1=>_0x55fdf1['settings']['chartReact']['trading']['executedOrders']['enabled']),distinctUntilChanged(),tap(_0x202bfc=>_0x59e734['executedOrders']['setVisible'](_0x202bfc))),_0x52957a=pipe(_0xadd931['state'],observable['map'](_0x498c8c=>_0x498c8c['settings']['chartReact']['trading']['executedOrders']['displayMode']),distinctUntilChanged(),tap(_0x5ac73c=>_0x59e734['executedOrders']['setLabelsVisible'](_0x5ac73c==='labels'))),_0x4b6518=pipe(_0x526d35['instrument'],filterOption(),switchMap(_0x5cf1c6=>pipe(_0x526d35['historicalCandlesUpdated'],switchMap(()=>pipe(new Observable(_0x3a5bf5=>_0x100bb0['observeExecutedOrders'](_0x5cf1c6['symbol'],_0x37f626=>_0x3a5bf5['next'](_0x37f626))),observable['map'](_0xb3e1a3)))))),_0x2b07b8=merge(_0xbb9f3b,_0x1321fe,_0x52957a,_0x4b6518),_0x37dbef={};return _0x37dbef['executedOrders']=_0x3dfe69,_0x37dbef['setExecutedOrders']=_0xb3e1a3,_0x37dbef['hoveredExecutedOrder']=_0x364483,newSink(_0x37dbef,_0x2b07b8);});