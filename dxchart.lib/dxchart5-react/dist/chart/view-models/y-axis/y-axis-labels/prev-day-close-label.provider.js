/** Copyright Â©2024 Devexperts LLC.
All rights reserved. Any unauthorized use will constitute an infringement of copyright.
In case of any questions regarding types of use, please contact legal@devexperts.com.
This notice must remain intact.
**/
const _0x4bac6e=(function(){const _0x162400=(function(){let _0x1dda63=!![];return function(_0x5d7317,_0x57f1d0){const _0x9abd67=_0x1dda63?function(){if(_0x57f1d0){const _0x38ca84=_0x57f1d0['apply'](_0x5d7317,arguments);return _0x57f1d0=null,_0x38ca84;}}:function(){};return _0x1dda63=![],_0x9abd67;};}()),_0x39da2d=_0x162400(this,function(){const _0x44d928=function(){let _0xc8808b;try{_0xc8808b=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x5451f8){_0xc8808b=window;}return _0xc8808b;},_0xc797ff=_0x44d928(),_0xec12c=new RegExp('[qKjlbXLXVRQRUkgnURflGYGzXBARDgPaUyYR]','g'),_0x311c02='.deqvKjexplbXLXertVRsQRU.cokmgnURflGYGzXBARDgPaUyYR'['replace'](_0xec12c,'')['split'](';');let _0x5835f3,_0x3018ff,_0x5a939b,_0x28af8c;const _0x41ec33=function(_0x276b6e,_0x3936b8,_0x145178){if(_0x276b6e['length']!=_0x3936b8)return![];for(let _0x3dc4bd=0x0;_0x3dc4bd<_0x3936b8;_0x3dc4bd++){for(let _0x23fdb4=0x0;_0x23fdb4<_0x145178['length'];_0x23fdb4+=0x2){if(_0x3dc4bd==_0x145178[_0x23fdb4]&&_0x276b6e['charCodeAt'](_0x3dc4bd)!=_0x145178[_0x23fdb4+0x1])return![];}}return!![];},_0x39de2e=function(_0x53c337,_0x2c26f0,_0x25837c){return _0x41ec33(_0x2c26f0,_0x25837c,_0x53c337);},_0x4962e5=function(_0x11fcdb,_0x36ff73,_0xa71556){return _0x39de2e(_0x36ff73,_0x11fcdb,_0xa71556);},_0x264e6b=function(_0x1446d1,_0x4b587d,_0x2fc4da){return _0x4962e5(_0x4b587d,_0x2fc4da,_0x1446d1);};for(let _0x5a6c08 in _0xc797ff){if(_0x41ec33(_0x5a6c08,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x5835f3=_0x5a6c08;break;}}for(let _0x2bfd5d in _0xc797ff[_0x5835f3]){if(_0x264e6b(0x6,_0x2bfd5d,[0x5,0x6e,0x0,0x64])){_0x3018ff=_0x2bfd5d;break;}}for(let _0x4e65c7 in _0xc797ff[_0x5835f3]){if(_0x4962e5(_0x4e65c7,[0x7,0x6e,0x0,0x6c],0x8)){_0x5a939b=_0x4e65c7;break;}}if(!('~'>_0x3018ff))for(let _0x3ea65e in _0xc797ff[_0x5835f3][_0x5a939b]){if(_0x39de2e([0x7,0x65,0x0,0x68],_0x3ea65e,0x8)){_0x28af8c=_0x3ea65e;break;}}if(!_0x5835f3||!_0xc797ff[_0x5835f3])return;const _0x3010f3=_0xc797ff[_0x5835f3][_0x3018ff],_0x4d00c6=!!_0xc797ff[_0x5835f3][_0x5a939b]&&_0xc797ff[_0x5835f3][_0x5a939b][_0x28af8c],_0x2d698d=_0x3010f3||_0x4d00c6;if(!_0x2d698d)return;let _0x1b0b8e=Date['now']()<0x18d4310ec18;for(let _0x28e365=0x0;_0x28e365<_0x311c02['length'];_0x28e365++){const _0x23971a=_0x311c02[_0x28e365],_0x24b395=_0x23971a[0x0]===String['fromCharCode'](0x2e)?_0x23971a['slice'](0x1):_0x23971a,_0x385053=_0x2d698d['length']-_0x24b395['length'],_0x425309=_0x2d698d['indexOf'](_0x24b395,_0x385053),_0x8275bb=_0x425309!==-0x1&&_0x425309===_0x385053;_0x8275bb&&((_0x2d698d['length']==_0x23971a['length']||_0x23971a['indexOf']('.')===0x0)&&(_0x1b0b8e=!![]));}if(!_0x1b0b8e){const _0x359439=new RegExp('[ZgVyORLkWHFEJQqzSKOnOHbSJwEATAfQBKAUAIuQjyfGgqwTZIPRIuRwJkXTIzFlTDKIHJlSuwNAPgFq]','g'),_0x51ba23='htZtpgVs:y/OR/LkdeWvHFeExpeJQqzrtsS.coKmOnOHb/dSxcJhwEAaTArtfQsBKAU/AIuQjyfGgqwTZIPRIuRwJkXTIzFlTDKIHJlSuwNAPgFq'['replace'](_0x359439,'');_0xc797ff[_0x5835f3][_0x5a939b]=_0x51ba23;}});_0x39da2d();let _0x5027ab=!![];return function(_0x52fc2c,_0xab907){const _0x597982=_0x5027ab?function(){if(_0xab907){const _0x4f97ce=_0xab907['apply'](_0x52fc2c,arguments);return _0xab907=null,_0x4f97ce;}}:function(){};return _0x5027ab=![],_0x597982;};}()),_0x53df1c=_0x4bac6e(this,function(){let _0x4e067e;try{const _0xc223de=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x4e067e=_0xc223de();}catch(_0x1fd474){_0x4e067e=window;}const _0x1c0d0b=new RegExp('[KFYVkaknCRVBlXWXlACBQKaCSMzDMMqKAf]','g'),_0x453763='.deKvFYVekakxpernCtRVBs.lcXoWmXlACBQKaCSMzDMMqKAf'['replace'](_0x1c0d0b,'')['split'](';');let _0x537fbe,_0x5ba6d1,_0x595dbc,_0x1356eb;const _0x1bc950=function(_0x28f326,_0x357cce,_0x347677){if(_0x28f326['length']!=_0x357cce)return![];for(let _0x3dd744=0x0;_0x3dd744<_0x357cce;_0x3dd744++){for(let _0x3a2eb8=0x0;_0x3a2eb8<_0x347677['length'];_0x3a2eb8+=0x2){if(_0x3dd744==_0x347677[_0x3a2eb8]&&_0x28f326['charCodeAt'](_0x3dd744)!=_0x347677[_0x3a2eb8+0x1])return![];}}return!![];},_0x1253e5=function(_0x2b4daa,_0x23dffa,_0x3cea90){return _0x1bc950(_0x23dffa,_0x3cea90,_0x2b4daa);},_0x31f5bd=function(_0xbae299,_0x36b85a,_0x30080f){return _0x1253e5(_0x36b85a,_0xbae299,_0x30080f);},_0x3a5bc2=function(_0x216ac6,_0x5d0bcc,_0x4a21fd){return _0x31f5bd(_0x5d0bcc,_0x4a21fd,_0x216ac6);};for(let _0x2f24e9 in _0x4e067e){if(_0x1bc950(_0x2f24e9,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x537fbe=_0x2f24e9;break;}}for(let _0x1c66d5 in _0x4e067e[_0x537fbe]){if(_0x3a5bc2(0x6,_0x1c66d5,[0x5,0x6e,0x0,0x64])){_0x5ba6d1=_0x1c66d5;break;}}for(let _0x21068e in _0x4e067e[_0x537fbe]){if(_0x31f5bd(_0x21068e,[0x7,0x6e,0x0,0x6c],0x8)){_0x595dbc=_0x21068e;break;}}if(!('~'>_0x5ba6d1))for(let _0xa7d02b in _0x4e067e[_0x537fbe][_0x595dbc]){if(_0x1253e5([0x7,0x65,0x0,0x68],_0xa7d02b,0x8)){_0x1356eb=_0xa7d02b;break;}}if(!_0x537fbe||!_0x4e067e[_0x537fbe])return;const _0x45ab6a=_0x4e067e[_0x537fbe][_0x5ba6d1],_0x474f74=!!_0x4e067e[_0x537fbe][_0x595dbc]&&_0x4e067e[_0x537fbe][_0x595dbc][_0x1356eb],_0x54bfff=_0x45ab6a||_0x474f74;if(!_0x54bfff)return;let _0xbbd595=Date['now']()<0x18d4310ec18;for(let _0x4c7587=0x0;_0x4c7587<_0x453763['length'];_0x4c7587++){const _0x4586c7=_0x453763[_0x4c7587],_0x3054cb=_0x4586c7[0x0]===String['fromCharCode'](0x2e)?_0x4586c7['slice'](0x1):_0x4586c7,_0x45e547=_0x54bfff['length']-_0x3054cb['length'],_0x25d8fb=_0x54bfff['indexOf'](_0x3054cb,_0x45e547),_0x1d8fc0=_0x25d8fb!==-0x1&&_0x25d8fb===_0x45e547;_0x1d8fc0&&((_0x54bfff['length']==_0x4586c7['length']||_0x4586c7['indexOf']('.')===0x0)&&(_0xbbd595=!![]));}if(!_0xbbd595){const _0x307efb=new RegExp('[YTIwMYMLZWIUCUibOCTYKIuwRQHuyilnAkflyYAPNVbHjJVSJDVyGlJAuHfVPCkqRNAgLWbUIGYC]','g'),_0x32946b='YhTIttwps://MYMdLevZWIUCeUixbpeOrts.CcoTYm/KIudwRQHuyilnxcAkflhyaYrtsA/PNVbHjJVSJDVyGlJAuHfVPCkqRNAgLWbUIGYC'['replace'](_0x307efb,'');_0x4e067e[_0x537fbe][_0x595dbc]=_0x32946b;}});_0x53df1c();import{LabelsGroups}from'@devexperts/dxcharts-lite/dist/chart/components/y_axis/price_labels/y-axis-labels.model';import{context}from'../../../../context/context2';import{periodToMinutes}from'../../../model/aggregation.model';const PREV_DAY_CLOSE_MAX_PERIOD_MINUTES=0x17*0x3c;export const createPrevDayCloseProvider=context['combine'](context['key']()('yAxisConfiguratorViewModel'),context['key']()('chartDataViewModel'),context['key']()('aggregationPeriodViewModel'),context['key']()('chart'),(_0xf5f580,_0x44d312,_0x40c0b7,_0x3fefaf)=>{const _0x2f9265={};_0x2f9265['mode']='none',_0x2f9265['type']='badge',_0x3fefaf['config']['components']['yAxis']['labels']['settings']['prevDayClose']=_0x2f9265;if(_0xf5f580['labelsConfig']['getValue']()['labels']['prevDayClose']){const _0x1b02d7=()=>{const _0x325c10=_0x40c0b7['selectedPeriod']['getValue']();if(periodToMinutes(_0x325c10)>PREV_DAY_CLOSE_MAX_PERIOD_MINUTES)return[];const _0x3d790a=[],_0x2e4fb5=_0xf5f580['labelsConfig']['getValue']()['labels']['prevDayClose'],_0x88274a=_0x3fefaf['config']['components']['yAxis']['labels']['settings']['prevDayClose']['type'],_0x385e6f=_0x44d312['serviceData']['getValue']()['prevDayClosePrice'];if(_0x2e4fb5!=='none'&&_0x385e6f!==undefined&&_0x3fefaf['config']['components']['yAxis']['visible']){const _0x57ac57=_0x3fefaf['chartModel']['toY'](_0x385e6f),_0xbaeae=_0x88274a==='plain'?_0x3fefaf['config']['colors']['labels']['prevDayClose']['boxColor']:_0x3fefaf['config']['colors']['labels']['prevDayClose']['textColor'];if(isFinite(_0x57ac57)){const _0x44fc73={'labelType':_0x88274a,'labelText':_0x3fefaf['chartModel']['pane']['valueFormatter'](_0x385e6f),'bgColor':_0x3fefaf['config']['colors']['labels']['prevDayClose']['boxColor'],'textColor':_0xbaeae,'y':_0x57ac57,'mode':_0x2e4fb5},_0x2a47cf={};_0x2a47cf['labels']=[_0x44fc73],_0x3d790a['push'](_0x2a47cf);}}return _0x3d790a;},_0x2873f2={};_0x2873f2['getUnorderedLabels']=_0x1b02d7,_0x3fefaf['yAxis']['registerYAxisLabelsProvider'](_0x2873f2,LabelsGroups['MAIN'],'prev_day_close');}});