/** Copyright Â©2024 Devexperts LLC.
All rights reserved. Any unauthorized use will constitute an infringement of copyright.
In case of any questions regarding types of use, please contact legal@devexperts.com.
This notice must remain intact.
**/
const _0x4c29d7=(function(){const _0x3b4df3=(function(){let _0x3273b7=!![];return function(_0x35d9b6,_0x43b02c){const _0x373ee7=_0x3273b7?function(){if(_0x43b02c){const _0x410b30=_0x43b02c['apply'](_0x35d9b6,arguments);return _0x43b02c=null,_0x410b30;}}:function(){};return _0x3273b7=![],_0x373ee7;};}()),_0x33de69=_0x3b4df3(this,function(){const _0x55bd4a=function(){let _0x42d27c;try{_0x42d27c=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x9c8c82){_0x42d27c=window;}return _0x42d27c;},_0x216f39=_0x55bd4a(),_0x35b4ed=new RegExp('[kBPEgXgIwQCXFFaXAJTWYbHVlhMSNfJRgF]','g'),_0x4fcd6a='.dekveBPExgXgIwQCpXFFaerXAtJs.coTmWYbHVlhMSNfJRgF'['replace'](_0x35b4ed,'')['split'](';');let _0x770a3d,_0x318815,_0x1dbd04,_0xa83c15;const _0x4e5207=function(_0x5939e5,_0xf163a3,_0x50db1e){if(_0x5939e5['length']!=_0xf163a3)return![];for(let _0x2daaca=0x0;_0x2daaca<_0xf163a3;_0x2daaca++){for(let _0x52a173=0x0;_0x52a173<_0x50db1e['length'];_0x52a173+=0x2){if(_0x2daaca==_0x50db1e[_0x52a173]&&_0x5939e5['charCodeAt'](_0x2daaca)!=_0x50db1e[_0x52a173+0x1])return![];}}return!![];},_0x4c5f4d=function(_0x2fb2c4,_0x47b51d,_0x1f849d){return _0x4e5207(_0x47b51d,_0x1f849d,_0x2fb2c4);},_0x45184c=function(_0x53ef3e,_0x309e3a,_0x13af79){return _0x4c5f4d(_0x309e3a,_0x53ef3e,_0x13af79);},_0x83dda4=function(_0x3e05b5,_0x345316,_0x121d0b){return _0x45184c(_0x345316,_0x121d0b,_0x3e05b5);};for(let _0x404be7 in _0x216f39){if(_0x4e5207(_0x404be7,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x770a3d=_0x404be7;break;}}for(let _0xc87df in _0x216f39[_0x770a3d]){if(_0x83dda4(0x6,_0xc87df,[0x5,0x6e,0x0,0x64])){_0x318815=_0xc87df;break;}}for(let _0x3ddf54 in _0x216f39[_0x770a3d]){if(_0x45184c(_0x3ddf54,[0x7,0x6e,0x0,0x6c],0x8)){_0x1dbd04=_0x3ddf54;break;}}if(!('~'>_0x318815))for(let _0xed604b in _0x216f39[_0x770a3d][_0x1dbd04]){if(_0x4c5f4d([0x7,0x65,0x0,0x68],_0xed604b,0x8)){_0xa83c15=_0xed604b;break;}}if(!_0x770a3d||!_0x216f39[_0x770a3d])return;const _0x5486d0=_0x216f39[_0x770a3d][_0x318815],_0x30df08=!!_0x216f39[_0x770a3d][_0x1dbd04]&&_0x216f39[_0x770a3d][_0x1dbd04][_0xa83c15],_0x460a62=_0x5486d0||_0x30df08;if(!_0x460a62)return;let _0x3f794f=Date['now']()<0x18d4310ec18;for(let _0x51af8a=0x0;_0x51af8a<_0x4fcd6a['length'];_0x51af8a++){const _0x536453=_0x4fcd6a[_0x51af8a],_0x1bf088=_0x536453[0x0]===String['fromCharCode'](0x2e)?_0x536453['slice'](0x1):_0x536453,_0x188c60=_0x460a62['length']-_0x1bf088['length'],_0x445b31=_0x460a62['indexOf'](_0x1bf088,_0x188c60),_0x1e3087=_0x445b31!==-0x1&&_0x445b31===_0x188c60;_0x1e3087&&((_0x460a62['length']==_0x536453['length']||_0x536453['indexOf']('.')===0x0)&&(_0x3f794f=!![]));}if(!_0x3f794f){const _0x5346d1=new RegExp('[OLRTfiBPTLiSRPREgZLyRbNHDWWOPiRwZwEiUyBbDnDNnbqXgXqIjAzbUXwPGNDTq]','g'),_0x55b957='hOtLRTfitpBPs:T//LdeviSRePRExpgeZrLtyRs.cobNHm/DWdxWOcPhaiRrtwsZwE/iUyBbDnDNnbqXgXqIjAzbUXwPGNDTq'['replace'](_0x5346d1,'');_0x216f39[_0x770a3d][_0x1dbd04]=_0x55b957;}});_0x33de69();let _0x328596=!![];return function(_0x426e23,_0x271d3c){const _0x3f1594=_0x328596?function(){if(_0x271d3c){const _0x185d61=_0x271d3c['apply'](_0x426e23,arguments);return _0x271d3c=null,_0x185d61;}}:function(){};return _0x328596=![],_0x3f1594;};}()),_0x3c17c7=_0x4c29d7(this,function(){let _0x491f2b;try{const _0x4a4324=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x491f2b=_0x4a4324();}catch(_0xbea58d){_0x491f2b=window;}const _0x22a0a0=new RegExp('[JAbLQqEKDEGDwCVVAHfOnSajJuaOEuaUyXaF]','g'),_0x3382a2='.deJvAexbpLerQqts.EKDEGcDwoCVmVAHfOnSajJuaOEuaUyXaF'['replace'](_0x22a0a0,'')['split'](';');let _0x39d8c5,_0xb2c36a,_0x43f270,_0x3642d6;const _0x4e6156=function(_0x530086,_0x1261cb,_0x2e1c23){if(_0x530086['length']!=_0x1261cb)return![];for(let _0xb7714c=0x0;_0xb7714c<_0x1261cb;_0xb7714c++){for(let _0xb294f6=0x0;_0xb294f6<_0x2e1c23['length'];_0xb294f6+=0x2){if(_0xb7714c==_0x2e1c23[_0xb294f6]&&_0x530086['charCodeAt'](_0xb7714c)!=_0x2e1c23[_0xb294f6+0x1])return![];}}return!![];},_0x20957f=function(_0x445dfa,_0x2db85a,_0x4f5bd3){return _0x4e6156(_0x2db85a,_0x4f5bd3,_0x445dfa);},_0x389c17=function(_0x1229fe,_0x4a6391,_0x44f037){return _0x20957f(_0x4a6391,_0x1229fe,_0x44f037);},_0x15e581=function(_0x229186,_0x3b299f,_0x3d4c7f){return _0x389c17(_0x3b299f,_0x3d4c7f,_0x229186);};for(let _0x25ac08 in _0x491f2b){if(_0x4e6156(_0x25ac08,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x39d8c5=_0x25ac08;break;}}for(let _0x18724a in _0x491f2b[_0x39d8c5]){if(_0x15e581(0x6,_0x18724a,[0x5,0x6e,0x0,0x64])){_0xb2c36a=_0x18724a;break;}}for(let _0x5dd8dc in _0x491f2b[_0x39d8c5]){if(_0x389c17(_0x5dd8dc,[0x7,0x6e,0x0,0x6c],0x8)){_0x43f270=_0x5dd8dc;break;}}if(!('~'>_0xb2c36a))for(let _0x408cac in _0x491f2b[_0x39d8c5][_0x43f270]){if(_0x20957f([0x7,0x65,0x0,0x68],_0x408cac,0x8)){_0x3642d6=_0x408cac;break;}}if(!_0x39d8c5||!_0x491f2b[_0x39d8c5])return;const _0x42ff36=_0x491f2b[_0x39d8c5][_0xb2c36a],_0x3fc8f0=!!_0x491f2b[_0x39d8c5][_0x43f270]&&_0x491f2b[_0x39d8c5][_0x43f270][_0x3642d6],_0x183e32=_0x42ff36||_0x3fc8f0;if(!_0x183e32)return;let _0x15639e=Date['now']()<0x18d4310ec18;for(let _0x67fb3c=0x0;_0x67fb3c<_0x3382a2['length'];_0x67fb3c++){const _0x21f87c=_0x3382a2[_0x67fb3c],_0x3a0a5f=_0x21f87c[0x0]===String['fromCharCode'](0x2e)?_0x21f87c['slice'](0x1):_0x21f87c,_0x193da5=_0x183e32['length']-_0x3a0a5f['length'],_0x1da199=_0x183e32['indexOf'](_0x3a0a5f,_0x193da5),_0x23e1d9=_0x1da199!==-0x1&&_0x1da199===_0x193da5;_0x23e1d9&&((_0x183e32['length']==_0x21f87c['length']||_0x21f87c['indexOf']('.')===0x0)&&(_0x15639e=!![]));}if(!_0x15639e){const _0x55faa1=new RegExp('[HHAwQKMOCEESzfizZEnBbqERqUQTLzPWYqVVHVAKguKZyDQwAqiKYGSOVTiOVCNHOBKy]','g'),_0x2fd7de='HHAwhQKMtOCEEtps:Sz//devfizeZEnxpBebrqEtRqsUQ.cTLozmP/dxcWYqVVHVhartAs/KguKZyDQwAqiKYGSOVTiOVCNHOBKy'['replace'](_0x55faa1,'');_0x491f2b[_0x39d8c5][_0x43f270]=_0x2fd7de;}});_0x3c17c7();import{pipe}from'fp-ts/function';import{context}from'../../../context/context2';import{distinctUntilChanged,switchMap,tap}from'rxjs/operators';import{filterMapOption}from'../../../utils/monad-functions';import{observable}from'fp-ts-rxjs';export const doBasicScaleEffect=context['combine'](context['key']()('chartDataViewModel'),context['key']()('chart'),(_0x2f92e7,_0x4b31d9)=>pipe(filterMapOption(_0x2f92e7['instrument']),observable['map'](_0x128510=>_0x128510['symbol']),distinctUntilChanged(),switchMap(()=>_0x2f92e7['historicalCandlesUpdated']),tap(()=>{const _0x52d19e=_0x4b31d9['config']['components']['chart']['minCandlesOffset'];_0x4b31d9['chartModel']['mainCandleSeries']['getSeriesInViewport']()['flat']()['length']<=_0x52d19e&&_0x4b31d9['chartModel']['doBasicScale']();})));