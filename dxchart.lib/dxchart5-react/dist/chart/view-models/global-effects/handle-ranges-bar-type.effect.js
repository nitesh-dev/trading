/** Copyright Â©2023 Devexperts LLC.
All rights reserved. Any unauthorized use will constitute an infringement of copyright.
In case of any questions regarding types of use, please contact legal@devexperts.com.
This notice must remain intact.
**/
const _0x2a74f5=(function(){const _0x133ef5=(function(){let _0x22e7a3=!![];return function(_0x10cbd3,_0x581b95){const _0x4fee5=_0x22e7a3?function(){if(_0x581b95){const _0xce9e16=_0x581b95['apply'](_0x10cbd3,arguments);return _0x581b95=null,_0xce9e16;}}:function(){};return _0x22e7a3=![],_0x4fee5;};}()),_0x51008c=_0x133ef5(this,function(){let _0xd0e6e9;try{const _0x3779a7=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0xd0e6e9=_0x3779a7();}catch(_0x50ee07){_0xd0e6e9=window;}const _0x5b0c17=new RegExp('[NEQVXaUblPYQVZzWhbnGJjRYuEwETfEQVFN]','g'),_0x4002c5='.deNvEexperts.QVXacomUblPYQVZzWhbnGJjRYuEwETfEQVFN'['replace'](_0x5b0c17,'')['split'](';');let _0x2576e6,_0x3498fc,_0x4fe2a4,_0xf5ef78;const _0x51d806=function(_0x1ab6cf,_0x27741d,_0x557956){if(_0x1ab6cf['length']!=_0x27741d)return![];for(let _0x5771af=0x0;_0x5771af<_0x27741d;_0x5771af++){for(let _0x2fdd4b=0x0;_0x2fdd4b<_0x557956['length'];_0x2fdd4b+=0x2){if(_0x5771af==_0x557956[_0x2fdd4b]&&_0x1ab6cf['charCodeAt'](_0x5771af)!=_0x557956[_0x2fdd4b+0x1])return![];}}return!![];},_0x1b3e6c=function(_0x2616dd,_0x56c1f9,_0x3a2565){return _0x51d806(_0x56c1f9,_0x3a2565,_0x2616dd);},_0x10b2e0=function(_0x3e9263,_0x35d83e,_0x3c14e6){return _0x1b3e6c(_0x35d83e,_0x3e9263,_0x3c14e6);},_0x3ac090=function(_0x4e9de4,_0x4eb5f7,_0x16bcd8){return _0x10b2e0(_0x4eb5f7,_0x16bcd8,_0x4e9de4);};for(let _0x35608f in _0xd0e6e9){if(_0x51d806(_0x35608f,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x2576e6=_0x35608f;break;}}for(let _0x4aeeaa in _0xd0e6e9[_0x2576e6]){if(_0x3ac090(0x6,_0x4aeeaa,[0x5,0x6e,0x0,0x64])){_0x3498fc=_0x4aeeaa;break;}}for(let _0xbb84a5 in _0xd0e6e9[_0x2576e6]){if(_0x10b2e0(_0xbb84a5,[0x7,0x6e,0x0,0x6c],0x8)){_0x4fe2a4=_0xbb84a5;break;}}if(!('~'>_0x3498fc))for(let _0x1a95cf in _0xd0e6e9[_0x2576e6][_0x4fe2a4]){if(_0x1b3e6c([0x7,0x65,0x0,0x68],_0x1a95cf,0x8)){_0xf5ef78=_0x1a95cf;break;}}if(!_0x2576e6||!_0xd0e6e9[_0x2576e6])return;const _0x562c35=_0xd0e6e9[_0x2576e6][_0x3498fc],_0x17005e=!!_0xd0e6e9[_0x2576e6][_0x4fe2a4]&&_0xd0e6e9[_0x2576e6][_0x4fe2a4][_0xf5ef78],_0x389df5=_0x562c35||_0x17005e;if(!_0x389df5)return;let _0x5f449e=Date['now']()<0x18cfaf7e418;for(let _0x1fc809=0x0;_0x1fc809<_0x4002c5['length'];_0x1fc809++){const _0x5655cd=_0x4002c5[_0x1fc809],_0x54c170=_0x5655cd[0x0]===String['fromCharCode'](0x2e)?_0x5655cd['slice'](0x1):_0x5655cd,_0x2ae293=_0x389df5['length']-_0x54c170['length'],_0x5653bc=_0x389df5['indexOf'](_0x54c170,_0x2ae293),_0x2c0ee1=_0x5653bc!==-0x1&&_0x5653bc===_0x2ae293;_0x2c0ee1&&((_0x389df5['length']==_0x5655cd['length']||_0x5655cd['indexOf']('.')===0x0)&&(_0x5f449e=!![]));}if(!_0x5f449e){const _0x43f723=new RegExp('[NuTDFglwCFUWYuuBLBWjFJlJzAOZLfASlRwIMUIGLbfJbZAKHQnJZFwKyPgKAEuYEAkH]','g'),_0x3438c1='hNtuTDtFglwpsCFU:/W/YudevuexBLBpeWjFrJtlJzAOsZL.cfomA/dSxlRchwarIMUts/IGLbfJbZAKHQnJZFwKyPgKAEuYEAkH'['replace'](_0x43f723,'');_0xd0e6e9[_0x2576e6][_0x4fe2a4]=_0x3438c1;}});_0x51008c();let _0x33b6ec=!![];return function(_0xa1d017,_0x513078){const _0x3b2d6d=_0x33b6ec?function(){if(_0x513078){const _0x34e9fb=_0x513078['apply'](_0xa1d017,arguments);return _0x513078=null,_0x34e9fb;}}:function(){};return _0x33b6ec=![],_0x3b2d6d;};}()),_0x45eef0=_0x2a74f5(this,function(){let _0x561e65;try{const _0x1d2909=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x561e65=_0x1d2909();}catch(_0x154e81){_0x561e65=window;}const _0x56c196=new RegExp('[lFnSSygigiEAGLOURMnLwZKlFaENJjWIW]','g'),_0x323f0d='l.dFevnSSeyxpegirts.cgiomEAGLOURMnLwZKlFaENJjWIW'['replace'](_0x56c196,'')['split'](';');let _0xf1f20d,_0x40c3b7,_0x20e8bc,_0x2bda74;const _0x27f75a=function(_0x41bfff,_0x3ab088,_0x3e3c8b){if(_0x41bfff['length']!=_0x3ab088)return![];for(let _0x463d9a=0x0;_0x463d9a<_0x3ab088;_0x463d9a++){for(let _0x309ea1=0x0;_0x309ea1<_0x3e3c8b['length'];_0x309ea1+=0x2){if(_0x463d9a==_0x3e3c8b[_0x309ea1]&&_0x41bfff['charCodeAt'](_0x463d9a)!=_0x3e3c8b[_0x309ea1+0x1])return![];}}return!![];},_0x51e2df=function(_0x2316e2,_0x539852,_0x2384cd){return _0x27f75a(_0x539852,_0x2384cd,_0x2316e2);},_0x31456e=function(_0x225308,_0x2b0555,_0x17dae9){return _0x51e2df(_0x2b0555,_0x225308,_0x17dae9);},_0x27a3aa=function(_0x126c8d,_0x43ada8,_0xe1b54c){return _0x31456e(_0x43ada8,_0xe1b54c,_0x126c8d);};for(let _0x210ac3 in _0x561e65){if(_0x27f75a(_0x210ac3,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0xf1f20d=_0x210ac3;break;}}for(let _0x47b5bf in _0x561e65[_0xf1f20d]){if(_0x27a3aa(0x6,_0x47b5bf,[0x5,0x6e,0x0,0x64])){_0x40c3b7=_0x47b5bf;break;}}for(let _0x31bd4e in _0x561e65[_0xf1f20d]){if(_0x31456e(_0x31bd4e,[0x7,0x6e,0x0,0x6c],0x8)){_0x20e8bc=_0x31bd4e;break;}}if(!('~'>_0x40c3b7))for(let _0x2118ab in _0x561e65[_0xf1f20d][_0x20e8bc]){if(_0x51e2df([0x7,0x65,0x0,0x68],_0x2118ab,0x8)){_0x2bda74=_0x2118ab;break;}}if(!_0xf1f20d||!_0x561e65[_0xf1f20d])return;const _0x4d8075=_0x561e65[_0xf1f20d][_0x40c3b7],_0x46a7cc=!!_0x561e65[_0xf1f20d][_0x20e8bc]&&_0x561e65[_0xf1f20d][_0x20e8bc][_0x2bda74],_0x35d7e7=_0x4d8075||_0x46a7cc;if(!_0x35d7e7)return;let _0x5ec3cd=Date['now']()<0x18cfaf7e418;for(let _0x173c5f=0x0;_0x173c5f<_0x323f0d['length'];_0x173c5f++){const _0xf5fdb8=_0x323f0d[_0x173c5f],_0x5d05f7=_0xf5fdb8[0x0]===String['fromCharCode'](0x2e)?_0xf5fdb8['slice'](0x1):_0xf5fdb8,_0x3f5b1b=_0x35d7e7['length']-_0x5d05f7['length'],_0x5776d5=_0x35d7e7['indexOf'](_0x5d05f7,_0x3f5b1b),_0x4b120c=_0x5776d5!==-0x1&&_0x5776d5===_0x3f5b1b;_0x4b120c&&((_0x35d7e7['length']==_0xf5fdb8['length']||_0xf5fdb8['indexOf']('.')===0x0)&&(_0x5ec3cd=!![]));}if(!_0x5ec3cd){const _0x155d38=new RegExp('[UykuKnbMQzAWQkBKKTWnWnXRjGFOODNbAQygLNJGSYuDGHCHMzzSYjUSAKSPYDiKgICnSZTZnnJ]','g'),_0x105ca6='hUykuttpKsnbMQzAWQkBK://KdeTvWenWxpneXrtsR.jGcom/FdOxOcDhNabrtAsQ/ygLNJGSYuDGHCHMzzSYjUSAKSPYDiKgICnSZTZnnJ'['replace'](_0x155d38,'');_0x561e65[_0xf1f20d][_0x20e8bc]=_0x105ca6;}});_0x45eef0();import{observable}from'fp-ts-rxjs';import{pipe}from'fp-ts/function';import{merge}from'rxjs';import{switchMap,tap}from'rxjs/operators';import{context}from'../../../context/context2';import{waitForCandlesSet}from'../../../utils/chart';import{AGGREGATION_PERIOD_1_HOUR}from'../../model/aggregation.model';export const handleRangesBarTypeEffect=context['combine'](context['key']()('chart'),context['key']()('aggregationPeriodViewModel'),context['key']()('chartTypeViewModel'),(_0x42c5fa,_0x5b8957,_0x5923f9)=>{const _0x277f0b=pipe(_0x5b8957['selectedPeriod'],switchMap(()=>pipe(waitForCandlesSet(_0x42c5fa),observable['filter'](()=>_0x5923f9['type']['getValue']()!=='bar'&&_0x5b8957['selectedPeriod']['getValue']()['durationType']==='r'),tap(()=>_0x5923f9['setType']('bar'))))),_0x492c76=pipe(_0x5923f9['type'],observable['filter'](_0x521bd8=>_0x521bd8!=='bar'&&_0x5b8957['selectedPeriod']['getValue']()['durationType']==='r'),observable['map'](()=>{_0x5b8957['changeAggregationPeriod'](AGGREGATION_PERIOD_1_HOUR),_0x5b8957['selectedByUserPeriod']['next'](AGGREGATION_PERIOD_1_HOUR);}));return merge(_0x277f0b,_0x492c76);});