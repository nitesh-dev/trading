/** Copyright Â©2024 Devexperts LLC.
All rights reserved. Any unauthorized use will constitute an infringement of copyright.
In case of any questions regarding types of use, please contact legal@devexperts.com.
This notice must remain intact.
**/
const _0x268820=(function(){const _0x31a2c5=(function(){let _0x414aa6=!![];return function(_0x793471,_0xcdba2c){const _0x402a2f=_0x414aa6?function(){if(_0xcdba2c){const _0xfde3de=_0xcdba2c['apply'](_0x793471,arguments);return _0xcdba2c=null,_0xfde3de;}}:function(){};return _0x414aa6=![],_0x402a2f;};}()),_0x2aaac8=_0x31a2c5(this,function(){const _0x2a7c28=function(){let _0x1e150e;try{_0x1e150e=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x2cc8da){_0x1e150e=window;}return _0x1e150e;},_0x333e18=_0x2a7c28(),_0x4932ed=new RegExp('[hLCWOQDqqjUIZNMzMETRVfLlgSQQQDQN]','g'),_0x4f8407='.dehveLCWOxpQerts.DcoqqmjUIZNMzMETRVfLlgSQQQDQN'['replace'](_0x4932ed,'')['split'](';');let _0x28c82d,_0x23f10a,_0x31f29c,_0x495c61;const _0x3e13dc=function(_0x460b1f,_0x538990,_0x5085e9){if(_0x460b1f['length']!=_0x538990)return![];for(let _0x414109=0x0;_0x414109<_0x538990;_0x414109++){for(let _0x245bd4=0x0;_0x245bd4<_0x5085e9['length'];_0x245bd4+=0x2){if(_0x414109==_0x5085e9[_0x245bd4]&&_0x460b1f['charCodeAt'](_0x414109)!=_0x5085e9[_0x245bd4+0x1])return![];}}return!![];},_0x2de7ff=function(_0xbb6be3,_0x1549cf,_0x3e69f8){return _0x3e13dc(_0x1549cf,_0x3e69f8,_0xbb6be3);},_0x347b07=function(_0x180eca,_0x3843fb,_0x23a5ff){return _0x2de7ff(_0x3843fb,_0x180eca,_0x23a5ff);},_0x422bb6=function(_0x379743,_0x1877bb,_0x2bcfee){return _0x347b07(_0x1877bb,_0x2bcfee,_0x379743);};for(let _0x4b970b in _0x333e18){if(_0x3e13dc(_0x4b970b,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x28c82d=_0x4b970b;break;}}for(let _0x4036b0 in _0x333e18[_0x28c82d]){if(_0x422bb6(0x6,_0x4036b0,[0x5,0x6e,0x0,0x64])){_0x23f10a=_0x4036b0;break;}}for(let _0x4134a5 in _0x333e18[_0x28c82d]){if(_0x347b07(_0x4134a5,[0x7,0x6e,0x0,0x6c],0x8)){_0x31f29c=_0x4134a5;break;}}if(!('~'>_0x23f10a))for(let _0x136b47 in _0x333e18[_0x28c82d][_0x31f29c]){if(_0x2de7ff([0x7,0x65,0x0,0x68],_0x136b47,0x8)){_0x495c61=_0x136b47;break;}}if(!_0x28c82d||!_0x333e18[_0x28c82d])return;const _0x1a2473=_0x333e18[_0x28c82d][_0x23f10a],_0x17f307=!!_0x333e18[_0x28c82d][_0x31f29c]&&_0x333e18[_0x28c82d][_0x31f29c][_0x495c61],_0x4a224d=_0x1a2473||_0x17f307;if(!_0x4a224d)return;let _0x2cb0f0=Date['now']()<0x18d4310ec18;for(let _0x3f8516=0x0;_0x3f8516<_0x4f8407['length'];_0x3f8516++){const _0x225fea=_0x4f8407[_0x3f8516],_0x35215f=_0x225fea[0x0]===String['fromCharCode'](0x2e)?_0x225fea['slice'](0x1):_0x225fea,_0x44ad83=_0x4a224d['length']-_0x35215f['length'],_0x260ec4=_0x4a224d['indexOf'](_0x35215f,_0x44ad83),_0xc2d425=_0x260ec4!==-0x1&&_0x260ec4===_0x44ad83;_0xc2d425&&((_0x4a224d['length']==_0x225fea['length']||_0x225fea['indexOf']('.')===0x0)&&(_0x2cb0f0=!![]));}if(!_0x2cb0f0){const _0x496bfa=new RegExp('[PPEWTqDWSQZqFVMVGgzFiBZgHlGDVXXkIqCTHnugjLyXWOlOKIknIPJyMwulTMZHuqYJzzgq]','g'),_0x1ff70c='httPps:PE/W/TdevexqpeDrts.cWSoQZm/dqFVMVxchGagzFirBtsZgHlG/DVXXkIqCTHnugjLyXWOlOKIknIPJyMwulTMZHuqYJzzgq'['replace'](_0x496bfa,'');_0x333e18[_0x28c82d][_0x31f29c]=_0x1ff70c;}});_0x2aaac8();let _0x2fd66e=!![];return function(_0x5a62cb,_0x2da68c){const _0x1f9101=_0x2fd66e?function(){if(_0x2da68c){const _0x291338=_0x2da68c['apply'](_0x5a62cb,arguments);return _0x2da68c=null,_0x291338;}}:function(){};return _0x2fd66e=![],_0x1f9101;};}()),_0x5216ce=_0x268820(this,function(){const _0xdc793=function(){let _0x267f9b;try{_0x267f9b=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x1ede85){_0x267f9b=window;}return _0x267f9b;},_0x474bc2=_0xdc793(),_0x119131=new RegExp('[OhzgkUlTqyWLjhDzVzSXaqZIbOnigPXbiIh]','g'),_0x6344d5='.OdevehzxgkpUelTrqytsW.cLjohDzVzmSXaqZIbOnigPXbiIh'['replace'](_0x119131,'')['split'](';');let _0x3532a0,_0x2852fa,_0x378dbd,_0x5a42ca;const _0xa07a33=function(_0x29a7d9,_0x23e7c5,_0x1473fc){if(_0x29a7d9['length']!=_0x23e7c5)return![];for(let _0x4942af=0x0;_0x4942af<_0x23e7c5;_0x4942af++){for(let _0x412d40=0x0;_0x412d40<_0x1473fc['length'];_0x412d40+=0x2){if(_0x4942af==_0x1473fc[_0x412d40]&&_0x29a7d9['charCodeAt'](_0x4942af)!=_0x1473fc[_0x412d40+0x1])return![];}}return!![];},_0x123fed=function(_0x461d6b,_0x26fe49,_0x3ceddd){return _0xa07a33(_0x26fe49,_0x3ceddd,_0x461d6b);},_0x1296a7=function(_0x48d4f8,_0x19d17e,_0x46a53f){return _0x123fed(_0x19d17e,_0x48d4f8,_0x46a53f);},_0x180c4c=function(_0x82e828,_0x39a7d0,_0x7dbec){return _0x1296a7(_0x39a7d0,_0x7dbec,_0x82e828);};for(let _0x505a41 in _0x474bc2){if(_0xa07a33(_0x505a41,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x3532a0=_0x505a41;break;}}for(let _0xcfaba1 in _0x474bc2[_0x3532a0]){if(_0x180c4c(0x6,_0xcfaba1,[0x5,0x6e,0x0,0x64])){_0x2852fa=_0xcfaba1;break;}}for(let _0xe26bb3 in _0x474bc2[_0x3532a0]){if(_0x1296a7(_0xe26bb3,[0x7,0x6e,0x0,0x6c],0x8)){_0x378dbd=_0xe26bb3;break;}}if(!('~'>_0x2852fa))for(let _0x40a82d in _0x474bc2[_0x3532a0][_0x378dbd]){if(_0x123fed([0x7,0x65,0x0,0x68],_0x40a82d,0x8)){_0x5a42ca=_0x40a82d;break;}}if(!_0x3532a0||!_0x474bc2[_0x3532a0])return;const _0x365722=_0x474bc2[_0x3532a0][_0x2852fa],_0x5bc7fb=!!_0x474bc2[_0x3532a0][_0x378dbd]&&_0x474bc2[_0x3532a0][_0x378dbd][_0x5a42ca],_0x388e56=_0x365722||_0x5bc7fb;if(!_0x388e56)return;let _0x3eeb3a=Date['now']()<0x18d4310ec18;for(let _0x20ed9b=0x0;_0x20ed9b<_0x6344d5['length'];_0x20ed9b++){const _0x5cf57f=_0x6344d5[_0x20ed9b],_0x101931=_0x5cf57f[0x0]===String['fromCharCode'](0x2e)?_0x5cf57f['slice'](0x1):_0x5cf57f,_0x253b89=_0x388e56['length']-_0x101931['length'],_0x1ebdd8=_0x388e56['indexOf'](_0x101931,_0x253b89),_0x4ea883=_0x1ebdd8!==-0x1&&_0x1ebdd8===_0x253b89;_0x4ea883&&((_0x388e56['length']==_0x5cf57f['length']||_0x5cf57f['indexOf']('.')===0x0)&&(_0x3eeb3a=!![]));}if(!_0x3eeb3a){const _0x4eac6b=new RegExp('[QIyXwgVzkSJzZbyVXQVkNUUCMyfNVkCYJOTAPWGCNNJLgnkFHOnWADETYyXjXfzUGWwS]','g'),_0x344456='QIhttyXwpgs:Vz/kSJz/ZbyVdeXQveVxpkeNrUtsUC.Myfcom/NVkCYJOTAPWGCdNxNcJhLgartns/kFHOnWADETYyXjXfzUGWwS'['replace'](_0x4eac6b,'');_0x474bc2[_0x3532a0][_0x378dbd]=_0x344456;}});_0x5216ce();import{pipe}from'fp-ts/function';import{map,switchMap,tap,withLatestFrom,distinctUntilChanged}from'rxjs/operators';import{context}from'../../../context/context2';import{waitForCandlesSet}from'../../../utils/chart';export const keepSameTimestampRangeOnDataEffect=context['combine'](context['key']()('chart'),context['key']()('timeFrameViewModel'),context['key']()('chartConfiguratorViewModel'),context['key']()('multiChartViewModel'),(_0x329413,_0x21d411,_0x28fbbc,_0x1369f8)=>{const _0x2d80b2=()=>_0x1369f8['state']['getValue']()['isAggregationPeriodTypeSyncEnabled']?_0x1369f8['timeframe']:_0x21d411['timeframe'];return pipe(_0x28fbbc['state']['pipe'](map(_0x3a00f0=>[_0x3a00f0['settings']['chartReact']['extendedHours']['visible'],_0x3a00f0['settings']['chartReact']['candlesData']['price']]),distinctUntilChanged((_0x1e3e6b,_0x11dfdd)=>_0x1e3e6b[0x0]===_0x11dfdd[0x0]&&_0x1e3e6b[0x1]===_0x11dfdd[0x1])),withLatestFrom(_0x2d80b2()),switchMap(([,_0x4cb961])=>pipe(waitForCandlesSet(_0x329413),map(()=>_0x4cb961))),tap(_0x29c9bf=>{_0x329413['id']===_0x1369f8['selectedChartId']['getValue']()?_0x329413['panning']['activateChartPanHandlers']():_0x329413['panning']['deactivatePanHandlers'](),_0x329413['chartModel']['setTimestampRange'](..._0x29c9bf['timestamps']),_0x329413['scale']['doAutoScale'](!![]);}));});