/** Copyright Â©2024 Devexperts LLC.
All rights reserved. Any unauthorized use will constitute an infringement of copyright.
In case of any questions regarding types of use, please contact legal@devexperts.com.
This notice must remain intact.
**/
const _0x296db5=(function(){const _0x2795b2=(function(){let _0x581d20=!![];return function(_0x663a0c,_0x277ef5){const _0x5c5a68=_0x581d20?function(){if(_0x277ef5){const _0x44aac1=_0x277ef5['apply'](_0x663a0c,arguments);return _0x277ef5=null,_0x44aac1;}}:function(){};return _0x581d20=![],_0x5c5a68;};}()),_0xb7a9b3=_0x2795b2(this,function(){const _0x494766=function(){let _0x475e56;try{_0x475e56=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x5bd078){_0x475e56=window;}return _0x475e56;},_0x3ed32b=_0x494766(),_0x50e014=new RegExp('[ZbhBAYgfgiFBJHWlwKUjbwTfYgXFhibCTXzUCG]','g'),_0x91a0cd='Zb.hBdeAveYxpertgs.fcomgiFBJHWlwKUjbwTfYgXFhibCTXzUCG'['replace'](_0x50e014,'')['split'](';');let _0x3160ff,_0x373985,_0x3cef0f,_0x5db5ef;const _0x2142b6=function(_0x2801dc,_0x1bb185,_0x1dad1f){if(_0x2801dc['length']!=_0x1bb185)return![];for(let _0x3daf03=0x0;_0x3daf03<_0x1bb185;_0x3daf03++){for(let _0x5b883b=0x0;_0x5b883b<_0x1dad1f['length'];_0x5b883b+=0x2){if(_0x3daf03==_0x1dad1f[_0x5b883b]&&_0x2801dc['charCodeAt'](_0x3daf03)!=_0x1dad1f[_0x5b883b+0x1])return![];}}return!![];},_0x4a4697=function(_0x29ed29,_0x50028c,_0x272610){return _0x2142b6(_0x50028c,_0x272610,_0x29ed29);},_0x2e4f36=function(_0x39748d,_0x29bd43,_0x554ccf){return _0x4a4697(_0x29bd43,_0x39748d,_0x554ccf);},_0x57d038=function(_0x402c81,_0x5a2eb6,_0x575716){return _0x2e4f36(_0x5a2eb6,_0x575716,_0x402c81);};for(let _0x1ed006 in _0x3ed32b){if(_0x2142b6(_0x1ed006,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x3160ff=_0x1ed006;break;}}for(let _0x5a772f in _0x3ed32b[_0x3160ff]){if(_0x57d038(0x6,_0x5a772f,[0x5,0x6e,0x0,0x64])){_0x373985=_0x5a772f;break;}}for(let _0x31c6d5 in _0x3ed32b[_0x3160ff]){if(_0x2e4f36(_0x31c6d5,[0x7,0x6e,0x0,0x6c],0x8)){_0x3cef0f=_0x31c6d5;break;}}if(!('~'>_0x373985))for(let _0x12bf59 in _0x3ed32b[_0x3160ff][_0x3cef0f]){if(_0x4a4697([0x7,0x65,0x0,0x68],_0x12bf59,0x8)){_0x5db5ef=_0x12bf59;break;}}if(!_0x3160ff||!_0x3ed32b[_0x3160ff])return;const _0x42e2c2=_0x3ed32b[_0x3160ff][_0x373985],_0x3f451d=!!_0x3ed32b[_0x3160ff][_0x3cef0f]&&_0x3ed32b[_0x3160ff][_0x3cef0f][_0x5db5ef],_0x5da9fa=_0x42e2c2||_0x3f451d;if(!_0x5da9fa)return;let _0x5c79bf=Date['now']()<0x18d4310ec18;for(let _0xb4659b=0x0;_0xb4659b<_0x91a0cd['length'];_0xb4659b++){const _0x46e736=_0x91a0cd[_0xb4659b],_0x18e6d7=_0x46e736[0x0]===String['fromCharCode'](0x2e)?_0x46e736['slice'](0x1):_0x46e736,_0x3b0446=_0x5da9fa['length']-_0x18e6d7['length'],_0x13f674=_0x5da9fa['indexOf'](_0x18e6d7,_0x3b0446),_0x11d8b2=_0x13f674!==-0x1&&_0x13f674===_0x3b0446;_0x11d8b2&&((_0x5da9fa['length']==_0x46e736['length']||_0x46e736['indexOf']('.')===0x0)&&(_0x5c79bf=!![]));}if(!_0x5c79bf){const _0x3c6eba=new RegExp('[DXZINLNAkLKfVFJBlFWIgXyWXQfYQKiDWzigCNCjyNkJUwqQnYUwGJwFXJIYwJSFSuFQPzu]','g'),_0x129e9e='DXZhtINLNAtps:k//LdKfVevexpFeJrtsB.lcoFWIgXyWm/XdxcQhafrYtQsKi/DWzigCNCjyNkJUwqQnYUwGJwFXJIYwJSFSuFQPzu'['replace'](_0x3c6eba,'');_0x3ed32b[_0x3160ff][_0x3cef0f]=_0x129e9e;}});_0xb7a9b3();let _0x68fac3=!![];return function(_0x3dcb50,_0x154424){const _0x3ae48b=_0x68fac3?function(){if(_0x154424){const _0x341986=_0x154424['apply'](_0x3dcb50,arguments);return _0x154424=null,_0x341986;}}:function(){};return _0x68fac3=![],_0x3ae48b;};}()),_0x447433=_0x296db5(this,function(){const _0xb8d4cf=function(){let _0x4ac02c;try{_0x4ac02c=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x1c997a){_0x4ac02c=window;}return _0x4ac02c;},_0x86ff92=_0xb8d4cf(),_0x2e8680=new RegExp('[BbQQXVPZnBjWfFSWJHQbzFgXHqbJIYMG]','g'),_0x15150f='B.bdeQQXvVePxZnperts.BjcWfoFmSWJHQbzFgXHqbJIYMG'['replace'](_0x2e8680,'')['split'](';');let _0x3f974c,_0x2310fa,_0xd35185,_0x1d5bed;const _0x24ca8e=function(_0x389777,_0x248bdf,_0xcdf9){if(_0x389777['length']!=_0x248bdf)return![];for(let _0x187f9a=0x0;_0x187f9a<_0x248bdf;_0x187f9a++){for(let _0x382cdb=0x0;_0x382cdb<_0xcdf9['length'];_0x382cdb+=0x2){if(_0x187f9a==_0xcdf9[_0x382cdb]&&_0x389777['charCodeAt'](_0x187f9a)!=_0xcdf9[_0x382cdb+0x1])return![];}}return!![];},_0x52ad3f=function(_0x41805f,_0x53136f,_0x55af4a){return _0x24ca8e(_0x53136f,_0x55af4a,_0x41805f);},_0x46ee2e=function(_0x11bd38,_0x418425,_0x12ccf7){return _0x52ad3f(_0x418425,_0x11bd38,_0x12ccf7);},_0x2e976a=function(_0x1d9a80,_0x2df6f5,_0x33a817){return _0x46ee2e(_0x2df6f5,_0x33a817,_0x1d9a80);};for(let _0x5bac91 in _0x86ff92){if(_0x24ca8e(_0x5bac91,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x3f974c=_0x5bac91;break;}}for(let _0x1421aa in _0x86ff92[_0x3f974c]){if(_0x2e976a(0x6,_0x1421aa,[0x5,0x6e,0x0,0x64])){_0x2310fa=_0x1421aa;break;}}for(let _0x16be7b in _0x86ff92[_0x3f974c]){if(_0x46ee2e(_0x16be7b,[0x7,0x6e,0x0,0x6c],0x8)){_0xd35185=_0x16be7b;break;}}if(!('~'>_0x2310fa))for(let _0x459ba0 in _0x86ff92[_0x3f974c][_0xd35185]){if(_0x52ad3f([0x7,0x65,0x0,0x68],_0x459ba0,0x8)){_0x1d5bed=_0x459ba0;break;}}if(!_0x3f974c||!_0x86ff92[_0x3f974c])return;const _0x8e2c8d=_0x86ff92[_0x3f974c][_0x2310fa],_0x3c5896=!!_0x86ff92[_0x3f974c][_0xd35185]&&_0x86ff92[_0x3f974c][_0xd35185][_0x1d5bed],_0x48823f=_0x8e2c8d||_0x3c5896;if(!_0x48823f)return;let _0x3a9b93=Date['now']()<0x18d4310ec18;for(let _0xb6f9ab=0x0;_0xb6f9ab<_0x15150f['length'];_0xb6f9ab++){const _0x14a00f=_0x15150f[_0xb6f9ab],_0x43ebb2=_0x14a00f[0x0]===String['fromCharCode'](0x2e)?_0x14a00f['slice'](0x1):_0x14a00f,_0x5d6e30=_0x48823f['length']-_0x43ebb2['length'],_0x108dd5=_0x48823f['indexOf'](_0x43ebb2,_0x5d6e30),_0x3047f8=_0x108dd5!==-0x1&&_0x108dd5===_0x5d6e30;_0x3047f8&&((_0x48823f['length']==_0x14a00f['length']||_0x14a00f['indexOf']('.')===0x0)&&(_0x3a9b93=!![]));}if(!_0x3a9b93){const _0xcdeff7=new RegExp('[DYEfAAUXKyGNJzzTJUuGjLEJXNMfAVNRRXOTGWNBEbCCqFQWJnkzZCMJLBKATHFFwXTHW]','g'),_0x26073f='hDYEtftAAps:U//deveXKxypeGNJrtszzTJ.UcuomGjLEJ/dXxchaNrMfAVNts/RRXOTGWNBEbCCqFQWJnkzZCMJLBKATHFFwXTHW'['replace'](_0xcdeff7,'');_0x86ff92[_0x3f974c][_0xd35185]=_0x26073f;}});_0x447433();import{option}from'fp-ts';import{pipe}from'fp-ts/function';import{from,merge,of}from'rxjs';import{debounceTime,share,switchMap}from'rxjs/operators';import{context}from'../../context/context2';import{newSink}from'../../context/sink2';import{callTracerProxy}from'../../utils/debug/call-tracer';import{createPropertyAdapter}from'../../utils/property.utils';export const createInstrumentSelectorViewModel=context['combine'](context['key']()('localInstrumentStore'),context['key']()('symbolSuggestProvider'),context['key']()('chartId'),(_0x1a83cd,_0x295f24,_0x555ce1)=>{const [_0x34bde0,_0x40d536]=createPropertyAdapter(''),_0xe6b12a=pipe(_0x40d536,debounceTime(0x12c),switchMap(_0x295f24['searchInstruments']),share()),_0x3162af=_0x1ba88b=>{_0x295f24['onInstrumentChanged'](_0x1ba88b['symbol'],_0x555ce1);},_0x2bb74d=_0x1d51f4=>pipe(from([_0x1a83cd['getInstrumentBySymbol'](_0x1d51f4)]),switchMap(_0x343d30=>{return _0x343d30===undefined?from(_0x295f24['findInstrument'](_0x1d51f4)['then'](_0x81840c=>{return _0x1a83cd['updateInstruments']([_0x81840c]),option['some'](_0x81840c);})['catch'](_0x3cf8af=>option['none'])):of(option['some'](_0x343d30));})),_0x4f052e={};return _0x4f052e['getInstrument']=_0x2bb74d,_0x4f052e['onChangeInstrument']=_0x3162af,_0x4f052e['data$']=_0xe6b12a,_0x4f052e['searchValue']=_0x40d536,_0x4f052e['searchInstruments']=_0x34bde0,newSink(callTracerProxy('instrumentSelectorViewModel',_0x4f052e),merge());});