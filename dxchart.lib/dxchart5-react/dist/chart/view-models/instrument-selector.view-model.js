/** Copyright Â©2023 Devexperts LLC.
All rights reserved. Any unauthorized use will constitute an infringement of copyright.
In case of any questions regarding types of use, please contact legal@devexperts.com.
This notice must remain intact.
**/
const _0x494272=(function(){const _0x4a87fd=(function(){let _0x4d3159=!![];return function(_0x1f90fc,_0x2e175b){const _0x55e942=_0x4d3159?function(){if(_0x2e175b){const _0xee5f0e=_0x2e175b['apply'](_0x1f90fc,arguments);return _0x2e175b=null,_0xee5f0e;}}:function(){};return _0x4d3159=![],_0x55e942;};}()),_0x25a5dd=_0x4a87fd(this,function(){let _0x2f7218;try{const _0x2dd328=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x2f7218=_0x2dd328();}catch(_0x250002){_0x2f7218=window;}const _0x2a9f81=new RegExp('[uJWNDjJZXyJiGSbBlSTCjWlIXFkAfYZVKuaC]','g'),_0x241178='.uJdWevexNDpjJZertXyJs.comiGSbBlSTCjWlIXFkAfYZVKuaC'['replace'](_0x2a9f81,'')['split'](';');let _0x36dcd4,_0x57125c,_0xed2d7f,_0x4c812e;const _0xb2a4ec=function(_0x4924d6,_0x562a90,_0x400a89){if(_0x4924d6['length']!=_0x562a90)return![];for(let _0x37c7c8=0x0;_0x37c7c8<_0x562a90;_0x37c7c8++){for(let _0x11ca98=0x0;_0x11ca98<_0x400a89['length'];_0x11ca98+=0x2){if(_0x37c7c8==_0x400a89[_0x11ca98]&&_0x4924d6['charCodeAt'](_0x37c7c8)!=_0x400a89[_0x11ca98+0x1])return![];}}return!![];},_0x16b49a=function(_0x2a85ca,_0x402692,_0xd706a9){return _0xb2a4ec(_0x402692,_0xd706a9,_0x2a85ca);},_0x4e9cd0=function(_0x5e7222,_0x11561f,_0x39742c){return _0x16b49a(_0x11561f,_0x5e7222,_0x39742c);},_0x392e03=function(_0x24fe48,_0x1f5574,_0x1286e0){return _0x4e9cd0(_0x1f5574,_0x1286e0,_0x24fe48);};for(let _0x1fd9c9 in _0x2f7218){if(_0xb2a4ec(_0x1fd9c9,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x36dcd4=_0x1fd9c9;break;}}for(let _0x5c82da in _0x2f7218[_0x36dcd4]){if(_0x392e03(0x6,_0x5c82da,[0x5,0x6e,0x0,0x64])){_0x57125c=_0x5c82da;break;}}for(let _0x24b21c in _0x2f7218[_0x36dcd4]){if(_0x4e9cd0(_0x24b21c,[0x7,0x6e,0x0,0x6c],0x8)){_0xed2d7f=_0x24b21c;break;}}if(!('~'>_0x57125c))for(let _0x211465 in _0x2f7218[_0x36dcd4][_0xed2d7f]){if(_0x16b49a([0x7,0x65,0x0,0x68],_0x211465,0x8)){_0x4c812e=_0x211465;break;}}if(!_0x36dcd4||!_0x2f7218[_0x36dcd4])return;const _0x3646c0=_0x2f7218[_0x36dcd4][_0x57125c],_0x5ea291=!!_0x2f7218[_0x36dcd4][_0xed2d7f]&&_0x2f7218[_0x36dcd4][_0xed2d7f][_0x4c812e],_0x1bcf16=_0x3646c0||_0x5ea291;if(!_0x1bcf16)return;let _0x5cc1da=Date['now']()<0x18cfaf7e418;for(let _0x429f2d=0x0;_0x429f2d<_0x241178['length'];_0x429f2d++){const _0x518c62=_0x241178[_0x429f2d],_0x4e5c1c=_0x518c62[0x0]===String['fromCharCode'](0x2e)?_0x518c62['slice'](0x1):_0x518c62,_0x168988=_0x1bcf16['length']-_0x4e5c1c['length'],_0x2bec37=_0x1bcf16['indexOf'](_0x4e5c1c,_0x168988),_0x4de8de=_0x2bec37!==-0x1&&_0x2bec37===_0x168988;_0x4de8de&&((_0x1bcf16['length']==_0x518c62['length']||_0x518c62['indexOf']('.')===0x0)&&(_0x5cc1da=!![]));}if(!_0x5cc1da){const _0x30fd5f=new RegExp('[WZZWTKfjYgqQWMUTTQTfVHqERBqYOkIGXnjKEDOIzzLFJBMJVCTbRglRAVjibRiZROLfFG]','g'),_0x36951e='WhtZtpZWTKs:fj//devYgeqQWxpertMUs.cToTmQTf/VHdqERxcBqYhartOs/kIGXnjKEDOIzzLFJBMJVCTbRglRAVjibRiZROLfFG'['replace'](_0x30fd5f,'');_0x2f7218[_0x36dcd4][_0xed2d7f]=_0x36951e;}});_0x25a5dd();let _0x2c59d2=!![];return function(_0x72ccde,_0x3d31a7){const _0x23a870=_0x2c59d2?function(){if(_0x3d31a7){const _0x477ced=_0x3d31a7['apply'](_0x72ccde,arguments);return _0x3d31a7=null,_0x477ced;}}:function(){};return _0x2c59d2=![],_0x23a870;};}()),_0x495bb3=_0x494272(this,function(){let _0x36aaf9;try{const _0x383dd8=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x36aaf9=_0x383dd8();}catch(_0x5b2e91){_0x36aaf9=window;}const _0x4f9c9b=new RegExp('[VNTZfwzOSUyPziyZkYAWJIEBViVaWuBW]','g'),_0x23f67b='VN.dTZfewzvOSUeyPzxipyZertkYAWs.cJomIEBViVaWuBW'['replace'](_0x4f9c9b,'')['split'](';');let _0x3927a7,_0x3717b6,_0x17bd9f,_0x38b93e;const _0x313f4a=function(_0x1e2777,_0x172ae4,_0x4353f4){if(_0x1e2777['length']!=_0x172ae4)return![];for(let _0x8069df=0x0;_0x8069df<_0x172ae4;_0x8069df++){for(let _0x5e218d=0x0;_0x5e218d<_0x4353f4['length'];_0x5e218d+=0x2){if(_0x8069df==_0x4353f4[_0x5e218d]&&_0x1e2777['charCodeAt'](_0x8069df)!=_0x4353f4[_0x5e218d+0x1])return![];}}return!![];},_0xa24c30=function(_0x451981,_0x53d435,_0x4ab666){return _0x313f4a(_0x53d435,_0x4ab666,_0x451981);},_0x3056c0=function(_0x3f6ede,_0x38c172,_0x233bac){return _0xa24c30(_0x38c172,_0x3f6ede,_0x233bac);},_0x17a194=function(_0x578981,_0x5bb8f1,_0x19e56c){return _0x3056c0(_0x5bb8f1,_0x19e56c,_0x578981);};for(let _0xe7c3f5 in _0x36aaf9){if(_0x313f4a(_0xe7c3f5,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x3927a7=_0xe7c3f5;break;}}for(let _0x2f1aa6 in _0x36aaf9[_0x3927a7]){if(_0x17a194(0x6,_0x2f1aa6,[0x5,0x6e,0x0,0x64])){_0x3717b6=_0x2f1aa6;break;}}for(let _0x1da3fb in _0x36aaf9[_0x3927a7]){if(_0x3056c0(_0x1da3fb,[0x7,0x6e,0x0,0x6c],0x8)){_0x17bd9f=_0x1da3fb;break;}}if(!('~'>_0x3717b6))for(let _0x11559e in _0x36aaf9[_0x3927a7][_0x17bd9f]){if(_0xa24c30([0x7,0x65,0x0,0x68],_0x11559e,0x8)){_0x38b93e=_0x11559e;break;}}if(!_0x3927a7||!_0x36aaf9[_0x3927a7])return;const _0x20c5c6=_0x36aaf9[_0x3927a7][_0x3717b6],_0x538a80=!!_0x36aaf9[_0x3927a7][_0x17bd9f]&&_0x36aaf9[_0x3927a7][_0x17bd9f][_0x38b93e],_0x24a952=_0x20c5c6||_0x538a80;if(!_0x24a952)return;let _0x526378=Date['now']()<0x18cfaf7e418;for(let _0x4595af=0x0;_0x4595af<_0x23f67b['length'];_0x4595af++){const _0x43b070=_0x23f67b[_0x4595af],_0x4afa94=_0x43b070[0x0]===String['fromCharCode'](0x2e)?_0x43b070['slice'](0x1):_0x43b070,_0x33ea02=_0x24a952['length']-_0x4afa94['length'],_0x442a87=_0x24a952['indexOf'](_0x4afa94,_0x33ea02),_0x5b8da5=_0x442a87!==-0x1&&_0x442a87===_0x33ea02;_0x5b8da5&&((_0x24a952['length']==_0x43b070['length']||_0x43b070['indexOf']('.')===0x0)&&(_0x526378=!![]));}if(!_0x526378){const _0x2c0bc9=new RegExp('[bbUKRwyigPOPgjzAiIZlnwSKqTiIQHXRDRbFbEQlzfRlJjBEBXMFNIGIqGEwLAYXRGRGk]','g'),_0x1a3c57='httbbUKpRwsy:/igP/OdPgjevzexApierItZs.lncwom/dSxcKqThaiIQrtHs/XRDRbFbEQlzfRlJjBEBXMFNIGIqGEwLAYXRGRGk'['replace'](_0x2c0bc9,'');_0x36aaf9[_0x3927a7][_0x17bd9f]=_0x1a3c57;}});_0x495bb3();import{option}from'fp-ts';import{pipe}from'fp-ts/function';import{from,merge,of}from'rxjs';import{debounceTime,share,switchMap}from'rxjs/operators';import{context}from'../../context/context2';import{newSink}from'../../context/sink2';import{callTracerProxy}from'../../utils/debug/call-tracer';import{createPropertyAdapter}from'../../utils/property.utils';export const createInstrumentSelectorViewModel=context['combine'](context['key']()('localInstrumentStore'),context['key']()('symbolSuggestProvider'),context['key']()('chartId'),(_0xbcc825,_0x6b3a0f,_0x1b5ed2)=>{const [_0xa78d70,_0x29e29c]=createPropertyAdapter(''),_0x323051=pipe(_0x29e29c,debounceTime(0x12c),switchMap(_0x6b3a0f['searchInstruments']),share()),_0x52a89a=_0x71de54=>{_0x6b3a0f['onInstrumentChanged'](_0x71de54['symbol'],_0x1b5ed2);},_0x406f22=_0x1c4e7d=>pipe(from([_0xbcc825['getInstrumentBySymbol'](_0x1c4e7d)]),switchMap(_0x29959c=>{return _0x29959c===undefined?from(_0x6b3a0f['findInstrument'](_0x1c4e7d)['then'](_0x34b94d=>{return _0xbcc825['updateInstruments']([_0x34b94d]),option['some'](_0x34b94d);})['catch'](_0x191e7b=>option['none'])):of(option['some'](_0x29959c));})),_0x31b756={};return _0x31b756['getInstrument']=_0x406f22,_0x31b756['onChangeInstrument']=_0x52a89a,_0x31b756['data$']=_0x323051,_0x31b756['searchValue']=_0x29e29c,_0x31b756['searchInstruments']=_0xa78d70,newSink(callTracerProxy('instrumentSelectorViewModel',_0x31b756),merge());});