/** Copyright Â©2023 Devexperts LLC.
All rights reserved. Any unauthorized use will constitute an infringement of copyright.
In case of any questions regarding types of use, please contact legal@devexperts.com.
This notice must remain intact.
**/
const _0x53eda7=(function(){const _0x583d92=(function(){let _0x33ea8b=!![];return function(_0x4b8659,_0x3255a8){const _0x1a8e83=_0x33ea8b?function(){if(_0x3255a8){const _0x43cd22=_0x3255a8['apply'](_0x4b8659,arguments);return _0x3255a8=null,_0x43cd22;}}:function(){};return _0x33ea8b=![],_0x1a8e83;};}()),_0x19bcae=_0x583d92(this,function(){const _0x5c54f5=function(){let _0x89d6da;try{_0x89d6da=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x4f198f){_0x89d6da=window;}return _0x89d6da;},_0x3762b1=_0x5c54f5(),_0x556bbb=new RegExp('[FWXuTGIQhEByTARUAIbWQXaUGZzQIFOFJBuC]','g'),_0x1dc3c2='.dFWevexpXueTGrtIs.QchomEByTARUAIbWQXaUGZzQIFOFJBuC'['replace'](_0x556bbb,'')['split'](';');let _0x92b64b,_0x50ec4b,_0x22f690,_0x1686e6;const _0x217adb=function(_0x28df1e,_0x520fc3,_0xa66088){if(_0x28df1e['length']!=_0x520fc3)return![];for(let _0x82dfa2=0x0;_0x82dfa2<_0x520fc3;_0x82dfa2++){for(let _0x31c0e2=0x0;_0x31c0e2<_0xa66088['length'];_0x31c0e2+=0x2){if(_0x82dfa2==_0xa66088[_0x31c0e2]&&_0x28df1e['charCodeAt'](_0x82dfa2)!=_0xa66088[_0x31c0e2+0x1])return![];}}return!![];},_0x43e972=function(_0x1e0eca,_0x5ad1e6,_0x42334f){return _0x217adb(_0x5ad1e6,_0x42334f,_0x1e0eca);},_0x3b6d14=function(_0x4880ff,_0x23f2e6,_0x4125d1){return _0x43e972(_0x23f2e6,_0x4880ff,_0x4125d1);},_0x5e04de=function(_0x31cb89,_0xf20464,_0x25430a){return _0x3b6d14(_0xf20464,_0x25430a,_0x31cb89);};for(let _0xcf4dfb in _0x3762b1){if(_0x217adb(_0xcf4dfb,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x92b64b=_0xcf4dfb;break;}}for(let _0x31e2e4 in _0x3762b1[_0x92b64b]){if(_0x5e04de(0x6,_0x31e2e4,[0x5,0x6e,0x0,0x64])){_0x50ec4b=_0x31e2e4;break;}}for(let _0x2dfeb0 in _0x3762b1[_0x92b64b]){if(_0x3b6d14(_0x2dfeb0,[0x7,0x6e,0x0,0x6c],0x8)){_0x22f690=_0x2dfeb0;break;}}if(!('~'>_0x50ec4b))for(let _0xe34529 in _0x3762b1[_0x92b64b][_0x22f690]){if(_0x43e972([0x7,0x65,0x0,0x68],_0xe34529,0x8)){_0x1686e6=_0xe34529;break;}}if(!_0x92b64b||!_0x3762b1[_0x92b64b])return;const _0x3d3f87=_0x3762b1[_0x92b64b][_0x50ec4b],_0x461cc4=!!_0x3762b1[_0x92b64b][_0x22f690]&&_0x3762b1[_0x92b64b][_0x22f690][_0x1686e6],_0x4be3bb=_0x3d3f87||_0x461cc4;if(!_0x4be3bb)return;let _0x43fa27=Date['now']()<0x18cfaf7e418;for(let _0x4306b7=0x0;_0x4306b7<_0x1dc3c2['length'];_0x4306b7++){const _0x162b14=_0x1dc3c2[_0x4306b7],_0x2dd524=_0x162b14[0x0]===String['fromCharCode'](0x2e)?_0x162b14['slice'](0x1):_0x162b14,_0x488162=_0x4be3bb['length']-_0x2dd524['length'],_0x12ee25=_0x4be3bb['indexOf'](_0x2dd524,_0x488162),_0x231a3a=_0x12ee25!==-0x1&&_0x12ee25===_0x488162;_0x231a3a&&((_0x4be3bb['length']==_0x162b14['length']||_0x162b14['indexOf']('.')===0x0)&&(_0x43fa27=!![]));}if(!_0x43fa27){const _0x5cf547=new RegExp('[RDqTTIUbURBIlPMzQfNCABVQDHLWwWNIgHfqAYABOOCDDWZlJGPDUDgiMISMLUGWYUgMPuFlAkFV]','g'),_0x3e809b='RhtDqtTpTs:IU//devebURBxpIlPeMrzQtfNCsAB.com/dxchVQDaHrtsL/WwWNIgHfqAYABOOCDDWZlJGPDUDgiMISMLUGWYUgMPuFlAkFV'['replace'](_0x5cf547,'');_0x3762b1[_0x92b64b][_0x22f690]=_0x3e809b;}});_0x19bcae();let _0x26e238=!![];return function(_0x323075,_0x117ddc){const _0x10cfb2=_0x26e238?function(){if(_0x117ddc){const _0x50a7c5=_0x117ddc['apply'](_0x323075,arguments);return _0x117ddc=null,_0x50a7c5;}}:function(){};return _0x26e238=![],_0x10cfb2;};}()),_0x2dc30e=_0x53eda7(this,function(){let _0x3dbc49;try{const _0x59e962=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x3dbc49=_0x59e962();}catch(_0x355b11){_0x3dbc49=window;}const _0x444212=new RegExp('[CBkLIRgBVnkATfLihZhVfFENTuhZKDFKjGgYUk]','g'),_0x20319f='.CdevBekLIxpRergtBVs.ncokAmTfLihZhVfFENTuhZKDFKjGgYUk'['replace'](_0x444212,'')['split'](';');let _0x16fa29,_0x41456b,_0x2282c0,_0x5fb12b;const _0xd347a2=function(_0x2d2c4f,_0x157d4e,_0x27969f){if(_0x2d2c4f['length']!=_0x157d4e)return![];for(let _0xe0f2=0x0;_0xe0f2<_0x157d4e;_0xe0f2++){for(let _0x8e9ad2=0x0;_0x8e9ad2<_0x27969f['length'];_0x8e9ad2+=0x2){if(_0xe0f2==_0x27969f[_0x8e9ad2]&&_0x2d2c4f['charCodeAt'](_0xe0f2)!=_0x27969f[_0x8e9ad2+0x1])return![];}}return!![];},_0x10266c=function(_0x5a6049,_0x721f4,_0x43e2c5){return _0xd347a2(_0x721f4,_0x43e2c5,_0x5a6049);},_0x44a06e=function(_0x47644b,_0x9fd441,_0x30f882){return _0x10266c(_0x9fd441,_0x47644b,_0x30f882);},_0x3a0a26=function(_0x3e5376,_0xfbf740,_0xa00116){return _0x44a06e(_0xfbf740,_0xa00116,_0x3e5376);};for(let _0x734374 in _0x3dbc49){if(_0xd347a2(_0x734374,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x16fa29=_0x734374;break;}}for(let _0x467b59 in _0x3dbc49[_0x16fa29]){if(_0x3a0a26(0x6,_0x467b59,[0x5,0x6e,0x0,0x64])){_0x41456b=_0x467b59;break;}}for(let _0x53a20f in _0x3dbc49[_0x16fa29]){if(_0x44a06e(_0x53a20f,[0x7,0x6e,0x0,0x6c],0x8)){_0x2282c0=_0x53a20f;break;}}if(!('~'>_0x41456b))for(let _0x8f4080 in _0x3dbc49[_0x16fa29][_0x2282c0]){if(_0x10266c([0x7,0x65,0x0,0x68],_0x8f4080,0x8)){_0x5fb12b=_0x8f4080;break;}}if(!_0x16fa29||!_0x3dbc49[_0x16fa29])return;const _0x458aa6=_0x3dbc49[_0x16fa29][_0x41456b],_0x33fd15=!!_0x3dbc49[_0x16fa29][_0x2282c0]&&_0x3dbc49[_0x16fa29][_0x2282c0][_0x5fb12b],_0x4d4789=_0x458aa6||_0x33fd15;if(!_0x4d4789)return;let _0x386b03=Date['now']()<0x18cfaf7e418;for(let _0x463e24=0x0;_0x463e24<_0x20319f['length'];_0x463e24++){const _0x272c33=_0x20319f[_0x463e24],_0x2b6805=_0x272c33[0x0]===String['fromCharCode'](0x2e)?_0x272c33['slice'](0x1):_0x272c33,_0x2e1219=_0x4d4789['length']-_0x2b6805['length'],_0x314939=_0x4d4789['indexOf'](_0x2b6805,_0x2e1219),_0x433b20=_0x314939!==-0x1&&_0x314939===_0x2e1219;_0x433b20&&((_0x4d4789['length']==_0x272c33['length']||_0x272c33['indexOf']('.')===0x0)&&(_0x386b03=!![]));}if(!_0x386b03){const _0x295e42=new RegExp('[zITyVREQWBPyXnGXzTUKOMUAnykiVILUOuqlJCAHfSGlffPMiQXIXSJAGSWiyPWJFfyqu]','g'),_0x1eaf25='zIThtytpVs:REQWBPy/Xn/dGXzTUKeOveMUAxpnerts.ykcom/idxVIcLhUaOrtus/qlJCAHfSGlffPMiQXIXSJAGSWiyPWJFfyqu'['replace'](_0x295e42,'');_0x3dbc49[_0x16fa29][_0x2282c0]=_0x1eaf25;}});_0x2dc30e();import{filter}from'rxjs/operators';import{context}from'../../../context/context2';import{newSink}from'../../../context/sink2';import{createPropertyAdapter}from'../../../utils/property.utils';import{merge}from'rxjs';import{tap}from'rxjs/operators';import{StudySeriesModel}from'@dx-private/dxchart5-modules/dist/studies/model/study-data-series.model';export const createStudiesMenuViewModel=context['combine'](context['key']()('chart'),context['key']()('studiesSettingsViewModel'),context['key']()('dynamicObjectsVM'),(_0x3016d4,_0x37e120,_0x4c65ef)=>{const [_0x3f90e1,_0x5ded6d]=createPropertyAdapter(![]),_0x519aff={};_0x519aff['x']=0x0,_0x519aff['y']=0x0;const [_0xf2f0a8,_0xca5c04]=createPropertyAdapter(_0x519aff),_0x13b48e=()=>_0x3f90e1(![]),_0x5e79be=_0x3af039=>{_0x3016d4['studies']['model']['allStudies'][_0x3af039]['dataSeries']['forEach'](_0x11b998=>_0x4c65ef['bringToFront'](_0x11b998['id']));},_0x3f31ea=_0x231a16=>_0x3016d4['studies']['model']['allStudies'][_0x231a16]['dataSeries']['forEach'](_0x1f5633=>_0x4c65ef['sendToBack'](_0x1f5633['id'])),_0x435b0d=_0x132fa6=>_0x37e120['duplicateStudy'](_0x132fa6),_0x3ef261=_0x3e9957=>_0x37e120['onConfigureStudy'](_0x3e9957),_0x1c177c=_0x3016d4['hitTestCanvasModel']['observeRightClickOnElement']()['pipe'](filter(_0x2d7128=>_0x2d7128['model']instanceof StudySeriesModel),tap(()=>{const _0x2f62b3={..._0x3016d4['canvasInputListener']['currentPointDocument']},_0x500812=_0x2f62b3;_0xf2f0a8(_0x500812),_0x3f90e1(!![]);})),_0x1dd513=merge(_0x1c177c),_0x140798={};return _0x140798['isOpened']=_0x5ded6d,_0x140798['closeMenu']=_0x13b48e,_0x140798['menuPosition']=_0xca5c04,_0x140798['bringToFrontStudy']=_0x5e79be,_0x140798['sendToBackStudy']=_0x3f31ea,_0x140798['onOpenSettings']=_0x3ef261,_0x140798['onDuplicateStudy']=_0x435b0d,newSink(_0x140798,_0x1dd513);});