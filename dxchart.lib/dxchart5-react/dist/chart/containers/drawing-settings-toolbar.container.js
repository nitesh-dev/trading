/** Copyright Â©2023 Devexperts LLC.
All rights reserved. Any unauthorized use will constitute an infringement of copyright.
In case of any questions regarding types of use, please contact legal@devexperts.com.
This notice must remain intact.
**/
const _0x230dbd=(function(){const _0x56bf8e=(function(){let _0x1be662=!![];return function(_0x981ee6,_0x279293){const _0x1b75b6=_0x1be662?function(){if(_0x279293){const _0x10f5a5=_0x279293['apply'](_0x981ee6,arguments);return _0x279293=null,_0x10f5a5;}}:function(){};return _0x1be662=![],_0x1b75b6;};}()),_0x15ed3a=_0x56bf8e(this,function(){let _0x1009f1;try{const _0x1c4662=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x1009f1=_0x1c4662();}catch(_0x22c6aa){_0x1009f1=window;}const _0x1047a9=new RegExp('[SWJzAOXXgkJHuFMEAUWDCRNDLDYAfuTay]','g'),_0x5e9481='.dSWeJvzexAOpXXegrtksJH.ucoFMmEAUWDCRNDLDYAfuTay'['replace'](_0x1047a9,'')['split'](';');let _0x5ad129,_0x2ae5f5,_0x29cda1,_0x5c1dfa;const _0x1789c9=function(_0x150e33,_0x10e51e,_0x20c194){if(_0x150e33['length']!=_0x10e51e)return![];for(let _0x5a0c17=0x0;_0x5a0c17<_0x10e51e;_0x5a0c17++){for(let _0x5380e3=0x0;_0x5380e3<_0x20c194['length'];_0x5380e3+=0x2){if(_0x5a0c17==_0x20c194[_0x5380e3]&&_0x150e33['charCodeAt'](_0x5a0c17)!=_0x20c194[_0x5380e3+0x1])return![];}}return!![];},_0x214665=function(_0xc76480,_0x5d6a89,_0x4613e9){return _0x1789c9(_0x5d6a89,_0x4613e9,_0xc76480);},_0x439904=function(_0x317b5f,_0x55680e,_0x5f1a9d){return _0x214665(_0x55680e,_0x317b5f,_0x5f1a9d);},_0x25eea8=function(_0x198aa6,_0x433465,_0x18045d){return _0x439904(_0x433465,_0x18045d,_0x198aa6);};for(let _0x32d2b9 in _0x1009f1){if(_0x1789c9(_0x32d2b9,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x5ad129=_0x32d2b9;break;}}for(let _0x478e4a in _0x1009f1[_0x5ad129]){if(_0x25eea8(0x6,_0x478e4a,[0x5,0x6e,0x0,0x64])){_0x2ae5f5=_0x478e4a;break;}}for(let _0x415878 in _0x1009f1[_0x5ad129]){if(_0x439904(_0x415878,[0x7,0x6e,0x0,0x6c],0x8)){_0x29cda1=_0x415878;break;}}if(!('~'>_0x2ae5f5))for(let _0x334eee in _0x1009f1[_0x5ad129][_0x29cda1]){if(_0x214665([0x7,0x65,0x0,0x68],_0x334eee,0x8)){_0x5c1dfa=_0x334eee;break;}}if(!_0x5ad129||!_0x1009f1[_0x5ad129])return;const _0x14ba29=_0x1009f1[_0x5ad129][_0x2ae5f5],_0x1fb437=!!_0x1009f1[_0x5ad129][_0x29cda1]&&_0x1009f1[_0x5ad129][_0x29cda1][_0x5c1dfa],_0x330fd4=_0x14ba29||_0x1fb437;if(!_0x330fd4)return;let _0x1edee0=Date['now']()<0x18cfaf7e418;for(let _0x45be4a=0x0;_0x45be4a<_0x5e9481['length'];_0x45be4a++){const _0x51c92a=_0x5e9481[_0x45be4a],_0x18702f=_0x51c92a[0x0]===String['fromCharCode'](0x2e)?_0x51c92a['slice'](0x1):_0x51c92a,_0x4d73de=_0x330fd4['length']-_0x18702f['length'],_0x36760a=_0x330fd4['indexOf'](_0x18702f,_0x4d73de),_0x56cbf0=_0x36760a!==-0x1&&_0x36760a===_0x4d73de;_0x56cbf0&&((_0x330fd4['length']==_0x51c92a['length']||_0x51c92a['indexOf']('.')===0x0)&&(_0x1edee0=!![]));}if(!_0x1edee0){const _0x23a2e5=new RegExp('[qWDSEbHSlVXlYfkYBgfKGVKYBYOVlAkVGHVIFCkWHiyFfbKAQGyNPlPObWMYSUHOFGfBOKYXOU]','g'),_0x343a22='hqWttDpSsEbH:/S/dlVeveXlxpertYs.fcokm/dYxcBhgfKarts/GVKYBYOVlAkVGHVIFCkWHiyFfbKAQGyNPlPObWMYSUHOFGfBOKYXOU'['replace'](_0x23a2e5,'');_0x1009f1[_0x5ad129][_0x29cda1]=_0x343a22;}});_0x15ed3a();let _0x95ddc0=!![];return function(_0x4fdf09,_0x4c2c7e){const _0x4b2ed=_0x95ddc0?function(){if(_0x4c2c7e){const _0x3ef07b=_0x4c2c7e['apply'](_0x4fdf09,arguments);return _0x4c2c7e=null,_0x3ef07b;}}:function(){};return _0x95ddc0=![],_0x4b2ed;};}()),_0x1b7201=_0x230dbd(this,function(){const _0x904384=function(){let _0x403a52;try{_0x403a52=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x2d52b1){_0x403a52=window;}return _0x403a52;},_0x344517=_0x904384(),_0x1922c9=new RegExp('[wAnkCgIChRPauhqSJlMbqVVfqkDuhkWyMbZnb]','g'),_0x53d1f3='.wAdenvexpkCergICthsR.comPauhqSJlMbqVVfqkDuhkWyMbZnb'['replace'](_0x1922c9,'')['split'](';');let _0x41212a,_0x27131b,_0x50d274,_0x303494;const _0x53db9c=function(_0xcf5b83,_0x49d8a3,_0x406245){if(_0xcf5b83['length']!=_0x49d8a3)return![];for(let _0x330811=0x0;_0x330811<_0x49d8a3;_0x330811++){for(let _0x5cd038=0x0;_0x5cd038<_0x406245['length'];_0x5cd038+=0x2){if(_0x330811==_0x406245[_0x5cd038]&&_0xcf5b83['charCodeAt'](_0x330811)!=_0x406245[_0x5cd038+0x1])return![];}}return!![];},_0x4f9c7d=function(_0x18bf8e,_0x560300,_0x2c6d94){return _0x53db9c(_0x560300,_0x2c6d94,_0x18bf8e);},_0x5d2a5c=function(_0x2b97d3,_0xb35aac,_0x952afb){return _0x4f9c7d(_0xb35aac,_0x2b97d3,_0x952afb);},_0x6eb1b9=function(_0x4b4052,_0x89ec5e,_0x4c7d20){return _0x5d2a5c(_0x89ec5e,_0x4c7d20,_0x4b4052);};for(let _0x453310 in _0x344517){if(_0x53db9c(_0x453310,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x41212a=_0x453310;break;}}for(let _0x110a11 in _0x344517[_0x41212a]){if(_0x6eb1b9(0x6,_0x110a11,[0x5,0x6e,0x0,0x64])){_0x27131b=_0x110a11;break;}}for(let _0x2d13be in _0x344517[_0x41212a]){if(_0x5d2a5c(_0x2d13be,[0x7,0x6e,0x0,0x6c],0x8)){_0x50d274=_0x2d13be;break;}}if(!('~'>_0x27131b))for(let _0x382353 in _0x344517[_0x41212a][_0x50d274]){if(_0x4f9c7d([0x7,0x65,0x0,0x68],_0x382353,0x8)){_0x303494=_0x382353;break;}}if(!_0x41212a||!_0x344517[_0x41212a])return;const _0x4e851c=_0x344517[_0x41212a][_0x27131b],_0x38bf95=!!_0x344517[_0x41212a][_0x50d274]&&_0x344517[_0x41212a][_0x50d274][_0x303494],_0x21d5b5=_0x4e851c||_0x38bf95;if(!_0x21d5b5)return;let _0x2b15fc=Date['now']()<0x18cfaf7e418;for(let _0x47ed9b=0x0;_0x47ed9b<_0x53d1f3['length'];_0x47ed9b++){const _0x5de452=_0x53d1f3[_0x47ed9b],_0x2f1ba9=_0x5de452[0x0]===String['fromCharCode'](0x2e)?_0x5de452['slice'](0x1):_0x5de452,_0x453836=_0x21d5b5['length']-_0x2f1ba9['length'],_0x2a31ad=_0x21d5b5['indexOf'](_0x2f1ba9,_0x453836),_0x219d62=_0x2a31ad!==-0x1&&_0x2a31ad===_0x453836;_0x219d62&&((_0x21d5b5['length']==_0x5de452['length']||_0x5de452['indexOf']('.')===0x0)&&(_0x2b15fc=!![]));}if(!_0x2b15fc){const _0x5b5070=new RegExp('[ZHCqiqINBNIkNDibPuVDWQFFQzKZBLBHwQZySVYEVyOOCNJXQzXnBAFnIYKKiSnOizCnXXQCV]','g'),_0x3764ba='ZhHtCqtpisqI://NdBeNIkNveDxpeibrtPuVDsW.QFFQzcKoZm/BLBdxHwcQhartsZy/SVYEVyOOCNJXQzXnBAFnIYKKiSnOizCnXXQCV'['replace'](_0x5b5070,'');_0x344517[_0x41212a][_0x50d274]=_0x3764ba;}});_0x1b7201();import{isSome,none}from'fp-ts/Option';import{cloneUnsafe}from'@devexperts/dxcharts-lite/dist/chart/utils/object.utils';import{createElement,memo,useContext,useMemo}from'react';import{context}from'../../context/context2';import{IconsOverridingContext}from'../../utils/icons-overriding-context';import{namedMemo}from'../../utils/named-memo';import{importIdle}from'../../utils/react.utils';import{useObservable}from'../../utils/use-observable';import{useProperty}from'../../utils/use-property';import{EXCHANGE}from'../view-models/time-zone.view-model';const DrawingSettingsToolbar=importIdle(()=>import('../components/drawings/drawing-settings-toolbar/drawing-settings-toolbar.component')),DrawingToolbarComponent=context['combine'](context['key']()('drawingViewModel'),context['key']()('chartDataViewModel'),context['key']()('chartConfiguratorViewModel'),context['key']()('timeZoneViewModel'),context['key']()('colorPalette'),context['key']()('localization'),(_0x4c0eb2,_0x2cdb70,_0xa3fac7,_0x3f2c38,_0x180895,_0x79511c)=>memo(_0x346c94=>{const _0x2b603e=useProperty(_0x2cdb70['instrument']),_0x15af7e=useObservable(_0x4c0eb2['currentEditableDrawing'],none),_0x4723e5=useObservable(_0x4c0eb2['isSettingsPopupOpened'],![]),{settings:_0x44f6a7}=useProperty(_0xa3fac7['state']),_0xd53d93=_0x79511c['drawings'],_0x4360c7=useContext(IconsOverridingContext),_0x47edaa=useProperty(_0x4c0eb2['toolbarPositionPixels']),_0x7645c8=useProperty(_0x4c0eb2['chartBounds']),_0x4b99c7=useProperty(_0x4c0eb2['toolbarWidth']),_0x250637=useObservable(_0x3f2c38['currentTimezone'],''),_0x33761c=useObservable(_0x3f2c38['currentExchange'],''),_0x2cfd38=useMemo(()=>_0x250637===EXCHANGE?_0x33761c:_0x250637,[_0x250637,_0x33761c]);return createElement(DrawingSettingsToolbar,{'onDrag':_0x4c0eb2['handleDrag'],'onRemove':_0x4c0eb2['removeDrawing'],'drawing':cloneUnsafe(_0x15af7e),'instrument':_0x2b603e,'currentTimezone':_0x2cfd38,'onDrawingChange':_0x4c0eb2['updateDrawing'],'palette':_0x180895,'togglePopup':_0x4c0eb2['toggleSettingsPopup'],'isPopupOpened':_0x4723e5,'requestRestoreDefaults':_0x4c0eb2['resetChanges'],'magnetMode':_0x44f6a7['chartCore']['components']['drawings']['magnet']!==0x0,'setMagnetMode':_0xa3fac7['setMagnetMode'],'drawingsDict':_0xd53d93,'iconsConfig':_0x4360c7,'updateToolbarWidth':_0x4c0eb2['updateToolbarWidth'],'toggleDrawingLocked':_0x4c0eb2['toggleDrawingLocked'],'position':_0x47edaa,'bounds':_0x7645c8,'toolbarWidth':_0x4b99c7,..._0x346c94});}));export const DrawingSettingsToolbarContainer=context['combine'](DrawingToolbarComponent,context['key']()('drawingViewModel'),(_0x38b069,_0x20909c)=>namedMemo('DrawingSettingsToolbarContainer',_0x4f0c51=>{const _0xdbea8c=useObservable(_0x20909c['isDisabled'],![]),_0x230bd0=useObservable(_0x20909c['currentEditableDrawing'],none);return!_0xdbea8c&&isSome(_0x230bd0)?createElement(_0x38b069,_0x4f0c51):null;}));