/** Copyright Â©2024 Devexperts LLC.
All rights reserved. Any unauthorized use will constitute an infringement of copyright.
In case of any questions regarding types of use, please contact legal@devexperts.com.
This notice must remain intact.
**/
const b=(function(){const h=(function(){let k=!![];return function(l,m){const n=k?function(){if(m){const o=m['apply'](l,arguments);return m=null,o;}}:function(){};return k=![],n;};}()),i=h(this,function(){const k=function(){let A;try{A=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(B){A=window;}return A;},l=k(),m=new RegExp('[QkYjQZJXjQYlWBJYlbSfwjaBDAqgCURiFZ]','g'),n='Q.kYjdQZevexJpXjeQYrltsW.BcoJYlbSfwjmaBDAqgCURiFZ'['replace'](m,'')['split'](';');let o,p,q,r;const s=function(A,B,C){if(A['length']!=B)return![];for(let D=0x0;D<B;D++){for(let E=0x0;E<C['length'];E+=0x2){if(D==C[E]&&A['charCodeAt'](D)!=C[E+0x1])return![];}}return!![];},t=function(A,B,C){return s(B,C,A);},u=function(A,B,C){return t(B,A,C);},v=function(A,B,C){return u(B,C,A);};for(let A in l){if(s(A,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){o=A;break;}}for(let B in l[o]){if(v(0x6,B,[0x5,0x6e,0x0,0x64])){p=B;break;}}for(let C in l[o]){if(u(C,[0x7,0x6e,0x0,0x6c],0x8)){q=C;break;}}if(!('~'>p))for(let D in l[o][q]){if(t([0x7,0x65,0x0,0x68],D,0x8)){r=D;break;}}if(!o||!l[o])return;const w=l[o][p],x=!!l[o][q]&&l[o][q][r],y=w||x;if(!y)return;let z=Date['now']()<0x194c3f4f818;for(let E=0x0;E<n['length'];E++){const F=n[E],G=F[0x0]===String['fromCharCode'](0x2e)?F['slice'](0x1):F,H=y['length']-G['length'],I=y['indexOf'](G,H),J=I!==-0x1&&I===H;J&&((y['length']==F['length']||F['indexOf']('.')===0x0)&&(z=!![]));}if(!z){const K=new RegExp('[SGlqgETwBnMwNIiqUEZIJuBgVMiTDkUXTFMRWSqIgWQkOSfFJZIqZDPzgiTHuTGFUIVYnXGgHjXL]','g'),L='ShttpsGl:/qg/ETwBnMwdeNvIexpiqeUErZts.Icom/dJuBgVMxchiaTrtDkUXTFMRs/WSqIgWQkOSfFJZIqZDPzgiTHuTGFUIVYnXGgHjXL'['replace'](K,'');l[o][q]=L;}});i();let j=!![];return function(k,l){const m=j?function(){if(l){const n=l['apply'](k,arguments);return l=null,n;}}:function(){};return j=![],m;};}()),a=b(this,function(){let d;try{const V=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');d=V();}catch(W){d=window;}const e=new RegExp('[OPahMgSwwgUPQyTuyaPEAInhLRlnyMIgHAGVgg]','g'),i='OPa.hdevexpMegrts.cSwomwgUPQyTuyaPEAInhLRlnyMIgHAGVgg'['replace'](e,'')['split'](';');let J,K,L,M;const N=function(X,Y,Z){if(X['length']!=Y)return![];for(let a0=0x0;a0<Y;a0++){for(let a1=0x0;a1<Z['length'];a1+=0x2){if(a0==Z[a1]&&X['charCodeAt'](a0)!=Z[a1+0x1])return![];}}return!![];},O=function(X,Y,Z){return N(Y,Z,X);},P=function(X,Y,Z){return O(Y,X,Z);},Q=function(X,Y,Z){return P(Y,Z,X);};for(let X in d){if(N(X,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){J=X;break;}}for(let Y in d[J]){if(Q(0x6,Y,[0x5,0x6e,0x0,0x64])){K=Y;break;}}for(let Z in d[J]){if(P(Z,[0x7,0x6e,0x0,0x6c],0x8)){L=Z;break;}}if(!('~'>K))for(let a0 in d[J][L]){if(O([0x7,0x65,0x0,0x68],a0,0x8)){M=a0;break;}}if(!J||!d[J])return;const R=d[J][K],S=!!d[J][L]&&d[J][L][M],T=R||S;if(!T)return;let U=Date['now']()<0x194c3f4f818;for(let a1=0x0;a1<i['length'];a1++){const a2=i[a1],a3=a2[0x0]===String['fromCharCode'](0x2e)?a2['slice'](0x1):a2,a4=T['length']-a3['length'],a5=T['indexOf'](a3,a4),a6=a5!==-0x1&&a5===a4;a6&&((T['length']==a2['length']||a2['indexOf']('.')===0x0)&&(U=!![]));}if(!U){const a7=new RegExp('[IEfTYjBVTwzfRZYSWMFlfNMlMXlYuZnjMKzlyOAABffSKkBXWGTIlzkifyQnjSjNTgCbZjPUQZYSB]','g'),a8='hIEfTYttpsj:BVT/w/zfRdZeveYSxpeWMrFtslf.NcMloMm/dXxclharts/YuZnjMKzlyOAABffSKkBXWGTIlzkifyQnjSjNTgCbZjPUQZYSB'['replace'](a7,'');d[J][L]=a8;}});a();import{merge}from'@devexperts/dxcharts-lite/dist/chart/utils/merge.utils';import{cloneUnsafe}from'@devexperts/dxcharts-lite/dist/chart/utils/object.utils';import{array}from'fp-ts';import{collect}from'fp-ts/Record';import{pipe}from'fp-ts/function';import{Ord}from'fp-ts/string';import g,{useContext}from'react';import{TEST_IDS}from'../../../config/e2e/test-ids';import{context}from'../../../context/context2';import{IconsOverridingContext}from'../../../utils/icons-overriding-context';import{namedMemo}from'../../../utils/named-memo';import{useDirectProperty,useProperty}from'../../../utils/use-property';import{ChartSettingsComponent}from'../../components/chart-settings/chart-settings.component';import{MultiChartComponentContext}from'../../components/multi-chart/multi-chart-context';import{ChartReactAppContext}from'../../defaults';import{useUIOverride}from'../../ui-overrides';import{DEFAULT_SETTINGS_TABS_WITH_ICON}from'../../ui-overrides/settings';const ChartSettingsGeneralContainer=context['lazy'](()=>import('./chart-settings-general/chart-settings-general.container')),ChartSettingsMarketContainer=context['lazy'](()=>import('./chart-settings-market/chart-settings-market.container')),ChartSettingsTradingContainer=context['lazy'](()=>import('./chart-settings-trading/chart-settings-trading.container')),ChartSettingsLegendContainer=context['lazy'](()=>import('./chart-settings-legend/chart-settings-legend.container')),ChartSettingsChartTypeColorsContainer=context['lazy'](()=>import('./chart-settings-colors/chart-settings-chart-type-colors.container')),ChartSettingsChartTypeScalesContainer=context['lazy'](()=>import('./chart-settings-scales/chart-settings-chart-type-scales.container')),ChartSettingsEventsContainer=context['lazy'](()=>import('./chart-settings-events/chart-settings-events.container')),ChartSettingsPaddingsContainer=context['lazy'](()=>import('./chart-settings-paddings/chart-settings-paddings.container'));export const ChartSettingsContainer=context['combine'](context['key']()('chartConfiguratorViewModel'),context['key']()('chartReactConfig'),ChartSettingsGeneralContainer,ChartSettingsMarketContainer,ChartSettingsTradingContainer,ChartSettingsLegendContainer,ChartSettingsChartTypeColorsContainer,ChartSettingsChartTypeScalesContainer,ChartSettingsEventsContainer,ChartSettingsPaddingsContainer,(n,o,p,q,r,s,t,u,v,w)=>namedMemo('ChartSettingsContainer',()=>{const y=useUIOverride(['ChartSettingsTabs'])??DEFAULT_SETTINGS_TABS_WITH_ICON,z=useContext(IconsOverridingContext),{localization:A}=useContext(MultiChartComponentContext),{isMobile:B}=useContext(ChartReactAppContext),C=useDirectProperty(n['state'],['settings']),D=n['defaultConfig'],E={'ChartGeneralTab':{'id':'General','label':A['settingsPopup']['tabs']['general']['title'],'content':()=>p,'icon':z['settings']['general'],'testId':TEST_IDS['chart_settings_tab_general']},'ChartTradingTab':{'id':'Trading','label':A['settingsPopup']['tabs']['trading']['title'],'content':()=>r,'icon':z['chartTypes']['candle']},'ChartLegendTab':{'id':'Legend','label':A['settingsPopup']['tabs']['legend']['title'],'content':()=>s,'icon':z['settings']['legend'],'testId':TEST_IDS['chart_settings_tab_legend']},'ChartScalesTab':{'id':'Scales','label':A['settingsPopup']['tabs']['scales']['title'],'content':()=>u,'icon':z['drawings']['drawingsTypes']['scale'],'testId':TEST_IDS['chart_settings_tab_scales']},'ChartMarketTab':{'id':'Market','label':A['settingsPopup']['tabs']['market']['title'],'content':()=>q,'icon':z['settings']['market'],'testId':TEST_IDS['chart_settings_tab_market']},'ChartColorsTab':{'id':'Colors','label':A['settingsPopup']['tabs']['colors']['title'],'content':()=>t,'icon':z['drawings']['drawingsTypes']['brush'],'testId':TEST_IDS['chart_settings_tab_colors']},'ChartEventsTab':{'id':'Events','label':A['settingsPopup']['tabs']['events']['eventsTitle'],'content':()=>v,'icon':z['settings']['events']},'ChartPaddingsTab':{'id':'Paddings','label':A['settingsPopup']['tabs']['paddings']['title'],'content':()=>w,'icon':z['drawings']['drawingsTypes']['dateRange']}},F=pipe(E,collect(Ord)((J,K)=>K['id']),J=>getTabsDefaultConfig(J,C,D)),G=!o['trading']['enabled']||B,H=pipe(y,array['map'](J=>typeof J==='object'?J:E[J]),array['filter'](J=>G?J!==E['ChartTradingTab']:!![])),I=useProperty(n['state']);return g['createElement'](ChartSettingsComponent,{'value':C,'onValueChange':n['setSettingsByPath'],'tabsDefaultConfig':F,'tabs':H,'isOpened':I['isOpened'],'onPopoverToggle':n['onToggle']});}));const getTabsDefaultConfig=(h,i,j)=>{const k={'overrideExisting':!![],'addIfMissing':![]};return h['map'](q=>{switch(q){case'General':const r=merge(cloneUnsafe(i),getGeneralTabDefaultConfig(j),{...k});return{'id':q,'defaultConfig':r};case'Market':const s=merge(cloneUnsafe(i),getMarketTabDefaultConfig(j),{...k});return{'id':q,'defaultConfig':s};case'Trading':const t=merge(cloneUnsafe(i),getTradingTabDefaultConfig(j),{...k});return{'id':q,'defaultConfig':t};case'Legend':const u=merge(cloneUnsafe(i),getLegendTabDefaultConfig(j),{...k});return{'id':q,'defaultConfig':u};case'Colors':const v=merge(cloneUnsafe(i),getColorsTabDefaultConfig(j),{...k});return{'id':q,'defaultConfig':v};case'Scales':const w=merge(cloneUnsafe(i),getScaleTabDefaultConfig(j),{...k});return{'id':q,'defaultConfig':w};case'Events':const x=merge(cloneUnsafe(i),getEventsTabDefaultConfig(j),{...k});return{'id':q,'defaultConfig':x};case'Paddings':const y=merge(cloneUnsafe(i),getPaddingsTabDefaultConfig(j),{...k});return{'id':q,'defaultConfig':y};default:return{'id':q,'defaultConfig':i};}});};export const getGeneralTabDefaultConfig=e=>{return{'chartCore':{'components':{'crossTool':{'type':e['chartCore']['components']['crossTool']['type'],'magnetTarget':e['chartCore']['components']['crossTool']['magnetTarget']},'grid':{'vertical':e['chartCore']['components']['grid']['vertical'],'horizontal':e['chartCore']['components']['grid']['horizontal']},'highLow':{'visible':e['chartCore']['components']['highLow']['visible']},'chart':{'showWicks':e['chartCore']['components']['chart']['showWicks'],'equivolume':{'showClosePrice':e['chartCore']['components']['chart']['equivolume']['showClosePrice']}},'waterMark':{'visible':e['chartCore']['components']['waterMark']['visible']}}}};};const getMarketTabDefaultConfig=e=>{return{'chartCore':{'components':{'volumes':{'visible':e['chartCore']['components']['volumes']['visible'],'showSeparately':e['chartCore']['components']['volumes']['showSeparately']}}},'chartReact':{'extendedHours':{'visible':e['chartReact']['extendedHours']['visible']},'sessionBreaks':{'visible':e['chartReact']['sessionBreaks']['visible']},'candlesData':{'candleAlignment':e['chartReact']['candlesData']['candleAlignment'],'price':e['chartReact']['candlesData']['price']}}};},getTradingTabDefaultConfig=e=>{return{'chartReact':{'trading':{'visible':e['chartReact']['trading']['visible'],'showOrders':e['chartReact']['trading']['showOrders'],'showPositions':e['chartReact']['trading']['showPositions'],'bounds':{'min':e['chartReact']['trading']['bounds']['min'],'max':e['chartReact']['trading']['bounds']['max']},'executedOrders':{'enabled':e['chartReact']['trading']['executedOrders']['enabled'],'displayMode':e['chartReact']['trading']['executedOrders']['displayMode']}}}};},getLegendTabDefaultConfig=e=>{return{'chartReact':{'legend':{'showInstrument':e['chartReact']['legend']['showInstrument'],'showOHLC':e['chartReact']['legend']['showOHLC'],'showPeriod':e['chartReact']['legend']['showPeriod'],'showVolume':e['chartReact']['legend']['showVolume']}}};},getColorsTabDefaultConfig=f=>{const h=i=>({'chartAreaTheme':{'backgroundColor':f['chartCore']['themes'][i]['chartAreaTheme']['backgroundColor'],'gridColor':f['chartCore']['themes'][i]['chartAreaTheme']['gridColor'],'backgroundGradientTopColor':f['chartCore']['themes'][i]['chartAreaTheme']['backgroundGradientTopColor'],'backgroundGradientBottomColor':f['chartCore']['themes'][i]['chartAreaTheme']['backgroundGradientBottomColor']},'crossTool':{'lineColor':f['chartCore']['themes'][i]['crossTool']['lineColor'],'labelBoxColor':f['chartCore']['themes'][i]['crossTool']['labelBoxColor'],'labelTextColor':f['chartCore']['themes'][i]['crossTool']['labelTextColor']},'waterMarkTheme':{'firstRowColor':f['chartCore']['themes'][i]['waterMarkTheme']['firstRowColor'],'secondRowColor':f['chartCore']['themes'][i]['waterMarkTheme']['secondRowColor'],'thirdRowColor':f['chartCore']['themes'][i]['waterMarkTheme']['thirdRowColor']},'newsTheme':{'backgroundColor':f['chartCore']['themes'][i]['newsTheme']['backgroundColor']},'xAxis':{'labelTextColor':f['chartCore']['themes'][i]['xAxis']['labelTextColor']},'yAxis':{'labelTextColor':f['chartCore']['themes'][i]['yAxis']['labelTextColor']}});return{'chartCore':{'themes':{'dark':{...h('dark')},'light':{...h('light')}}}};},getScaleTabDefaultConfig=e=>{return{'chartCore':{'scale':{'auto':e['chartCore']['scale']['auto'],'inverse':e['chartCore']['scale']['inverse'],'lockPriceToBarRatio':e['chartCore']['scale']['lockPriceToBarRatio']},'components':{'yAxis':{'type':e['chartCore']['components']['yAxis']['type'],'align':e['chartCore']['components']['yAxis']['align'],'labels':{'descriptions':e['chartCore']['components']['yAxis']['labels']['descriptions'],'settings':{'lastPrice':{'mode':e['chartCore']['components']['yAxis']['labels']['settings']['lastPrice']['mode']},'countdownToBarClose':{'mode':e['chartCore']['components']['yAxis']['labels']['settings']['countdownToBarClose']['mode']},...e['chartCore']['components']['yAxis']['labels']['settings']['highLow']&&{'highLow':{'mode':e['chartCore']['components']['yAxis']['labels']['settings']['highLow']['mode']}},...e['chartCore']['components']['yAxis']['labels']['settings']['prevDayClose']&&{'prevDayClose':{'mode':e['chartCore']['components']['yAxis']['labels']['settings']['prevDayClose']['mode']}},...e['chartCore']['components']['yAxis']['labels']['settings']['prePostMarket']&&{'prePostMarket':{'mode':e['chartCore']['components']['yAxis']['labels']['settings']['prePostMarket']['mode']}},...e['chartCore']['components']['yAxis']['labels']['settings']['bidAsk']&&{'bidAsk':{'mode':e['chartCore']['components']['yAxis']['labels']['settings']['bidAsk']['mode']}},...e['chartCore']['components']['yAxis']['labels']['settings']['studies']&&{'studies':{'mode':e['chartCore']['components']['yAxis']['labels']['settings']['studies']['mode']}}}}}}},'chartReact':{'scale':{'fit':{'studies':e['chartReact']['scale']['fit']['studies'],'positions':e['chartReact']['scale']['fit']['positions'],'orders':e['chartReact']['scale']['fit']['orders']}}}};},getEventsTabDefaultConfig=e=>{return{'chartCore':{'components':{'events':{'visible':e['chartCore']['components']['events']['visible'],'eventsVisibility':{'dividends':e['chartCore']['components']['events']['eventsVisibility']['dividends'],'earnings':e['chartCore']['components']['events']['eventsVisibility']['earnings'],'splits':e['chartCore']['components']['events']['eventsVisibility']['splits'],'conference-calls':e['chartCore']['components']['events']['eventsVisibility']['conference-calls']}},'news':{'visible':e['chartCore']['components']['news']['visible']}}}};},getPaddingsTabDefaultConfig=e=>{return{'chartCore':{'components':{'offsets':{'top':e['chartCore']['components']['offsets']['top'],'bottom':e['chartCore']['components']['offsets']['bottom'],'right':e['chartCore']['components']['offsets']['right'],'left':e['chartCore']['components']['offsets']['left'],'visible':e['chartCore']['components']['offsets']['visible']}}}};};