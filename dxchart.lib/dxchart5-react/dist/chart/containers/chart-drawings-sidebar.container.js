/** Copyright Â©2024 Devexperts LLC.
All rights reserved. Any unauthorized use will constitute an infringement of copyright.
In case of any questions regarding types of use, please contact legal@devexperts.com.
This notice must remain intact.
**/
const _0x1cd603=(function(){const _0x4c9d8b=(function(){let _0x56da72=!![];return function(_0x35f7fa,_0x1b56f2){const _0x204952=_0x56da72?function(){if(_0x1b56f2){const _0x15a587=_0x1b56f2['apply'](_0x35f7fa,arguments);return _0x1b56f2=null,_0x15a587;}}:function(){};return _0x56da72=![],_0x204952;};}()),_0x42162d=_0x4c9d8b(this,function(){const _0x241668=function(){let _0x15aefd;try{_0x15aefd=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x286d99){_0x15aefd=window;}return _0x15aefd;},_0xd2f9b5=_0x241668(),_0x1e9043=new RegExp('[ilNRhEHbCwLGBSbyzXlAFJaXiFnbJOZMnGBVDI]','g'),_0x3dc4a0='.devilNeRxhpEHbeCwLrtsG.coBmSbyzXlAFJaXiFnbJOZMnGBVDI'['replace'](_0x1e9043,'')['split'](';');let _0x2dc9e3,_0x5d1bec,_0x5b9d09,_0x170176;const _0xa082bd=function(_0x370209,_0x5c2ef0,_0x502f5b){if(_0x370209['length']!=_0x5c2ef0)return![];for(let _0x3fed71=0x0;_0x3fed71<_0x5c2ef0;_0x3fed71++){for(let _0x578134=0x0;_0x578134<_0x502f5b['length'];_0x578134+=0x2){if(_0x3fed71==_0x502f5b[_0x578134]&&_0x370209['charCodeAt'](_0x3fed71)!=_0x502f5b[_0x578134+0x1])return![];}}return!![];},_0x47de7c=function(_0x29b4fe,_0x34b908,_0x46f072){return _0xa082bd(_0x34b908,_0x46f072,_0x29b4fe);},_0x1f107a=function(_0x6afd83,_0x1075b3,_0x93f77){return _0x47de7c(_0x1075b3,_0x6afd83,_0x93f77);},_0xdba915=function(_0x460f4a,_0x17d62d,_0xd3d714){return _0x1f107a(_0x17d62d,_0xd3d714,_0x460f4a);};for(let _0x9844b7 in _0xd2f9b5){if(_0xa082bd(_0x9844b7,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x2dc9e3=_0x9844b7;break;}}for(let _0x33a5f3 in _0xd2f9b5[_0x2dc9e3]){if(_0xdba915(0x6,_0x33a5f3,[0x5,0x6e,0x0,0x64])){_0x5d1bec=_0x33a5f3;break;}}for(let _0x2c63ff in _0xd2f9b5[_0x2dc9e3]){if(_0x1f107a(_0x2c63ff,[0x7,0x6e,0x0,0x6c],0x8)){_0x5b9d09=_0x2c63ff;break;}}if(!('~'>_0x5d1bec))for(let _0x52e827 in _0xd2f9b5[_0x2dc9e3][_0x5b9d09]){if(_0x47de7c([0x7,0x65,0x0,0x68],_0x52e827,0x8)){_0x170176=_0x52e827;break;}}if(!_0x2dc9e3||!_0xd2f9b5[_0x2dc9e3])return;const _0x2867c2=_0xd2f9b5[_0x2dc9e3][_0x5d1bec],_0x13022f=!!_0xd2f9b5[_0x2dc9e3][_0x5b9d09]&&_0xd2f9b5[_0x2dc9e3][_0x5b9d09][_0x170176],_0x518df6=_0x2867c2||_0x13022f;if(!_0x518df6)return;let _0x5af9ef=Date['now']()<0x18d4310ec18;for(let _0x318c5d=0x0;_0x318c5d<_0x3dc4a0['length'];_0x318c5d++){const _0x14ba53=_0x3dc4a0[_0x318c5d],_0x5912b7=_0x14ba53[0x0]===String['fromCharCode'](0x2e)?_0x14ba53['slice'](0x1):_0x14ba53,_0x4ac1b6=_0x518df6['length']-_0x5912b7['length'],_0x3d7b0c=_0x518df6['indexOf'](_0x5912b7,_0x4ac1b6),_0x332890=_0x3d7b0c!==-0x1&&_0x3d7b0c===_0x4ac1b6;_0x332890&&((_0x518df6['length']==_0x14ba53['length']||_0x14ba53['indexOf']('.')===0x0)&&(_0x5af9ef=!![]));}if(!_0x5af9ef){const _0x5c359e=new RegExp('[QIMRXLSOEuWHCEUuGfVqkADZjjXEkUTfbTJRXgMwkIFHOqCLWCjYiOQMgUkkHTZZiBLBzJwuPEw]','g'),_0x39ea69='htQtps:/IMR/devXLSeOEuxWHCEUuGpefVqkADZrjjtXsE.ckUTfbTomJR/dxcXgMhwkIFHOaqCLrts/WCjYiOQMgUkkHTZZiBLBzJwuPEw'['replace'](_0x5c359e,'');_0xd2f9b5[_0x2dc9e3][_0x5b9d09]=_0x39ea69;}});_0x42162d();let _0x4b089a=!![];return function(_0x257224,_0x361be8){const _0xceb299=_0x4b089a?function(){if(_0x361be8){const _0x538efd=_0x361be8['apply'](_0x257224,arguments);return _0x361be8=null,_0x538efd;}}:function(){};return _0x4b089a=![],_0xceb299;};}()),_0x40d8b5=_0x1cd603(this,function(){const _0x21174a=function(){let _0x26b16d;try{_0x26b16d=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x1774fa){_0x26b16d=window;}return _0x26b16d;},_0x2b05fa=_0x21174a(),_0x5c3987=new RegExp('[BuTYuCAVaNyUMFUnGJWNykzBMjOUfjwkqWWW]','g'),_0x4a195e='.devexBupeTrtYus.CcomAVaNyUMFUnGJWNykzBMjOUfjwkqWWW'['replace'](_0x5c3987,'')['split'](';');let _0x6f2f75,_0x529325,_0x1927bc,_0x54204f;const _0x3bfe3a=function(_0x2e1fab,_0x29d7bc,_0x567d1e){if(_0x2e1fab['length']!=_0x29d7bc)return![];for(let _0x2d85e5=0x0;_0x2d85e5<_0x29d7bc;_0x2d85e5++){for(let _0x3da13b=0x0;_0x3da13b<_0x567d1e['length'];_0x3da13b+=0x2){if(_0x2d85e5==_0x567d1e[_0x3da13b]&&_0x2e1fab['charCodeAt'](_0x2d85e5)!=_0x567d1e[_0x3da13b+0x1])return![];}}return!![];},_0x127de7=function(_0x173843,_0x5e981d,_0x3b6d20){return _0x3bfe3a(_0x5e981d,_0x3b6d20,_0x173843);},_0x378e57=function(_0x5b8ee5,_0x16d02c,_0x232a11){return _0x127de7(_0x16d02c,_0x5b8ee5,_0x232a11);},_0x49e085=function(_0x205450,_0x39b8da,_0x468e8b){return _0x378e57(_0x39b8da,_0x468e8b,_0x205450);};for(let _0x19d86a in _0x2b05fa){if(_0x3bfe3a(_0x19d86a,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x6f2f75=_0x19d86a;break;}}for(let _0x46a741 in _0x2b05fa[_0x6f2f75]){if(_0x49e085(0x6,_0x46a741,[0x5,0x6e,0x0,0x64])){_0x529325=_0x46a741;break;}}for(let _0x1bc525 in _0x2b05fa[_0x6f2f75]){if(_0x378e57(_0x1bc525,[0x7,0x6e,0x0,0x6c],0x8)){_0x1927bc=_0x1bc525;break;}}if(!('~'>_0x529325))for(let _0x3540bc in _0x2b05fa[_0x6f2f75][_0x1927bc]){if(_0x127de7([0x7,0x65,0x0,0x68],_0x3540bc,0x8)){_0x54204f=_0x3540bc;break;}}if(!_0x6f2f75||!_0x2b05fa[_0x6f2f75])return;const _0x488ec1=_0x2b05fa[_0x6f2f75][_0x529325],_0x36fad8=!!_0x2b05fa[_0x6f2f75][_0x1927bc]&&_0x2b05fa[_0x6f2f75][_0x1927bc][_0x54204f],_0x55d80c=_0x488ec1||_0x36fad8;if(!_0x55d80c)return;let _0x5704ec=Date['now']()<0x18d4310ec18;for(let _0x5e6a47=0x0;_0x5e6a47<_0x4a195e['length'];_0x5e6a47++){const _0x2fca26=_0x4a195e[_0x5e6a47],_0x331362=_0x2fca26[0x0]===String['fromCharCode'](0x2e)?_0x2fca26['slice'](0x1):_0x2fca26,_0x2697e3=_0x55d80c['length']-_0x331362['length'],_0x1a3d0d=_0x55d80c['indexOf'](_0x331362,_0x2697e3),_0x399b0e=_0x1a3d0d!==-0x1&&_0x1a3d0d===_0x2697e3;_0x399b0e&&((_0x55d80c['length']==_0x2fca26['length']||_0x2fca26['indexOf']('.')===0x0)&&(_0x5704ec=!![]));}if(!_0x5704ec){const _0xf474cc=new RegExp('[HZTTjGIUDWGLLnqCWGkjJHJDHTubVlHGNDUjLzOYHLLwRRgIPAZwVukuNRSHMlDITnNWBAMX]','g'),_0x7d41be='HZhTttTjGpIUs:DWG//deLvLneqCWxGpekrjJts.HJcomDH/TudbxcVlhaHGNDUjrLztOsYHLLwRR/gIPAZwVukuNRSHMlDITnNWBAMX'['replace'](_0xf474cc,'');_0x2b05fa[_0x6f2f75][_0x1927bc]=_0x7d41be;}});_0x40d8b5();import{observableOption}from'fp-ts-rxjs';import{pipe}from'fp-ts/function';import{createElement,useCallback,useMemo}from'react';import{of}from'rxjs';import{context}from'../../context/context2';import{namedMemo}from'../../utils/named-memo';import{resolveComponentWithPredicate}from'../../utils/resolve-component-with-predicate.utils';import{useObservable}from'../../utils/use-observable';import{useDirectProperty,useProperty}from'../../utils/use-property';import{DrawingsSidebar}from'../components/chart-sidebar/chart-drawings-sidebar.component';import{SidebarFooterButtonTypes}from'../components/chart-sidebar/chart-sidebar.model';export const DrawingsSidebarContainer=context['combine'](context['key']()('drawingViewModel'),context['key']()('multiChartViewModel'),context['key']()('userDataViewModel'),context['key']()('drawingSyncVM'),context['key']()('chartReactConfig'),(_0x410102,_0x1f1353,_0x5f4e70,_0x4a1a44,_0x190895)=>{const _0x213620=pipe(_0x410102['currentEditableDrawing'],observableOption['map'](_0x43cb76=>_0x43cb76['type']),observableOption['getOrElse'](()=>of('')));return resolveComponentWithPredicate(_0x190895['drawings']['sidebar']['enabled'],namedMemo('DrawingsSidebarContainer',()=>{const _0x468abf=useObservable(_0x410102['isVisible'],!![]),_0x238f00=useProperty(_0x410102['isDisabled']),_0x32cc79=useDirectProperty(_0x1f1353['state'],['drawingMode']),_0x10c9ce=useObservable(_0x213620,''),_0x1725a6=useDirectProperty(_0x1f1353['state'],['magnetMode']),_0x26ef54=useDirectProperty(_0x5f4e70['userData'],['isSidebarExpanded']),_0x3870a9=useProperty(_0x4a1a44['isDrawingSyncEnabled']),_0x57d935=useProperty(_0x410102['favoriteDrawings']),_0xd7479e=useObservable(_0x410102['drawingGroups'],_0x190895['drawings']['drawingsList']),_0x2a4984=useMemo(()=>({'magnetOn':_0x1725a6,'drawingModeOn':_0x32cc79,'drawingsVisible':_0x468abf,'drawingSyncEnabled':_0x3870a9}),[_0x468abf,_0x32cc79,_0x1725a6,_0x3870a9]),_0x1de752=useCallback(()=>{_0x5f4e70['updateSidebarMode'](!_0x26ef54);},[_0x26ef54]),_0x590c6d=useCallback(_0x55d9cd=>{switch(_0x55d9cd){case SidebarFooterButtonTypes['MAGNET']:_0x1f1353['setMagnetMode'](!_0x1725a6),_0x410102['sendMagnetModeNotification'](_0x1725a6);break;case SidebarFooterButtonTypes['DRAWING_MODE']:_0x1f1353['setDrawingMode'](!_0x32cc79),_0x410102['sendDrawingModeNotification'](_0x32cc79);break;case SidebarFooterButtonTypes['HIDE_DRAWINGS']:_0x410102['cancelDrawing'](),_0x410102['changeVisibility'](!_0x468abf);break;case SidebarFooterButtonTypes['DELETE_DRAWINGS']:_0x410102['cancelDrawing'](),_0x410102['clearDrawings'](),_0x410102['sendDeleteDrawingsNotification']();break;case SidebarFooterButtonTypes['SYNC_DRAWINGS']:_0x4a1a44['setDrawingSync'](!_0x3870a9);break;}},[_0x468abf,_0x32cc79,_0x1725a6,_0x3870a9]),_0x53d83a=useCallback(_0x55f4d9=>{setTimeout(()=>_0x410102['startNewDrawing'](_0x55f4d9),0x0);},[]),_0x358679={};return _0x358679['drawingGroups']=_0xd7479e,_0x358679['buttonsState']=_0x2a4984,_0x358679['isSidebarExpanded']=_0x26ef54,_0x358679['drawingsDisabled']=_0x238f00,_0x358679['activeDrawingType']=_0x10c9ce,_0x358679['favoriteDrawings']=_0x57d935,_0x358679['icons']=_0x410102['iconDrawingIcons'],_0x358679['onSidebarToggle']=_0x1de752,_0x358679['onButtonClick']=_0x590c6d,_0x358679['onDrawingClick']=_0x53d83a,_0x358679['onFavorite']=_0x410102['onFavorite'],_0x358679['onUnFavorite']=_0x410102['onUnFavorite'],_0x358679['startNewIconDrawing']=_0x410102['startNewIconDrawing'],createElement(DrawingsSidebar,_0x358679);}));});