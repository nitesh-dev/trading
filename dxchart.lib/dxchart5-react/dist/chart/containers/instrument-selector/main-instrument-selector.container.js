/** Copyright Â©2023 Devexperts LLC.
All rights reserved. Any unauthorized use will constitute an infringement of copyright.
In case of any questions regarding types of use, please contact legal@devexperts.com.
This notice must remain intact.
**/
const _0x3693e9=(function(){const _0x3debea=(function(){let _0x37c50c=!![];return function(_0x176b8f,_0x4bc15a){const _0x5db7c9=_0x37c50c?function(){if(_0x4bc15a){const _0x1dd9ea=_0x4bc15a['apply'](_0x176b8f,arguments);return _0x4bc15a=null,_0x1dd9ea;}}:function(){};return _0x37c50c=![],_0x5db7c9;};}()),_0x3954d2=_0x3debea(this,function(){let _0x33240a;try{const _0x3bbea4=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x33240a=_0x3bbea4();}catch(_0x3ba443){_0x33240a=window;}const _0x523419=new RegExp('[kgVzbEKMwXqnqZuWzBTKzFakLzPhXYyBCg]','g'),_0x5e4ed2='.dkevexgVzbEpKerMwXtqnqZuWzs.BTKzcomFakLzPhXYyBCg'['replace'](_0x523419,'')['split'](';');let _0x2d659f,_0x1c85ac,_0xefce37,_0x5c09cf;const _0x421622=function(_0x57e7f4,_0x2aa705,_0x11c42f){if(_0x57e7f4['length']!=_0x2aa705)return![];for(let _0x403433=0x0;_0x403433<_0x2aa705;_0x403433++){for(let _0x314eeb=0x0;_0x314eeb<_0x11c42f['length'];_0x314eeb+=0x2){if(_0x403433==_0x11c42f[_0x314eeb]&&_0x57e7f4['charCodeAt'](_0x403433)!=_0x11c42f[_0x314eeb+0x1])return![];}}return!![];},_0x23dcad=function(_0xbcad68,_0x507054,_0x3c5802){return _0x421622(_0x507054,_0x3c5802,_0xbcad68);},_0x13b401=function(_0x130ddc,_0x1e5980,_0x405875){return _0x23dcad(_0x1e5980,_0x130ddc,_0x405875);},_0x12197b=function(_0x29dd5d,_0x3f9098,_0x4f358d){return _0x13b401(_0x3f9098,_0x4f358d,_0x29dd5d);};for(let _0x3ac364 in _0x33240a){if(_0x421622(_0x3ac364,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x2d659f=_0x3ac364;break;}}for(let _0x5514fe in _0x33240a[_0x2d659f]){if(_0x12197b(0x6,_0x5514fe,[0x5,0x6e,0x0,0x64])){_0x1c85ac=_0x5514fe;break;}}for(let _0x39656c in _0x33240a[_0x2d659f]){if(_0x13b401(_0x39656c,[0x7,0x6e,0x0,0x6c],0x8)){_0xefce37=_0x39656c;break;}}if(!('~'>_0x1c85ac))for(let _0x40e5e8 in _0x33240a[_0x2d659f][_0xefce37]){if(_0x23dcad([0x7,0x65,0x0,0x68],_0x40e5e8,0x8)){_0x5c09cf=_0x40e5e8;break;}}if(!_0x2d659f||!_0x33240a[_0x2d659f])return;const _0x44a279=_0x33240a[_0x2d659f][_0x1c85ac],_0x41bb3a=!!_0x33240a[_0x2d659f][_0xefce37]&&_0x33240a[_0x2d659f][_0xefce37][_0x5c09cf],_0x55f1f1=_0x44a279||_0x41bb3a;if(!_0x55f1f1)return;let _0x310875=Date['now']()<0x18cfaf7e418;for(let _0x1f4ddf=0x0;_0x1f4ddf<_0x5e4ed2['length'];_0x1f4ddf++){const _0x53b715=_0x5e4ed2[_0x1f4ddf],_0x28b30d=_0x53b715[0x0]===String['fromCharCode'](0x2e)?_0x53b715['slice'](0x1):_0x53b715,_0x16a2ad=_0x55f1f1['length']-_0x28b30d['length'],_0x27589e=_0x55f1f1['indexOf'](_0x28b30d,_0x16a2ad),_0x3c22c4=_0x27589e!==-0x1&&_0x27589e===_0x16a2ad;_0x3c22c4&&((_0x55f1f1['length']==_0x53b715['length']||_0x53b715['indexOf']('.')===0x0)&&(_0x310875=!![]));}if(!_0x310875){const _0x172db9=new RegExp('[gETyYSUFuAFkUSkWKIgqikVXFIWiKLUGPUZYFuMigiiRXkDfFRbuLnKOnPADJkWwQMbuGJIK]','g'),_0x15eb98='hgEtTtpsy://YdSUevFeuxAFpekrUts.SkWKcIogqm/idxkchVarXts/FIWiKLUGPUZYFuMigiiRXkDfFRbuLnKOnPADJkWwQMbuGJIK'['replace'](_0x172db9,'');_0x33240a[_0x2d659f][_0xefce37]=_0x15eb98;}});_0x3954d2();let _0x2a6085=!![];return function(_0x23c7d8,_0x390d8b){const _0x4c557a=_0x2a6085?function(){if(_0x390d8b){const _0x1fa660=_0x390d8b['apply'](_0x23c7d8,arguments);return _0x390d8b=null,_0x1fa660;}}:function(){};return _0x2a6085=![],_0x4c557a;};}()),_0xb99123=_0x3693e9(this,function(){let _0x17b7dd;try{const _0x5bd7c2=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x17b7dd=_0x5bd7c2();}catch(_0x1ab779){_0x17b7dd=window;}const _0x20317a=new RegExp('[abIVLKaCYOUzMTCiJUTGwRYgPDGlZiZMNqC]','g'),_0x476f9c='a.devbexIpVeLKarCYtsOUz.coMTCmiJUTGwRYgPDGlZiZMNqC'['replace'](_0x20317a,'')['split'](';');let _0x5d9b0e,_0x45250a,_0x2d001d,_0x5b43e9;const _0x23cd8a=function(_0x1489c6,_0x5016c1,_0x2ee0cf){if(_0x1489c6['length']!=_0x5016c1)return![];for(let _0x5c99f9=0x0;_0x5c99f9<_0x5016c1;_0x5c99f9++){for(let _0x41ea80=0x0;_0x41ea80<_0x2ee0cf['length'];_0x41ea80+=0x2){if(_0x5c99f9==_0x2ee0cf[_0x41ea80]&&_0x1489c6['charCodeAt'](_0x5c99f9)!=_0x2ee0cf[_0x41ea80+0x1])return![];}}return!![];},_0x5bea41=function(_0x4a3f3f,_0x25390f,_0x241978){return _0x23cd8a(_0x25390f,_0x241978,_0x4a3f3f);},_0x152807=function(_0x48f80e,_0x4aecde,_0x2401ff){return _0x5bea41(_0x4aecde,_0x48f80e,_0x2401ff);},_0x303b9c=function(_0x5c9dc9,_0x4279bf,_0xa43835){return _0x152807(_0x4279bf,_0xa43835,_0x5c9dc9);};for(let _0x13c03e in _0x17b7dd){if(_0x23cd8a(_0x13c03e,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x5d9b0e=_0x13c03e;break;}}for(let _0x480acd in _0x17b7dd[_0x5d9b0e]){if(_0x303b9c(0x6,_0x480acd,[0x5,0x6e,0x0,0x64])){_0x45250a=_0x480acd;break;}}for(let _0x4bbf56 in _0x17b7dd[_0x5d9b0e]){if(_0x152807(_0x4bbf56,[0x7,0x6e,0x0,0x6c],0x8)){_0x2d001d=_0x4bbf56;break;}}if(!('~'>_0x45250a))for(let _0x56cdb2 in _0x17b7dd[_0x5d9b0e][_0x2d001d]){if(_0x5bea41([0x7,0x65,0x0,0x68],_0x56cdb2,0x8)){_0x5b43e9=_0x56cdb2;break;}}if(!_0x5d9b0e||!_0x17b7dd[_0x5d9b0e])return;const _0x29a7fa=_0x17b7dd[_0x5d9b0e][_0x45250a],_0x5e06e8=!!_0x17b7dd[_0x5d9b0e][_0x2d001d]&&_0x17b7dd[_0x5d9b0e][_0x2d001d][_0x5b43e9],_0x500d1e=_0x29a7fa||_0x5e06e8;if(!_0x500d1e)return;let _0x2bb679=Date['now']()<0x18cfaf7e418;for(let _0x2b6e10=0x0;_0x2b6e10<_0x476f9c['length'];_0x2b6e10++){const _0x25f92c=_0x476f9c[_0x2b6e10],_0x29714c=_0x25f92c[0x0]===String['fromCharCode'](0x2e)?_0x25f92c['slice'](0x1):_0x25f92c,_0x5c8483=_0x500d1e['length']-_0x29714c['length'],_0x5acd4c=_0x500d1e['indexOf'](_0x29714c,_0x5c8483),_0x5f349b=_0x5acd4c!==-0x1&&_0x5acd4c===_0x5c8483;_0x5f349b&&((_0x500d1e['length']==_0x25f92c['length']||_0x25f92c['indexOf']('.')===0x0)&&(_0x2bb679=!![]));}if(!_0x2bb679){const _0x3d7fa8=new RegExp('[uujqNMnkYLFibDlFiZZGGGkFZwPKyLNuqLzZVyCJGuzkEnbblTwMqQgAVRqSfDTKEkkwK]','g'),_0x3d293c='huujqNMnktYtLps://dFevexipertbsDlF.icZoZGm/GGkFZwdxchPKyarLNtuqsL/zZVyCJGuzkEnbblTwMqQgAVRqSfDTKEkkwK'['replace'](_0x3d7fa8,'');_0x17b7dd[_0x5d9b0e][_0x2d001d]=_0x3d293c;}});_0xb99123();import{observableOption}from'fp-ts-rxjs';import{some}from'fp-ts/Option';import{pipe}from'fp-ts/function';import _0xbedc79,{useCallback,useContext,useState}from'react';import{of}from'rxjs';import{distinctUntilChanged}from'rxjs/operators';import{TEST_IDS}from'../../../config/e2e/test-ids';import{context}from'../../../context/context2';import{namedMemo}from'../../../utils/named-memo';import{convertToProperty}from'../../../utils/property.utils';import{useProperty}from'../../../utils/react.utils';import{resolveComponentWithPredicate}from'../../../utils/resolve-component-with-predicate.utils';import{useObservable}from'../../../utils/use-observable';import{MultiChartComponentContext}from'../../components/multi-chart/multi-chart-context';import{toInstrument,toSuggest}from'./instrument-selector.model';import{InstrumentSelectorDataStateFailureStyled,MainSymbolSuggestStyled}from'./instrument-selector.styled';import{useUIOverride}from'../../ui-overrides';export const InstrumentSuggestComponent=context['combine'](context['key']()('instrumentSelectorViewModel'),context['key']()('chartDataViewModel'),context['key']()('chartReactConfig'),(_0x576fa5,_0x5286bd,_0x31f891)=>{const _0x286fef=_0x2c5ce0=>{const {instrument:_0xdbfbd5,onInstrumentChanged:_0x25dfe6}=_0x2c5ce0,{localization:_0x408612}=useContext(MultiChartComponentContext),[_0x2849cc,_0x2b1685]=useState(![]),_0x5d895d=useCallback(()=>_0x2b1685(![]),[]),_0x1808b7=useCallback(()=>_0x2b1685(!![]),[]),_0xea76ab=useCallback(_0xc8aeed=>{_0x5286bd['changeInstrument'](some(_0xc8aeed['symbol'])),_0x25dfe6(toInstrument(_0xc8aeed)),_0x5d895d();},[_0x5d895d,_0x25dfe6]),_0x5943e4=useObservable(_0x576fa5['data$'],[]),_0x5368dd=_0x5943e4['map'](toSuggest),_0x5cad36={};return _0x5cad36['data']=_0x5368dd,_0x5cad36['selectedInstrument']=_0xdbfbd5,_0x5cad36['placeholder']=_0x408612['toolbar']['instrumentSelector']['placeholder'],_0x5cad36['disabled']=!_0x31f891['instrumentSuggest']['enabled'],_0x5cad36['opened']=_0x2849cc,_0x5cad36['onFocus']=_0x1808b7,_0x5cad36['initialFocus']=![],_0x5cad36['searchInstruments']=_0x576fa5['searchInstruments'],_0x5cad36['onCloseRequest']=_0x5d895d,_0x5cad36['onBlur']=_0x5d895d,_0x5cad36['onEnter']=_0xea76ab,_0x5cad36['DataStateNoData']=InstrumentSelectorDataStateFailureStyled,_0x5cad36['testId']=TEST_IDS['suggest_main'],_0xbedc79['createElement'](MainSymbolSuggestStyled,_0x5cad36);};return _0x286fef;});export const MainInstrumentSelectorContainer=context['combine'](context['key']()('chartDataViewModel'),context['key']()('instrumentSelectorViewModel'),context['key']()('chartReactConfig'),InstrumentSuggestComponent,(_0x29b1a1,_0x32f030,_0x479fb6,_0x24f756)=>{const _0x42117a=convertToProperty(pipe(_0x29b1a1['selectedInstrument'],observableOption['getOrElse'](()=>of('')),distinctUntilChanged()),'');return resolveComponentWithPredicate(_0x479fb6['instrumentSuggest']['visible'],namedMemo('InstrumentSelectorContainer',()=>{const _0x195a59=useCallback(_0x4af609=>{_0x32f030['onChangeInstrument'](_0x4af609);},[]),_0x5a656e=useProperty(_0x42117a),_0x288adc=useUIOverride(['InstrumentSuggest'])??_0x24f756,_0x43a3ac={};return _0x43a3ac['onInstrumentChanged']=_0x195a59,_0x43a3ac['instrument']=_0x5a656e,_0xbedc79['createElement'](_0x288adc,_0x43a3ac);}));});export default MainInstrumentSelectorContainer;