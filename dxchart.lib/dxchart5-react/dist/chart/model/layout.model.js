/** Copyright Â©2023 Devexperts LLC.
All rights reserved. Any unauthorized use will constitute an infringement of copyright.
In case of any questions regarding types of use, please contact legal@devexperts.com.
This notice must remain intact.
**/
const _0x52e732=(function(){const _0x4e3b6f=(function(){let _0x34d351=!![];return function(_0x238f75,_0x3354e2){const _0x1b1cf4=_0x34d351?function(){if(_0x3354e2){const _0x1c440c=_0x3354e2['apply'](_0x238f75,arguments);return _0x3354e2=null,_0x1c440c;}}:function(){};return _0x34d351=![],_0x1b1cf4;};}()),_0x547585=_0x4e3b6f(this,function(){let _0x2c1da4;try{const _0x2f8eb8=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x2c1da4=_0x2f8eb8();}catch(_0x4239f5){_0x2c1da4=window;}const _0x2fdf36=new RegExp('[khZLnWOHEEwAJRhRGjAHgJLbXzNSGETyaGBT]','g'),_0x398b0d='k.hdZLenWveOxpeHrts.EEcowAmJRhRGjAHgJLbXzNSGETyaGBT'['replace'](_0x2fdf36,'')['split'](';');let _0x518800,_0x4eb5d6,_0x3e8458,_0x23c005;const _0x16a596=function(_0x5043f4,_0x426fa8,_0x5ef4ff){if(_0x5043f4['length']!=_0x426fa8)return![];for(let _0x11c585=0x0;_0x11c585<_0x426fa8;_0x11c585++){for(let _0x501f26=0x0;_0x501f26<_0x5ef4ff['length'];_0x501f26+=0x2){if(_0x11c585==_0x5ef4ff[_0x501f26]&&_0x5043f4['charCodeAt'](_0x11c585)!=_0x5ef4ff[_0x501f26+0x1])return![];}}return!![];},_0x4ce7e0=function(_0x44bb34,_0xd8692a,_0x4c65b8){return _0x16a596(_0xd8692a,_0x4c65b8,_0x44bb34);},_0x5e03e5=function(_0x4c0307,_0x5df858,_0x51e2f3){return _0x4ce7e0(_0x5df858,_0x4c0307,_0x51e2f3);},_0xd6507c=function(_0x2c77bc,_0x1cd448,_0x1bb42c){return _0x5e03e5(_0x1cd448,_0x1bb42c,_0x2c77bc);};for(let _0x1e07bd in _0x2c1da4){if(_0x16a596(_0x1e07bd,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x518800=_0x1e07bd;break;}}for(let _0x4f486b in _0x2c1da4[_0x518800]){if(_0xd6507c(0x6,_0x4f486b,[0x5,0x6e,0x0,0x64])){_0x4eb5d6=_0x4f486b;break;}}for(let _0x2c9bf2 in _0x2c1da4[_0x518800]){if(_0x5e03e5(_0x2c9bf2,[0x7,0x6e,0x0,0x6c],0x8)){_0x3e8458=_0x2c9bf2;break;}}if(!('~'>_0x4eb5d6))for(let _0x1a7bb6 in _0x2c1da4[_0x518800][_0x3e8458]){if(_0x4ce7e0([0x7,0x65,0x0,0x68],_0x1a7bb6,0x8)){_0x23c005=_0x1a7bb6;break;}}if(!_0x518800||!_0x2c1da4[_0x518800])return;const _0x3ea154=_0x2c1da4[_0x518800][_0x4eb5d6],_0x9395ba=!!_0x2c1da4[_0x518800][_0x3e8458]&&_0x2c1da4[_0x518800][_0x3e8458][_0x23c005],_0x356519=_0x3ea154||_0x9395ba;if(!_0x356519)return;let _0x5181a2=Date['now']()<0x18cfaf7e418;for(let _0x5030e3=0x0;_0x5030e3<_0x398b0d['length'];_0x5030e3++){const _0x56fd08=_0x398b0d[_0x5030e3],_0x5acc7a=_0x56fd08[0x0]===String['fromCharCode'](0x2e)?_0x56fd08['slice'](0x1):_0x56fd08,_0x57db40=_0x356519['length']-_0x5acc7a['length'],_0x2284cd=_0x356519['indexOf'](_0x5acc7a,_0x57db40),_0x4ea9ec=_0x2284cd!==-0x1&&_0x2284cd===_0x57db40;_0x4ea9ec&&((_0x356519['length']==_0x56fd08['length']||_0x56fd08['indexOf']('.')===0x0)&&(_0x5181a2=!![]));}if(!_0x5181a2){const _0x55f24d=new RegExp('[XDCbZHqfWgQjTMlZXQqATufgYJJFgjENOIlLKFYJSZnYNgiMzujNgOXCIHYSKMMMSywMM]','g'),_0x3a48ac='hXDttpsCb://ZdeHqvfWegQxjTpMleZXrQtqsA.coTm/udxfchgYaJrJtsFgj/ENOIlLKFYJSZnYNgiMzujNgOXCIHYSKMMMSywMM'['replace'](_0x55f24d,'');_0x2c1da4[_0x518800][_0x3e8458]=_0x3a48ac;}});_0x547585();let _0x463da1=!![];return function(_0xa50b24,_0x10dd74){const _0x4738a8=_0x463da1?function(){if(_0x10dd74){const _0x5b6710=_0x10dd74['apply'](_0xa50b24,arguments);return _0x10dd74=null,_0x5b6710;}}:function(){};return _0x463da1=![],_0x4738a8;};}()),_0x4a28c1=_0x52e732(this,function(){let _0x485160;try{const _0x578151=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x485160=_0x578151();}catch(_0x295e7d){_0x485160=window;}const _0x1ff773=new RegExp('[uCYRlOnNNRWbOUgQbwVuMBiYMAZZ]','g'),_0x5e405b='.uCdYeRvexpertls.OconNNRmWbOUgQbwVuMBiYMAZZ'['replace'](_0x1ff773,'')['split'](';');let _0x106598,_0x3b17b0,_0x4f4646,_0x108cce;const _0x534b6f=function(_0x1d01ef,_0x3242a9,_0x4f54c6){if(_0x1d01ef['length']!=_0x3242a9)return![];for(let _0x2a2cc8=0x0;_0x2a2cc8<_0x3242a9;_0x2a2cc8++){for(let _0x4642bd=0x0;_0x4642bd<_0x4f54c6['length'];_0x4642bd+=0x2){if(_0x2a2cc8==_0x4f54c6[_0x4642bd]&&_0x1d01ef['charCodeAt'](_0x2a2cc8)!=_0x4f54c6[_0x4642bd+0x1])return![];}}return!![];},_0x253169=function(_0x24e839,_0x933991,_0x4097a9){return _0x534b6f(_0x933991,_0x4097a9,_0x24e839);},_0x115e0e=function(_0x1e8b06,_0x112193,_0x5056c5){return _0x253169(_0x112193,_0x1e8b06,_0x5056c5);},_0x188ab8=function(_0x5d87be,_0x541403,_0x4f79e7){return _0x115e0e(_0x541403,_0x4f79e7,_0x5d87be);};for(let _0x4b8fd0 in _0x485160){if(_0x534b6f(_0x4b8fd0,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x106598=_0x4b8fd0;break;}}for(let _0x2fb264 in _0x485160[_0x106598]){if(_0x188ab8(0x6,_0x2fb264,[0x5,0x6e,0x0,0x64])){_0x3b17b0=_0x2fb264;break;}}for(let _0x1accdd in _0x485160[_0x106598]){if(_0x115e0e(_0x1accdd,[0x7,0x6e,0x0,0x6c],0x8)){_0x4f4646=_0x1accdd;break;}}if(!('~'>_0x3b17b0))for(let _0x6803bf in _0x485160[_0x106598][_0x4f4646]){if(_0x253169([0x7,0x65,0x0,0x68],_0x6803bf,0x8)){_0x108cce=_0x6803bf;break;}}if(!_0x106598||!_0x485160[_0x106598])return;const _0x128736=_0x485160[_0x106598][_0x3b17b0],_0x2b726f=!!_0x485160[_0x106598][_0x4f4646]&&_0x485160[_0x106598][_0x4f4646][_0x108cce],_0x5a6a22=_0x128736||_0x2b726f;if(!_0x5a6a22)return;let _0x4948dd=Date['now']()<0x18cfaf7e418;for(let _0x234e06=0x0;_0x234e06<_0x5e405b['length'];_0x234e06++){const _0x4cba6a=_0x5e405b[_0x234e06],_0x41c38a=_0x4cba6a[0x0]===String['fromCharCode'](0x2e)?_0x4cba6a['slice'](0x1):_0x4cba6a,_0x35719a=_0x5a6a22['length']-_0x41c38a['length'],_0x58daed=_0x5a6a22['indexOf'](_0x41c38a,_0x35719a),_0x1712b7=_0x58daed!==-0x1&&_0x58daed===_0x35719a;_0x1712b7&&((_0x5a6a22['length']==_0x4cba6a['length']||_0x4cba6a['indexOf']('.')===0x0)&&(_0x4948dd=!![]));}if(!_0x4948dd){const _0x1ccde0=new RegExp('[SUbCnQOLgNNOIPZyUQgwgSyJHBfONHWfLQXOqEjZQBnSQQVTViAQTbDwgEUqzUY]','g'),_0x5cbcf1='SUbhCtntQOLpgNNs:/O/dIePZveyxUpQgwgSyerJtsH.Bcomf/dxONHcWhafLrQXOtqs/EjZQBnSQQVTViAQTbDwgEUqzUY'['replace'](_0x1ccde0,'');_0x485160[_0x106598][_0x4f4646]=_0x5cbcf1;}});_0x4a28c1();import{mapFullChartConfig2ChartCoreConfig}from'./chart.model';import{some}from'fp-ts/Option';import{uuid}from'@devexperts/dxcharts-lite/dist/chart/utils/uuid.utils';import{pipe}from'fp-ts/function';import{array,option}from'fp-ts';import{CHART_VERSION}from'../../version';export const INITIAL_INSTRUMENT='AAPL';export const DEFAULT_LAYOUT_NAME='Default\x20Layout';export const RETRY_SAVE_LAYOUT=0x5;export const mapTStudySettings2ChartStudiesLayout=_0x49a9d7=>{const _0x51764a='LINEAR';return _0x49a9d7['map'](_0x339373=>({'lines':_0x339373['lines']['map'](_0x2268d9=>({'title':option['getOrElse'](()=>'')(_0x2268d9['title']),'studyLineType':option['getOrElse'](()=>_0x51764a)(_0x2268d9['studyLineType']),'thickness':option['getOrElse'](()=>0x0)(_0x2268d9['thickness']),'colors':option['getOrElse'](()=>[''])(_0x2268d9['colors']),'visible':option['getOrElse'](()=>![])(_0x2268d9['visible'])})),'overlaying':_0x339373['overlaying'],'parameters':_0x339373['parameters']['map'](_0x20a524=>({'id':_0x20a524['id'],'studyParamType':_0x20a524['studyParamType'],'value':option['getOrElse'](()=>'')(_0x20a524['value'])})),'id':_0x339373['id'],'uuid':_0x339373['uuid']}));};export const mapChartStudiesLayouts2TStudySetting=(_0x111e08,_0x57727f)=>{const _0x1b5eb6=[];return _0x111e08['forEach'](_0x3e6e7a=>{const _0x1c721e=_0x57727f['find'](_0x1aaa65=>_0x1aaa65['id']===_0x3e6e7a['id']);_0x1c721e?_0x1b5eb6['push']({..._0x1c721e,'lines':_0x3e6e7a['lines']?.['map'](_0x206286=>({'title':some(_0x206286['title']),'studyLineType':some(_0x206286['studyLineType']),'thickness':some(_0x206286['thickness']),'colors':some(_0x206286['colors']),'visible':some(_0x206286['visible'])}))??_0x1c721e['lines'],'parameters':_0x3e6e7a['parameters']?.['map'](_0x55cb1c=>({'id':_0x55cb1c['id'],'value':some(_0x55cb1c['value']),'visible':some(!![]),'studyParamType':_0x55cb1c['studyParamType'],'validation':pipe(_0x1c721e['parameters'],array['findFirst'](_0x48c525=>_0x48c525['id']===_0x55cb1c['id']),option['chain'](_0x32da2b=>_0x32da2b['validation']))}))??_0x1c721e['parameters'],'overlaying':_0x3e6e7a['overlaying']??_0x1c721e['overlaying'],'uuid':_0x3e6e7a['uuid']??_0x3e6e7a['id']}):console['warn']('Couldn\x27t\x20find\x20a\x20study\x20with\x20id\x20'+_0x3e6e7a['id']);}),_0x1b5eb6;};export const createMockLayoutData=(_0x5a5059,_0x12b303,_0x6c920d,_0x210a36)=>{const _0x1e54b9={};return _0x1e54b9['duration']=0x1,_0x1e54b9['durationType']='h',{'selectedLayoutId':'0','layouts':[{'id':'0','name':'EmptyLayout','lastUpdateTimeStamp':new Date()['getTime'](),...createDefaultLayout(_0x210a36,_0x1e54b9,undefined,_0x5a5059,_0x12b303,_0x6c920d)}]};};export const createDefaultLayout=(_0x5e7656,_0x1e7c96,_0x12c459,_0x59db46,_0x392159,_0x19dab6,_0x12ea69=[],_0x1deabd='candle')=>{const _0x8126ed={};_0x8126ed['drawingMode']=![],_0x8126ed['magnetMode']=![],_0x8126ed['drawingSyncMode']=![],_0x8126ed['theme']='dark';const _0x3b1195={};_0x3b1195['crossTool']=![],_0x3b1195['instrument']=![],_0x3b1195['chartType']=![],_0x3b1195['aggregation']=![],_0x3b1195['appearance']=![],_0x3b1195['studies']=![];const _0x4072c4={};return _0x4072c4['layout']='1x1',_0x4072c4['selectedChartIndex']='0',_0x4072c4['sync']=_0x3b1195,{'version':CHART_VERSION,'global':_0x8126ed,'multiChart':_0x4072c4,'charts':_0x392159['multiChart']['enabled']?[createDefaultChartLayout(0x0,_0x5e7656,_0x1e7c96,_0x12c459,_0x59db46,_0x12ea69,_0x1deabd,_0x19dab6),createDefaultChartLayout(0x1,_0x5e7656,_0x1e7c96,_0x12c459,_0x59db46,_0x12ea69,_0x1deabd,_0x19dab6),createDefaultChartLayout(0x2,_0x5e7656,_0x1e7c96,_0x12c459,_0x59db46,_0x12ea69,_0x1deabd,_0x19dab6),createDefaultChartLayout(0x3,_0x5e7656,_0x1e7c96,_0x12c459,_0x59db46,_0x12ea69,_0x1deabd,_0x19dab6)]:[createDefaultChartLayout(0x0,_0x5e7656,_0x1e7c96,_0x12c459,_0x59db46,_0x12ea69,_0x1deabd,_0x19dab6)]};};export const createDefaultChartLayout=(_0x1f3da1,_0x4eb8f1,_0x1a821f,_0x25d16e,_0x544fb,_0x4d29cb,_0x12e3ac,_0x50355c)=>{const _0x558fef={};_0x558fef['opened']=_0x50355c['legend']['opened'],_0x558fef['showOHLC']=_0x50355c['legend']['showOHLC'],_0x558fef['showVolume']=_0x50355c['legend']['showVolume'],_0x558fef['showPeriod']=_0x50355c['legend']['showPeriod'],_0x558fef['showInstrument']=_0x50355c['legend']['showInstrument'],_0x558fef['mode']=_0x50355c['legend']['mode'];const _0x40e40f={};_0x40e40f['aggregations']=_0x50355c['timeframeChangeStrategy']['aggregations'],_0x40e40f['instrument']=_0x50355c['timeframeChangeStrategy']['instrument'];const _0x57415f={};_0x57415f['applyUponCreation']=_0x50355c['aggregationPeriod']['applyUponCreation'];const _0x413838={};_0x413838['visible']=_0x50355c['sessionBreaks']['visible'];const _0x48ef77={};_0x48ef77['visible']=_0x50355c['extendedHours']['visible'];const _0x330496={};_0x330496['visible']=_0x50355c['trading']['visible'],_0x330496['showOrders']=_0x50355c['trading']['showOrders'],_0x330496['showPositions']=_0x50355c['trading']['showPositions'],_0x330496['executedOrders']={},_0x330496['bounds']={},_0x330496['rightOffset']=_0x50355c['trading']['rightOffset'],_0x330496['executedOrders']['enabled']=_0x50355c['trading']['executedOrders']['enabled'],_0x330496['executedOrders']['displayMode']=_0x50355c['trading']['executedOrders']['displayMode'],_0x330496['bounds']['min']=_0x50355c['trading']['bounds']['min'],_0x330496['bounds']['max']=_0x50355c['trading']['bounds']['max'];const _0x49f13c={};_0x49f13c['price']=_0x50355c['candlesData']['price'],_0x49f13c['candleAlignment']=_0x50355c['candlesData']['candleAlignment'];const _0x833ab={};_0x833ab['studies']=_0x50355c['scale']['fit']['studies'],_0x833ab['orders']=_0x50355c['scale']['fit']['orders'],_0x833ab['positions']=_0x50355c['scale']['fit']['positions'];const _0x79d4df={};_0x79d4df['fit']=_0x833ab;const _0xe3c2b7={};_0xe3c2b7['legend']=_0x558fef,_0xe3c2b7['timeframeChangeStrategy']=_0x40e40f,_0xe3c2b7['aggregationPeriod']=_0x57415f,_0xe3c2b7['sessionBreaks']=_0x413838,_0xe3c2b7['extendedHours']=_0x48ef77,_0xe3c2b7['trading']=_0x330496,_0xe3c2b7['candlesData']=_0x49f13c,_0xe3c2b7['scale']=_0x79d4df;const _0x8db42b={};_0x8db42b['layerItems']={};const _0x789e3d={};_0x789e3d['order']=[],_0x789e3d['heightRatio']={};const _0x18840b={};return _0x18840b['startTimestamp']=0x0,_0x18840b['endTimestamp']=0x0,{'index':_0x1f3da1,'symbol':_0x4eb8f1,'aggregation':_0x1a821f,'timeframePreset':_0x25d16e,'chartType':_0x12e3ac,'studies':_0x4d29cb['map'](_0x136a9f=>({'id':_0x136a9f,'uuid':uuid()})),'chartCoreConfig':mapFullChartConfig2ChartCoreConfig(_0x544fb),'chartReactConfig':_0xe3c2b7,'secondarySeries':[],'drawings':{},'layers':_0x8db42b,'panes':_0x789e3d,'xScaleViewport':_0x18840b};};export const compareInstrumentsToSecondarySeries=_0x4e2723=>pipe(_0x4e2723,array['map'](_0x13da6d=>({'symbol':_0x13da6d['symbol'],'chartType':_0x13da6d['chartType'],'color':_0x13da6d['color']})));export const secondarySeriesToCompareInstruments=_0x52fbee=>pipe(_0x52fbee,array['map'](_0x3ee2e3=>({'chartType':_0x3ee2e3['chartType'],'color':_0x3ee2e3['color'],'symbol':_0x3ee2e3['symbol']})));