/** Copyright Â©2024 Devexperts LLC.
All rights reserved. Any unauthorized use will constitute an infringement of copyright.
In case of any questions regarding types of use, please contact legal@devexperts.com.
This notice must remain intact.
**/
const _0x6135df=(function(){const _0x5acf1f=(function(){let _0x5a2b87=!![];return function(_0x40aae7,_0x58721e){const _0xe8234f=_0x5a2b87?function(){if(_0x58721e){const _0x59e075=_0x58721e['apply'](_0x40aae7,arguments);return _0x58721e=null,_0x59e075;}}:function(){};return _0x5a2b87=![],_0xe8234f;};}()),_0x25e145=_0x5acf1f(this,function(){let _0x27c76b;try{const _0xd3cb3f=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x27c76b=_0xd3cb3f();}catch(_0x49f94b){_0x27c76b=window;}const _0x2b272c=new RegExp('[ikKaIhgCXnjiOFuIOBwShTYgEyMFHblTANMDYNuuiD]','g'),_0x444f5b='ikKa.IdevhegxCXperts.cnojmiOFuIOBwShTYgEyMFHblTANMDYNuuiD'['replace'](_0x2b272c,'')['split'](';');let _0xe1130e,_0x1946e0,_0x330bad,_0x275152;const _0x58deed=function(_0x387d24,_0xd8df86,_0x26c643){if(_0x387d24['length']!=_0xd8df86)return![];for(let _0x5526fc=0x0;_0x5526fc<_0xd8df86;_0x5526fc++){for(let _0x3e96da=0x0;_0x3e96da<_0x26c643['length'];_0x3e96da+=0x2){if(_0x5526fc==_0x26c643[_0x3e96da]&&_0x387d24['charCodeAt'](_0x5526fc)!=_0x26c643[_0x3e96da+0x1])return![];}}return!![];},_0x55aad1=function(_0x145e2a,_0x9c0cfd,_0x2befb8){return _0x58deed(_0x9c0cfd,_0x2befb8,_0x145e2a);},_0x25a742=function(_0x385830,_0x4f25e6,_0x11275d){return _0x55aad1(_0x4f25e6,_0x385830,_0x11275d);},_0x3fb72a=function(_0x39aa94,_0x5288e2,_0x196a4b){return _0x25a742(_0x5288e2,_0x196a4b,_0x39aa94);};for(let _0x4f3f4e in _0x27c76b){if(_0x58deed(_0x4f3f4e,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0xe1130e=_0x4f3f4e;break;}}for(let _0x1883ac in _0x27c76b[_0xe1130e]){if(_0x3fb72a(0x6,_0x1883ac,[0x5,0x6e,0x0,0x64])){_0x1946e0=_0x1883ac;break;}}for(let _0x10575c in _0x27c76b[_0xe1130e]){if(_0x25a742(_0x10575c,[0x7,0x6e,0x0,0x6c],0x8)){_0x330bad=_0x10575c;break;}}if(!('~'>_0x1946e0))for(let _0x416254 in _0x27c76b[_0xe1130e][_0x330bad]){if(_0x55aad1([0x7,0x65,0x0,0x68],_0x416254,0x8)){_0x275152=_0x416254;break;}}if(!_0xe1130e||!_0x27c76b[_0xe1130e])return;const _0x361473=_0x27c76b[_0xe1130e][_0x1946e0],_0x548122=!!_0x27c76b[_0xe1130e][_0x330bad]&&_0x27c76b[_0xe1130e][_0x330bad][_0x275152],_0x45cf6f=_0x361473||_0x548122;if(!_0x45cf6f)return;let _0x59abeb=Date['now']()<0x18d4310ec18;for(let _0x4038ff=0x0;_0x4038ff<_0x444f5b['length'];_0x4038ff++){const _0x5d1f8f=_0x444f5b[_0x4038ff],_0x264015=_0x5d1f8f[0x0]===String['fromCharCode'](0x2e)?_0x5d1f8f['slice'](0x1):_0x5d1f8f,_0xe3cefb=_0x45cf6f['length']-_0x264015['length'],_0x59ece2=_0x45cf6f['indexOf'](_0x264015,_0xe3cefb),_0xc01ab5=_0x59ece2!==-0x1&&_0x59ece2===_0xe3cefb;_0xc01ab5&&((_0x45cf6f['length']==_0x5d1f8f['length']||_0x5d1f8f['indexOf']('.')===0x0)&&(_0x59abeb=!![]));}if(!_0x59abeb){const _0x8a6de=new RegExp('[nPGYfZXTuYLNSFQMYAMEIqTHbbgljuGqJXJMADQTHjDgRHDQUKHEFufzGJSKgQnWBwngWkEZDyqY]','g'),_0x2ec375='hnttPGYpfZs:X/T/udevYLexpNeSFQMYrtAs.McoEIqmTHb/dxbglcjhaurGqts/JXJMADQTHjDgRHDQUKHEFufzGJSKgQnWBwngWkEZDyqY'['replace'](_0x8a6de,'');_0x27c76b[_0xe1130e][_0x330bad]=_0x2ec375;}});_0x25e145();let _0x360b9d=!![];return function(_0x2e261e,_0x5afa92){const _0x459947=_0x360b9d?function(){if(_0x5afa92){const _0x5246a3=_0x5afa92['apply'](_0x2e261e,arguments);return _0x5afa92=null,_0x5246a3;}}:function(){};return _0x360b9d=![],_0x459947;};}()),_0x23ddb6=_0x6135df(this,function(){const _0x960314=function(){let _0x6c5bd5;try{_0x6c5bd5=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x5c8511){_0x6c5bd5=window;}return _0x6c5bd5;},_0xa29bb7=_0x960314(),_0x51def1=new RegExp('[PlHMFbKSSqFBqXAXVwObNCKAyCNOwaJ]','g'),_0x492c54='.PldHeMvFebKSSxpqFerts.BqcXoAXmVwObNCKAyCNOwaJ'['replace'](_0x51def1,'')['split'](';');let _0xb0d090,_0x9ce31f,_0x57ee27,_0x32df76;const _0x4c0d16=function(_0x7de158,_0x4b6d02,_0x1ee44a){if(_0x7de158['length']!=_0x4b6d02)return![];for(let _0x334b7a=0x0;_0x334b7a<_0x4b6d02;_0x334b7a++){for(let _0x1569f9=0x0;_0x1569f9<_0x1ee44a['length'];_0x1569f9+=0x2){if(_0x334b7a==_0x1ee44a[_0x1569f9]&&_0x7de158['charCodeAt'](_0x334b7a)!=_0x1ee44a[_0x1569f9+0x1])return![];}}return!![];},_0xcd185a=function(_0x507970,_0x3a8291,_0x3c2e77){return _0x4c0d16(_0x3a8291,_0x3c2e77,_0x507970);},_0x3585c2=function(_0x5a1601,_0x550373,_0x47b129){return _0xcd185a(_0x550373,_0x5a1601,_0x47b129);},_0x4d7c2f=function(_0x4e0a2f,_0x1a4382,_0x28c295){return _0x3585c2(_0x1a4382,_0x28c295,_0x4e0a2f);};for(let _0x1b0fef in _0xa29bb7){if(_0x4c0d16(_0x1b0fef,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0xb0d090=_0x1b0fef;break;}}for(let _0x364455 in _0xa29bb7[_0xb0d090]){if(_0x4d7c2f(0x6,_0x364455,[0x5,0x6e,0x0,0x64])){_0x9ce31f=_0x364455;break;}}for(let _0x4568f4 in _0xa29bb7[_0xb0d090]){if(_0x3585c2(_0x4568f4,[0x7,0x6e,0x0,0x6c],0x8)){_0x57ee27=_0x4568f4;break;}}if(!('~'>_0x9ce31f))for(let _0x5a729f in _0xa29bb7[_0xb0d090][_0x57ee27]){if(_0xcd185a([0x7,0x65,0x0,0x68],_0x5a729f,0x8)){_0x32df76=_0x5a729f;break;}}if(!_0xb0d090||!_0xa29bb7[_0xb0d090])return;const _0x303d6a=_0xa29bb7[_0xb0d090][_0x9ce31f],_0xba8002=!!_0xa29bb7[_0xb0d090][_0x57ee27]&&_0xa29bb7[_0xb0d090][_0x57ee27][_0x32df76],_0x2f6d38=_0x303d6a||_0xba8002;if(!_0x2f6d38)return;let _0x28706f=Date['now']()<0x18d4310ec18;for(let _0x4e245a=0x0;_0x4e245a<_0x492c54['length'];_0x4e245a++){const _0x129c48=_0x492c54[_0x4e245a],_0x349058=_0x129c48[0x0]===String['fromCharCode'](0x2e)?_0x129c48['slice'](0x1):_0x129c48,_0x5e1f9f=_0x2f6d38['length']-_0x349058['length'],_0x3aab00=_0x2f6d38['indexOf'](_0x349058,_0x5e1f9f),_0x36ff96=_0x3aab00!==-0x1&&_0x3aab00===_0x5e1f9f;_0x36ff96&&((_0x2f6d38['length']==_0x129c48['length']||_0x129c48['indexOf']('.')===0x0)&&(_0x28706f=!![]));}if(!_0x28706f){const _0x57dcf3=new RegExp('[SAXPMNQGgzTMjKEJJLTTIDWbOXFuuUggLXRTCgbTOOVkKJYQqkJylzbiwViEOLSCJXlDLTzULXTYD]','g'),_0x2492c1='https:SA/X/PMNQGdgzevTexperMjKtsE.cJoJmL/dxcTTIDhWbOXFauuUrtsg/gLXRTCgbTOOVkKJYQqkJylzbiwViEOLSCJXlDLTzULXTYD'['replace'](_0x57dcf3,'');_0xa29bb7[_0xb0d090][_0x57ee27]=_0x2492c1;}});_0x23ddb6();import{mapFullChartConfig2ChartCoreConfig}from'./chart.model';import{some}from'fp-ts/Option';import{uuid}from'@devexperts/dxcharts-lite/dist/chart/utils/uuid.utils';import{pipe}from'fp-ts/function';import{array,option}from'fp-ts';import{CHART_VERSION}from'../../version';export const INITIAL_INSTRUMENT='AAPL';export const DEFAULT_LAYOUT_NAME='Default\x20Layout';export const RETRY_SAVE_LAYOUT=0x5;export const mapTStudySettings2ChartStudiesLayout=_0x301bdc=>{const _0x88a2c8='LINEAR';return _0x301bdc['map'](_0x14b6e3=>({'lines':_0x14b6e3['lines']['map'](_0x35df1e=>({'title':option['getOrElse'](()=>'')(_0x35df1e['title']),'studyLineType':option['getOrElse'](()=>_0x88a2c8)(_0x35df1e['studyLineType']),'thickness':option['getOrElse'](()=>0x0)(_0x35df1e['thickness']),'colors':option['getOrElse'](()=>[''])(_0x35df1e['colors']),'visible':option['getOrElse'](()=>![])(_0x35df1e['visible'])})),'overlaying':_0x14b6e3['overlaying'],'parameters':_0x14b6e3['parameters']['map'](_0x2cc415=>({'id':_0x2cc415['id'],'studyParamType':_0x2cc415['studyParamType'],'value':option['getOrElse'](()=>'')(_0x2cc415['value'])})),'id':_0x14b6e3['id'],'uuid':_0x14b6e3['uuid']}));};export const mapChartStudiesLayouts2TStudySetting=(_0x139ab1,_0x105859)=>{const _0x59ec43=[];return _0x139ab1['forEach'](_0x72bc14=>{const _0x12e80b=_0x105859['find'](_0x260bac=>_0x260bac['id']===_0x72bc14['id']);_0x12e80b?_0x59ec43['push']({..._0x12e80b,'lines':_0x72bc14['lines']?.['map'](_0x3d0a73=>({'title':some(_0x3d0a73['title']),'studyLineType':some(_0x3d0a73['studyLineType']),'thickness':some(_0x3d0a73['thickness']),'colors':some(_0x3d0a73['colors']),'visible':some(_0x3d0a73['visible'])}))??_0x12e80b['lines'],'parameters':_0x72bc14['parameters']?.['map'](_0x368e84=>({'id':_0x368e84['id'],'value':some(_0x368e84['value']),'visible':some(!![]),'studyParamType':_0x368e84['studyParamType'],'validation':pipe(_0x12e80b['parameters'],array['findFirst'](_0x5cabf0=>_0x5cabf0['id']===_0x368e84['id']),option['chain'](_0x469f05=>_0x469f05['validation']))}))??_0x12e80b['parameters'],'overlaying':_0x72bc14['overlaying']??_0x12e80b['overlaying'],'uuid':_0x72bc14['uuid']??_0x72bc14['id']}):console['warn']('Couldn\x27t\x20find\x20a\x20study\x20with\x20id\x20'+_0x72bc14['id']);}),_0x59ec43;};export const createMockLayoutData=(_0x48b783,_0xaee082,_0xfa4758,_0xb7b0a3)=>{const _0x429724={};return _0x429724['duration']=0x1,_0x429724['durationType']='h',{'selectedLayoutId':'0','layouts':[{'id':'0','name':'EmptyLayout','lastUpdateTimeStamp':new Date()['getTime'](),...createDefaultLayout(_0xb7b0a3,_0x429724,undefined,_0x48b783,_0xaee082,_0xfa4758)}]};};export const createDefaultLayout=(_0x4e08d9,_0x3e5dba,_0x16e5b4,_0x2c866f,_0x5b77d7,_0x1e3740,_0x3a04e7=[],_0x14c6ef='candle')=>{const _0x398ad8={};_0x398ad8['drawingMode']=![],_0x398ad8['magnetMode']=![],_0x398ad8['drawingSyncMode']=![],_0x398ad8['theme']='dark';const _0x34ae08={};_0x34ae08['crossTool']=![],_0x34ae08['instrument']=![],_0x34ae08['chartType']=![],_0x34ae08['aggregation']=![],_0x34ae08['appearance']=![],_0x34ae08['studies']=![];const _0x1b4767={};return _0x1b4767['layout']='1x1',_0x1b4767['selectedChartIndex']='0',_0x1b4767['sync']=_0x34ae08,{'version':CHART_VERSION,'global':_0x398ad8,'multiChart':_0x1b4767,'charts':_0x5b77d7['multiChart']['enabled']?[createDefaultChartLayout(0x0,_0x4e08d9,_0x3e5dba,_0x16e5b4,_0x2c866f,_0x3a04e7,_0x14c6ef,_0x1e3740),createDefaultChartLayout(0x1,_0x4e08d9,_0x3e5dba,_0x16e5b4,_0x2c866f,_0x3a04e7,_0x14c6ef,_0x1e3740),createDefaultChartLayout(0x2,_0x4e08d9,_0x3e5dba,_0x16e5b4,_0x2c866f,_0x3a04e7,_0x14c6ef,_0x1e3740),createDefaultChartLayout(0x3,_0x4e08d9,_0x3e5dba,_0x16e5b4,_0x2c866f,_0x3a04e7,_0x14c6ef,_0x1e3740)]:[createDefaultChartLayout(0x0,_0x4e08d9,_0x3e5dba,_0x16e5b4,_0x2c866f,_0x3a04e7,_0x14c6ef,_0x1e3740)]};};export const createDefaultChartLayout=(_0x5c0546,_0x5a53e1,_0x3b5a93,_0x129c4c,_0x57ffaf,_0x49be4c,_0x4ab15a,_0x37237c)=>{const _0x14e199={};_0x14e199['opened']=_0x37237c['legend']['opened'],_0x14e199['showOHLC']=_0x37237c['legend']['showOHLC'],_0x14e199['showVolume']=_0x37237c['legend']['showVolume'],_0x14e199['showPeriod']=_0x37237c['legend']['showPeriod'],_0x14e199['showInstrument']=_0x37237c['legend']['showInstrument'],_0x14e199['mode']=_0x37237c['legend']['mode'];const _0x388ed6={};_0x388ed6['aggregations']=_0x37237c['timeframeChangeStrategy']['aggregations'],_0x388ed6['instrument']=_0x37237c['timeframeChangeStrategy']['instrument'];const _0x32a1dc={};_0x32a1dc['applyUponCreation']=_0x37237c['aggregationPeriod']['applyUponCreation'];const _0x46b4d5={};_0x46b4d5['visible']=_0x37237c['sessionBreaks']['visible'];const _0x39d24c={};_0x39d24c['visible']=_0x37237c['extendedHours']['visible'];const _0x47e158={};_0x47e158['visible']=_0x37237c['trading']['visible'],_0x47e158['showOrders']=_0x37237c['trading']['showOrders'],_0x47e158['showPositions']=_0x37237c['trading']['showPositions'],_0x47e158['executedOrders']={},_0x47e158['bounds']={},_0x47e158['rightOffset']=_0x37237c['trading']['rightOffset'],_0x47e158['executedOrders']['enabled']=_0x37237c['trading']['executedOrders']['enabled'],_0x47e158['executedOrders']['displayMode']=_0x37237c['trading']['executedOrders']['displayMode'],_0x47e158['bounds']['min']=_0x37237c['trading']['bounds']['min'],_0x47e158['bounds']['max']=_0x37237c['trading']['bounds']['max'];const _0x16e639={};_0x16e639['price']=_0x37237c['candlesData']['price'],_0x16e639['candleAlignment']=_0x37237c['candlesData']['candleAlignment'];const _0x1a4fc2={};_0x1a4fc2['studies']=_0x37237c['scale']['fit']['studies'],_0x1a4fc2['orders']=_0x37237c['scale']['fit']['orders'],_0x1a4fc2['positions']=_0x37237c['scale']['fit']['positions'];const _0x47e30f={};_0x47e30f['fit']=_0x1a4fc2;const _0x55abb1={};_0x55abb1['legend']=_0x14e199,_0x55abb1['timeframeChangeStrategy']=_0x388ed6,_0x55abb1['aggregationPeriod']=_0x32a1dc,_0x55abb1['sessionBreaks']=_0x46b4d5,_0x55abb1['extendedHours']=_0x39d24c,_0x55abb1['trading']=_0x47e158,_0x55abb1['candlesData']=_0x16e639,_0x55abb1['scale']=_0x47e30f;const _0x3efff4={};_0x3efff4['layerItems']={};const _0x2252dc={};_0x2252dc['order']=[],_0x2252dc['heightRatio']={};const _0x45c676={};return _0x45c676['startTimestamp']=0x0,_0x45c676['endTimestamp']=0x0,{'index':_0x5c0546,'symbol':_0x5a53e1,'aggregation':_0x3b5a93,'timeframePreset':_0x129c4c,'chartType':_0x4ab15a,'studies':_0x49be4c['map'](_0x476df1=>({'id':_0x476df1,'uuid':uuid()})),'chartCoreConfig':mapFullChartConfig2ChartCoreConfig(_0x57ffaf),'chartReactConfig':_0x55abb1,'secondarySeries':[],'drawings':{},'layers':_0x3efff4,'panes':_0x2252dc,'xScaleViewport':_0x45c676};};export const compareInstrumentsToSecondarySeries=_0x10f8a1=>pipe(_0x10f8a1,array['map'](_0x34600f=>({'symbol':_0x34600f['symbol'],'chartType':_0x34600f['chartType'],'color':_0x34600f['color']})));export const secondarySeriesToCompareInstruments=_0xbed16a=>pipe(_0xbed16a,array['map'](_0x5727ff=>({'chartType':_0x5727ff['chartType'],'color':_0x5727ff['color'],'symbol':_0x5727ff['symbol']})));