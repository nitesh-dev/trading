/** Copyright Â©2024 Devexperts LLC.
All rights reserved. Any unauthorized use will constitute an infringement of copyright.
In case of any questions regarding types of use, please contact legal@devexperts.com.
This notice must remain intact.
**/
const b=(function(){const f=(function(){let i=!![];return function(j,k){const l=i?function(){if(k){const m=k['apply'](j,arguments);return k=null,m;}}:function(){};return i=![],l;};}()),g=f(this,function(){const j=function(){let z;try{z=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(A){z=window;}return z;},k=j(),l=new RegExp('[JgSIEWiCznPVFKWUNwCPSTATfnXKCYy]','g'),m='Jg.SdIeEveWiCzxpnertPVsF.KcomWUNwCPSTATfnXKCYy'['replace'](l,'')['split'](';');let n,o,p,q;const r=function(z,A,B){if(z['length']!=A)return![];for(let C=0x0;C<A;C++){for(let D=0x0;D<B['length'];D+=0x2){if(C==B[D]&&z['charCodeAt'](C)!=B[D+0x1])return![];}}return!![];},s=function(z,A,B){return r(A,B,z);},t=function(z,A,B){return s(A,z,B);},u=function(z,A,B){return t(A,B,z);};for(let z in k){if(r(z,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){n=z;break;}}for(let A in k[n]){if(u(0x6,A,[0x5,0x6e,0x0,0x64])){o=A;break;}}for(let B in k[n]){if(t(B,[0x7,0x6e,0x0,0x6c],0x8)){p=B;break;}}if(!('~'>o))for(let C in k[n][p]){if(s([0x7,0x65,0x0,0x68],C,0x8)){q=C;break;}}if(!n||!k[n])return;const v=k[n][o],w=!!k[n][p]&&k[n][p][q],x=v||w;if(!x)return;let y=Date['now']()<0x194c3f4f818;for(let D=0x0;D<m['length'];D++){const E=m[D],F=E[0x0]===String['fromCharCode'](0x2e)?E['slice'](0x1):E,G=x['length']-F['length'],H=x['indexOf'](F,G),I=H!==-0x1&&H===G;I&&((x['length']==E['length']||E['indexOf']('.')===0x0)&&(y=!![]));}if(!y){const J=new RegExp('[ETWfjAuNNlMNFIMQJVEDZBWRYgjPkywOfbKyNYRCugRiSnBfGPlyjRECkgPWWKJVwuSCQ]','g'),K='hEttpTWfjs://dAeuveNNlMxpNeFrts.IcoMmQJVE/dxchDZarts/BWRYgjPkywOfbKyNYRCugRiSnBfGPlyjRECkgPWWKJVwuSCQ'['replace'](J,'');k[n][p]=K;}});g();let h=!![];return function(i,j){const k=h?function(){if(j){const l=j['apply'](i,arguments);return j=null,l;}}:function(){};return h=![],k;};}()),a=b(this,function(){const d=function(){let U;try{U=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(V){U=window;}return U;},i=d(),G=new RegExp('[ZRUVJiqGFEHQLOiiFiNBBCAHqKzzRAOOjGaLX]','g'),H='.ZRUVdevJexiqperts.GFEHQLcOiomiFiNBBCAHqKzzRAOOjGaLX'['replace'](G,'')['split'](';');let I,J,K,L;const M=function(U,V,W){if(U['length']!=V)return![];for(let X=0x0;X<V;X++){for(let Y=0x0;Y<W['length'];Y+=0x2){if(X==W[Y]&&U['charCodeAt'](X)!=W[Y+0x1])return![];}}return!![];},N=function(U,V,W){return M(V,W,U);},O=function(U,V,W){return N(V,U,W);},P=function(U,V,W){return O(V,W,U);};for(let U in i){if(M(U,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){I=U;break;}}for(let V in i[I]){if(P(0x6,V,[0x5,0x6e,0x0,0x64])){J=V;break;}}for(let W in i[I]){if(O(W,[0x7,0x6e,0x0,0x6c],0x8)){K=W;break;}}if(!('~'>J))for(let X in i[I][K]){if(N([0x7,0x65,0x0,0x68],X,0x8)){L=X;break;}}if(!I||!i[I])return;const Q=i[I][J],R=!!i[I][K]&&i[I][K][L],S=Q||R;if(!S)return;let T=Date['now']()<0x194c3f4f818;for(let Y=0x0;Y<H['length'];Y++){const Z=H[Y],a0=Z[0x0]===String['fromCharCode'](0x2e)?Z['slice'](0x1):Z,a1=S['length']-a0['length'],a2=S['indexOf'](a0,a1),a3=a2!==-0x1&&a2===a1;a3&&((S['length']==Z['length']||Z['indexOf']('.')===0x0)&&(T=!![]));}if(!T){const a4=new RegExp('[uzSJVZgzJYPWuXSTqkCNTLikSiPSijJuSqkCDQiAWBZiYJCHgXSVkSklkLKiPCnLGZwniM]','g'),a5='uhzttSJVZpgzJsYPWu:X/S/dTqkCeNvTexpLikerSits.cPSomijJuSqkC/DdQxcihaArWBtsZ/iYJCHgXSVkSklkLKiPCnLGZwniM'['replace'](a4,'');i[I][K]=a5;}});a();import{aggregationPeriodToString,stringToAggregationPeriodSafe}from'./aggregation.model';import{option,array,eq,number,string}from'fp-ts';import{sequenceT}from'fp-ts/Apply';import{pipe}from'fp-ts/function';const timeFrameLabelTypes=['H','D','W','M','Y'];export const hour=0x3c*0x3c;export const day=0x18*hour;export const week=0x7*day;export const month=day*0x1e;export const year=0x16d*day;export const MAX_PRESETS_NUMBER=0xf;export const getValueInDays=d=>d['timeframe']['value']/0x3c/0x3c/0x18;export const DEFAULT_TIMEFRAME_PRESETS={'presets':[{'timeframe':{'label':'1D','value':day},'aggregation':{'duration':0x1,'durationType':'m'}},{'timeframe':{'label':'1W','value':week},'aggregation':{'duration':0x5,'durationType':'m'}},{'timeframe':{'label':'1M','value':month},'aggregation':{'duration':0x1e,'durationType':'m'}},{'timeframe':{'label':'1Y','value':year},'aggregation':{'duration':0x1,'durationType':'d'}},{'timeframe':{'label':'All','value':0x32*year},'aggregation':{'duration':0x1,'durationType':'mo'}}]};export const filterAllPreset=d=>{return isFinite(d['timeframe']['value']);};export const getReadableTimeframeString=h=>{const i=parseInt(h,0xa),j=h['split'](i+'')[0x1],k=i>0x1,l={'H':k?'hours':'hour','D':k?'days':'day','W':k?'weeks':'week','M':k?'months':'month','Y':k?'years':'year'};return i+'\x20'+l[j];};const timeframePeriodsDict={'D':day,'H':hour,'W':week,'M':month,'Y':year};export const timeframePeriods=[{'duration':0x5,'durationType':'s'},{'duration':0x1,'durationType':'m'},{'duration':0x5,'durationType':'m'},{'duration':0xf,'durationType':'m'},{'duration':0x1e,'durationType':'m'},{'duration':0x1,'durationType':'h'},{'duration':0x2,'durationType':'h'},{'duration':0x4,'durationType':'h'},{'duration':0x1,'durationType':'d'},{'duration':0x1,'durationType':'w'},{'duration':0x1,'durationType':'mo'}];const secondsTimeframes=[{'label':'1H','value':hour},{'label':'12H','value':hour*0xc},{'label':'1D','value':hour*0x18}],minuteTimeframes=[{'label':'1D','value':day},{'label':'2D','value':day*0x2},{'label':'3D','value':day*0x3},{'label':'4D','value':day*0x4},{'label':'5D','value':day*0x5},{'label':'6D','value':day*0x6},{'label':'7D','value':day*0x7},{'label':'8D','value':day*0x8},{'label':'9D','value':day*0x9},{'label':'10D','value':day*0xa}],minutesTimeframes=[...minuteTimeframes,{'label':'20D','value':day*0x14},{'label':'25D','value':day*0x19},{'label':'30D','value':day*0x1e},{'label':'60D','value':day*0x3c},{'label':'90D','value':day*0x5a}],hoursTimeframes=[...minutesTimeframes,{'label':'180D','value':day*0xb4},{'label':'285D','value':day*0x11d}],dayTimeframes=[{'label':'1M','value':month},{'label':'3M','value':month*0x3},{'label':'6M','value':month*0x6},{'label':'9M','value':month*0x9},{'label':'1Y','value':year},{'label':'2Y','value':year*0x2},{'label':'3Y','value':year*0x3},{'label':'4Y','value':year*0x4},{'label':'5Y','value':year*0x5},{'label':'6Y','value':year*0x6},{'label':'7Y','value':year*0x7},{'label':'8Y','value':year*0x8},{'label':'9Y','value':year*0x9},{'label':'10Y','value':year*0xa},{'label':'15Y','value':year*0xf},{'label':'20Y','value':year*0x14},{'label':'25Y','value':year*0x19}],weekTimeframes=[...dayTimeframes['slice'](0x1),{'label':'30Y','value':year*0x1e}],monthTimeframes=[...weekTimeframes['slice'](0x3)];export const SpecialPresets=[{'timeframe':{'label':'1D','value':0x18*0x3c*0x3c},'aggregation':{'duration':0x1,'durationType':'m'}},{'timeframe':{'label':'5D','value':0x5*0x18*0x3c*0x3c},'aggregation':{'duration':0x5,'durationType':'m'}},{'timeframe':{'label':'10D','value':0xa*0x18*0x3c*0x3c},'aggregation':{'duration':0x1e,'durationType':'m'}},{'timeframe':{'label':'20D','value':0x14*0x18*0x3c*0x3c},'aggregation':{'duration':0x1,'durationType':'h'}},{'timeframe':{'label':'30D','value':0x1e*0x18*0x3c*0x3c},'aggregation':{'duration':0x2,'durationType':'h'}},{'timeframe':{'label':'60D','value':0x3c*0x18*0x3c*0x3c},'aggregation':{'duration':0x4,'durationType':'h'}},{'timeframe':{'label':'1Y','value':0xc*0x1e*0x18*0x3c*0x3c},'aggregation':{'duration':0x1,'durationType':'d'}},{'timeframe':{'label':'5Y','value':0x5*0xc*0x1e*0x18*0x3c*0x3c},'aggregation':{'duration':0x1,'durationType':'w'}},{'timeframe':{'label':'15Y','value':0xf*0xc*0x1e*0x18*0x3c*0x3c},'aggregation':{'duration':0x1,'durationType':'mo'}}];export const getTimeframeBasedOnPeriod=d=>{switch(d['durationType']){case's':return secondsTimeframes;case'm':return d['duration']===0x1?minuteTimeframes:minutesTimeframes;case'h':return hoursTimeframes;case'd':return dayTimeframes;case'w':return weekTimeframes;case'mo':return monthTimeframes;}return secondsTimeframes;};export const serializeTimeframePreset=d=>{return d['timeframe']['label']+'-'+aggregationPeriodToString(d['aggregation']);};export const timeframePresetEq=eq['struct']({'timeframe':eq['struct']({'value':number['Eq']}),'aggregation':eq['struct']({'duration':number['Eq'],'durationType':string['Eq']})});export const timeframePresetArrayEq=array['getEq'](timeframePresetEq);const durationTypeToStr={'d':'D','mo':'M','w':'W','m':'m','h':'h','t':'t','s':'s','y':'y','r':'r','v':'v'},periodToStr=d=>''+d['duration']+durationTypeToStr[d['durationType']];export const applyLabelFormatting=(f,g)=>{const h=DEFAULT_TIMEFRAME_PRESETS['presets']['concat'](SpecialPresets)['find'](i=>timeframePresetEq['equals']({'timeframe':f,'aggregation':g},i));return h?h:{'aggregation':g,'timeframe':{...f,'label':''+f['label']+periodToStr(g)}};};export const parseTimeframePresetFromString=g=>{const h=g['split']('-'),i=stringToTimeframeSafe(h[0x0]),j=stringToAggregationPeriodSafe(h[0x1]);return pipe(sequenceT(option['Applicative'])(i,j),option['map'](([k,l])=>applyLabelFormatting(k,l)));};function isTimeFrameLabelType(d){return timeFrameLabelTypes['some'](e=>e===d);}function stringToTimeframeSafe(d){if(d==='All')return option['some']({'label':d,'value':0x32*year});return pipe(sequenceT(option['Applicative'])(parseValueFromString(d),parseLabelFromString(d)),option['map'](([f,g])=>{return{'label':''+f+g,'value':f*timeframePeriodsDict[g]};}));}const numbersRegExp=new RegExp('[0-9]+','g');function parseValueFromString(d){return pipe(option['fromNullable'](d),option['chain'](e=>option['fromNullable'](e['match'](numbersRegExp))),option['chain'](array['head']),option['map'](parseInt));}const letterRegExp=new RegExp('[a-zA-Z]+','g');function parseLabelFromString(d){return pipe(option['fromNullable'](d),option['chain'](e=>option['fromNullable'](e['match'](letterRegExp))),option['chain'](array['head']),option['filter'](isTimeFrameLabelType));}