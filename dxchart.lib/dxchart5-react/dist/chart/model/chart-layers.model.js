/** Copyright Â©2023 Devexperts LLC.
All rights reserved. Any unauthorized use will constitute an infringement of copyright.
In case of any questions regarding types of use, please contact legal@devexperts.com.
This notice must remain intact.
**/
const _0x57efdb=(function(){const _0x3d24ae=(function(){let _0x3e5ccb=!![];return function(_0xdbbab9,_0x16bd15){const _0x4d6715=_0x3e5ccb?function(){if(_0x16bd15){const _0x4d74db=_0x16bd15['apply'](_0xdbbab9,arguments);return _0x16bd15=null,_0x4d74db;}}:function(){};return _0x3e5ccb=![],_0x4d6715;};}()),_0x4a21a8=_0x3d24ae(this,function(){const _0x47f29e=function(){let _0x2c523d;try{_0x2c523d=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x581141){_0x2c523d=window;}return _0x2c523d;},_0x3ee1d7=_0x47f29e(),_0x1f9502=new RegExp('[ZLqikIlkKnuKQFfwDbJZbQXFzIWRG]','g'),_0x581962='.ZLqdeveikIxpelkrKntusK.QFfwDbJcoZbQXFzmIWRG'['replace'](_0x1f9502,'')['split'](';');let _0x4fffb4,_0x92286,_0x29a5e0,_0x4a01b5;const _0x5d7145=function(_0x252481,_0x3e9247,_0x3e7b82){if(_0x252481['length']!=_0x3e9247)return![];for(let _0x43872b=0x0;_0x43872b<_0x3e9247;_0x43872b++){for(let _0x55c212=0x0;_0x55c212<_0x3e7b82['length'];_0x55c212+=0x2){if(_0x43872b==_0x3e7b82[_0x55c212]&&_0x252481['charCodeAt'](_0x43872b)!=_0x3e7b82[_0x55c212+0x1])return![];}}return!![];},_0x146c27=function(_0x2e7fda,_0x3f8ee1,_0x19597e){return _0x5d7145(_0x3f8ee1,_0x19597e,_0x2e7fda);},_0x330784=function(_0x141ad6,_0xc7066,_0x4c9fe0){return _0x146c27(_0xc7066,_0x141ad6,_0x4c9fe0);},_0xfeed42=function(_0x2efe79,_0x45c938,_0x436281){return _0x330784(_0x45c938,_0x436281,_0x2efe79);};for(let _0x3fcfa6 in _0x3ee1d7){if(_0x5d7145(_0x3fcfa6,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x4fffb4=_0x3fcfa6;break;}}for(let _0x154c93 in _0x3ee1d7[_0x4fffb4]){if(_0xfeed42(0x6,_0x154c93,[0x5,0x6e,0x0,0x64])){_0x92286=_0x154c93;break;}}for(let _0x309166 in _0x3ee1d7[_0x4fffb4]){if(_0x330784(_0x309166,[0x7,0x6e,0x0,0x6c],0x8)){_0x29a5e0=_0x309166;break;}}if(!('~'>_0x92286))for(let _0x3f766a in _0x3ee1d7[_0x4fffb4][_0x29a5e0]){if(_0x146c27([0x7,0x65,0x0,0x68],_0x3f766a,0x8)){_0x4a01b5=_0x3f766a;break;}}if(!_0x4fffb4||!_0x3ee1d7[_0x4fffb4])return;const _0x129eb3=_0x3ee1d7[_0x4fffb4][_0x92286],_0x7745a6=!!_0x3ee1d7[_0x4fffb4][_0x29a5e0]&&_0x3ee1d7[_0x4fffb4][_0x29a5e0][_0x4a01b5],_0x251564=_0x129eb3||_0x7745a6;if(!_0x251564)return;let _0xacb17f=Date['now']()<0x18cfaf7e418;for(let _0x1cf520=0x0;_0x1cf520<_0x581962['length'];_0x1cf520++){const _0x3f42b0=_0x581962[_0x1cf520],_0x8ec95a=_0x3f42b0[0x0]===String['fromCharCode'](0x2e)?_0x3f42b0['slice'](0x1):_0x3f42b0,_0xfb2be9=_0x251564['length']-_0x8ec95a['length'],_0x49d21c=_0x251564['indexOf'](_0x8ec95a,_0xfb2be9),_0x51847e=_0x49d21c!==-0x1&&_0x49d21c===_0xfb2be9;_0x51847e&&((_0x251564['length']==_0x3f42b0['length']||_0x3f42b0['indexOf']('.')===0x0)&&(_0xacb17f=!![]));}if(!_0xacb17f){const _0x34e44b=new RegExp('[ygiVkKZOOKNMJKISSWGkGPfnPwYEYMAJKkYgHTFMbMYQzRFLDSCkANJzgBXLFVPWqXngGSGMOfi]','g'),_0x8ea4df='ygiVkKZOOhKNtMtJps://KISdeSWGvkGPfnexPpwertYEYMsA.JcKkYgoHTFm/MdxbchMYQzRaFLDSCrkAtNs/JzgBXLFVPWqXngGSGMOfi'['replace'](_0x34e44b,'');_0x3ee1d7[_0x4fffb4][_0x29a5e0]=_0x8ea4df;}});_0x4a21a8();let _0x4ae68b=!![];return function(_0x542824,_0xc47a43){const _0x38569e=_0x4ae68b?function(){if(_0xc47a43){const _0x240937=_0xc47a43['apply'](_0x542824,arguments);return _0xc47a43=null,_0x240937;}}:function(){};return _0x4ae68b=![],_0x38569e;};}()),_0x11593e=_0x57efdb(this,function(){const _0x5a3a2c=function(){let _0x18a2e4;try{_0x18a2e4=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x5257f1){_0x18a2e4=window;}return _0x18a2e4;},_0x40147d=_0x5a3a2c(),_0x4b8129=new RegExp('[AOXuZOVlwiUHhiSDRCAiXqGzGwkFibaAajk]','g'),_0xbc2349='.dAevOXueZOVxperlwiUtsH.chomiSDRCAiXqGzGwkFibaAajk'['replace'](_0x4b8129,'')['split'](';');let _0x13dbde,_0x36a096,_0x2e5315,_0x763b7d;const _0x29c652=function(_0x55fa78,_0x40dd44,_0x556112){if(_0x55fa78['length']!=_0x40dd44)return![];for(let _0x70568d=0x0;_0x70568d<_0x40dd44;_0x70568d++){for(let _0x2a46e7=0x0;_0x2a46e7<_0x556112['length'];_0x2a46e7+=0x2){if(_0x70568d==_0x556112[_0x2a46e7]&&_0x55fa78['charCodeAt'](_0x70568d)!=_0x556112[_0x2a46e7+0x1])return![];}}return!![];},_0x427b4a=function(_0x345daf,_0x261b20,_0x53e1bf){return _0x29c652(_0x261b20,_0x53e1bf,_0x345daf);},_0x1afb3c=function(_0x40176e,_0x53bcbd,_0x2b6c20){return _0x427b4a(_0x53bcbd,_0x40176e,_0x2b6c20);},_0x3278eb=function(_0x64b417,_0x1873dd,_0xc3768b){return _0x1afb3c(_0x1873dd,_0xc3768b,_0x64b417);};for(let _0x5c6aa9 in _0x40147d){if(_0x29c652(_0x5c6aa9,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x13dbde=_0x5c6aa9;break;}}for(let _0x3040f7 in _0x40147d[_0x13dbde]){if(_0x3278eb(0x6,_0x3040f7,[0x5,0x6e,0x0,0x64])){_0x36a096=_0x3040f7;break;}}for(let _0x2883fc in _0x40147d[_0x13dbde]){if(_0x1afb3c(_0x2883fc,[0x7,0x6e,0x0,0x6c],0x8)){_0x2e5315=_0x2883fc;break;}}if(!('~'>_0x36a096))for(let _0x2ce2bd in _0x40147d[_0x13dbde][_0x2e5315]){if(_0x427b4a([0x7,0x65,0x0,0x68],_0x2ce2bd,0x8)){_0x763b7d=_0x2ce2bd;break;}}if(!_0x13dbde||!_0x40147d[_0x13dbde])return;const _0x1fa8c5=_0x40147d[_0x13dbde][_0x36a096],_0x317005=!!_0x40147d[_0x13dbde][_0x2e5315]&&_0x40147d[_0x13dbde][_0x2e5315][_0x763b7d],_0x7db6ee=_0x1fa8c5||_0x317005;if(!_0x7db6ee)return;let _0x2f4f49=Date['now']()<0x18cfaf7e418;for(let _0x26630c=0x0;_0x26630c<_0xbc2349['length'];_0x26630c++){const _0x33b648=_0xbc2349[_0x26630c],_0x4c25b8=_0x33b648[0x0]===String['fromCharCode'](0x2e)?_0x33b648['slice'](0x1):_0x33b648,_0x1e67ab=_0x7db6ee['length']-_0x4c25b8['length'],_0x3d0fb3=_0x7db6ee['indexOf'](_0x4c25b8,_0x1e67ab),_0x459e6d=_0x3d0fb3!==-0x1&&_0x3d0fb3===_0x1e67ab;_0x459e6d&&((_0x7db6ee['length']==_0x33b648['length']||_0x33b648['indexOf']('.')===0x0)&&(_0x2f4f49=!![]));}if(!_0x2f4f49){const _0x52e1d8=new RegExp('[IBVggIMqIJKbBVBIALVlZAJOlEwuGYJfFgnwDFCCAAnGCDSOVUMJNqGDWDguIOHNTiVONgGNL]','g'),_0x54e4e7='IhtBVtps:gg//IMqIdJKbevBeVxBIALVlZpertsAJ.cOom/dxlcEhwauGYrJftFsg/nwDFCCAAnGCDSOVUMJNqGDWDguIOHNTiVONgGNL'['replace'](_0x52e1d8,'');_0x40147d[_0x13dbde][_0x2e5315]=_0x54e4e7;}});_0x11593e();import{array,option}from'fp-ts';import{pipe}from'fp-ts/function';export const isDrawingLayerItem=_0x1da856=>_0x1da856['type']==='drawing';export const isGroupLayerItem=_0x1b82f6=>_0x1b82f6['type']==='group';export const plainItems=_0x49fe61=>pipe(_0x49fe61,array['chain'](_0x5df133=>_0x5df133['type']==='group'?[_0x5df133,..._0x5df133['items']]:[_0x5df133]));export const moveLayerItem=(_0x53eda8,_0x3a68d,_0x1a95bb,_0x45cff0)=>{const _0x2b36f3=_0x53eda8['map'](_0x55ebd5=>_0x55ebd5['type']==='group'?{..._0x55ebd5,'items':_0x55ebd5['items']['map'](_0x1093d7=>({..._0x1093d7}))}:{..._0x55ebd5});if(_0x3a68d['groupId']!==undefined)pipe(_0x2b36f3['filter'](isGroupLayerItem)['find'](_0x48cd1d=>_0x48cd1d['id']===_0x3a68d['groupId']),option['fromNullable'],option['fold'](()=>console['error']('groupId\x20wasn\x27t\x20found:\x20'+(_0x3a68d['groupId']??'')),_0xf6891=>{const _0x3cc959=_0xf6891['items']['findIndex'](_0x32d61a=>_0x32d61a['id']===_0x3a68d['id']);_0xf6891['items']['splice'](_0x3cc959,0x1);}));else{const _0x2398c8=_0x2b36f3['findIndex'](_0x416568=>_0x416568['id']===_0x3a68d['id']);_0x2b36f3['splice'](_0x2398c8,0x1);}if(_0x45cff0!==undefined)pipe(_0x2b36f3['filter'](isGroupLayerItem)['find'](_0x17729b=>_0x17729b['id']===_0x45cff0),option['fromNullable'],option['fold'](()=>console['error']('groupId\x20wasn\x27t\x20found:\x20'+(_0x45cff0??'')),_0xf67501=>{_0xf67501['items']['splice'](_0x1a95bb,0x0,{..._0x3a68d,'groupId':_0xf67501['id']}),_0xf67501['itemsVisibility']=_0xf67501['items']['map'](_0x150694=>({'id':_0x150694['id'],'visible':_0x150694['visible']}));}));else{const _0x51d659={..._0x3a68d},_0x506025=_0x51d659;_0x506025['groupId']=undefined,_0x2b36f3['splice'](_0x1a95bb,0x0,_0x506025);}return _0x2b36f3;};const compareLayerItemId=(_0x31e425,_0x260dfd)=>_0x31e425===_0x260dfd['id'];export const updateItemInLayerItems=(_0x3d19b5,_0x37e5c0)=>_0x4670c5=>pipe(_0x4670c5,array['map'](_0x50f275=>{if(compareLayerItemId(_0x37e5c0,_0x50f275))return isGroupLayerItem(_0x50f275)?{..._0x3d19b5(_0x50f275),'items':_0x50f275['items']['map'](_0x3d19b5)}:_0x3d19b5(_0x50f275);else return isGroupLayerItem(_0x50f275)?{..._0x50f275,'items':updateItemInLayerItems(_0x3d19b5,_0x37e5c0)(_0x50f275['items'])}:_0x50f275;}));export const generateUniqFn=_0x413096=>function _0x4b8543(_0x2f60e0,_0x3cad9e){return pipe(_0x2f60e0,option['fromPredicate'](_0x413096),option['fold'](()=>{if(_0x2f60e0['match'](/([0-9]+)$/)){const _0x435b5e=_0x2f60e0['replace'](/([0-9]+)$/,''+(_0x3cad9e+0x1));return _0x4b8543(_0x435b5e,_0x3cad9e+0x1);}else return _0x4b8543(_0x2f60e0+'\x20'+_0x3cad9e,_0x3cad9e);},_0x1a93c1=>_0x1a93c1));};