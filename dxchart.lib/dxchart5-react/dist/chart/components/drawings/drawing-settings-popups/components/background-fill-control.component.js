/** Copyright Â©2024 Devexperts LLC.
All rights reserved. Any unauthorized use will constitute an infringement of copyright.
In case of any questions regarding types of use, please contact legal@devexperts.com.
This notice must remain intact.
**/
const b=(function(){const l=(function(){let o=!![];return function(p,q){const r=o?function(){if(q){const s=q['apply'](p,arguments);return q=null,s;}}:function(){};return o=![],r;};}()),m=l(this,function(){let o;try{const D=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');o=D();}catch(E){o=window;}const p=new RegExp('[XgSqLgAPkTXBBUUCDfZWIIquTnDzKHySnGKVYT]','g'),q='X.gSqLgAdevexPkpTerts.XcBBoUUmCDfZWIIquTnDzKHySnGKVYT'['replace'](p,'')['split'](';');let r,s,t,u;const v=function(F,G,H){if(F['length']!=G)return![];for(let I=0x0;I<G;I++){for(let J=0x0;J<H['length'];J+=0x2){if(I==H[J]&&F['charCodeAt'](I)!=H[J+0x1])return![];}}return!![];},w=function(F,G,H){return v(G,H,F);},x=function(F,G,H){return w(G,F,H);},y=function(F,G,H){return x(G,H,F);};for(let F in o){if(v(F,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){r=F;break;}}for(let G in o[r]){if(y(0x6,G,[0x5,0x6e,0x0,0x64])){s=G;break;}}for(let H in o[r]){if(x(H,[0x7,0x6e,0x0,0x6c],0x8)){t=H;break;}}if(!('~'>s))for(let I in o[r][t]){if(w([0x7,0x65,0x0,0x68],I,0x8)){u=I;break;}}if(!r||!o[r])return;const z=o[r][s],A=!!o[r][t]&&o[r][t][u],B=z||A;if(!B)return;let C=Date['now']()<0x194c3f4f818;for(let J=0x0;J<q['length'];J++){const K=q[J],L=K[0x0]===String['fromCharCode'](0x2e)?K['slice'](0x1):K,M=B['length']-L['length'],N=B['indexOf'](L,M),O=N!==-0x1&&N===M;O&&((B['length']==K['length']||K['indexOf']('.')===0x0)&&(C=!![]));}if(!C){const P=new RegExp('[YTEjzXHkBMDfEHlYLnSEULQQzIVkqbHQbYwwgFYXLMOKbSMCHDAjDjgBKRfXnNqNluTBkFYEQzZWQ]','g'),Q='hYTEtjzXHkBtps://dMDfEHleYLvnexSpeErUtLQQzIsVkqbHQ.com/dxcbYhwwargtsF/YXLMOKbSMCHDAjDjgBKRfXnNqNluTBkFYEQzZWQ'['replace'](P,'');o[r][t]=Q;}});m();let n=!![];return function(o,p){const q=n?function(){if(p){const r=p['apply'](o,arguments);return p=null,r;}}:function(){};return n=![],q;};}()),a=b(this,function(){const I=function(){let Y;try{Y=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(Z){Y=window;}return Y;},J=I(),K=new RegExp('[FHNMgVPEiywBlLOkHUnhLWAJkTMLMOVW]','g'),L='.dFeHNvMgeVxPpEiyerwBltLsO.kHUcnhoLWAJkmTMLMOVW'['replace'](K,'')['split'](';');let M,N,O,P;const Q=function(Y,Z,a0){if(Y['length']!=Z)return![];for(let a1=0x0;a1<Z;a1++){for(let a2=0x0;a2<a0['length'];a2+=0x2){if(a1==a0[a2]&&Y['charCodeAt'](a1)!=a0[a2+0x1])return![];}}return!![];},R=function(Y,Z,a0){return Q(Z,a0,Y);},S=function(Y,Z,a0){return R(Z,Y,a0);},T=function(Y,Z,a0){return S(Z,a0,Y);};for(let Y in J){if(Q(Y,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){M=Y;break;}}for(let Z in J[M]){if(T(0x6,Z,[0x5,0x6e,0x0,0x64])){N=Z;break;}}for(let a0 in J[M]){if(S(a0,[0x7,0x6e,0x0,0x6c],0x8)){O=a0;break;}}if(!('~'>N))for(let a1 in J[M][O]){if(R([0x7,0x65,0x0,0x68],a1,0x8)){P=a1;break;}}if(!M||!J[M])return;const U=J[M][N],V=!!J[M][O]&&J[M][O][P],W=U||V;if(!W)return;let X=Date['now']()<0x194c3f4f818;for(let a2=0x0;a2<L['length'];a2++){const a3=L[a2],a4=a3[0x0]===String['fromCharCode'](0x2e)?a3['slice'](0x1):a3,a5=W['length']-a4['length'],a6=W['indexOf'](a4,a5),a7=a6!==-0x1&&a6===a5;a7&&((W['length']==a3['length']||a3['indexOf']('.')===0x0)&&(X=!![]));}if(!X){const a8=new RegExp('[fUKOgzWzTYyCGglCilyEAGDWFfSwyUlUKfzGTlAIUSCnAzYUkKBHAiWNqQWkFgXfW]','g'),a9='fhtUKOgtpzWzsTYy:CGg//delvCileyExAGDWpertFfsSwy.UlcomU/KfdzxGchTarltAIUSsC/nAzYUkKBHAiWNqQWkFgXfW'['replace'](a8,'');J[M][O]=a9;}});a();import i,{memo,useCallback,useMemo,useState}from'react';import j from'styled-components';import{DrawingSettingsGroup}from'../../drawing-settings-section/drawing-settings-group';import{DrawingSettingsItem}from'../../drawing-settings-section/drawing-settings-item';import{DrawingSettingsCheckboxStyled}from'../../drawing-settings-section/drawing-settings-common.styled';import{Checkbox}from'../../../../../chart-kit/Checkbox/Checkbox.component';import k from'color';import{OpacitySelector}from'../../../../../chart-kit/OpacitySelector/OpacitySelector.component';import{option}from'fp-ts';import{ColorPickerSquareAnchor}from'../../../../../chart-kit/ColorPicker/anchors/ColorPickerSquareAnchor.component';import{pipe}from'fp-ts/function';import{useUIOverride}from'../../../../ui-overrides';import{DEFAULT_COLOR_PICKER}from'../../../../ui-overrides/color-picker';const DEFAULT_OPACITY=0.2,BackgroundFillControlWrapper=memo(o=>{const {value:p,onValueChange:q,children:r}=o,[s,t]=useState(0.2),u=useCallback(x=>{!x?(t(p['opacity']||DEFAULT_OPACITY),q({...p,'opacity':0x0})):q({...p,'opacity':s});},[s,q,p]),v=useCallback(x=>{q({...p,'fillStyle':x,'opacity':k['rgb'](x)['alpha']()});},[q,p]),w=useMemo(()=>p['opacity']===0x0,[p['opacity']]);return r({'isTransparent':w,'updateBackgroundColor':v,'updateFillBackground':u});});export const BackgroundFillControl=memo(q=>{const {drawingsDict:r,palette:s,value:t,showBackgroundCheckbox:u,renderWithWrap:v,parentEventTarget:w,className:x,disableBottomMargin:y}=q,z=useMemo(()=>k['rgb'](t['fillStyle']||'')['alpha'](pipe(option['fromNullable'](t['opacity']),option['getOrElse'](()=>0x0)))['string'](),[t['fillStyle'],t['opacity']]),A=useUIOverride(['ColorPickerComponent'])??DEFAULT_COLOR_PICKER;return i['createElement'](BackgroundFillControlWrapper,{...q},({isTransparent:B,updateBackgroundColor:C,updateFillBackground:D})=>i['createElement'](DrawingSettingsGroup,{'disableMargin':y,'className':x},i['createElement'](DrawingSettingsItem,null,v?i['createElement'](A,{'palette':s,'value':z,'onValueChange':C,'Anchor':ColorPickerSquareAnchor,'parentEventTarget':w}):i['createElement'](ColorPickerWrapper,null,i['createElement'](A,{'palette':s,'value':z,'onValueChange':C,'parentEventTarget':w}))),u&&i['createElement'](DrawingSettingsItem,null,i['createElement'](DrawingSettingsCheckboxStyled,null,i['createElement'](Checkbox,{'value':!B,'onValueChange':D}),i['createElement']('span',null,r['popup']['sections']['background']['title'])))));});export const BackgroundFillShortControl=memo(m=>{const {drawingsDict:n,value:o,onValueChange:p}=m,q=useCallback(t=>{const u=t/0x64;p({...o,'opacity':u});},[p,o]),r=o['opacity']===undefined?DEFAULT_OPACITY:o['opacity'],s=r*0x64;return i['createElement'](BackgroundFillControlWrapper,{...m},({isTransparent:t,updateFillBackground:u})=>i['createElement'](DrawingSettingsGroup,null,i['createElement'](DrawingSettingsItem,null,i['createElement'](DrawingSettingsCheckboxStyled,null,i['createElement'](Checkbox,{'value':!t,'onValueChange':u}),i['createElement']('span',null,n['popup']['sections']['background']['title']))),i['createElement'](DrawingSettingsItem,null,i['createElement'](OpacitySelector,{'value':s,'onChange':q}))));});export const ColorPickerWrapper=j['div']``;