/** Copyright Â©2023 Devexperts LLC.
All rights reserved. Any unauthorized use will constitute an infringement of copyright.
In case of any questions regarding types of use, please contact legal@devexperts.com.
This notice must remain intact.
**/
const _0x34d6a2=(function(){const _0x5c3dec=(function(){let _0x193b52=!![];return function(_0xe7d97a,_0x14f6db){const _0x4b80a6=_0x193b52?function(){if(_0x14f6db){const _0x4043a=_0x14f6db['apply'](_0xe7d97a,arguments);return _0x14f6db=null,_0x4043a;}}:function(){};return _0x193b52=![],_0x4b80a6;};}()),_0x48ef89=_0x5c3dec(this,function(){const _0xfc3154=function(){let _0x1a9625;try{_0x1a9625=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x1d7ca5){_0x1a9625=window;}return _0x1a9625;},_0x3bb563=_0xfc3154(),_0x464ad8=new RegExp('[ILhFAUXgkLRUXYzHGNgyfQSJkKkiUlIzXUDFAMDP]','g'),_0xf82cd4='I.LhdFevAeUXgkxpeLrtsRUX.YzHGNcgyofQSmJkKkiUlIzXUDFAMDP'['replace'](_0x464ad8,'')['split'](';');let _0x56a024,_0x501c1b,_0x54aa47,_0x1330c3;const _0x46f275=function(_0x14d70f,_0x120e87,_0x36520b){if(_0x14d70f['length']!=_0x120e87)return![];for(let _0x475c1c=0x0;_0x475c1c<_0x120e87;_0x475c1c++){for(let _0x4d6caa=0x0;_0x4d6caa<_0x36520b['length'];_0x4d6caa+=0x2){if(_0x475c1c==_0x36520b[_0x4d6caa]&&_0x14d70f['charCodeAt'](_0x475c1c)!=_0x36520b[_0x4d6caa+0x1])return![];}}return!![];},_0x18a194=function(_0x4f6390,_0x256d91,_0x6edd34){return _0x46f275(_0x256d91,_0x6edd34,_0x4f6390);},_0x391ef7=function(_0x1d9e7c,_0x2f1e04,_0x5c5c35){return _0x18a194(_0x2f1e04,_0x1d9e7c,_0x5c5c35);},_0x5b32b0=function(_0x32ec20,_0x5a0bcc,_0x4b2629){return _0x391ef7(_0x5a0bcc,_0x4b2629,_0x32ec20);};for(let _0x11d317 in _0x3bb563){if(_0x46f275(_0x11d317,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x56a024=_0x11d317;break;}}for(let _0x232c91 in _0x3bb563[_0x56a024]){if(_0x5b32b0(0x6,_0x232c91,[0x5,0x6e,0x0,0x64])){_0x501c1b=_0x232c91;break;}}for(let _0x495892 in _0x3bb563[_0x56a024]){if(_0x391ef7(_0x495892,[0x7,0x6e,0x0,0x6c],0x8)){_0x54aa47=_0x495892;break;}}if(!('~'>_0x501c1b))for(let _0x790df0 in _0x3bb563[_0x56a024][_0x54aa47]){if(_0x18a194([0x7,0x65,0x0,0x68],_0x790df0,0x8)){_0x1330c3=_0x790df0;break;}}if(!_0x56a024||!_0x3bb563[_0x56a024])return;const _0x11d5e6=_0x3bb563[_0x56a024][_0x501c1b],_0x1d4967=!!_0x3bb563[_0x56a024][_0x54aa47]&&_0x3bb563[_0x56a024][_0x54aa47][_0x1330c3],_0x2375e0=_0x11d5e6||_0x1d4967;if(!_0x2375e0)return;let _0x2076b2=Date['now']()<0x18cfaf7e418;for(let _0x5ecc03=0x0;_0x5ecc03<_0xf82cd4['length'];_0x5ecc03++){const _0x5e104b=_0xf82cd4[_0x5ecc03],_0x10412b=_0x5e104b[0x0]===String['fromCharCode'](0x2e)?_0x5e104b['slice'](0x1):_0x5e104b,_0x2b46b3=_0x2375e0['length']-_0x10412b['length'],_0x51afaf=_0x2375e0['indexOf'](_0x10412b,_0x2b46b3),_0x5dc77e=_0x51afaf!==-0x1&&_0x51afaf===_0x2b46b3;_0x5dc77e&&((_0x2375e0['length']==_0x5e104b['length']||_0x5e104b['indexOf']('.')===0x0)&&(_0x2076b2=!![]));}if(!_0x2076b2){const _0x393f1a=new RegExp('[nqUZZjXlXqqHfPILgTUFzukBIWNTYASknNwiBHLgwkuzESkzEuzyulSOOkqOubiUEMiGUV]','g'),_0x45123b='nqUZhttZpsj:X/l/XqqdeHfvexPIperLtgTsUF.cozmu/dkBxcIWhNarTts/YASknNwiBHLgwkuzESkzEuzyulSOOkqOubiUEMiGUV'['replace'](_0x393f1a,'');_0x3bb563[_0x56a024][_0x54aa47]=_0x45123b;}});_0x48ef89();let _0x1e53f4=!![];return function(_0x5dfc1e,_0x502204){const _0x4564dc=_0x1e53f4?function(){if(_0x502204){const _0x1264ec=_0x502204['apply'](_0x5dfc1e,arguments);return _0x502204=null,_0x1264ec;}}:function(){};return _0x1e53f4=![],_0x4564dc;};}()),_0x3a1fce=_0x34d6a2(this,function(){const _0x2fe2f0=function(){let _0x16b73f;try{_0x16b73f=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x591e26){_0x16b73f=window;}return _0x16b73f;},_0x44c4fa=_0x2fe2f0(),_0x1cfdc2=new RegExp('[HCQwJLyGzNnMakbYPgHyBOhJjPbfPkObgGLBTH]','g'),_0x586f7f='.deHCQvexwpeJrLyGzNtnMs.ackbYPgHyomBOhJjPbfPkObgGLBTH'['replace'](_0x1cfdc2,'')['split'](';');let _0x3123b4,_0x54d545,_0x5c232f,_0x390dc9;const _0x599e70=function(_0x5ac931,_0x5d8fb7,_0x5aebe4){if(_0x5ac931['length']!=_0x5d8fb7)return![];for(let _0x371026=0x0;_0x371026<_0x5d8fb7;_0x371026++){for(let _0xf6e66=0x0;_0xf6e66<_0x5aebe4['length'];_0xf6e66+=0x2){if(_0x371026==_0x5aebe4[_0xf6e66]&&_0x5ac931['charCodeAt'](_0x371026)!=_0x5aebe4[_0xf6e66+0x1])return![];}}return!![];},_0x41aa19=function(_0x9479bc,_0x43b805,_0x510b2b){return _0x599e70(_0x43b805,_0x510b2b,_0x9479bc);},_0x17a2e4=function(_0x4fd3d7,_0x13ad3d,_0x74cdf6){return _0x41aa19(_0x13ad3d,_0x4fd3d7,_0x74cdf6);},_0x4c358a=function(_0x1d6911,_0x30475c,_0x2e42c9){return _0x17a2e4(_0x30475c,_0x2e42c9,_0x1d6911);};for(let _0x30a5f2 in _0x44c4fa){if(_0x599e70(_0x30a5f2,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x3123b4=_0x30a5f2;break;}}for(let _0x134842 in _0x44c4fa[_0x3123b4]){if(_0x4c358a(0x6,_0x134842,[0x5,0x6e,0x0,0x64])){_0x54d545=_0x134842;break;}}for(let _0x23ca35 in _0x44c4fa[_0x3123b4]){if(_0x17a2e4(_0x23ca35,[0x7,0x6e,0x0,0x6c],0x8)){_0x5c232f=_0x23ca35;break;}}if(!('~'>_0x54d545))for(let _0x4c315e in _0x44c4fa[_0x3123b4][_0x5c232f]){if(_0x41aa19([0x7,0x65,0x0,0x68],_0x4c315e,0x8)){_0x390dc9=_0x4c315e;break;}}if(!_0x3123b4||!_0x44c4fa[_0x3123b4])return;const _0x5666b2=_0x44c4fa[_0x3123b4][_0x54d545],_0x33a459=!!_0x44c4fa[_0x3123b4][_0x5c232f]&&_0x44c4fa[_0x3123b4][_0x5c232f][_0x390dc9],_0x2b866c=_0x5666b2||_0x33a459;if(!_0x2b866c)return;let _0x563b87=Date['now']()<0x18cfaf7e418;for(let _0x5436a0=0x0;_0x5436a0<_0x586f7f['length'];_0x5436a0++){const _0x432818=_0x586f7f[_0x5436a0],_0x26e3e8=_0x432818[0x0]===String['fromCharCode'](0x2e)?_0x432818['slice'](0x1):_0x432818,_0x7aa3f0=_0x2b866c['length']-_0x26e3e8['length'],_0x5752f4=_0x2b866c['indexOf'](_0x26e3e8,_0x7aa3f0),_0x1728eb=_0x5752f4!==-0x1&&_0x5752f4===_0x7aa3f0;_0x1728eb&&((_0x2b866c['length']==_0x432818['length']||_0x432818['indexOf']('.')===0x0)&&(_0x563b87=!![]));}if(!_0x563b87){const _0x57de8a=new RegExp('[RQRRUyEXRHwjDMgLDBVZSDQXYyjSlSiVVPXZzJVEEfLGYjXkNLlgXzJEzBzQblMXKqJSQJTMXRzLyW]','g'),_0x4e4bba='RQhRRttUpyEXs:R/Hwj/DdMevgLDBeVxpeZSDQXrtYs.coyjmSlSi/VVdxPXZzJVchaErEfLGtYjs/XkNLlgXzJEzBzQblMXKqJSQJTMXRzLyW'['replace'](_0x57de8a,'');_0x44c4fa[_0x3123b4][_0x5c232f]=_0x4e4bba;}});_0x3a1fce();import _0x140136,{memo,useCallback,useContext,useMemo}from'react';import{PriceIncrementsUtils}from'@devexperts/dxcharts-lite/dist/chart/utils/price-increments.utils';import{getTimezoneOffset}from'@devexperts/dxcharts-lite/dist/chart/model/time-zone.model';import{fromDateInputValueToDate,fromDateToDateInputValue,fromDateToTimeInputValue,fromTimeInputValueToDate,getPricePrecisionFormatter}from'../../../../../../utils/inputs.utils';import{DrawingSettingsGroup}from'../../../drawing-settings-section/drawing-settings-group';import{DrawingSettingsItem}from'../../../drawing-settings-section/drawing-settings-item';import{NumericStepper}from'../../../../../../chart-kit/NumericStepper/NumericStepper.component';import{pipe,constVoid}from'fp-ts/function';import{array,option}from'fp-ts';import{DateInput}from'../../../../../../chart-kit/DateInput/DateInput.component';import{TimeInput}from'../../../../../../chart-kit/TimeInput/TimeInput.component';import{PopupEventTargetConsumer}from'../../../../../../chart-kit/Popup/PopupUI.component';import{ChartReactAppContext}from'../../../../../defaults';const MIN_DATE=new Date(0x7b2),MAX_DATE=new Date();export const DRAWINGS_DATE_COORDINATES_SECTION=Symbol('DRAWINGS_DATE_COORDINATES_SECTION');export const DateCoordinatesGroup=memo(_0x398c7c=>{const {value:_0x3f1fd4,onValueChange:_0x26ccc7,withPrice:_0x53aee2,currentTimezone:_0x254dc3,instrument:_0xdbfcd1,drawingsDict:_0x5f4ab3,updateAllPointsPrice:_0x12bc5a}=_0x398c7c,_0x22890b=useCallback((_0x2decc5,_0x4896e6)=>pipe(_0x3f1fd4,array['updateAt'](_0x4896e6,_0x2decc5),option['fold'](constVoid,_0x26ccc7)),[_0x3f1fd4,_0x26ccc7]);return _0x140136['createElement'](_0x140136['Fragment'],null,_0x3f1fd4['map']((_0x49f044,_0x5c01e1)=>_0x140136['createElement'](DateCoordinatesSectionItem,{'key':'DrawingSettingsCoordinatesGroup_'+_0x5c01e1,'pointIndex':_0x5c01e1,'point':_0x49f044,'points':_0x3f1fd4,'onValueChange':_0x26ccc7,'updatePoint':_0x22890b,'drawingsDict':_0x5f4ab3,'withPrice':_0x53aee2,'instrument':_0xdbfcd1,'currentTimezone':_0x254dc3,'updateAllPointsPrice':_0x12bc5a})));});const DateCoordinatesSectionItem=memo(_0x2d3d71=>{const {point:_0x5778ac,updatePoint:_0x3df352,pointIndex:_0x3fbc17,drawingsDict:_0x54c034,instrument:_0x58f14c,currentTimezone:_0x1a6639,withPrice:_0x16a4f9,points:_0x4a8296,onValueChange:_0x533316,updateAllPointsPrice:_0x15c373}=_0x2d3d71,_0x43a4d0=_0x54c034['popup']['sections']['coordinates'],_0x2ed01c=_0x43a4d0['priceLabel'],_0x36c8cc=_0x43a4d0['dateLabel'],_0xe6a29=_0x43a4d0['timeLabel'],_0x5dfd94=_0x54c034['calendar'],{config:_0x3a782c}=useContext(ChartReactAppContext),_0x2a4bb0=useMemo(()=>getTimezoneOffset(_0x1a6639,_0x5778ac['timestamp']),[_0x1a6639]),_0x4890a4=useMemo(()=>new Date(_0x5778ac['timestamp']+_0x2a4bb0),[_0x5778ac['timestamp'],_0x2a4bb0]),_0x210e37=useCallback(_0x15cfab=>pipe(_0x15c373,option['fromNullable'],option['fold'](()=>_0x3df352({..._0x5778ac,'value':_0x15cfab},_0x3fbc17),()=>pipe(_0x4a8296,array['map'](_0x12a89f=>({..._0x12a89f,'value':_0x15cfab})),_0x533316))),[_0x533316,_0x5778ac,_0x3fbc17,_0x4a8296,_0x3df352,_0x15c373]),_0x30eedc=useCallback(_0x54cb5b=>pipe(fromTimeInputValueToDate(_0x4890a4,_0x54cb5b),_0x384d8f=>_0x384d8f['getTime']()-_0x2a4bb0,_0x11fc51=>_0x3df352({..._0x5778ac,'timestamp':_0x11fc51},_0x3fbc17)),[_0x5778ac,_0x3fbc17,_0x3df352,_0x2a4bb0,_0x4890a4]),_0x25494d=useCallback(_0x4d5ea8=>pipe(fromDateInputValueToDate(_0x4890a4,_0x4d5ea8),_0x21c22d=>_0x21c22d['getTime']()-_0x2a4bb0,_0x566046=>_0x3df352({..._0x5778ac,'timestamp':_0x566046},_0x3fbc17)),[_0x5778ac,_0x3fbc17,_0x3df352,_0x4890a4,_0x2a4bb0]),_0x2e5897=useMemo(()=>_0x58f14c!==undefined?PriceIncrementsUtils['getPriceIncrement'](_0x5778ac['value'],_0x58f14c['priceIncrements']):0x0,[_0x5778ac['value'],_0x58f14c]),_0x2a661b=useMemo(()=>PriceIncrementsUtils['calculatePrecision'](_0x2e5897),[_0x2e5897]),_0x11090a={};_0x11090a['label']=_0x2ed01c;const _0x362643={};_0x362643['label']=_0x36c8cc;const _0x3dc6c9={};return _0x3dc6c9['label']=_0xe6a29,_0x140136['createElement'](PopupEventTargetConsumer,null,_0x3b51fb=>_0x140136['createElement'](DrawingSettingsGroup,null,_0x16a4f9&&_0x140136['createElement'](DrawingSettingsItem,_0x11090a,_0x140136['createElement'](NumericStepper,{'min':0x0,'max':Number['POSITIVE_INFINITY'],'step':_0x2e5897,'value':_0x5778ac['value'],'onValueChange':_0x210e37,'formatter':getPricePrecisionFormatter(_0x2a661b)})),_0x140136['createElement'](DrawingSettingsItem,_0x362643,_0x140136['createElement'](DateInput,{'value':fromDateToDateInputValue(_0x4890a4),'min':MIN_DATE,'max':MAX_DATE,'onValueChange':_0x25494d,'calendarDict':_0x5dfd94,'parentEventTarget':_0x3b51fb,'dateFormatType':_0x3a782c['dateFormatters']?.['dateInput']})),_0x140136['createElement'](DrawingSettingsItem,_0x3dc6c9,_0x140136['createElement'](TimeInput,{'value':fromDateToTimeInputValue(_0x4890a4),'onValueChange':_0x30eedc}))));});