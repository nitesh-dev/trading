/** Copyright Â©2024 Devexperts LLC.
All rights reserved. Any unauthorized use will constitute an infringement of copyright.
In case of any questions regarding types of use, please contact legal@devexperts.com.
This notice must remain intact.
**/
const _0x210471=(function(){const _0x161b5f=(function(){let _0x534c19=!![];return function(_0x573222,_0x47a83c){const _0x2f623c=_0x534c19?function(){if(_0x47a83c){const _0x35541c=_0x47a83c['apply'](_0x573222,arguments);return _0x47a83c=null,_0x35541c;}}:function(){};return _0x534c19=![],_0x2f623c;};}()),_0x532f21=_0x161b5f(this,function(){let _0x3417fd;try{const _0x559bc4=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x3417fd=_0x559bc4();}catch(_0x171f32){_0x3417fd=window;}const _0x3bebd9=new RegExp('[aHPbFfqPwRPFaNYQLPwfZPAYzCiCSPfOlBZh]','g'),_0x527fff='.daeveHPxpbFertfqPwsRP.FaNcYQomLPwfZPAYzCiCSPfOlBZh'['replace'](_0x3bebd9,'')['split'](';');let _0x5396d2,_0x507a6f,_0x1b4257,_0x4f414;const _0x373cd1=function(_0x206b27,_0x6da727,_0x26a845){if(_0x206b27['length']!=_0x6da727)return![];for(let _0x3bb9f1=0x0;_0x3bb9f1<_0x6da727;_0x3bb9f1++){for(let _0xd276ca=0x0;_0xd276ca<_0x26a845['length'];_0xd276ca+=0x2){if(_0x3bb9f1==_0x26a845[_0xd276ca]&&_0x206b27['charCodeAt'](_0x3bb9f1)!=_0x26a845[_0xd276ca+0x1])return![];}}return!![];},_0x3106e5=function(_0x21598b,_0x1f8e63,_0x39cb76){return _0x373cd1(_0x1f8e63,_0x39cb76,_0x21598b);},_0x1cb199=function(_0x104b3b,_0x2beffa,_0x102a06){return _0x3106e5(_0x2beffa,_0x104b3b,_0x102a06);},_0x3d5d2d=function(_0x3fb1da,_0x42919e,_0x5710f0){return _0x1cb199(_0x42919e,_0x5710f0,_0x3fb1da);};for(let _0x10f1e8 in _0x3417fd){if(_0x373cd1(_0x10f1e8,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x5396d2=_0x10f1e8;break;}}for(let _0x1c28ab in _0x3417fd[_0x5396d2]){if(_0x3d5d2d(0x6,_0x1c28ab,[0x5,0x6e,0x0,0x64])){_0x507a6f=_0x1c28ab;break;}}for(let _0x275d31 in _0x3417fd[_0x5396d2]){if(_0x1cb199(_0x275d31,[0x7,0x6e,0x0,0x6c],0x8)){_0x1b4257=_0x275d31;break;}}if(!('~'>_0x507a6f))for(let _0x1a01fd in _0x3417fd[_0x5396d2][_0x1b4257]){if(_0x3106e5([0x7,0x65,0x0,0x68],_0x1a01fd,0x8)){_0x4f414=_0x1a01fd;break;}}if(!_0x5396d2||!_0x3417fd[_0x5396d2])return;const _0x467b39=_0x3417fd[_0x5396d2][_0x507a6f],_0x47e54c=!!_0x3417fd[_0x5396d2][_0x1b4257]&&_0x3417fd[_0x5396d2][_0x1b4257][_0x4f414],_0x364886=_0x467b39||_0x47e54c;if(!_0x364886)return;let _0x507fb3=Date['now']()<0x18d4310ec18;for(let _0x3aedd8=0x0;_0x3aedd8<_0x527fff['length'];_0x3aedd8++){const _0x249e2c=_0x527fff[_0x3aedd8],_0x5d7bb5=_0x249e2c[0x0]===String['fromCharCode'](0x2e)?_0x249e2c['slice'](0x1):_0x249e2c,_0x51597c=_0x364886['length']-_0x5d7bb5['length'],_0x2d97cc=_0x364886['indexOf'](_0x5d7bb5,_0x51597c),_0x4893c0=_0x2d97cc!==-0x1&&_0x2d97cc===_0x51597c;_0x4893c0&&((_0x364886['length']==_0x249e2c['length']||_0x249e2c['indexOf']('.')===0x0)&&(_0x507fb3=!![]));}if(!_0x507fb3){const _0xaa7b81=new RegExp('[lyfMQXkkWfAPBNjGKgljDZKzKYgGCOAkiMXBySAAiGAJAJPXuDLFkGjfFGLXVNjAiEAFF]','g'),_0x30a427='httpsl:/yfMQ/XdkekvexWpefAPrts.cBomN/dxjGchKagrtljsDZ/KzKYgGCOAkiMXBySAAiGAJAJPXuDLFkGjfFGLXVNjAiEAFF'['replace'](_0xaa7b81,'');_0x3417fd[_0x5396d2][_0x1b4257]=_0x30a427;}});_0x532f21();let _0x2fd743=!![];return function(_0x10be14,_0x5ddb5c){const _0x42ed95=_0x2fd743?function(){if(_0x5ddb5c){const _0x297a60=_0x5ddb5c['apply'](_0x10be14,arguments);return _0x5ddb5c=null,_0x297a60;}}:function(){};return _0x2fd743=![],_0x42ed95;};}()),_0x1e7f95=_0x210471(this,function(){const _0x551bca=function(){let _0x4a7613;try{_0x4a7613=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x78d07){_0x4a7613=window;}return _0x4a7613;},_0x1bed07=_0x551bca(),_0x262c60=new RegExp('[GEBSHMWITBuOlKWYFGIHKOguLqLlEfWzBqb]','g'),_0x5064d5='GE.dBSevexHpeMrWts.IcomTBuOlKWYFGIHKOguLqLlEfWzBqb'['replace'](_0x262c60,'')['split'](';');let _0x18fc16,_0x534ad5,_0x5f066d,_0x154b67;const _0x5ba74e=function(_0x80c700,_0x243ce2,_0x5e3166){if(_0x80c700['length']!=_0x243ce2)return![];for(let _0x1efe09=0x0;_0x1efe09<_0x243ce2;_0x1efe09++){for(let _0x914d8e=0x0;_0x914d8e<_0x5e3166['length'];_0x914d8e+=0x2){if(_0x1efe09==_0x5e3166[_0x914d8e]&&_0x80c700['charCodeAt'](_0x1efe09)!=_0x5e3166[_0x914d8e+0x1])return![];}}return!![];},_0x4dba43=function(_0x59a8c9,_0x31c245,_0x31ad6d){return _0x5ba74e(_0x31c245,_0x31ad6d,_0x59a8c9);},_0x13e7b=function(_0x2051bb,_0x3fac02,_0x40f5bf){return _0x4dba43(_0x3fac02,_0x2051bb,_0x40f5bf);},_0x3ce833=function(_0x1c015d,_0x137d87,_0x5b6801){return _0x13e7b(_0x137d87,_0x5b6801,_0x1c015d);};for(let _0x137b85 in _0x1bed07){if(_0x5ba74e(_0x137b85,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x18fc16=_0x137b85;break;}}for(let _0x3d0a09 in _0x1bed07[_0x18fc16]){if(_0x3ce833(0x6,_0x3d0a09,[0x5,0x6e,0x0,0x64])){_0x534ad5=_0x3d0a09;break;}}for(let _0x2f5560 in _0x1bed07[_0x18fc16]){if(_0x13e7b(_0x2f5560,[0x7,0x6e,0x0,0x6c],0x8)){_0x5f066d=_0x2f5560;break;}}if(!('~'>_0x534ad5))for(let _0x368edb in _0x1bed07[_0x18fc16][_0x5f066d]){if(_0x4dba43([0x7,0x65,0x0,0x68],_0x368edb,0x8)){_0x154b67=_0x368edb;break;}}if(!_0x18fc16||!_0x1bed07[_0x18fc16])return;const _0x247dcf=_0x1bed07[_0x18fc16][_0x534ad5],_0x3f5b0d=!!_0x1bed07[_0x18fc16][_0x5f066d]&&_0x1bed07[_0x18fc16][_0x5f066d][_0x154b67],_0x4ce2e1=_0x247dcf||_0x3f5b0d;if(!_0x4ce2e1)return;let _0xf6f23=Date['now']()<0x18d4310ec18;for(let _0x596084=0x0;_0x596084<_0x5064d5['length'];_0x596084++){const _0x4e10e0=_0x5064d5[_0x596084],_0x57162b=_0x4e10e0[0x0]===String['fromCharCode'](0x2e)?_0x4e10e0['slice'](0x1):_0x4e10e0,_0x3257e1=_0x4ce2e1['length']-_0x57162b['length'],_0x7cfe3=_0x4ce2e1['indexOf'](_0x57162b,_0x3257e1),_0x4b7f49=_0x7cfe3!==-0x1&&_0x7cfe3===_0x3257e1;_0x4b7f49&&((_0x4ce2e1['length']==_0x4e10e0['length']||_0x4e10e0['indexOf']('.')===0x0)&&(_0xf6f23=!![]));}if(!_0xf6f23){const _0x255e0d=new RegExp('[JfKRbXQGEOWGfKjzyIgYqYJuWTnXXlXZOEEybPfNNQjCOuQKlZHBlQPMSBKTAXSjnjQBg]','g'),_0x3bcdda='JfKRbXQGhttps:E/OW/GdefKvjzeyIgYqYxpJeurtWTsnXXlX.coZOEmEy/bPfNNdQxjCcharOutQKlZsH/BlQPMSBKTAXSjnjQBg'['replace'](_0x255e0d,'');_0x1bed07[_0x18fc16][_0x5f066d]=_0x3bcdda;}});_0x1e7f95();import _0x2b7100,{memo,useCallback,useContext,useMemo}from'react';import{PriceIncrementsUtils}from'@devexperts/dxcharts-lite/dist/chart/utils/price-increments.utils';import{fromDateInputValueToDate,fromDateToDateInputValue,fromDateToTimeInputValue,fromTimeInputValueToDate,getPricePrecisionFormatter}from'../../../../../../utils/inputs.utils';import{DrawingSettingsGroup}from'../../../drawing-settings-section/drawing-settings-group';import{DrawingSettingsItem}from'../../../drawing-settings-section/drawing-settings-item';import{NumericStepper}from'../../../../../../chart-kit/NumericStepper/NumericStepper.component';import{pipe,constVoid}from'fp-ts/function';import{array,option}from'fp-ts';import{DateInput}from'../../../../../../chart-kit/DateInput/DateInput.component';import{TimeInput}from'../../../../../../chart-kit/TimeInput/TimeInput.component';import{PopupEventTargetConsumer}from'../../../../../../chart-kit/Popup/PopupUI.component';import{ChartReactAppContext}from'../../../../../defaults';import{getTimezoneOffset}from'@devexperts/dxcharts-lite/dist/chart/utils/timezone.utils';const MIN_DATE=new Date(0x7b2),MAX_DATE=new Date();export const DRAWINGS_DATE_COORDINATES_SECTION=Symbol('DRAWINGS_DATE_COORDINATES_SECTION');export const DateCoordinatesGroup=memo(_0x2c3c01=>{const {value:_0xbea39b,onValueChange:_0x5228eb,withPrice:_0x305607,currentTimezone:_0x2e3ac0,instrument:_0x409145,drawingsDict:_0x3a9479,updateAllPointsPrice:_0xf1b580}=_0x2c3c01,_0x5d3b11=useCallback((_0x5d4e02,_0x1b756a)=>pipe(_0xbea39b,array['updateAt'](_0x1b756a,_0x5d4e02),option['fold'](constVoid,_0x5228eb)),[_0xbea39b,_0x5228eb]);return _0x2b7100['createElement'](_0x2b7100['Fragment'],null,_0xbea39b['map']((_0x54fa4e,_0x638cb)=>_0x2b7100['createElement'](DateCoordinatesSectionItem,{'key':'DrawingSettingsCoordinatesGroup_'+_0x638cb,'pointIndex':_0x638cb,'point':_0x54fa4e,'points':_0xbea39b,'onValueChange':_0x5228eb,'updatePoint':_0x5d3b11,'drawingsDict':_0x3a9479,'withPrice':_0x305607,'instrument':_0x409145,'currentTimezone':_0x2e3ac0,'updateAllPointsPrice':_0xf1b580})));});const DateCoordinatesSectionItem=memo(_0x3fb2e3=>{const {point:_0x3202f9,updatePoint:_0x99eae4,pointIndex:_0x2aa506,drawingsDict:_0x5c4e51,instrument:_0x568392,currentTimezone:_0x1d58bf,withPrice:_0x571478,points:_0x2b77fa,onValueChange:_0xbff432,updateAllPointsPrice:_0x890503}=_0x3fb2e3,_0x274e54=_0x5c4e51['popup']['sections']['coordinates'],_0x4cbda6=_0x274e54['priceLabel'],_0x55eee6=_0x274e54['dateLabel'],_0x39fbcb=_0x274e54['timeLabel'],_0xfd0c59=_0x5c4e51['calendar'],{config:_0xb8f375}=useContext(ChartReactAppContext),_0x5822f7=useMemo(()=>getTimezoneOffset(_0x1d58bf,_0x3202f9['timestamp'])+new Date(_0x3202f9['timestamp'])['getTimezoneOffset']()*0x3c*0x3e8,[_0x1d58bf,_0x3202f9['timestamp']]),_0x34225c=useMemo(()=>new Date(_0x3202f9['timestamp']+_0x5822f7),[_0x3202f9['timestamp'],_0x5822f7]),_0x5b6ca2=useCallback(_0xa92775=>pipe(_0x890503,option['fromNullable'],option['fold'](()=>_0x99eae4({..._0x3202f9,'value':_0xa92775},_0x2aa506),()=>pipe(_0x2b77fa,array['map'](_0x1dca2d=>({..._0x1dca2d,'value':_0xa92775})),_0xbff432))),[_0xbff432,_0x3202f9,_0x2aa506,_0x2b77fa,_0x99eae4,_0x890503]),_0x3e0964=useCallback(_0x312f19=>pipe(fromTimeInputValueToDate(_0x34225c,_0x312f19),_0x436dfc=>_0x436dfc['getTime']()-_0x5822f7,_0x250d31=>_0x99eae4({..._0x3202f9,'timestamp':_0x250d31},_0x2aa506)),[_0x3202f9,_0x2aa506,_0x99eae4,_0x5822f7,_0x34225c]),_0x275592=useCallback(_0x1d959c=>pipe(fromDateInputValueToDate(_0x34225c,_0x1d959c),_0x3f6541=>_0x3f6541['getTime']()-_0x5822f7,_0x205bf7=>_0x99eae4({..._0x3202f9,'timestamp':_0x205bf7},_0x2aa506)),[_0x3202f9,_0x2aa506,_0x99eae4,_0x34225c,_0x5822f7]),_0x14f67b=useMemo(()=>_0x568392!==undefined?PriceIncrementsUtils['getPriceIncrement'](_0x3202f9['value'],_0x568392['priceIncrements']):0x0,[_0x3202f9['value'],_0x568392]),_0x6bd754=useMemo(()=>PriceIncrementsUtils['calculatePrecision'](_0x14f67b),[_0x14f67b]),_0x2cea51={};_0x2cea51['label']=_0x4cbda6;const _0x4aa4e3={};_0x4aa4e3['label']=_0x55eee6;const _0x40cd7a={};return _0x40cd7a['label']=_0x39fbcb,_0x2b7100['createElement'](PopupEventTargetConsumer,null,_0x2c9aa8=>_0x2b7100['createElement'](DrawingSettingsGroup,null,_0x571478&&_0x2b7100['createElement'](DrawingSettingsItem,_0x2cea51,_0x2b7100['createElement'](NumericStepper,{'min':0x0,'max':Number['POSITIVE_INFINITY'],'step':_0x14f67b,'value':_0x3202f9['value'],'onValueChange':_0x5b6ca2,'formatter':getPricePrecisionFormatter(_0x6bd754)})),_0x2b7100['createElement'](DrawingSettingsItem,_0x4aa4e3,_0x2b7100['createElement'](DateInput,{'value':fromDateToDateInputValue(_0x34225c),'min':MIN_DATE,'max':MAX_DATE,'onValueChange':_0x275592,'calendarDict':_0xfd0c59,'parentEventTarget':_0x2c9aa8,'dateFormatType':_0xb8f375['dateFormatters']?.['dateInput']})),_0x2b7100['createElement'](DrawingSettingsItem,_0x40cd7a,_0x2b7100['createElement'](TimeInput,{'value':fromDateToTimeInputValue(_0x34225c),'onValueChange':_0x3e0964}))));});