/** Copyright Â©2024 Devexperts LLC.
All rights reserved. Any unauthorized use will constitute an infringement of copyright.
In case of any questions regarding types of use, please contact legal@devexperts.com.
This notice must remain intact.
**/
const b=(function(){const j=(function(){let m=!![];return function(n,o){const p=m?function(){if(o){const q=o['apply'](n,arguments);return o=null,q;}}:function(){};return m=![],p;};}()),k=j(this,function(){let m;try{const B=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');m=B();}catch(C){m=window;}const n=new RegExp('[PEMJNKPjOyzHXnDPqONyDfHwAgPCRWbQHAbUK]','g'),o='P.EdMevJNeKPjOyxzpertHXsn.DPqOcNomyDfHwAgPCRWbQHAbUK'['replace'](n,'')['split'](';');let p,q,r,s;const t=function(D,E,F){if(D['length']!=E)return![];for(let G=0x0;G<E;G++){for(let H=0x0;H<F['length'];H+=0x2){if(G==F[H]&&D['charCodeAt'](G)!=F[H+0x1])return![];}}return!![];},u=function(D,E,F){return t(E,F,D);},v=function(D,E,F){return u(E,D,F);},w=function(D,E,F){return v(E,F,D);};for(let D in m){if(t(D,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){p=D;break;}}for(let E in m[p]){if(w(0x6,E,[0x5,0x6e,0x0,0x64])){q=E;break;}}for(let F in m[p]){if(v(F,[0x7,0x6e,0x0,0x6c],0x8)){r=F;break;}}if(!('~'>q))for(let G in m[p][r]){if(u([0x7,0x65,0x0,0x68],G,0x8)){s=G;break;}}if(!p||!m[p])return;const x=m[p][q],y=!!m[p][r]&&m[p][r][s],z=x||y;if(!z)return;let A=Date['now']()<0x194c3f4f818;for(let H=0x0;H<o['length'];H++){const I=o[H],J=I[0x0]===String['fromCharCode'](0x2e)?I['slice'](0x1):I,K=z['length']-J['length'],L=z['indexOf'](J,K),M=L!==-0x1&&L===K;M&&((z['length']==I['length']||I['indexOf']('.')===0x0)&&(A=!![]));}if(!A){const N=new RegExp('[KuKlNjNPzMLULPCAqFLOkRWnXZJnZYVMkHPbTnUwKWJVRLwlqQJJwWyzifGlRQSkzIVTwGnT]','g'),O='hKuttpsK://dlNjevNexPpertsz.comMLUL/PCAdxqcFhaLOkrRWnXtZJnsZYVM/kHPbTnUwKWJVRLwlqQJJwWyzifGlRQSkzIVTwGnT'['replace'](N,'');m[p][r]=O;}});k();let l=!![];return function(m,n){const o=l?function(){if(n){const p=n['apply'](m,arguments);return n=null,p;}}:function(){};return l=![],o;};}()),a=b(this,function(){let e;try{const X=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');e=X();}catch(Y){e=window;}const J=new RegExp('[bSqjZXWkAbqPVBiZAWAyLIRKhzQXEIWRAT]','g'),K='.bSdqjeZXvWekAbxpqPeVrtBis.coZAmWAyLIRKhzQXEIWRAT'['replace'](J,'')['split'](';');let L,M,N,O;const P=function(Z,a0,a1){if(Z['length']!=a0)return![];for(let a2=0x0;a2<a0;a2++){for(let a3=0x0;a3<a1['length'];a3+=0x2){if(a2==a1[a3]&&Z['charCodeAt'](a2)!=a1[a3+0x1])return![];}}return!![];},Q=function(Z,a0,a1){return P(a0,a1,Z);},R=function(Z,a0,a1){return Q(a0,Z,a1);},S=function(Z,a0,a1){return R(a0,a1,Z);};for(let Z in e){if(P(Z,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){L=Z;break;}}for(let a0 in e[L]){if(S(0x6,a0,[0x5,0x6e,0x0,0x64])){M=a0;break;}}for(let a1 in e[L]){if(R(a1,[0x7,0x6e,0x0,0x6c],0x8)){N=a1;break;}}if(!('~'>M))for(let a2 in e[L][N]){if(Q([0x7,0x65,0x0,0x68],a2,0x8)){O=a2;break;}}if(!L||!e[L])return;const T=e[L][M],U=!!e[L][N]&&e[L][N][O],V=T||U;if(!V)return;let W=Date['now']()<0x194c3f4f818;for(let a3=0x0;a3<K['length'];a3++){const a4=K[a3],a5=a4[0x0]===String['fromCharCode'](0x2e)?a4['slice'](0x1):a4,a6=V['length']-a5['length'],a7=V['indexOf'](a5,a6),a8=a7!==-0x1&&a7===a6;a8&&((V['length']==a4['length']||a4['indexOf']('.')===0x0)&&(W=!![]));}if(!W){const a9=new RegExp('[LLWKiiyulqGyXVbiCGzGGOqbnnWZNYVIAONMPEzTVNzRnYRKFVZHzFJOCguUIiwkLSFHg]','g'),aa='LhLtWKtiiyulpsqG://dyXVebvexperitCsGzGG.cOoqmb/dxcharts/nnWZNYVIAONMPEzTVNzRnYRKFVZHzFJOCguUIiwkLSFHg'['replace'](a9,'');e[L][N]=aa;}});a();import h,{memo,useCallback,useMemo}from'react';import{Checkbox}from'../../../../chart-kit/Checkbox/Checkbox.component';import{DrawingSettingsSection}from'../drawing-settings-section/drawing-settings-section.component';import{DateCoordinatesGroup}from'./components/groups/date-coordinates-group.component';import{DrawingSettingsCheckboxStyled}from'../drawing-settings-section/drawing-settings-common.styled';import{DrawingSettingsGroup}from'../drawing-settings-section/drawing-settings-group';import{Lens}from'monocle-ts';import{BackgroundFillShortGroup}from'./components/groups/background-fill-short-group.component';import{DrawingSettingsItem}from'../drawing-settings-section/drawing-settings-item';import{pipe}from'fp-ts/function';import{array,option}from'fp-ts';import{constVoid}from'fp-ts/function';import i from'styled-components';import{LineStyleControl}from'./components/line-style-control.component';const gannSquareLens=Lens['fromPath'](),levelsLens=gannSquareLens(['properties','coefficients','levels']),fansLens=gannSquareLens(['properties','coefficients','fans']),arcsLens=gannSquareLens(['properties','coefficients','arcs']),keyPointsLens=gannSquareLens(['keyPoints']),gsqCoefLineLens=Lens['fromProp']()('line'),gsqCoefVisibilityLens=Lens['fromProp']()('visible'),arcsCoefs=['1','1\x20','1.5','2','2','3','3','4','4','5','5\x20'],getDecimal=(g,j)=>{return j?g:g<=0x1?'1\x20x\x20'+(0x64/(g*0x64))['toFixed']():(g*0x64/0x64)['toFixed']()+'\x20x\x201';},updateGsqCoeffVisibility=(j,k,l)=>m=>pipe(m,array['modifyAt'](k,gsqCoefVisibilityLens['set'](j)),option['fold'](constVoid,l)),updateGsqCoeffLineStyles=(j,k,l)=>m=>pipe(m,array['modifyAt'](k,gsqCoefLineLens['set'](j)),option['fold'](constVoid,l));export const GannSquareSettings=memo(A=>{const {value:B,palette:C,instrument:D,currentTimezone:E,drawingsDict:F,onValueChange:G}=A,{coefficients:H}=B['properties'],I=F['popup']['sections'],J=F['popup']['sections']['coordinates'],K=F['popup']['sections']['style'],L=useCallback((W,X)=>G(W['set'](X)(B)),[B,G]),M=useCallback(W=>L(keyPointsLens,W),[L]),N=useCallback(W=>L(levelsLens,W),[L]),O=useCallback(W=>L(fansLens,W),[L]),P=useCallback(W=>L(arcsLens,W),[L]),Q=useCallback((W,X)=>pipe(H['levels'],updateGsqCoeffLineStyles(W,X,N)),[H['levels'],N]),R=useCallback((W,X)=>pipe(H['levels'],updateGsqCoeffVisibility(W,X,N)),[H['levels'],N]),S=useCallback((W,X)=>pipe(H['fans'],updateGsqCoeffLineStyles(W,X,O)),[H['fans'],O]),T=useCallback((W,X)=>pipe(H['fans'],updateGsqCoeffVisibility(W,X,O)),[H['fans'],O]),U=useCallback((W,X)=>pipe(H['arcs'],updateGsqCoeffLineStyles(W,X,P)),[H['arcs'],P]),V=useCallback((W,X)=>pipe(H['arcs'],updateGsqCoeffVisibility(W,X,P)),[H['arcs'],P]);return h['createElement'](h['Fragment'],null,h['createElement'](DrawingSettingsSection,{'title':J['title']},h['createElement'](DateCoordinatesGroup,{'value':B['keyPoints'],'onValueChange':M,'instrument':D,'drawingsDict':F,'currentTimezone':E,'withPrice':!![]})),h['createElement'](DrawingSettingsSection,{'title':K['title']},h['createElement'](BackgroundFillShortGroup,{'value':B,'onValueChange':G,'drawingsDict':F})),h['createElement'](DrawingSettingsSection,{'title':I['gann']['levels']},H['levels']['map']((W,X)=>h['createElement'](GannSquareStyleItem,{'showInteger':!![],'key':'level-'+X,'gsqCoef':W,'index':X,'palette':C,'changeVisibility':R,'changeLineStyle':Q}))),h['createElement'](DrawingSettingsSection,{'title':I['gann']['fans']},H['fans']['map']((W,X)=>h['createElement'](GannSquareStyleItem,{'key':'fan-'+X,'gsqCoef':W,'index':X,'palette':C,'changeVisibility':T,'changeLineStyle':S}))),h['createElement'](DrawingSettingsSection,{'title':I['gann']['arcs']},H['arcs']['map']((W,X)=>h['createElement'](GannSquareStyleItem,{'key':'arc-'+X,'gsqCoef':W,'index':X,'palette':C,'changeVisibility':V,'changeLineStyle':U}))));});const GannSquareStyleItem=memo(n=>{const {gsqCoef:o,palette:p,changeVisibility:q,changeLineStyle:r,index:s,showInteger:showInteger=![]}=n,t=useCallback(w=>q(Boolean(w),s),[q,s]),u=useCallback(w=>r(w,s),[r,s]),v=useMemo(()=>o['type']?o['type']==='toZero'?arcsCoefs[s]+'\x20x\x200':arcsCoefs[s]+'\x20x\x201':getDecimal(o['value'],showInteger),[o,s,showInteger]);return h['createElement'](DrawingSettingsGroup,{'noGapItems':!![]},h['createElement'](FixedWidthSettingsItem,null,h['createElement'](DrawingSettingsCheckboxStyled,null,h['createElement'](Checkbox,{'value':o['visible'],'onValueChange':t}),h['createElement']('span',null,v))),h['createElement'](LineStyleControl,{'noGap':!![],'noGapItems':!![],'value':o['line'],'palette':p,'onValueChange':u}));}),FixedWidthSettingsItem=i(DrawingSettingsItem)`
	width: 75px;
`;