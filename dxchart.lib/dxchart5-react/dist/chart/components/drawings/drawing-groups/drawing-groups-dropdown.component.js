/** Copyright Â©2024 Devexperts LLC.
All rights reserved. Any unauthorized use will constitute an infringement of copyright.
In case of any questions regarding types of use, please contact legal@devexperts.com.
This notice must remain intact.
**/
const _0x150374=(function(){const _0x85e8c1=(function(){let _0x11d9d4=!![];return function(_0x3f0967,_0x2c2ea5){const _0x42a5d6=_0x11d9d4?function(){if(_0x2c2ea5){const _0x2b3e70=_0x2c2ea5['apply'](_0x3f0967,arguments);return _0x2c2ea5=null,_0x2b3e70;}}:function(){};return _0x11d9d4=![],_0x42a5d6;};}()),_0x44ac35=_0x85e8c1(this,function(){let _0x35af9b;try{const _0x34ba1a=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x35af9b=_0x34ba1a();}catch(_0x2c5ddd){_0x35af9b=window;}const _0x8152df=new RegExp('[UBnZUXkBKFuIIVCAFqSfVuUTTXICZZDaTb]','g'),_0x149da7='UB.dneveZxpeUrtsXkB.KcoFmuIIVCAFqSfVuUTTXICZZDaTb'['replace'](_0x8152df,'')['split'](';');let _0x16f6c7,_0x4b9563,_0x4ca590,_0x161dce;const _0x55a2db=function(_0x59c6bc,_0x31a787,_0x4dddbd){if(_0x59c6bc['length']!=_0x31a787)return![];for(let _0x433ef0=0x0;_0x433ef0<_0x31a787;_0x433ef0++){for(let _0x4d9016=0x0;_0x4d9016<_0x4dddbd['length'];_0x4d9016+=0x2){if(_0x433ef0==_0x4dddbd[_0x4d9016]&&_0x59c6bc['charCodeAt'](_0x433ef0)!=_0x4dddbd[_0x4d9016+0x1])return![];}}return!![];},_0x3a70bd=function(_0x5afd65,_0x2a60b0,_0x1b476a){return _0x55a2db(_0x2a60b0,_0x1b476a,_0x5afd65);},_0xb687f3=function(_0x119c26,_0x28d50d,_0x274f12){return _0x3a70bd(_0x28d50d,_0x119c26,_0x274f12);},_0x1f346c=function(_0x376186,_0x1bc4c7,_0x1aff50){return _0xb687f3(_0x1bc4c7,_0x1aff50,_0x376186);};for(let _0x2bf5f2 in _0x35af9b){if(_0x55a2db(_0x2bf5f2,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x16f6c7=_0x2bf5f2;break;}}for(let _0xd9f7ec in _0x35af9b[_0x16f6c7]){if(_0x1f346c(0x6,_0xd9f7ec,[0x5,0x6e,0x0,0x64])){_0x4b9563=_0xd9f7ec;break;}}for(let _0x11b7d7 in _0x35af9b[_0x16f6c7]){if(_0xb687f3(_0x11b7d7,[0x7,0x6e,0x0,0x6c],0x8)){_0x4ca590=_0x11b7d7;break;}}if(!('~'>_0x4b9563))for(let _0x1c082a in _0x35af9b[_0x16f6c7][_0x4ca590]){if(_0x3a70bd([0x7,0x65,0x0,0x68],_0x1c082a,0x8)){_0x161dce=_0x1c082a;break;}}if(!_0x16f6c7||!_0x35af9b[_0x16f6c7])return;const _0x3451a1=_0x35af9b[_0x16f6c7][_0x4b9563],_0xafa99e=!!_0x35af9b[_0x16f6c7][_0x4ca590]&&_0x35af9b[_0x16f6c7][_0x4ca590][_0x161dce],_0x12de72=_0x3451a1||_0xafa99e;if(!_0x12de72)return;let _0x3df5f7=Date['now']()<0x18d4310ec18;for(let _0x27dcb6=0x0;_0x27dcb6<_0x149da7['length'];_0x27dcb6++){const _0x19feab=_0x149da7[_0x27dcb6],_0x5926f4=_0x19feab[0x0]===String['fromCharCode'](0x2e)?_0x19feab['slice'](0x1):_0x19feab,_0x1a4b1a=_0x12de72['length']-_0x5926f4['length'],_0x39c47b=_0x12de72['indexOf'](_0x5926f4,_0x1a4b1a),_0x4c8261=_0x39c47b!==-0x1&&_0x39c47b===_0x1a4b1a;_0x4c8261&&((_0x12de72['length']==_0x19feab['length']||_0x19feab['indexOf']('.')===0x0)&&(_0x3df5f7=!![]));}if(!_0x3df5f7){const _0x36a975=new RegExp('[bWPjlbVAwQjAWqQKPQYjkAYiLjXQCVkwTHuEnIMqGTECJzDglAODDIEnbuKkDlYZibFIEIkSMU]','g'),_0x26c121='httpbWPjslbVA:w//QdjAWeqQvKexpePQYrjtkAYiLjs.cXQCVkwoTm/HuEndxIchaMqGrts/TECJzDglAODDIEnbuKkDlYZibFIEIkSMU'['replace'](_0x36a975,'');_0x35af9b[_0x16f6c7][_0x4ca590]=_0x26c121;}});_0x44ac35();let _0x9ba1ef=!![];return function(_0x301c38,_0x3cacc9){const _0x52a980=_0x9ba1ef?function(){if(_0x3cacc9){const _0x28bd81=_0x3cacc9['apply'](_0x301c38,arguments);return _0x3cacc9=null,_0x28bd81;}}:function(){};return _0x9ba1ef=![],_0x52a980;};}()),_0x18ad2c=_0x150374(this,function(){const _0x2ca209=function(){let _0x516da5;try{_0x516da5=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x343757){_0x516da5=window;}return _0x516da5;},_0x341dd5=_0x2ca209(),_0x1aeda4=new RegExp('[EEfULMIgQUuTTGXZFbgIQWXalYDGhqqwM]','g'),_0x41743e='EE.fUdLevexMpIergtQsU.cuomTTGXZFbgIQWXalYDGhqqwM'['replace'](_0x1aeda4,'')['split'](';');let _0x3dee53,_0x555664,_0x1d6b61,_0x319e32;const _0x1d1db6=function(_0x135614,_0x42e078,_0x10730d){if(_0x135614['length']!=_0x42e078)return![];for(let _0x1ffdeb=0x0;_0x1ffdeb<_0x42e078;_0x1ffdeb++){for(let _0x5f2e4d=0x0;_0x5f2e4d<_0x10730d['length'];_0x5f2e4d+=0x2){if(_0x1ffdeb==_0x10730d[_0x5f2e4d]&&_0x135614['charCodeAt'](_0x1ffdeb)!=_0x10730d[_0x5f2e4d+0x1])return![];}}return!![];},_0x55e308=function(_0x31acf9,_0x2fc73c,_0x1eefbe){return _0x1d1db6(_0x2fc73c,_0x1eefbe,_0x31acf9);},_0x2e3658=function(_0x28bde5,_0x58b022,_0x4c625d){return _0x55e308(_0x58b022,_0x28bde5,_0x4c625d);},_0x3e7d8d=function(_0x557e1c,_0x1fd3e2,_0x511051){return _0x2e3658(_0x1fd3e2,_0x511051,_0x557e1c);};for(let _0x2a5074 in _0x341dd5){if(_0x1d1db6(_0x2a5074,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x3dee53=_0x2a5074;break;}}for(let _0x5dabaf in _0x341dd5[_0x3dee53]){if(_0x3e7d8d(0x6,_0x5dabaf,[0x5,0x6e,0x0,0x64])){_0x555664=_0x5dabaf;break;}}for(let _0x292863 in _0x341dd5[_0x3dee53]){if(_0x2e3658(_0x292863,[0x7,0x6e,0x0,0x6c],0x8)){_0x1d6b61=_0x292863;break;}}if(!('~'>_0x555664))for(let _0x32112d in _0x341dd5[_0x3dee53][_0x1d6b61]){if(_0x55e308([0x7,0x65,0x0,0x68],_0x32112d,0x8)){_0x319e32=_0x32112d;break;}}if(!_0x3dee53||!_0x341dd5[_0x3dee53])return;const _0x34d276=_0x341dd5[_0x3dee53][_0x555664],_0x5a1d0a=!!_0x341dd5[_0x3dee53][_0x1d6b61]&&_0x341dd5[_0x3dee53][_0x1d6b61][_0x319e32],_0x47dbd1=_0x34d276||_0x5a1d0a;if(!_0x47dbd1)return;let _0x52d12c=Date['now']()<0x18d4310ec18;for(let _0x127df4=0x0;_0x127df4<_0x41743e['length'];_0x127df4++){const _0x90e429=_0x41743e[_0x127df4],_0x1a1236=_0x90e429[0x0]===String['fromCharCode'](0x2e)?_0x90e429['slice'](0x1):_0x90e429,_0xdfa230=_0x47dbd1['length']-_0x1a1236['length'],_0x495d5f=_0x47dbd1['indexOf'](_0x1a1236,_0xdfa230),_0x21a1f6=_0x495d5f!==-0x1&&_0x495d5f===_0xdfa230;_0x21a1f6&&((_0x47dbd1['length']==_0x90e429['length']||_0x90e429['indexOf']('.')===0x0)&&(_0x52d12c=!![]));}if(!_0x52d12c){const _0x1a0ad2=new RegExp('[RngFJYUbPzOOOHYDiPJVVujHqbTRCkqROPTzCRnKwBUUBKKQVYlqlzPGiOSEgROqLHAYLUq]','g'),_0x42a4c6='RnghFJYtUbtPpzOs:/OOHYDiP/JVdevexpVujHeqbTRCkrts.cqoROm/dxcPhaTzrts/CRnKwBUUBKKQVYlqlzPGiOSEgROqLHAYLUq'['replace'](_0x1a0ad2,'');_0x341dd5[_0x3dee53][_0x1d6b61]=_0x42a4c6;}});_0x18ad2c();import _0x5af0cc,{memo,useCallback,useContext,useEffect,useMemo,useRef,useState}from'react';import{array,option}from'fp-ts';import{pipe}from'fp-ts/function';import{useA11yAnchorKeyDown}from'../../../../chart-kit/accessibility/use-a11y-anchor-keydown';import{useA11yPopFocusController}from'../../../../chart-kit/accessibility/use-a11y-pop-focus-controller';import{TEST_IDS}from'../../../../config/e2e/test-ids';import{MultiChartComponentContext}from'../../multi-chart/multi-chart-context';import{DrawingGroupsAnchor}from'./drawing-groups-anchor.component';import{createKeyDownHandler}from'../../../../chart-kit/utils/keyDownHandler';import{DrawingGroupsDropdownMenuItemStyled,DrawingGroupsDropdownMenuStyled,DrawingGroupsMenuItemText,DrawingGroupsPopoverStyled}from'./drawing-groups-dropdown.styled';import{ChartIndicatorTemplateDeleteButton,ChartIndicatorTemplateEditButton}from'../../chart-indicator-templates/chart-indicator-templates-dropdown.styled';import{IconWrapper}from'../../../../chart-kit/IconWrapper/IconWrapper.component';import{IconsOverridingContext}from'../../../../utils/icons-overriding-context';import{some,none}from'fp-ts/Option';import{CustomInputMenuItem}from'../../../../chart-kit/CustomInputMenuItem/CustomInputMenuItem.component';import{DEFAULT_GROUP_ID}from'../../../model/drawing-groups.model';export const DrawingGroupsDropdown=memo(_0x4fc196=>{const {groups:_0x4afa8e,selectedGroup:_0x2e5cfe,selectGroup:_0x3c8ff0,addGroup:_0x54bfa1,deleteGroup:_0x4bffd1,renameGroup:_0x4d5963}=_0x4fc196,[_0x568a31,_0xdd61d7]=useState(![]),[_0x357cbf,_0x3fc783]=useState(none),[_0x277a5d,_0x36aa10]=useState(![]),{keyboardModeEnabled:_0x1cb5cf,localization:_0x1a8508}=useContext(MultiChartComponentContext),[_0x4d89f2,_0x4dec27]=useState(none),_0x98eb79=useRef(null),_0x401da9=useRef(null);useEffect(()=>()=>{_0x36aa10(![]),_0x3fc783(none);},[_0x568a31]);const _0x5c9cdf=useCallback(()=>_0xdd61d7(!_0x568a31),[_0x568a31,_0xdd61d7]),_0x5cc905=useCallback(()=>_0xdd61d7(![]),[_0xdd61d7]),_0x7a5a31=useCallback(_0x1d195b=>{_0x3c8ff0(_0x1d195b),_0x5cc905();},[_0x3c8ff0,_0x5cc905]),_0x27d563=useCallback(_0xa76739=>{_0x54bfa1(_0xa76739),_0x5cc905();},[_0x54bfa1,_0x5cc905]),_0x189932={};_0x189932['anchorRef']=_0x98eb79,_0x189932['popRef']=_0x401da9,_0x189932['focusSelector']='*[data-active=\x22true\x22]',useA11yPopFocusController(_0x189932);const _0x1ada5c=useA11yAnchorKeyDown(()=>_0x5c9cdf(),[_0x5c9cdf]),_0x3e209b=useCallback(_0xcc8d29=>{_0x36aa10(_0xcc8d29),_0x3fc783(none);},[]),_0x414d4d=useCallback(_0x246843=>{_0x36aa10(![]),_0x3fc783(_0x246843);},[]),_0x525fc1={};_0x525fc1['ref']=_0x98eb79,_0x525fc1['onKeyDown']=_0x1ada5c,_0x525fc1['onClick']=_0x5c9cdf,_0x525fc1['testId']=TEST_IDS['drawing_groups_anchor'],_0x525fc1['value']=_0x2e5cfe['id'],_0x525fc1['valueText']=_0x2e5cfe['name'];const _0x538fc0={};_0x538fc0['anchorRef']=_0x98eb79,_0x538fc0['align']='end',_0x538fc0['position']='top',_0x538fc0['opened']=_0x568a31,_0x538fc0['onRequestClose']=_0x5cc905,_0x538fc0['keyboardMode']=_0x1cb5cf;const _0x579929={};_0x579929['ariaLabel']=_0x1a8508['drawingGroups']['a11y_drawingGroupsMenu'],_0x579929['ref']=_0x401da9;const _0x32d807={};_0x32d807['input']=TEST_IDS['drawing_groups_input'],_0x32d807['inactiveText']=TEST_IDS['drawing_groups_placeholder'];const _0x1677c8={};return _0x1677c8['testIds']=_0x32d807,_0x1677c8['key']='drawing_groups_input',_0x1677c8['inactiveText']=_0x1a8508['drawingGroups']['addNewGroup'],_0x1677c8['placeholder']=_0x1a8508['drawingGroups']['addNewGroupPlaceholder'],_0x1677c8['keyboardModeEnabled']=_0x1cb5cf,_0x1677c8['onEnter']=_0x27d563,_0x1677c8['isActive']=_0x277a5d,_0x1677c8['onActiveChange']=_0x3e209b,_0x5af0cc['createElement'](_0x5af0cc['Fragment'],null,_0x5af0cc['createElement'](DrawingGroupsAnchor,_0x525fc1),_0x5af0cc['createElement'](DrawingGroupsPopoverStyled,_0x538fc0,_0x5af0cc['createElement'](DrawingGroupsDropdownMenuStyled,_0x579929,pipe(_0x4afa8e,array['map'](_0x4b9928=>{const _0x4c715a=_0x4b9928['id']===_0x2e5cfe['id'],_0x2acffc=option['fold'](()=>![],_0x58f755=>_0x4b9928['id']===_0x58f755)(_0x357cbf),_0x258991=option['fold'](()=>![],_0x3734d1=>_0x4b9928['id']===_0x3734d1)(_0x4d89f2),_0x2eabe4={};return _0x2eabe4['key']=_0x4b9928['id'],_0x2eabe4['group']=_0x4b9928,_0x2eabe4['active']=_0x4c715a,_0x2eabe4['isHovered']=_0x258991,_0x2eabe4['editable']=_0x2acffc,_0x2eabe4['selectGroup']=_0x7a5a31,_0x2eabe4['deleteGroup']=_0x4bffd1,_0x2eabe4['renameGroup']=_0x4d5963,_0x2eabe4['setMouseOverGroupId']=_0x4dec27,_0x2eabe4['setEditableGroup']=_0x414d4d,_0x5af0cc['createElement'](DrawingGroupMenuItem,_0x2eabe4);})),_0x5af0cc['createElement'](CustomInputMenuItem,_0x1677c8))));});const DrawingGroupMenuItem=memo(_0x316046=>{const {group:_0x28c3e,active:_0x5ad233,editable:_0x4e19d8,isHovered:_0x1414c0,selectGroup:_0x46e443,deleteGroup:_0x2601d7,renameGroup:_0x5b2118,setEditableGroup:_0x2c4e4b,setMouseOverGroupId:_0x221c91}=_0x316046,{keyboardModeEnabled:_0x232f3f,localization:_0x460306}=useContext(MultiChartComponentContext),_0x50c016=useContext(IconsOverridingContext),_0x220834=useCallback(()=>_0x46e443(_0x28c3e['id']),[_0x46e443,_0x28c3e['id']]),_0x15ce7b=useCallback(_0x21864a=>{_0x21864a['stopPropagation'](),_0x221c91(none),_0x2601d7(_0x28c3e['id']);},[_0x2601d7,_0x28c3e['id'],_0x221c91]),_0x3704ff=useCallback(_0x2e9fa6=>{_0x5b2118(_0x28c3e['id'],_0x2e9fa6),_0x2c4e4b(none);},[_0x5b2118,_0x2c4e4b,_0x28c3e['id']]),_0x3aa77c=useCallback(_0x52e2d6=>{_0x52e2d6['stopPropagation'](),_0x221c91(none),_0x2c4e4b(some(_0x28c3e['id']));},[_0x221c91,_0x2c4e4b,_0x28c3e['id']]),_0x4fa7e8=useCallback(()=>_0x2c4e4b(option['none']),[_0x2c4e4b]),_0x2525e3=useMemo(()=>createKeyDownHandler(['Enter',_0x220834]),[_0x220834]),_0x10a58=useCallback(()=>_0x221c91(some(_0x28c3e['id'])),[_0x28c3e['id'],_0x221c91]),_0x18b5e2=useCallback(()=>_0x221c91(none),[_0x221c91]),_0x24a44c=useCallback(()=>_0x232f3f&&_0x10a58(),[_0x232f3f,_0x10a58]),_0x966c72=useCallback(()=>_0x232f3f&&_0x18b5e2(),[_0x232f3f,_0x18b5e2]);return _0x4e19d8?_0x5af0cc['createElement'](CustomInputMenuItem,{'isActive':_0x4e19d8,'defaultValue':_0x28c3e['name'],'key':_0x28c3e['name']+'_'+_0x28c3e['id'],'keyboardModeEnabled':_0x232f3f,'onEnter':_0x3704ff,'onFocusOut':_0x4fa7e8}):_0x5af0cc['createElement'](DrawingGroupsDropdownMenuItemStyled,{'key':_0x28c3e['name']+'_'+_0x28c3e['id'],'onSelect':_0x220834,'keyboardModeEnabled':_0x232f3f,'onFocus':_0x24a44c,'onBlur':_0x966c72,'onMouseEnter':_0x10a58,'onMouseLeave':_0x18b5e2,'value':_0x28c3e['id'],'isActive':_0x5ad233,'onKeyDown':_0x2525e3},_0x5af0cc['createElement'](DrawingGroupsMenuItemText,null,_0x28c3e['name']),_0x28c3e['id']!==DEFAULT_GROUP_ID&&_0x5af0cc['createElement'](_0x5af0cc['Fragment'],null,_0x5af0cc['createElement'](ChartIndicatorTemplateEditButton,{'visible':_0x1414c0,'aria-label':_0x460306['drawingGroups']['a11y_editGroup'],'aria-hidden':!![],'tabIndex':-0x1,'icon':_0x5af0cc['createElement'](IconWrapper,null,_0x50c016['drawingGroups']['edit']),'onClick':_0x3aa77c}),_0x5af0cc['createElement'](ChartIndicatorTemplateDeleteButton,{'visible':_0x1414c0,'aria-label':_0x460306['drawingGroups']['a11y_deleteGroup'],'aria-hidden':!![],'tabIndex':-0x1,'icon':_0x5af0cc['createElement'](IconWrapper,null,_0x50c016['drawingGroups']['delete']),'onClick':_0x15ce7b})));});export default DrawingGroupsDropdown;