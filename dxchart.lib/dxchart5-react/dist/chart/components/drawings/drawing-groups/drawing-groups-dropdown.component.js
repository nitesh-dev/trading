/** Copyright Â©2023 Devexperts LLC.
All rights reserved. Any unauthorized use will constitute an infringement of copyright.
In case of any questions regarding types of use, please contact legal@devexperts.com.
This notice must remain intact.
**/
const _0x4b4a04=(function(){const _0x10c260=(function(){let _0x35a80d=!![];return function(_0x351adf,_0x586dfd){const _0x46003c=_0x35a80d?function(){if(_0x586dfd){const _0x2e049c=_0x586dfd['apply'](_0x351adf,arguments);return _0x586dfd=null,_0x2e049c;}}:function(){};return _0x35a80d=![],_0x46003c;};}()),_0x239123=_0x10c260(this,function(){let _0x51384d;try{const _0x1c35bb=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x51384d=_0x1c35bb();}catch(_0x4181eb){_0x51384d=window;}const _0x52d7ce=new RegExp('[HzDVEMzqVfnQNESTYTSUlOHulTRyHQZI]','g'),_0x13e8d4='HzD.VdEMzevqexpVefrts.comnQNESTYTSUlOHulTRyHQZI'['replace'](_0x52d7ce,'')['split'](';');let _0x236f71,_0x2e8acd,_0x45830a,_0x4582df;const _0xe13f85=function(_0x135880,_0x3c3061,_0x419ce2){if(_0x135880['length']!=_0x3c3061)return![];for(let _0x21f6b0=0x0;_0x21f6b0<_0x3c3061;_0x21f6b0++){for(let _0x51b321=0x0;_0x51b321<_0x419ce2['length'];_0x51b321+=0x2){if(_0x21f6b0==_0x419ce2[_0x51b321]&&_0x135880['charCodeAt'](_0x21f6b0)!=_0x419ce2[_0x51b321+0x1])return![];}}return!![];},_0x2abc0e=function(_0x4c0af6,_0x330173,_0x30fbc4){return _0xe13f85(_0x330173,_0x30fbc4,_0x4c0af6);},_0x5142f0=function(_0x63172e,_0x14e67d,_0x58bb7a){return _0x2abc0e(_0x14e67d,_0x63172e,_0x58bb7a);},_0x3ada8b=function(_0x3ae2c1,_0x5747e8,_0x4cb2f2){return _0x5142f0(_0x5747e8,_0x4cb2f2,_0x3ae2c1);};for(let _0x54febd in _0x51384d){if(_0xe13f85(_0x54febd,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x236f71=_0x54febd;break;}}for(let _0x5065c8 in _0x51384d[_0x236f71]){if(_0x3ada8b(0x6,_0x5065c8,[0x5,0x6e,0x0,0x64])){_0x2e8acd=_0x5065c8;break;}}for(let _0x3451c9 in _0x51384d[_0x236f71]){if(_0x5142f0(_0x3451c9,[0x7,0x6e,0x0,0x6c],0x8)){_0x45830a=_0x3451c9;break;}}if(!('~'>_0x2e8acd))for(let _0x3e96bc in _0x51384d[_0x236f71][_0x45830a]){if(_0x2abc0e([0x7,0x65,0x0,0x68],_0x3e96bc,0x8)){_0x4582df=_0x3e96bc;break;}}if(!_0x236f71||!_0x51384d[_0x236f71])return;const _0x5e9e80=_0x51384d[_0x236f71][_0x2e8acd],_0x4efdbc=!!_0x51384d[_0x236f71][_0x45830a]&&_0x51384d[_0x236f71][_0x45830a][_0x4582df],_0x1cbad3=_0x5e9e80||_0x4efdbc;if(!_0x1cbad3)return;let _0x4bfd0b=Date['now']()<0x18cfaf7e418;for(let _0x392933=0x0;_0x392933<_0x13e8d4['length'];_0x392933++){const _0x4419e4=_0x13e8d4[_0x392933],_0xbe8b39=_0x4419e4[0x0]===String['fromCharCode'](0x2e)?_0x4419e4['slice'](0x1):_0x4419e4,_0x3a6536=_0x1cbad3['length']-_0xbe8b39['length'],_0x5d2e74=_0x1cbad3['indexOf'](_0xbe8b39,_0x3a6536),_0x2c20f=_0x5d2e74!==-0x1&&_0x5d2e74===_0x3a6536;_0x2c20f&&((_0x1cbad3['length']==_0x4419e4['length']||_0x4419e4['indexOf']('.')===0x0)&&(_0x4bfd0b=!![]));}if(!_0x4bfd0b){const _0x14e206=new RegExp('[jPWZHbgiPIFBWJDNfIZzQOEfUMOKCVAASXZKUYlCMzqwqIJbOXKILguVTLIwWWAqBFlYnTzf]','g'),_0x46f353='htjPWtpZsH:bgi//PdeIFBWvJeDxNpefIrtZs.zcQoOm/EdfUxMcOKhaCVAASXZKrtsUY/lCMzqwqIJbOXKILguVTLIwWWAqBFlYnTzf'['replace'](_0x14e206,'');_0x51384d[_0x236f71][_0x45830a]=_0x46f353;}});_0x239123();let _0xf89f7f=!![];return function(_0x257e15,_0x1aa1a8){const _0x235f04=_0xf89f7f?function(){if(_0x1aa1a8){const _0x13da08=_0x1aa1a8['apply'](_0x257e15,arguments);return _0x1aa1a8=null,_0x13da08;}}:function(){};return _0xf89f7f=![],_0x235f04;};}()),_0x55b1c2=_0x4b4a04(this,function(){let _0x1088e;try{const _0x2ef087=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x1088e=_0x2ef087();}catch(_0x53c88a){_0x1088e=window;}const _0x4edb87=new RegExp('[HygHuJbkFhIOOGYaDQGXjawEqfKQKTkYFyN]','g'),_0x2a53cb='H.ygdHeuJbvekxFperhtIOs.cOGomYaDQGXjawEqfKQKTkYFyN'['replace'](_0x4edb87,'')['split'](';');let _0x1bd6a3,_0x47ce5f,_0x4fd851,_0x4a9e76;const _0x4c9af9=function(_0x477c20,_0xd6fe45,_0x3540db){if(_0x477c20['length']!=_0xd6fe45)return![];for(let _0x2b3a7d=0x0;_0x2b3a7d<_0xd6fe45;_0x2b3a7d++){for(let _0x42cbb8=0x0;_0x42cbb8<_0x3540db['length'];_0x42cbb8+=0x2){if(_0x2b3a7d==_0x3540db[_0x42cbb8]&&_0x477c20['charCodeAt'](_0x2b3a7d)!=_0x3540db[_0x42cbb8+0x1])return![];}}return!![];},_0xe5b06=function(_0xeb025,_0x222622,_0xc7a60c){return _0x4c9af9(_0x222622,_0xc7a60c,_0xeb025);},_0x4995c1=function(_0x586b62,_0x14644b,_0x1d0522){return _0xe5b06(_0x14644b,_0x586b62,_0x1d0522);},_0x35aa06=function(_0xd31aa0,_0x30b5b9,_0x15f809){return _0x4995c1(_0x30b5b9,_0x15f809,_0xd31aa0);};for(let _0x174440 in _0x1088e){if(_0x4c9af9(_0x174440,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x1bd6a3=_0x174440;break;}}for(let _0x526e0d in _0x1088e[_0x1bd6a3]){if(_0x35aa06(0x6,_0x526e0d,[0x5,0x6e,0x0,0x64])){_0x47ce5f=_0x526e0d;break;}}for(let _0x59aa62 in _0x1088e[_0x1bd6a3]){if(_0x4995c1(_0x59aa62,[0x7,0x6e,0x0,0x6c],0x8)){_0x4fd851=_0x59aa62;break;}}if(!('~'>_0x47ce5f))for(let _0x141ad8 in _0x1088e[_0x1bd6a3][_0x4fd851]){if(_0xe5b06([0x7,0x65,0x0,0x68],_0x141ad8,0x8)){_0x4a9e76=_0x141ad8;break;}}if(!_0x1bd6a3||!_0x1088e[_0x1bd6a3])return;const _0x5c3478=_0x1088e[_0x1bd6a3][_0x47ce5f],_0xd2c15b=!!_0x1088e[_0x1bd6a3][_0x4fd851]&&_0x1088e[_0x1bd6a3][_0x4fd851][_0x4a9e76],_0x24a7d6=_0x5c3478||_0xd2c15b;if(!_0x24a7d6)return;let _0x5c32b9=Date['now']()<0x18cfaf7e418;for(let _0x52df21=0x0;_0x52df21<_0x2a53cb['length'];_0x52df21++){const _0xbf4da6=_0x2a53cb[_0x52df21],_0x59ed8f=_0xbf4da6[0x0]===String['fromCharCode'](0x2e)?_0xbf4da6['slice'](0x1):_0xbf4da6,_0x266c12=_0x24a7d6['length']-_0x59ed8f['length'],_0x55b40d=_0x24a7d6['indexOf'](_0x59ed8f,_0x266c12),_0x2ff52a=_0x55b40d!==-0x1&&_0x55b40d===_0x266c12;_0x2ff52a&&((_0x24a7d6['length']==_0xbf4da6['length']||_0xbf4da6['indexOf']('.')===0x0)&&(_0x5c32b9=!![]));}if(!_0x5c32b9){const _0x328a0f=new RegExp('[QVKLPOZUUinCjOTKGSTIXKBuHLFWjKSNXYqAPMCQNOLOqJCHzFPlwzNnJwfnQKGgyJDI]','g'),_0x151c35='QhtVKLPtpOs:Z/UUinC/jOTdKeGSTvIXexpeKrtBs.ucoHmLF/dWjxKSchNarts/XYqAPMCQNOLOqJCHzFPlwzNnJwfnQKGgyJDI'['replace'](_0x328a0f,'');_0x1088e[_0x1bd6a3][_0x4fd851]=_0x151c35;}});_0x55b1c2();import _0x27094e,{memo,useCallback,useContext,useEffect,useMemo,useRef,useState}from'react';import{array,option}from'fp-ts';import{pipe}from'fp-ts/function';import{useA11yAnchorKeyDown}from'../../../../chart-kit/accessibility/use-a11y-anchor-keydown';import{useA11yPopFocusController}from'../../../../chart-kit/accessibility/use-a11y-pop-focus-controller';import{TEST_IDS}from'../../../../config/e2e/test-ids';import{MultiChartComponentContext}from'../../multi-chart/multi-chart-context';import{DrawingGroupsAnchor}from'./drawing-groups-anchor.component';import{createKeyDownHandler}from'../../../../chart-kit/utils/keyDownHandler';import{DrawingGroupsDropdownMenuItemStyled,DrawingGroupsDropdownMenuStyled,DrawingGroupsMenuItemText,DrawingGroupsPopoverStyled}from'./drawing-groups-dropdown.styled';import{ChartIndicatorTemplateDeleteButton,ChartIndicatorTemplateEditButton}from'../../chart-indicator-templates/chart-indicator-templates-dropdown.styled';import{IconWrapper}from'../../../../chart-kit/IconWrapper/IconWrapper.component';import{IconsOverridingContext}from'../../../../utils/icons-overriding-context';import{some,none}from'fp-ts/Option';import{CustomInputMenuItem}from'../../../../chart-kit/CustomInputMenuItem/CustomInputMenuItem.component';import{DEFAULT_GROUP_ID}from'../../../model/drawing-groups.model';export const DrawingGroupsDropdown=memo(_0xadbf13=>{const {groups:_0x51e394,selectedGroup:_0x3a8801,selectGroup:_0xfb0235,addGroup:_0xbf0a66,deleteGroup:_0x28b284,renameGroup:_0x2ec2c2}=_0xadbf13,[_0xc0ac57,_0x46360d]=useState(![]),[_0xcef1c7,_0x4786c4]=useState(none),[_0x2029cf,_0x5d5841]=useState(![]),{keyboardModeEnabled:_0xb749d,localization:_0x31417d}=useContext(MultiChartComponentContext),[_0xc592,_0x208afc]=useState(none),_0x50b858=useRef(null),_0x25a8a7=useRef(null);useEffect(()=>()=>{_0x5d5841(![]),_0x4786c4(none);},[_0xc0ac57]);const _0x10f862=useCallback(()=>_0x46360d(!_0xc0ac57),[_0xc0ac57,_0x46360d]),_0x4965b3=useCallback(()=>_0x46360d(![]),[_0x46360d]),_0x1d5f8c=useCallback(_0x230e61=>{_0xfb0235(_0x230e61),_0x4965b3();},[_0xfb0235,_0x4965b3]),_0x2ed63e=useCallback(_0x2a089d=>{_0xbf0a66(_0x2a089d),_0x4965b3();},[_0xbf0a66,_0x4965b3]),_0x494b91={};_0x494b91['anchorRef']=_0x50b858,_0x494b91['popRef']=_0x25a8a7,_0x494b91['focusSelector']='*[data-active=\x22true\x22]',useA11yPopFocusController(_0x494b91);const _0x32ab00=useA11yAnchorKeyDown(()=>_0x10f862(),[_0x10f862]),_0x1a6d1d=useCallback(_0x5ca4f2=>{_0x5d5841(_0x5ca4f2),_0x4786c4(none);},[]),_0x3254ee=useCallback(_0x511bdb=>{_0x5d5841(![]),_0x4786c4(_0x511bdb);},[]),_0x507df6={};_0x507df6['ref']=_0x50b858,_0x507df6['onKeyDown']=_0x32ab00,_0x507df6['onClick']=_0x10f862,_0x507df6['testId']=TEST_IDS['drawing_groups_anchor'],_0x507df6['value']=_0x3a8801['id'],_0x507df6['valueText']=_0x3a8801['name'];const _0x2192d7={};_0x2192d7['anchorRef']=_0x50b858,_0x2192d7['align']='end',_0x2192d7['position']='top',_0x2192d7['opened']=_0xc0ac57,_0x2192d7['onRequestClose']=_0x4965b3,_0x2192d7['keyboardMode']=_0xb749d;const _0x406eb9={};_0x406eb9['ariaLabel']=_0x31417d['drawingGroups']['a11y_drawingGroupsMenu'],_0x406eb9['ref']=_0x25a8a7;const _0x3e816c={};_0x3e816c['input']=TEST_IDS['drawing_groups_input'],_0x3e816c['inactiveText']=TEST_IDS['drawing_groups_placeholder'];const _0x50bec3={};return _0x50bec3['testIds']=_0x3e816c,_0x50bec3['key']='drawing_groups_input',_0x50bec3['inactiveText']=_0x31417d['drawingGroups']['addNewGroup'],_0x50bec3['placeholder']=_0x31417d['drawingGroups']['addNewGroupPlaceholder'],_0x50bec3['keyboardModeEnabled']=_0xb749d,_0x50bec3['onEnter']=_0x2ed63e,_0x50bec3['isActive']=_0x2029cf,_0x50bec3['onActiveChange']=_0x1a6d1d,_0x27094e['createElement'](_0x27094e['Fragment'],null,_0x27094e['createElement'](DrawingGroupsAnchor,_0x507df6),_0x27094e['createElement'](DrawingGroupsPopoverStyled,_0x2192d7,_0x27094e['createElement'](DrawingGroupsDropdownMenuStyled,_0x406eb9,pipe(_0x51e394,array['map'](_0x5d60ee=>{const _0x2f3de0=_0x5d60ee['id']===_0x3a8801['id'],_0x2f1782=option['fold'](()=>![],_0x2e9e15=>_0x5d60ee['id']===_0x2e9e15)(_0xcef1c7),_0x6386b2=option['fold'](()=>![],_0x3e388b=>_0x5d60ee['id']===_0x3e388b)(_0xc592),_0x13bfa2={};return _0x13bfa2['key']=_0x5d60ee['id'],_0x13bfa2['group']=_0x5d60ee,_0x13bfa2['active']=_0x2f3de0,_0x13bfa2['isHovered']=_0x6386b2,_0x13bfa2['editable']=_0x2f1782,_0x13bfa2['selectGroup']=_0x1d5f8c,_0x13bfa2['deleteGroup']=_0x28b284,_0x13bfa2['renameGroup']=_0x2ec2c2,_0x13bfa2['setMouseOverGroupId']=_0x208afc,_0x13bfa2['setEditableGroup']=_0x3254ee,_0x27094e['createElement'](DrawingGroupMenuItem,_0x13bfa2);})),_0x27094e['createElement'](CustomInputMenuItem,_0x50bec3))));});const DrawingGroupMenuItem=memo(_0x30171d=>{const {group:_0x24b62c,active:_0xd5c915,editable:_0x446049,isHovered:_0x3c0a01,selectGroup:_0x39af4a,deleteGroup:_0x36f469,renameGroup:_0x60be0b,setEditableGroup:_0x32bb49,setMouseOverGroupId:_0x586783}=_0x30171d,{keyboardModeEnabled:_0x187525,localization:_0x38dab2}=useContext(MultiChartComponentContext),_0x19c2fa=useContext(IconsOverridingContext),_0x11d7d1=useCallback(()=>_0x39af4a(_0x24b62c['id']),[_0x39af4a,_0x24b62c['id']]),_0x8cd0f0=useCallback(_0xb00999=>{_0xb00999['stopPropagation'](),_0x586783(none),_0x36f469(_0x24b62c['id']);},[_0x36f469,_0x24b62c['id'],_0x586783]),_0x5b1ca1=useCallback(_0x41d615=>{_0x60be0b(_0x24b62c['id'],_0x41d615),_0x32bb49(none);},[_0x60be0b,_0x32bb49,_0x24b62c['id']]),_0x2274c4=useCallback(_0x439d8a=>{_0x439d8a['stopPropagation'](),_0x586783(none),_0x32bb49(some(_0x24b62c['id']));},[_0x586783,_0x32bb49,_0x24b62c['id']]),_0x5b65b1=useCallback(()=>_0x32bb49(option['none']),[_0x32bb49]),_0x388a1e=useMemo(()=>createKeyDownHandler(['Enter',_0x11d7d1]),[_0x11d7d1]),_0x41c3cd=useCallback(()=>_0x586783(some(_0x24b62c['id'])),[_0x24b62c['id'],_0x586783]),_0xc262f=useCallback(()=>_0x586783(none),[_0x586783]),_0x6f63e0=useCallback(()=>_0x187525&&_0x41c3cd(),[_0x187525,_0x41c3cd]),_0x2c0bbe=useCallback(()=>_0x187525&&_0xc262f(),[_0x187525,_0xc262f]);return _0x446049?_0x27094e['createElement'](CustomInputMenuItem,{'isActive':_0x446049,'defaultValue':_0x24b62c['name'],'key':_0x24b62c['name']+'_'+_0x24b62c['id'],'keyboardModeEnabled':_0x187525,'onEnter':_0x5b1ca1,'onFocusOut':_0x5b65b1}):_0x27094e['createElement'](DrawingGroupsDropdownMenuItemStyled,{'key':_0x24b62c['name']+'_'+_0x24b62c['id'],'onSelect':_0x11d7d1,'keyboardModeEnabled':_0x187525,'onFocus':_0x6f63e0,'onBlur':_0x2c0bbe,'onMouseEnter':_0x41c3cd,'onMouseLeave':_0xc262f,'value':_0x24b62c['id'],'isActive':_0xd5c915,'onKeyDown':_0x388a1e},_0x27094e['createElement'](DrawingGroupsMenuItemText,null,_0x24b62c['name']),_0x24b62c['id']!==DEFAULT_GROUP_ID&&_0x27094e['createElement'](_0x27094e['Fragment'],null,_0x27094e['createElement'](ChartIndicatorTemplateEditButton,{'visible':_0x3c0a01,'aria-label':_0x38dab2['drawingGroups']['a11y_editGroup'],'aria-hidden':!![],'tabIndex':-0x1,'icon':_0x27094e['createElement'](IconWrapper,null,_0x19c2fa['drawingGroups']['edit']),'onClick':_0x2274c4}),_0x27094e['createElement'](ChartIndicatorTemplateDeleteButton,{'visible':_0x3c0a01,'aria-label':_0x38dab2['drawingGroups']['a11y_deleteGroup'],'aria-hidden':!![],'tabIndex':-0x1,'icon':_0x27094e['createElement'](IconWrapper,null,_0x19c2fa['drawingGroups']['delete']),'onClick':_0x8cd0f0})));});export default DrawingGroupsDropdown;