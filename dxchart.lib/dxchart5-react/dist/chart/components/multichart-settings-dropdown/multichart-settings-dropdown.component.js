/** Copyright Â©2023 Devexperts LLC.
All rights reserved. Any unauthorized use will constitute an infringement of copyright.
In case of any questions regarding types of use, please contact legal@devexperts.com.
This notice must remain intact.
**/
const _0x34e2e3=(function(){const _0x12043a=(function(){let _0x272a44=!![];return function(_0x458964,_0x54f9e3){const _0x263062=_0x272a44?function(){if(_0x54f9e3){const _0x3a7969=_0x54f9e3['apply'](_0x458964,arguments);return _0x54f9e3=null,_0x3a7969;}}:function(){};return _0x272a44=![],_0x263062;};}()),_0x2d4055=_0x12043a(this,function(){const _0x1178e5=function(){let _0x540282;try{_0x540282=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x64f85c){_0x540282=window;}return _0x540282;},_0x43496a=_0x1178e5(),_0x557820=new RegExp('[HFaBQhzGUZBgZTgHGbhUWKKnYSiMHNQT]','g'),_0x12222f='.HdevexpertFas.cBoQhmzGUZBgZTgHGbhUWKKnYSiMHNQT'['replace'](_0x557820,'')['split'](';');let _0x4ee6ee,_0x31a19e,_0x552db1,_0x3925eb;const _0x382d53=function(_0x424a39,_0x1c035a,_0x9b31e7){if(_0x424a39['length']!=_0x1c035a)return![];for(let _0x3a26c6=0x0;_0x3a26c6<_0x1c035a;_0x3a26c6++){for(let _0x26d50d=0x0;_0x26d50d<_0x9b31e7['length'];_0x26d50d+=0x2){if(_0x3a26c6==_0x9b31e7[_0x26d50d]&&_0x424a39['charCodeAt'](_0x3a26c6)!=_0x9b31e7[_0x26d50d+0x1])return![];}}return!![];},_0x50f3a0=function(_0x252d03,_0x50bf5e,_0x5774a1){return _0x382d53(_0x50bf5e,_0x5774a1,_0x252d03);},_0x3ffa1d=function(_0x32c512,_0x4d89ca,_0x470e6b){return _0x50f3a0(_0x4d89ca,_0x32c512,_0x470e6b);},_0x1a374e=function(_0x161ff1,_0x3592a5,_0x1a79e7){return _0x3ffa1d(_0x3592a5,_0x1a79e7,_0x161ff1);};for(let _0x502f7d in _0x43496a){if(_0x382d53(_0x502f7d,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x4ee6ee=_0x502f7d;break;}}for(let _0x38b5c0 in _0x43496a[_0x4ee6ee]){if(_0x1a374e(0x6,_0x38b5c0,[0x5,0x6e,0x0,0x64])){_0x31a19e=_0x38b5c0;break;}}for(let _0x30070d in _0x43496a[_0x4ee6ee]){if(_0x3ffa1d(_0x30070d,[0x7,0x6e,0x0,0x6c],0x8)){_0x552db1=_0x30070d;break;}}if(!('~'>_0x31a19e))for(let _0x58eb8e in _0x43496a[_0x4ee6ee][_0x552db1]){if(_0x50f3a0([0x7,0x65,0x0,0x68],_0x58eb8e,0x8)){_0x3925eb=_0x58eb8e;break;}}if(!_0x4ee6ee||!_0x43496a[_0x4ee6ee])return;const _0x3a36bc=_0x43496a[_0x4ee6ee][_0x31a19e],_0x447576=!!_0x43496a[_0x4ee6ee][_0x552db1]&&_0x43496a[_0x4ee6ee][_0x552db1][_0x3925eb],_0x566a1=_0x3a36bc||_0x447576;if(!_0x566a1)return;let _0x4e0132=Date['now']()<0x18cfaf7e418;for(let _0x45495e=0x0;_0x45495e<_0x12222f['length'];_0x45495e++){const _0xf1e193=_0x12222f[_0x45495e],_0x14b67c=_0xf1e193[0x0]===String['fromCharCode'](0x2e)?_0xf1e193['slice'](0x1):_0xf1e193,_0x1cc55b=_0x566a1['length']-_0x14b67c['length'],_0x31cdb9=_0x566a1['indexOf'](_0x14b67c,_0x1cc55b),_0x3f9ba5=_0x31cdb9!==-0x1&&_0x31cdb9===_0x1cc55b;_0x3f9ba5&&((_0x566a1['length']==_0xf1e193['length']||_0xf1e193['indexOf']('.')===0x0)&&(_0x4e0132=!![]));}if(!_0x4e0132){const _0x36feeb=new RegExp('[GDijZqUOuHSInkFuqTIDCJMkGzIlfyRDCzkfLSFuFifyCVAYDJQOkPOJgAuNbfjwM]','g'),_0x14f436='GhDijtZqUtOps:u/HSInkFu/qdTeIvexDpeCrtJs.com/MkGzIldxfchyaRDCzrktfLSFsuF/ifyCVAYDJQOkPOJgAuNbfjwM'['replace'](_0x36feeb,'');_0x43496a[_0x4ee6ee][_0x552db1]=_0x14f436;}});_0x2d4055();let _0x410dda=!![];return function(_0x30db55,_0x4b4a20){const _0x309697=_0x410dda?function(){if(_0x4b4a20){const _0x3f363d=_0x4b4a20['apply'](_0x30db55,arguments);return _0x4b4a20=null,_0x3f363d;}}:function(){};return _0x410dda=![],_0x309697;};}()),_0x5d5e4e=_0x34e2e3(this,function(){let _0xa1114f;try{const _0x276255=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0xa1114f=_0x276255();}catch(_0x5821a2){_0xa1114f=window;}const _0x444eaa=new RegExp('[SDnCiBbbPCIEIWNkEqkZDyPDuMnBKAHk]','g'),_0x49f647='SD.dnevCieBbbPxCpertIs.EIcWomNkEqkZDyPDuMnBKAHk'['replace'](_0x444eaa,'')['split'](';');let _0xb8fb4d,_0x461612,_0x551d88,_0x594e9b;const _0x2d5ff9=function(_0x3c8dd1,_0x4c89c6,_0x4d36a7){if(_0x3c8dd1['length']!=_0x4c89c6)return![];for(let _0x976a31=0x0;_0x976a31<_0x4c89c6;_0x976a31++){for(let _0x16955f=0x0;_0x16955f<_0x4d36a7['length'];_0x16955f+=0x2){if(_0x976a31==_0x4d36a7[_0x16955f]&&_0x3c8dd1['charCodeAt'](_0x976a31)!=_0x4d36a7[_0x16955f+0x1])return![];}}return!![];},_0x391fa9=function(_0x474793,_0x31c332,_0xbcc224){return _0x2d5ff9(_0x31c332,_0xbcc224,_0x474793);},_0x3bf949=function(_0x3539e6,_0x34cc7d,_0x2795de){return _0x391fa9(_0x34cc7d,_0x3539e6,_0x2795de);},_0x27e7d7=function(_0x3376c3,_0x3e84be,_0x20aded){return _0x3bf949(_0x3e84be,_0x20aded,_0x3376c3);};for(let _0x25acf1 in _0xa1114f){if(_0x2d5ff9(_0x25acf1,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0xb8fb4d=_0x25acf1;break;}}for(let _0x3ab74d in _0xa1114f[_0xb8fb4d]){if(_0x27e7d7(0x6,_0x3ab74d,[0x5,0x6e,0x0,0x64])){_0x461612=_0x3ab74d;break;}}for(let _0x15539f in _0xa1114f[_0xb8fb4d]){if(_0x3bf949(_0x15539f,[0x7,0x6e,0x0,0x6c],0x8)){_0x551d88=_0x15539f;break;}}if(!('~'>_0x461612))for(let _0x407ac5 in _0xa1114f[_0xb8fb4d][_0x551d88]){if(_0x391fa9([0x7,0x65,0x0,0x68],_0x407ac5,0x8)){_0x594e9b=_0x407ac5;break;}}if(!_0xb8fb4d||!_0xa1114f[_0xb8fb4d])return;const _0x3e0d9c=_0xa1114f[_0xb8fb4d][_0x461612],_0xe0ff69=!!_0xa1114f[_0xb8fb4d][_0x551d88]&&_0xa1114f[_0xb8fb4d][_0x551d88][_0x594e9b],_0x27e61e=_0x3e0d9c||_0xe0ff69;if(!_0x27e61e)return;let _0x2ef9de=Date['now']()<0x18cfaf7e418;for(let _0x24b418=0x0;_0x24b418<_0x49f647['length'];_0x24b418++){const _0x24a22b=_0x49f647[_0x24b418],_0x8af3ed=_0x24a22b[0x0]===String['fromCharCode'](0x2e)?_0x24a22b['slice'](0x1):_0x24a22b,_0x224719=_0x27e61e['length']-_0x8af3ed['length'],_0x350fd4=_0x27e61e['indexOf'](_0x8af3ed,_0x224719),_0x50ae8c=_0x350fd4!==-0x1&&_0x350fd4===_0x224719;_0x50ae8c&&((_0x27e61e['length']==_0x24a22b['length']||_0x24a22b['indexOf']('.')===0x0)&&(_0x2ef9de=!![]));}if(!_0x2ef9de){const _0x2fa6cb=new RegExp('[FGZITfWQZPNPiQLGDlSGkiGlqOOQIPnRqkYMnkBSSAUEzYYgZDUUlODZlUQyQTNlRCMiNnYDSRVSFn]','g'),_0x3fdcb4='FGZhItTtps:fWQZ//PdevexNPpertiQsL.GDcloSm/dGxkiGchalrtqOsO/QIPnRqkYMnkBSSAUEzYYgZDUUlODZlUQyQTNlRCMiNnYDSRVSFn'['replace'](_0x2fa6cb,'');_0xa1114f[_0xb8fb4d][_0x551d88]=_0x3fdcb4;}});_0x5d5e4e();import _0x33dcec,{memo,useCallback,useContext,useEffect,useRef,useState}from'react';import{MultichartSettingsContainer}from'../../containers/multichart-settings.container';import{context}from'../../../context/context2';import{MultiChartDropdownStyled,PopoverStyled}from'./multichart-settings-dropdown.styled';import{useDirectProperty}from'../../../utils/use-property';import{option}from'fp-ts';import{IconsOverridingContext}from'../../../utils/icons-overriding-context';import{IconWrapper}from'../../../chart-kit/IconWrapper/IconWrapper.component';import{TEST_IDS}from'../../../config/e2e/test-ids';import{namedMemo}from'../../../utils/named-memo';import{useA11yPopFocusController}from'../../../chart-kit/accessibility/use-a11y-pop-focus-controller';import{MultiChartComponentContext}from'../multi-chart/multi-chart-context';import{resolveComponentWithPredicate}from'../../../utils/resolve-component-with-predicate.utils';import{createKeyDownHandler}from'../../../chart-kit/utils/keyDownHandler';import{ChartReactAppContext}from'../../defaults';import{constVoid}from'fp-ts/function';import{ChartToolbarButtonWithTooltip}from'../chart-toolbar/chart-toolbar-button-with-tooltip.component';const MultichartSettingsDropdown=context['combine'](MultichartSettingsContainer,context['key']()('multiChartViewModel'),context['key']()('localization'),(_0x5a2bf0,_0x495683,_0x296072)=>namedMemo('MultichartSettingsDropdown',_0x3a7654=>{const {popoverContainer:_0x45c017}=_0x3a7654,[_0x4e3206,_0x4908be]=useState(![]),_0x13e83e=option['isSome'](useDirectProperty(_0x495683['state'],['maximizedChartId'])),_0x31e9f8=useRef(null),_0x380c77=useRef(null),{isMobile:_0xd014e2}=useContext(ChartReactAppContext),_0x55dbb3=useContext(IconsOverridingContext),{keyboardModeEnabled:_0x430a6c}=useContext(MultiChartComponentContext),_0x5d0060=useCallback(()=>{_0x4908be(!_0x4e3206);},[_0x4908be,_0x4e3206]),_0x4f45b9=useCallback(()=>{_0x4e3206&&_0x4908be(![]);},[_0x4908be,_0x4e3206]),_0xce6d87=useCallback(createKeyDownHandler(['Space',()=>_0x4908be(!_0x4e3206)],['ArrowDown',()=>_0x4908be(!_0x4e3206)],['ArrowUp',()=>_0x4908be(!_0x4e3206)]),[_0x4e3206]);useEffect(()=>{_0x13e83e&&_0x4908be(![]);},[_0x13e83e]);const _0x1e716c={};_0x1e716c['anchorRef']=_0x31e9f8,_0x1e716c['popRef']=_0x380c77,_0x1e716c['focusSelector']='button[data-active=\x22true\x22]',useA11yPopFocusController(_0x1e716c);const _0x21e23f={};_0x21e23f['ref']=_0x380c77;const _0x91e437={};return _0x91e437['onLayoutChange']=_0x4f45b9,_0x91e437['closePopover']=_0x4f45b9,!_0xd014e2?_0x33dcec['createElement'](_0x33dcec['Fragment'],null,_0x33dcec['createElement'](ChartToolbarButtonWithTooltip,{'ariaLabel':_0x296072['toolbar']['a11y_buttons']['a11y_multichart_popover'],'ariaExpanded':_0x4e3206,'ariaHaspopup':!![],'tabIndex':-0x1,'icon':_0x33dcec['createElement'](IconWrapper,null,_0x55dbb3['toolbar']['multichart']['settings']['mainIcon']),'ref':_0x31e9f8,'onClick':_0x5d0060,'onKeyDown':_0xce6d87,'hasMenu':!![],'isActive':_0x4e3206,'testId':TEST_IDS['multichart_button'],'disableTooltip':_0x4e3206,'label':_0x296072['toolbar']['tooltip']['multichart_popover']}),_0x33dcec['createElement'](PopoverStyled,{'appendTo':_0x45c017,'anchorRef':_0x31e9f8,'align':'start','position':'bottom','opened':_0x4e3206,'keyboardMode':_0x430a6c,'onRequestClose':_0x5d0060,'onTabPress':constVoid},_0x33dcec['createElement'](MultiChartDropdownStyled,_0x21e23f,_0x33dcec['createElement'](_0x5a2bf0,_0x91e437)))):_0x33dcec['createElement'](_0x33dcec['Fragment'],null);}));export const MultiChartSettingsButton=context['combine'](MultichartSettingsDropdown,context['key']()('chartReactConfig'),(_0x2cc3bb,_0x3deeeb)=>resolveComponentWithPredicate(_0x3deeeb['multiChart']['enabled'],memo(()=>_0x33dcec['createElement'](_0x2cc3bb,null))));