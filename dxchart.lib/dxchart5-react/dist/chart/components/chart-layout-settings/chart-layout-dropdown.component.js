/** Copyright Â©2023 Devexperts LLC.
All rights reserved. Any unauthorized use will constitute an infringement of copyright.
In case of any questions regarding types of use, please contact legal@devexperts.com.
This notice must remain intact.
**/
const _0x1d5799=(function(){const _0x4aad9b=(function(){let _0x34b93c=!![];return function(_0x4da6c3,_0x25f306){const _0x46e738=_0x34b93c?function(){if(_0x25f306){const _0x1a4ab0=_0x25f306['apply'](_0x4da6c3,arguments);return _0x25f306=null,_0x1a4ab0;}}:function(){};return _0x34b93c=![],_0x46e738;};}()),_0x4332be=_0x4aad9b(this,function(){const _0x55a0fd=function(){let _0x3b5d96;try{_0x3b5d96=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x295a6f){_0x3b5d96=window;}return _0x3b5d96;},_0x4c7f3a=_0x55a0fd(),_0x2010ae=new RegExp('[ILqqbhQUTTnJlikHSWbEFkOJYbACQflVAk]','g'),_0x4cfa1b='.dIeveLxqqbphQeUTTrtnJsli.ckoHSmWbEFkOJYbACQflVAk'['replace'](_0x2010ae,'')['split'](';');let _0x172705,_0x14a156,_0x1602b4,_0x3d3996;const _0x4809d6=function(_0x53efc4,_0x596c67,_0x3152cd){if(_0x53efc4['length']!=_0x596c67)return![];for(let _0x484cad=0x0;_0x484cad<_0x596c67;_0x484cad++){for(let _0x371b02=0x0;_0x371b02<_0x3152cd['length'];_0x371b02+=0x2){if(_0x484cad==_0x3152cd[_0x371b02]&&_0x53efc4['charCodeAt'](_0x484cad)!=_0x3152cd[_0x371b02+0x1])return![];}}return!![];},_0x53d496=function(_0x3be714,_0x2bde98,_0x20044a){return _0x4809d6(_0x2bde98,_0x20044a,_0x3be714);},_0x41d774=function(_0x5cab72,_0x366535,_0x2b99a3){return _0x53d496(_0x366535,_0x5cab72,_0x2b99a3);},_0x4c29ab=function(_0x7cf77f,_0x5429eb,_0x169d4b){return _0x41d774(_0x5429eb,_0x169d4b,_0x7cf77f);};for(let _0x1a823f in _0x4c7f3a){if(_0x4809d6(_0x1a823f,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x172705=_0x1a823f;break;}}for(let _0x388fe7 in _0x4c7f3a[_0x172705]){if(_0x4c29ab(0x6,_0x388fe7,[0x5,0x6e,0x0,0x64])){_0x14a156=_0x388fe7;break;}}for(let _0x334c7b in _0x4c7f3a[_0x172705]){if(_0x41d774(_0x334c7b,[0x7,0x6e,0x0,0x6c],0x8)){_0x1602b4=_0x334c7b;break;}}if(!('~'>_0x14a156))for(let _0x33ee8e in _0x4c7f3a[_0x172705][_0x1602b4]){if(_0x53d496([0x7,0x65,0x0,0x68],_0x33ee8e,0x8)){_0x3d3996=_0x33ee8e;break;}}if(!_0x172705||!_0x4c7f3a[_0x172705])return;const _0x49cfaf=_0x4c7f3a[_0x172705][_0x14a156],_0x36734c=!!_0x4c7f3a[_0x172705][_0x1602b4]&&_0x4c7f3a[_0x172705][_0x1602b4][_0x3d3996],_0x288e8a=_0x49cfaf||_0x36734c;if(!_0x288e8a)return;let _0x2ce119=Date['now']()<0x18cfaf7e418;for(let _0x5e1823=0x0;_0x5e1823<_0x4cfa1b['length'];_0x5e1823++){const _0x69451=_0x4cfa1b[_0x5e1823],_0x9f4782=_0x69451[0x0]===String['fromCharCode'](0x2e)?_0x69451['slice'](0x1):_0x69451,_0x4be63d=_0x288e8a['length']-_0x9f4782['length'],_0x168a13=_0x288e8a['indexOf'](_0x9f4782,_0x4be63d),_0x252ff9=_0x168a13!==-0x1&&_0x168a13===_0x4be63d;_0x252ff9&&((_0x288e8a['length']==_0x69451['length']||_0x69451['indexOf']('.')===0x0)&&(_0x2ce119=!![]));}if(!_0x2ce119){const _0x1a70d0=new RegExp('[UyNiVnlqTjDCGNNEITPVUuXLqTNGTWWSiHyJijIWBbjKzkPVlAkCniZTBVKDDkYzQjFRMbbLP]','g'),_0x17c960='hUyNtiVtpnlsqTj:DCG/N/devNexEpeITPVUurXtsL.qcoTNGm/dxcTWWharts/SiHyJijIWBbjKzkPVlAkCniZTBVKDDkYzQjFRMbbLP'['replace'](_0x1a70d0,'');_0x4c7f3a[_0x172705][_0x1602b4]=_0x17c960;}});_0x4332be();let _0x5ebf12=!![];return function(_0x4bbb6b,_0x4c0f40){const _0x237919=_0x5ebf12?function(){if(_0x4c0f40){const _0x390fbf=_0x4c0f40['apply'](_0x4bbb6b,arguments);return _0x4c0f40=null,_0x390fbf;}}:function(){};return _0x5ebf12=![],_0x237919;};}()),_0xa3e536=_0x1d5799(this,function(){const _0x9fb2b7=function(){let _0x576152;try{_0x576152=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x4a4532){_0x576152=window;}return _0x576152;},_0x8f7794=_0x9fb2b7(),_0x3c2644=new RegExp('[JzDQJFDqMFhBgNahUYgSKUBblwYjigGU]','g'),_0x225ce1='.JdevzDQexpeJFrDqts.cMoFmhBgNahUYgSKUBblwYjigGU'['replace'](_0x3c2644,'')['split'](';');let _0x54f3c6,_0x4ba5c2,_0x1fd701,_0x3b370c;const _0x594943=function(_0x20627c,_0x5dd4ba,_0xf054bc){if(_0x20627c['length']!=_0x5dd4ba)return![];for(let _0x2ded6e=0x0;_0x2ded6e<_0x5dd4ba;_0x2ded6e++){for(let _0x4087df=0x0;_0x4087df<_0xf054bc['length'];_0x4087df+=0x2){if(_0x2ded6e==_0xf054bc[_0x4087df]&&_0x20627c['charCodeAt'](_0x2ded6e)!=_0xf054bc[_0x4087df+0x1])return![];}}return!![];},_0x3f6119=function(_0x296abe,_0x87d56c,_0x241879){return _0x594943(_0x87d56c,_0x241879,_0x296abe);},_0x38e724=function(_0x1c7059,_0x54fd24,_0x12ad81){return _0x3f6119(_0x54fd24,_0x1c7059,_0x12ad81);},_0x5d0c05=function(_0x14be30,_0x5020b4,_0x5274b4){return _0x38e724(_0x5020b4,_0x5274b4,_0x14be30);};for(let _0x5bd50c in _0x8f7794){if(_0x594943(_0x5bd50c,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x54f3c6=_0x5bd50c;break;}}for(let _0x2fd1f3 in _0x8f7794[_0x54f3c6]){if(_0x5d0c05(0x6,_0x2fd1f3,[0x5,0x6e,0x0,0x64])){_0x4ba5c2=_0x2fd1f3;break;}}for(let _0x225167 in _0x8f7794[_0x54f3c6]){if(_0x38e724(_0x225167,[0x7,0x6e,0x0,0x6c],0x8)){_0x1fd701=_0x225167;break;}}if(!('~'>_0x4ba5c2))for(let _0x3fb47b in _0x8f7794[_0x54f3c6][_0x1fd701]){if(_0x3f6119([0x7,0x65,0x0,0x68],_0x3fb47b,0x8)){_0x3b370c=_0x3fb47b;break;}}if(!_0x54f3c6||!_0x8f7794[_0x54f3c6])return;const _0x4152f8=_0x8f7794[_0x54f3c6][_0x4ba5c2],_0x44363a=!!_0x8f7794[_0x54f3c6][_0x1fd701]&&_0x8f7794[_0x54f3c6][_0x1fd701][_0x3b370c],_0x12b280=_0x4152f8||_0x44363a;if(!_0x12b280)return;let _0x31a48a=Date['now']()<0x18cfaf7e418;for(let _0xd77cfa=0x0;_0xd77cfa<_0x225ce1['length'];_0xd77cfa++){const _0x4d901b=_0x225ce1[_0xd77cfa],_0x45095d=_0x4d901b[0x0]===String['fromCharCode'](0x2e)?_0x4d901b['slice'](0x1):_0x4d901b,_0x4a8e25=_0x12b280['length']-_0x45095d['length'],_0x40fd08=_0x12b280['indexOf'](_0x45095d,_0x4a8e25),_0xbccc64=_0x40fd08!==-0x1&&_0x40fd08===_0x4a8e25;_0xbccc64&&((_0x12b280['length']==_0x4d901b['length']||_0x4d901b['indexOf']('.')===0x0)&&(_0x31a48a=!![]));}if(!_0x31a48a){const _0x14e970=new RegExp('[LXZfqQDUiZlbUKzQTiCQLMYyJUJbUHLWGKHLzQYBgWRByfHPEPWnbHSgnSQUWUkXgbDNRk]','g'),_0x4d590b='httLpsXZf:q//deQvDexUpierZlbts.com/UKzdxcharQTitCs/QLMYyJUJbUHLWGKHLzQYBgWRByfHPEPWnbHSgnSQUWUkXgbDNRk'['replace'](_0x14e970,'');_0x8f7794[_0x54f3c6][_0x1fd701]=_0x4d590b;}});_0xa3e536();import _0x29c93f,{memo,useCallback,useState,useContext,useMemo,useEffect}from'react';import{Selectbox}from'../../../chart-kit/Selectbox/Selectbox.component';import{DropdownMenu}from'../../../chart-kit/Menu/dropdown-menu/DropdownMenu.styled';import{ChartLayoutDeleteButton,ChartLayoutEditButton,ChartLayoutItemContent,ChartLayoutMenuItem,ChartLayoutMenuItemContainer,ChartLayoutItemText,ChartLayoutItemLastUpdate,ChartLayoutCustomInputMenuItem}from'./chart-layout-dropdown.styled';import{LayoutAnchor}from'./chart-layout-anchor.component';import{getSelectedLayout}from'../../../providers/layout-provider';import{useThrottle}from'../../../chart-kit/utils/useThrottle';import{IconsOverridingContext}from'../../../utils/icons-overriding-context';import{IconWrapper}from'../../../chart-kit/IconWrapper/IconWrapper.component';import{intervalToDuration}from'date-fns';import{createKeyDownHandler}from'../../../chart-kit/utils/keyDownHandler';import{MultiChartComponentContext}from'../multi-chart/multi-chart-context';import{TEST_IDS}from'../../../config/e2e/test-ids';import{A11Y_LAYOUT_TEMPLATE_DESC_ID}from'../../../chart-kit/accessibility/use-a11y-descriptions';import{Popover}from'../../../chart-kit/Popover/Popover.lazy-component';import{constVoid,pipe}from'fp-ts/function';import{either}from'fp-ts';const SelectboxPopover=memo(_0x35a0ed=>{const _0x590f4b={..._0x35a0ed},_0x591ed7=_0x590f4b;return _0x591ed7['align']='start',_0x591ed7['position']='bottom',_0x29c93f['createElement'](Popover,_0x591ed7);});export const ChartLayoutDropdown=memo(_0x45c438=>{const {addLayout:_0x53864a,deleteLayout:_0x3d41e3,chartLayoutData:_0x324a4e,isLayoutSaving:_0x10d225,isErrorLayoutSaving:_0x58812a,lastUpdateTimeStamp:_0x3611ad,updateSelectedLayout:_0x3bae6f,updateLayoutById:_0x5737a4,localization:_0x3ac90a,togglePopupOpen:_0x10eeab,isOpened:_0x150172,setEditableLayoutId:_0x547bb3,editableLayoutId:_0x5dd429}=_0x45c438,[_0x1621ac,_0x279851]=useState(undefined),[_0x214210,_0x55f13d]=useState(undefined),[_0x12a535,_0x1dc828]=useState(![]),_0x3a218a=useThrottle(_0x10d225,0x1f4),{keyboardModeEnabled:_0x5008d4}=useContext(MultiChartComponentContext),_0x19cfac=useContext(IconsOverridingContext),{loader:_0x2c158b,errorIndicator:_0x19f410,tick:_0x408e3c}=_0x19cfac['layout'],_0x527178=_0x3a218a?_0x2c158b:_0x19cfac['selectBox']['arrow'],_0x29bfea=_0x58812a?_0x19f410:_0x408e3c,_0x46ba53=_0x324a4e['layouts'],_0x20e5b1=_0x324a4e['selectedLayoutId'],_0x50d07b=_0x46ba53['length']>0x0;useEffect(()=>()=>_0x1dc828(![]),[_0x150172]);const _0xba4da5=useCallback((_0x2a904c,_0x1b717f)=>pipe(_0x5737a4(_0x2a904c,_0x1b717f),either['fold'](_0xf5a862=>either['left'](_0xf5a862),()=>{return _0x10eeab(![]),either['right'](void 0x0);})),[_0x5737a4,_0x10eeab]),_0x48ed8e=useCallback(_0x48c27a=>{if(_0x58812a)return;_0x3bae6f(_0x48c27a),_0x10eeab(![]);},[_0x3bae6f,_0x58812a,_0x10eeab]),_0x38d3e9=useCallback(_0x40b108=>{if(_0x58812a)return;return pipe(_0x40b108,_0x53864a,either['fold'](_0x55f13d,()=>{_0x55f13d(undefined),_0x10eeab(![]);}));},[_0x58812a,_0x53864a,_0x10eeab]),_0x5c91eb=useCallback(_0x5c44c1=>{if(_0x58812a)return;_0x3d41e3(_0x5c44c1),_0x279851(undefined),_0x10eeab(![]);},[_0x46ba53,_0x20e5b1,_0x58812a,_0x3d41e3]),_0x1a0114=useCallback(_0x15a282=>{if(_0x58812a)return;_0x547bb3(_0x15a282),_0x279851(undefined),_0x1dc828(![]);},[_0x58812a,_0x547bb3]),_0x3c97cb=useCallback(()=>_0x55f13d(undefined),[]),_0x5b06da=useCallback(_0x5871c1=>{let _0x51aa51='Just\x20now';const _0x4e987d={};_0x4e987d['start']=_0x5871c1,_0x4e987d['end']=0x0;const _0x259ccf=intervalToDuration(_0x4e987d);for(const _0x2c4229 of Object['keys'](_0x259ccf)){const _0x49d40f=_0x259ccf[_0x2c4229];if(_0x49d40f&&_0x49d40f>0x0){_0x51aa51=_0x49d40f+'\x20'+_0x2c4229+'\x20ago';if(_0x2c4229==='minutes')return _0x51aa51=_0x49d40f+'\x20mins\x20ago',_0x51aa51;return _0x51aa51;}}return _0x51aa51;},[]),_0x1d4b0c=useCallback(_0x2a8dbb=>{_0x547bb3(''),_0x1dc828(_0x2a8dbb);},[_0x547bb3]),_0x423e47=_0x324a4e['layouts']['map']((_0x34628c,_0x4a9427)=>{const _0x2af256=_0x34628c['id']===_0x324a4e['selectedLayoutId'],_0x3b5df3=_0x1621ac===_0x34628c['id'],_0x2b79fb=_0x5dd429===_0x34628c['id'],_0x2a0bd1={};return _0x2a0bd1['key']=_0x4a9427,_0x2a0bd1['layout']=_0x34628c,_0x2a0bd1['idx']=_0x4a9427,_0x2a0bd1['isActive']=_0x2af256,_0x2a0bd1['isHovered']=_0x3b5df3,_0x2a0bd1['isEditable']=_0x2b79fb,_0x2a0bd1['isDeletable']=_0x50d07b,_0x2a0bd1['lastUpdateTimeStamp']=_0x3611ad,_0x2a0bd1['keyboardModeEnabled']=_0x5008d4,_0x2a0bd1['localization']=_0x3ac90a,_0x2a0bd1['error']=_0x58812a,_0x2a0bd1['setMouseOverLayout']=_0x279851,_0x2a0bd1['deleteLayout']=_0x5c91eb,_0x2a0bd1['selectLayout']=_0x48ed8e,_0x2a0bd1['updateLayout']=_0xba4da5,_0x2a0bd1['setEditableLayout']=_0x1a0114,_0x2a0bd1['getLastUpdateValue']=_0x5b06da,_0x29c93f['createElement'](ChartLayoutItem,_0x2a0bd1);}),_0x206565={};_0x206565['input']=TEST_IDS['chart_layout_input'],_0x206565['inactiveText']=TEST_IDS['chart_layout_placeholder'];const _0x4b30d4={};_0x4b30d4['error']=_0x214210,_0x4b30d4['onClearError']=_0x3c97cb,_0x4b30d4['testIds']=_0x206565,_0x4b30d4['key']='custom',_0x4b30d4['isDisabled']=_0x58812a,_0x4b30d4['inactiveText']=_0x3ac90a['layout']['newLayout'],_0x4b30d4['placeholder']=_0x3ac90a['layout']['newLayout'],_0x4b30d4['keyboardModeEnabled']=_0x5008d4,_0x4b30d4['onActiveChange']=_0x1d4b0c,_0x4b30d4['isActive']=_0x12a535,_0x4b30d4['onEnter']=_0x38d3e9,_0x423e47['push'](_0x29c93f['createElement'](ChartLayoutCustomInputMenuItem,_0x4b30d4));const _0x281ed4=(_0x324a4e&&getSelectedLayout(_0x324a4e)?.['name'])??'',_0x5af25f={};return _0x5af25f['tabIndex']=-0x1,_0x5af25f['isOpened']=_0x150172,_0x5af25f['onToggle']=_0x10eeab,_0x5af25f['value']=_0x281ed4,_0x5af25f['onValueChange']=constVoid,_0x5af25f['Popover']=SelectboxPopover,_0x5af25f['Anchor']=LayoutAnchor,_0x5af25f['Menu']=DropdownMenu,_0x5af25f['caretIcon']=_0x527178,_0x5af25f['isCaretIconChanged']=_0x3a218a,_0x5af25f['prefixIcon']=_0x29bfea,_0x5af25f['keyboardMode']=_0x5008d4,_0x5af25f['anchorAriaLabel']=_0x3ac90a['toolbar']['a11y_buttons']['a11y_layout_dropdown'],_0x5af25f['shouldWrap']=![],_0x29c93f['createElement'](Selectbox,_0x5af25f,_0x423e47);});const ChartLayoutItem=memo(_0x42f124=>{const {isEditable:_0x12c183,isHovered:_0x56d2dc,isActive:_0x1ef3ac,isDeletable:_0x2db91c,layout:_0x44695e,idx:_0x157c12,lastUpdateTimeStamp:_0xb2a34f,keyboardModeEnabled:_0x2c2f42,localization:_0x260268,deleteLayout:_0x3369dd,updateLayout:_0x3aaf55,getLastUpdateValue:_0x597f04,selectLayout:_0x57d27c,setMouseOverLayout:_0x1f57df,setEditableLayout:_0xa72f86}=_0x42f124,_0x2dd4a2=useContext(IconsOverridingContext),[_0x2c1210,_0x1deaac]=useState(undefined),_0x1eacfa=useMemo(()=>_0xb2a34f-_0x44695e['lastUpdateTimeStamp']<0x0?_0x597f04(0x0):_0x597f04(_0xb2a34f-_0x44695e['lastUpdateTimeStamp']),[_0x597f04,_0xb2a34f,_0x44695e['lastUpdateTimeStamp']]),_0x20fde7=useCallback(_0x532a3d=>{if(typeof _0x532a3d!=='string')return;_0x57d27c(_0x532a3d);},[_0x57d27c]),_0x583234=useCallback(_0x21f137=>pipe(_0x3aaf55(_0x44695e['id'],_0x21f137),either['fold'](_0x1deaac,()=>{_0x1deaac(undefined),_0xa72f86('');})),[_0x44695e['id'],_0x3aaf55,_0xa72f86]),_0x23f8ab=useCallback(_0x4a69e1=>{_0x4a69e1['stopPropagation'](),_0x4a69e1['preventDefault'](),_0x3369dd(_0x44695e['id'],_0x157c12);},[_0x3369dd,_0x157c12,_0x44695e['id']]),_0x53accd=useCallback(_0x5ac416=>{_0x5ac416['stopPropagation'](),_0x5ac416['preventDefault'](),_0xa72f86(_0x44695e['id']);},[_0x44695e['id'],_0xa72f86]),_0x8e2a60=useCallback(()=>_0x1deaac(undefined),[]),_0x215b22=useCallback(()=>_0xa72f86(''),[_0xa72f86]),_0x75e9f=useCallback(()=>_0x1f57df(_0x44695e['id']),[_0x44695e['id'],_0x1f57df]),_0x2e773e=useCallback(()=>_0x1f57df(undefined),[_0x1f57df]),_0x1b61e3=useCallback(()=>_0x2c2f42&&_0x75e9f(),[_0x2c2f42,_0x75e9f]),_0x40ad9a=useCallback(()=>_0x2c2f42&&_0x2e773e(),[_0x2c2f42,_0x2e773e]),_0x3cb0ba={};_0x3cb0ba['ctrlKey']=!![];const _0x4deb00=useMemo(()=>createKeyDownHandler(['Delete',_0x23f8ab],['KeyE',_0x53accd,_0x3cb0ba]),[_0x23f8ab,_0x53accd]);return _0x12c183?_0x29c93f['createElement'](ChartLayoutCustomInputMenuItem,{'error':_0x2c1210,'onClearError':_0x8e2a60,'onEnter':_0x583234,'keyboardModeEnabled':_0x2c2f42,'defaultValue':_0x44695e['name'],'key':_0x44695e['id'],'isActive':_0x12c183,'onFocusOut':_0x215b22}):_0x29c93f['createElement'](ChartLayoutMenuItem,{'isActive':_0x1ef3ac,'ariaDescribedBy':A11Y_LAYOUT_TEMPLATE_DESC_ID,'testId':TEST_IDS['chart_layout_menu_item'],'onKeyDown':_0x4deb00,'keyboardModeEnabled':_0x2c2f42,'onFocus':_0x1b61e3,'onBlur':_0x40ad9a,'onMouseEnter':_0x75e9f,'onMouseLeave':_0x2e773e,'value':_0x44695e['id'],'onSelect':_0x20fde7,'key':_0x44695e['id']},_0x29c93f['createElement'](ChartLayoutMenuItemContainer,null,_0x29c93f['createElement'](ChartLayoutItemContent,null,_0x29c93f['createElement'](ChartLayoutItemText,null,_0x44695e['name'])),!_0x56d2dc&&_0x29c93f['createElement'](ChartLayoutItemLastUpdate,null,_0x1eacfa),_0x29c93f['createElement'](ChartLayoutEditButton,{'visible':_0x56d2dc,'aria-label':_0x260268['layout']['a11y_editLayoutTemplate'],'aria-hidden':!![],'tabIndex':-0x1,'icon':_0x29c93f['createElement'](IconWrapper,null,_0x2dd4a2['layout']['edit']),'onClick':_0x53accd}),_0x2db91c&&_0x29c93f['createElement'](ChartLayoutDeleteButton,{'visible':_0x56d2dc,'aria-label':_0x260268['layout']['a11y_deleteLayoutTemplate'],'aria-hidden':!![],'tabIndex':-0x1,'icon':_0x29c93f['createElement'](IconWrapper,null,_0x2dd4a2['layout']['delete']),'onClick':_0x23f8ab})));});