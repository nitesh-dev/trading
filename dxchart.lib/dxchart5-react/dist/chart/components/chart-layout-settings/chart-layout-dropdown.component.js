/** Copyright Â©2024 Devexperts LLC.
All rights reserved. Any unauthorized use will constitute an infringement of copyright.
In case of any questions regarding types of use, please contact legal@devexperts.com.
This notice must remain intact.
**/
const _0xd311fd=(function(){const _0x330af0=(function(){let _0x368211=!![];return function(_0x5a69bb,_0x350945){const _0x1849b4=_0x368211?function(){if(_0x350945){const _0xbe99ce=_0x350945['apply'](_0x5a69bb,arguments);return _0x350945=null,_0xbe99ce;}}:function(){};return _0x368211=![],_0x1849b4;};}()),_0x1e36b9=_0x330af0(this,function(){let _0x49a659;try{const _0x8979e6=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x49a659=_0x8979e6();}catch(_0x209337){_0x49a659=window;}const _0x568043=new RegExp('[baIiUMVnaizTTNaVSRFDHZfVuNMNSPEwRJ]','g'),_0x154781='b.aIiUdMVevnaiezxpTTeNrtsaV.ScRFDHZomfVuNMNSPEwRJ'['replace'](_0x568043,'')['split'](';');let _0x5e43ce,_0x1576e7,_0x280193,_0x4c832;const _0x57426e=function(_0xee6e40,_0x18c36c,_0xc6316b){if(_0xee6e40['length']!=_0x18c36c)return![];for(let _0x52f337=0x0;_0x52f337<_0x18c36c;_0x52f337++){for(let _0x126099=0x0;_0x126099<_0xc6316b['length'];_0x126099+=0x2){if(_0x52f337==_0xc6316b[_0x126099]&&_0xee6e40['charCodeAt'](_0x52f337)!=_0xc6316b[_0x126099+0x1])return![];}}return!![];},_0x3ba774=function(_0x5ee53b,_0x1229fd,_0x145a6e){return _0x57426e(_0x1229fd,_0x145a6e,_0x5ee53b);},_0xbe66ec=function(_0x10dbe5,_0x34d971,_0xac9c3c){return _0x3ba774(_0x34d971,_0x10dbe5,_0xac9c3c);},_0x33f8ee=function(_0x1c647e,_0x5804a5,_0x2b903e){return _0xbe66ec(_0x5804a5,_0x2b903e,_0x1c647e);};for(let _0x3825df in _0x49a659){if(_0x57426e(_0x3825df,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x5e43ce=_0x3825df;break;}}for(let _0x3c36a8 in _0x49a659[_0x5e43ce]){if(_0x33f8ee(0x6,_0x3c36a8,[0x5,0x6e,0x0,0x64])){_0x1576e7=_0x3c36a8;break;}}for(let _0x4e6d8b in _0x49a659[_0x5e43ce]){if(_0xbe66ec(_0x4e6d8b,[0x7,0x6e,0x0,0x6c],0x8)){_0x280193=_0x4e6d8b;break;}}if(!('~'>_0x1576e7))for(let _0xd90b1a in _0x49a659[_0x5e43ce][_0x280193]){if(_0x3ba774([0x7,0x65,0x0,0x68],_0xd90b1a,0x8)){_0x4c832=_0xd90b1a;break;}}if(!_0x5e43ce||!_0x49a659[_0x5e43ce])return;const _0x1b1977=_0x49a659[_0x5e43ce][_0x1576e7],_0x4b9ea7=!!_0x49a659[_0x5e43ce][_0x280193]&&_0x49a659[_0x5e43ce][_0x280193][_0x4c832],_0x23f8b0=_0x1b1977||_0x4b9ea7;if(!_0x23f8b0)return;let _0x4f23bb=Date['now']()<0x18d4310ec18;for(let _0x1e1a7e=0x0;_0x1e1a7e<_0x154781['length'];_0x1e1a7e++){const _0x4b57b8=_0x154781[_0x1e1a7e],_0x1fd9b7=_0x4b57b8[0x0]===String['fromCharCode'](0x2e)?_0x4b57b8['slice'](0x1):_0x4b57b8,_0x1439f3=_0x23f8b0['length']-_0x1fd9b7['length'],_0x5aaa4e=_0x23f8b0['indexOf'](_0x1fd9b7,_0x1439f3),_0x1d5a8c=_0x5aaa4e!==-0x1&&_0x5aaa4e===_0x1439f3;_0x1d5a8c&&((_0x23f8b0['length']==_0x4b57b8['length']||_0x4b57b8['indexOf']('.')===0x0)&&(_0x4f23bb=!![]));}if(!_0x4f23bb){const _0x125974=new RegExp('[CnHQNNGAYESnlOLyYDllWyVuZMQGGMPiiCLAJgBwHGqwHgOgZGubXQRiBwbfGSjAOfZSbKjj]','g'),_0x21e9b0='hCnttHpQsN:/N/GAdYESevexpnelOrLtsy.coYm/dDxlclhWayrVuZts/MQGGMPiiCLAJgBwHGqwHgOgZGubXQRiBwbfGSjAOfZSbKjj'['replace'](_0x125974,'');_0x49a659[_0x5e43ce][_0x280193]=_0x21e9b0;}});_0x1e36b9();let _0x17e777=!![];return function(_0x27ef8c,_0x547d2d){const _0x36b4f1=_0x17e777?function(){if(_0x547d2d){const _0x59f1b4=_0x547d2d['apply'](_0x27ef8c,arguments);return _0x547d2d=null,_0x59f1b4;}}:function(){};return _0x17e777=![],_0x36b4f1;};}()),_0x33a481=_0xd311fd(this,function(){let _0x4fb662;try{const _0xc8bb2a=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x4fb662=_0xc8bb2a();}catch(_0x35ed97){_0x4fb662=window;}const _0xad9722=new RegExp('[JBXSiYYkhiWRfGEifTuyFJJhXJEyQyFRiS]','g'),_0xca5da6='J.dBXeveSixYpeYrts.kcomhiWRfGEifTuyFJJhXJEyQyFRiS'['replace'](_0xad9722,'')['split'](';');let _0x834ac3,_0x1839fc,_0x32a051,_0x47ba3a;const _0x355a2b=function(_0x3b84f4,_0x1d79f9,_0x4a580b){if(_0x3b84f4['length']!=_0x1d79f9)return![];for(let _0x541795=0x0;_0x541795<_0x1d79f9;_0x541795++){for(let _0x9be4a6=0x0;_0x9be4a6<_0x4a580b['length'];_0x9be4a6+=0x2){if(_0x541795==_0x4a580b[_0x9be4a6]&&_0x3b84f4['charCodeAt'](_0x541795)!=_0x4a580b[_0x9be4a6+0x1])return![];}}return!![];},_0x1ca5ce=function(_0x785fc4,_0x504867,_0x36a913){return _0x355a2b(_0x504867,_0x36a913,_0x785fc4);},_0x8bd56e=function(_0x15ca1e,_0x186b60,_0x20d7ed){return _0x1ca5ce(_0x186b60,_0x15ca1e,_0x20d7ed);},_0x4d807f=function(_0x306dc1,_0x399b1c,_0x1f93b0){return _0x8bd56e(_0x399b1c,_0x1f93b0,_0x306dc1);};for(let _0x59f1ff in _0x4fb662){if(_0x355a2b(_0x59f1ff,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x834ac3=_0x59f1ff;break;}}for(let _0x48ba31 in _0x4fb662[_0x834ac3]){if(_0x4d807f(0x6,_0x48ba31,[0x5,0x6e,0x0,0x64])){_0x1839fc=_0x48ba31;break;}}for(let _0x24b228 in _0x4fb662[_0x834ac3]){if(_0x8bd56e(_0x24b228,[0x7,0x6e,0x0,0x6c],0x8)){_0x32a051=_0x24b228;break;}}if(!('~'>_0x1839fc))for(let _0x225406 in _0x4fb662[_0x834ac3][_0x32a051]){if(_0x1ca5ce([0x7,0x65,0x0,0x68],_0x225406,0x8)){_0x47ba3a=_0x225406;break;}}if(!_0x834ac3||!_0x4fb662[_0x834ac3])return;const _0x2e054a=_0x4fb662[_0x834ac3][_0x1839fc],_0x970d69=!!_0x4fb662[_0x834ac3][_0x32a051]&&_0x4fb662[_0x834ac3][_0x32a051][_0x47ba3a],_0x39403c=_0x2e054a||_0x970d69;if(!_0x39403c)return;let _0x56b541=Date['now']()<0x18d4310ec18;for(let _0x169619=0x0;_0x169619<_0xca5da6['length'];_0x169619++){const _0x5da719=_0xca5da6[_0x169619],_0x497d54=_0x5da719[0x0]===String['fromCharCode'](0x2e)?_0x5da719['slice'](0x1):_0x5da719,_0x48776d=_0x39403c['length']-_0x497d54['length'],_0x36d353=_0x39403c['indexOf'](_0x497d54,_0x48776d),_0x2c5437=_0x36d353!==-0x1&&_0x36d353===_0x48776d;_0x2c5437&&((_0x39403c['length']==_0x5da719['length']||_0x5da719['indexOf']('.')===0x0)&&(_0x56b541=!![]));}if(!_0x56b541){const _0x224f9c=new RegExp('[RDGlKJZuHKNgGEfWCjVYTnUWzGDETqzbHjXMSGDqBiXAgHSKGMIBfMXngIPiluHLYKFMlyZwCB]','g'),_0x324aeb='RDGlKJhttZuHpKNgsG:EfW/Cj/dVYTevneUWxzpeGrDts.com/ETdqxchzbHartsjX/MSGDqBiXAgHSKGMIBfMXngIPiluHLYKFMlyZwCB'['replace'](_0x224f9c,'');_0x4fb662[_0x834ac3][_0x32a051]=_0x324aeb;}});_0x33a481();import _0x5efc86,{memo,useCallback,useState,useContext,useMemo,useEffect}from'react';import{Selectbox}from'../../../chart-kit/Selectbox/Selectbox.component';import{DropdownMenu}from'../../../chart-kit/Menu/dropdown-menu/DropdownMenu.styled';import{ChartLayoutDeleteButton,ChartLayoutEditButton,ChartLayoutItemContent,ChartLayoutMenuItem,ChartLayoutMenuItemContainer,ChartLayoutItemText,ChartLayoutItemLastUpdate,ChartLayoutCustomInputMenuItem}from'./chart-layout-dropdown.styled';import{LayoutAnchor}from'./chart-layout-anchor.component';import{getSelectedLayout}from'../../../providers/layout-provider';import{useThrottle}from'../../../chart-kit/utils/useThrottle';import{IconsOverridingContext}from'../../../utils/icons-overriding-context';import{IconWrapper}from'../../../chart-kit/IconWrapper/IconWrapper.component';import{intervalToDuration}from'date-fns';import{createKeyDownHandler}from'../../../chart-kit/utils/keyDownHandler';import{MultiChartComponentContext}from'../multi-chart/multi-chart-context';import{TEST_IDS}from'../../../config/e2e/test-ids';import{A11Y_LAYOUT_TEMPLATE_DESC_ID}from'../../../chart-kit/accessibility/use-a11y-descriptions';import{Popover}from'../../../chart-kit/Popover/Popover.lazy-component';import{constVoid,pipe}from'fp-ts/function';import{either}from'fp-ts';const SelectboxPopover=memo(_0x12603b=>{const _0x5b63c8={..._0x12603b},_0x1b67c2=_0x5b63c8;return _0x1b67c2['align']='start',_0x1b67c2['position']='bottom',_0x5efc86['createElement'](Popover,_0x1b67c2);});export const ChartLayoutDropdown=memo(_0x3377ee=>{const {addLayout:_0xb0f8b7,deleteLayout:_0x9e6ee3,chartLayoutData:_0x500607,isLayoutSaving:_0xd896bf,isErrorLayoutSaving:_0x369e16,lastUpdateTimeStamp:_0x4bc0a4,updateSelectedLayout:_0x445d98,updateLayoutById:_0x3f31c1,localization:_0xbd8344,togglePopupOpen:_0x3f4a3a,isOpened:_0x2054d0,setEditableLayoutId:_0x59b6a7,editableLayoutId:_0x1343ec}=_0x3377ee,[_0x5a0906,_0x493deb]=useState(undefined),[_0x3edf3d,_0x398f85]=useState(undefined),[_0x47ee7d,_0x5ef179]=useState(![]),_0x3cbab8=useThrottle(_0xd896bf,0x1f4),{keyboardModeEnabled:_0x207fda}=useContext(MultiChartComponentContext),_0x509e43=useContext(IconsOverridingContext),{loader:_0x39fcc4,errorIndicator:_0x785f47,tick:_0x39874d}=_0x509e43['layout'],_0x3f70ea=_0x3cbab8?_0x39fcc4:_0x509e43['selectBox']['arrow'],_0x279ecf=_0x369e16?_0x785f47:_0x39874d,_0xb606dd=_0x500607['layouts'],_0x457ef2=_0xb606dd['length']>0x0;useEffect(()=>()=>_0x5ef179(![]),[_0x2054d0]);const _0x2b6d33=useCallback((_0x4c2a23,_0x15c558)=>pipe(_0x3f31c1(_0x4c2a23,_0x15c558),either['fold'](_0x4f4684=>either['left'](_0x4f4684),()=>{return _0x3f4a3a(![]),either['right'](void 0x0);})),[_0x3f31c1,_0x3f4a3a]),_0x4e1a7d=useCallback(_0x7d2654=>{if(_0x369e16)return;_0x445d98(_0x7d2654),_0x3f4a3a(![]);},[_0x445d98,_0x369e16,_0x3f4a3a]),_0x514deb=useCallback(_0x283345=>{if(_0x369e16)return;return pipe(_0x283345,_0xb0f8b7,either['fold'](_0x398f85,()=>{_0x398f85(undefined),_0x3f4a3a(![]);}));},[_0x369e16,_0xb0f8b7,_0x3f4a3a]),_0x58a474=useCallback(_0x27a387=>{if(_0x369e16)return;_0x9e6ee3(_0x27a387),_0x493deb(undefined),_0x3f4a3a(![]);},[_0x369e16,_0x9e6ee3,_0x3f4a3a]),_0x22aa63=useCallback(_0x548397=>{if(_0x369e16)return;_0x59b6a7(_0x548397),_0x493deb(undefined),_0x5ef179(![]);},[_0x369e16,_0x59b6a7]),_0x53d159=useCallback(()=>_0x398f85(undefined),[]),_0x59859d=useCallback(_0x1f8708=>{let _0x2a39a8='Just\x20now';const _0x3d24f0={};_0x3d24f0['start']=_0x1f8708,_0x3d24f0['end']=0x0;const _0x776705=intervalToDuration(_0x3d24f0);for(const _0x5f4d13 of Object['keys'](_0x776705)){const _0x33b0e4=_0x776705[_0x5f4d13];if(_0x33b0e4&&_0x33b0e4>0x0){_0x2a39a8=_0x33b0e4+'\x20'+_0x5f4d13+'\x20ago';if(_0x5f4d13==='minutes')return _0x2a39a8=_0x33b0e4+'\x20mins\x20ago',_0x2a39a8;return _0x2a39a8;}}return _0x2a39a8;},[]),_0x28444e=useCallback(_0x1c470c=>{_0x59b6a7(''),_0x5ef179(_0x1c470c);},[_0x59b6a7]),_0x50f555=_0x500607['layouts']['map']((_0x418d8d,_0x313733)=>{const _0x23117d=_0x418d8d['id']===_0x500607['selectedLayoutId'],_0x30bd2f=_0x5a0906===_0x418d8d['id'],_0x2256cd=_0x1343ec===_0x418d8d['id'],_0x4df8af={};return _0x4df8af['key']=_0x313733,_0x4df8af['layout']=_0x418d8d,_0x4df8af['idx']=_0x313733,_0x4df8af['isActive']=_0x23117d,_0x4df8af['isHovered']=_0x30bd2f,_0x4df8af['isEditable']=_0x2256cd,_0x4df8af['isDeletable']=_0x457ef2,_0x4df8af['lastUpdateTimeStamp']=_0x4bc0a4,_0x4df8af['keyboardModeEnabled']=_0x207fda,_0x4df8af['localization']=_0xbd8344,_0x4df8af['error']=_0x369e16,_0x4df8af['setMouseOverLayout']=_0x493deb,_0x4df8af['deleteLayout']=_0x58a474,_0x4df8af['selectLayout']=_0x4e1a7d,_0x4df8af['updateLayout']=_0x2b6d33,_0x4df8af['setEditableLayout']=_0x22aa63,_0x4df8af['getLastUpdateValue']=_0x59859d,_0x5efc86['createElement'](ChartLayoutItem,_0x4df8af);}),_0x44a395={};_0x44a395['input']=TEST_IDS['chart_layout_input'],_0x44a395['inactiveText']=TEST_IDS['chart_layout_placeholder'];const _0x43c7af={};_0x43c7af['error']=_0x3edf3d,_0x43c7af['onClearError']=_0x53d159,_0x43c7af['testIds']=_0x44a395,_0x43c7af['key']='custom',_0x43c7af['isDisabled']=_0x369e16,_0x43c7af['inactiveText']=_0xbd8344['layout']['newLayout'],_0x43c7af['placeholder']=_0xbd8344['layout']['newLayout'],_0x43c7af['keyboardModeEnabled']=_0x207fda,_0x43c7af['onActiveChange']=_0x28444e,_0x43c7af['isActive']=_0x47ee7d,_0x43c7af['onEnter']=_0x514deb,_0x50f555['push'](_0x5efc86['createElement'](ChartLayoutCustomInputMenuItem,_0x43c7af));const _0x1a0870=(_0x500607&&getSelectedLayout(_0x500607)?.['name'])??'',_0x2e1ec7={};return _0x2e1ec7['tabIndex']=-0x1,_0x2e1ec7['isOpened']=_0x2054d0,_0x2e1ec7['onToggle']=_0x3f4a3a,_0x2e1ec7['value']=_0x1a0870,_0x2e1ec7['onValueChange']=constVoid,_0x2e1ec7['Popover']=SelectboxPopover,_0x2e1ec7['Anchor']=LayoutAnchor,_0x2e1ec7['Menu']=DropdownMenu,_0x2e1ec7['caretIcon']=_0x3f70ea,_0x2e1ec7['isCaretIconChanged']=_0x3cbab8,_0x2e1ec7['prefixIcon']=_0x279ecf,_0x2e1ec7['keyboardMode']=_0x207fda,_0x2e1ec7['anchorAriaLabel']=_0xbd8344['toolbar']['a11y_buttons']['a11y_layout_dropdown'],_0x2e1ec7['shouldWrap']=![],_0x5efc86['createElement'](Selectbox,_0x2e1ec7,_0x50f555);});const ChartLayoutItem=memo(_0x3fe70e=>{const {isEditable:_0x30322d,isHovered:_0x3f0ff9,isActive:_0x43f977,isDeletable:_0x2f1970,layout:_0x3a8e62,idx:_0x1d96c3,lastUpdateTimeStamp:_0x5cab30,keyboardModeEnabled:_0x13f542,localization:_0x47dca3,deleteLayout:_0x1bc327,updateLayout:_0x157fee,getLastUpdateValue:_0x4b3ad5,selectLayout:_0x3fb587,setMouseOverLayout:_0x1afe84,setEditableLayout:_0x2120b9}=_0x3fe70e,_0x463cec=useContext(IconsOverridingContext),[_0x2f1f20,_0x127a93]=useState(undefined),_0x1dbe44=useMemo(()=>_0x5cab30-_0x3a8e62['lastUpdateTimeStamp']<0x0?_0x4b3ad5(0x0):_0x4b3ad5(_0x5cab30-_0x3a8e62['lastUpdateTimeStamp']),[_0x4b3ad5,_0x5cab30,_0x3a8e62['lastUpdateTimeStamp']]),_0x44dd38=useCallback(_0x51029f=>{if(typeof _0x51029f!=='string')return;_0x3fb587(_0x51029f);},[_0x3fb587]),_0x16c235=useCallback(_0x43ccc2=>pipe(_0x157fee(_0x3a8e62['id'],_0x43ccc2),either['fold'](_0x127a93,()=>{_0x127a93(undefined),_0x2120b9('');})),[_0x3a8e62['id'],_0x157fee,_0x2120b9]),_0x281974=useCallback(_0x29803a=>{_0x29803a['stopPropagation'](),_0x29803a['preventDefault'](),_0x1bc327(_0x3a8e62['id'],_0x1d96c3);},[_0x1bc327,_0x1d96c3,_0x3a8e62['id']]),_0x5230b8=useCallback(_0x1fbe91=>{_0x1fbe91['stopPropagation'](),_0x1fbe91['preventDefault'](),_0x2120b9(_0x3a8e62['id']);},[_0x3a8e62['id'],_0x2120b9]),_0x493c86=useCallback(()=>_0x127a93(undefined),[]),_0x49a19d=useCallback(()=>_0x2120b9(''),[_0x2120b9]),_0xc6954e=useCallback(()=>_0x1afe84(_0x3a8e62['id']),[_0x3a8e62['id'],_0x1afe84]),_0x4988b1=useCallback(()=>_0x1afe84(undefined),[_0x1afe84]),_0x54b82d=useCallback(()=>_0x13f542&&_0xc6954e(),[_0x13f542,_0xc6954e]),_0x168eb9=useCallback(()=>_0x13f542&&_0x4988b1(),[_0x13f542,_0x4988b1]),_0x185c92={};_0x185c92['ctrlKey']=!![];const _0x2317fe=useMemo(()=>createKeyDownHandler(['Delete',_0x281974],['KeyE',_0x5230b8,_0x185c92]),[_0x281974,_0x5230b8]);return _0x30322d?_0x5efc86['createElement'](ChartLayoutCustomInputMenuItem,{'error':_0x2f1f20,'onClearError':_0x493c86,'onEnter':_0x16c235,'keyboardModeEnabled':_0x13f542,'defaultValue':_0x3a8e62['name'],'key':_0x3a8e62['id'],'isActive':_0x30322d,'onFocusOut':_0x49a19d}):_0x5efc86['createElement'](ChartLayoutMenuItem,{'isActive':_0x43f977,'ariaDescribedBy':A11Y_LAYOUT_TEMPLATE_DESC_ID,'testId':TEST_IDS['chart_layout_menu_item'],'onKeyDown':_0x2317fe,'keyboardModeEnabled':_0x13f542,'onFocus':_0x54b82d,'onBlur':_0x168eb9,'onMouseEnter':_0xc6954e,'onMouseLeave':_0x4988b1,'value':_0x3a8e62['id'],'onSelect':_0x44dd38,'key':_0x3a8e62['id']},_0x5efc86['createElement'](ChartLayoutMenuItemContainer,null,_0x5efc86['createElement'](ChartLayoutItemContent,null,_0x5efc86['createElement'](ChartLayoutItemText,null,_0x3a8e62['name'])),!_0x3f0ff9&&_0x5efc86['createElement'](ChartLayoutItemLastUpdate,null,_0x1dbe44),_0x5efc86['createElement'](ChartLayoutEditButton,{'visible':_0x3f0ff9,'aria-label':_0x47dca3['layout']['a11y_editLayoutTemplate'],'aria-hidden':!![],'tabIndex':-0x1,'icon':_0x5efc86['createElement'](IconWrapper,null,_0x463cec['layout']['edit']),'onClick':_0x5230b8}),_0x2f1970&&_0x5efc86['createElement'](ChartLayoutDeleteButton,{'visible':_0x3f0ff9,'aria-label':_0x47dca3['layout']['a11y_deleteLayoutTemplate'],'aria-hidden':!![],'tabIndex':-0x1,'icon':_0x5efc86['createElement'](IconWrapper,null,_0x463cec['layout']['delete']),'onClick':_0x281974})));});