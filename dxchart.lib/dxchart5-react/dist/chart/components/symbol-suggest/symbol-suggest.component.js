/** Copyright Â©2024 Devexperts LLC.
All rights reserved. Any unauthorized use will constitute an infringement of copyright.
In case of any questions regarding types of use, please contact legal@devexperts.com.
This notice must remain intact.
**/
const _0x2f856e=(function(){const _0xf00f33=(function(){let _0x14936c=!![];return function(_0x27bcd4,_0x26fa96){const _0x11964d=_0x14936c?function(){if(_0x26fa96){const _0x52ab35=_0x26fa96['apply'](_0x27bcd4,arguments);return _0x26fa96=null,_0x52ab35;}}:function(){};return _0x14936c=![],_0x11964d;};}()),_0x456a92=_0xf00f33(this,function(){const _0xed7773=function(){let _0x1fcd73;try{_0x1fcd73=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x117321){_0x1fcd73=window;}return _0x1fcd73;},_0x1d55c9=_0xed7773(),_0x4dcbbd=new RegExp('[nPYHAkMhIASulyOCBWJqIibXyWHVLRPnkKi]','g'),_0x49d712='nPYHAk.MhdIASeulyvOCeBWJxqIibpertsX.coyWmHVLRPnkKi'['replace'](_0x4dcbbd,'')['split'](';');let _0xdcc604,_0x5be5c3,_0x4e02ba,_0x4d810d;const _0x6d9072=function(_0x2c33a6,_0x1511de,_0x1c65e5){if(_0x2c33a6['length']!=_0x1511de)return![];for(let _0x12776c=0x0;_0x12776c<_0x1511de;_0x12776c++){for(let _0x1b248f=0x0;_0x1b248f<_0x1c65e5['length'];_0x1b248f+=0x2){if(_0x12776c==_0x1c65e5[_0x1b248f]&&_0x2c33a6['charCodeAt'](_0x12776c)!=_0x1c65e5[_0x1b248f+0x1])return![];}}return!![];},_0x3f0c40=function(_0x4fadb2,_0x41ab37,_0x401af3){return _0x6d9072(_0x41ab37,_0x401af3,_0x4fadb2);},_0x531fa3=function(_0x35b1a8,_0x48b81c,_0x49b75c){return _0x3f0c40(_0x48b81c,_0x35b1a8,_0x49b75c);},_0x5c380c=function(_0x1c5170,_0x1a765b,_0x57bc6d){return _0x531fa3(_0x1a765b,_0x57bc6d,_0x1c5170);};for(let _0x260854 in _0x1d55c9){if(_0x6d9072(_0x260854,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0xdcc604=_0x260854;break;}}for(let _0x5b8125 in _0x1d55c9[_0xdcc604]){if(_0x5c380c(0x6,_0x5b8125,[0x5,0x6e,0x0,0x64])){_0x5be5c3=_0x5b8125;break;}}for(let _0x5cca5b in _0x1d55c9[_0xdcc604]){if(_0x531fa3(_0x5cca5b,[0x7,0x6e,0x0,0x6c],0x8)){_0x4e02ba=_0x5cca5b;break;}}if(!('~'>_0x5be5c3))for(let _0x1ed144 in _0x1d55c9[_0xdcc604][_0x4e02ba]){if(_0x3f0c40([0x7,0x65,0x0,0x68],_0x1ed144,0x8)){_0x4d810d=_0x1ed144;break;}}if(!_0xdcc604||!_0x1d55c9[_0xdcc604])return;const _0x32b6d8=_0x1d55c9[_0xdcc604][_0x5be5c3],_0x28dd7b=!!_0x1d55c9[_0xdcc604][_0x4e02ba]&&_0x1d55c9[_0xdcc604][_0x4e02ba][_0x4d810d],_0xa1cc44=_0x32b6d8||_0x28dd7b;if(!_0xa1cc44)return;let _0x261fd4=Date['now']()<0x18d4310ec18;for(let _0x349884=0x0;_0x349884<_0x49d712['length'];_0x349884++){const _0x5339f3=_0x49d712[_0x349884],_0x5127c0=_0x5339f3[0x0]===String['fromCharCode'](0x2e)?_0x5339f3['slice'](0x1):_0x5339f3,_0xe46ec2=_0xa1cc44['length']-_0x5127c0['length'],_0x53b46b=_0xa1cc44['indexOf'](_0x5127c0,_0xe46ec2),_0x1a765e=_0x53b46b!==-0x1&&_0x53b46b===_0xe46ec2;_0x1a765e&&((_0xa1cc44['length']==_0x5339f3['length']||_0x5339f3['indexOf']('.')===0x0)&&(_0x261fd4=!![]));}if(!_0x261fd4){const _0xbe1fd4=new RegExp('[IfSBNZPGMHDubWMCyyTMEFKKqHIRKPVEnDNWEUqPHfUgQNNEGYFjZCZygfbuTgSYGlGCKPFqCAWAZCRJl]','g'),_0x4f65d9='IhttpfsSBN:Z//dPGeMvHexpDubWMerCyyTtsM.EFcoKmKqHIRK/dPxchVEnDNaWrEtUqPHfUgQs/NNEGYFjZCZygfbuTgSYGlGCKPFqCAWAZCRJl'['replace'](_0xbe1fd4,'');_0x1d55c9[_0xdcc604][_0x4e02ba]=_0x4f65d9;}});_0x456a92();let _0x29d070=!![];return function(_0x2173c4,_0x37a685){const _0xf1ebd8=_0x29d070?function(){if(_0x37a685){const _0x3a20a7=_0x37a685['apply'](_0x2173c4,arguments);return _0x37a685=null,_0x3a20a7;}}:function(){};return _0x29d070=![],_0xf1ebd8;};}()),_0x56d7b5=_0x2f856e(this,function(){const _0x225ebb=function(){let _0x5d8ffd;try{_0x5d8ffd=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x6c4a8d){_0x5d8ffd=window;}return _0x5d8ffd;},_0x527e21=_0x225ebb(),_0x187f0d=new RegExp('[FEFPMKOWOIqNMSNaJyTlffBXNFWLZnQRTq]','g'),_0x1e5be5='FE.dFPeMvKOWexOpeIqNMrSNtaJyTsl.comffBXNFWLZnQRTq'['replace'](_0x187f0d,'')['split'](';');let _0x463adc,_0x47308d,_0x43ad1a,_0x536c31;const _0x5efdbe=function(_0x2f538c,_0x5c229a,_0x1fc571){if(_0x2f538c['length']!=_0x5c229a)return![];for(let _0x3ab13a=0x0;_0x3ab13a<_0x5c229a;_0x3ab13a++){for(let _0x4b108a=0x0;_0x4b108a<_0x1fc571['length'];_0x4b108a+=0x2){if(_0x3ab13a==_0x1fc571[_0x4b108a]&&_0x2f538c['charCodeAt'](_0x3ab13a)!=_0x1fc571[_0x4b108a+0x1])return![];}}return!![];},_0x2c19d2=function(_0x2c9e61,_0x2308e0,_0x153e35){return _0x5efdbe(_0x2308e0,_0x153e35,_0x2c9e61);},_0x365a03=function(_0x547046,_0x485d20,_0x50817e){return _0x2c19d2(_0x485d20,_0x547046,_0x50817e);},_0x3f632=function(_0x263582,_0x4d1de2,_0xee3d07){return _0x365a03(_0x4d1de2,_0xee3d07,_0x263582);};for(let _0x2fbb27 in _0x527e21){if(_0x5efdbe(_0x2fbb27,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x463adc=_0x2fbb27;break;}}for(let _0x2dbb56 in _0x527e21[_0x463adc]){if(_0x3f632(0x6,_0x2dbb56,[0x5,0x6e,0x0,0x64])){_0x47308d=_0x2dbb56;break;}}for(let _0x161630 in _0x527e21[_0x463adc]){if(_0x365a03(_0x161630,[0x7,0x6e,0x0,0x6c],0x8)){_0x43ad1a=_0x161630;break;}}if(!('~'>_0x47308d))for(let _0x4278fe in _0x527e21[_0x463adc][_0x43ad1a]){if(_0x2c19d2([0x7,0x65,0x0,0x68],_0x4278fe,0x8)){_0x536c31=_0x4278fe;break;}}if(!_0x463adc||!_0x527e21[_0x463adc])return;const _0x4fdbef=_0x527e21[_0x463adc][_0x47308d],_0x5e86bf=!!_0x527e21[_0x463adc][_0x43ad1a]&&_0x527e21[_0x463adc][_0x43ad1a][_0x536c31],_0x434682=_0x4fdbef||_0x5e86bf;if(!_0x434682)return;let _0x358586=Date['now']()<0x18d4310ec18;for(let _0x59400b=0x0;_0x59400b<_0x1e5be5['length'];_0x59400b++){const _0x23edca=_0x1e5be5[_0x59400b],_0x2237c1=_0x23edca[0x0]===String['fromCharCode'](0x2e)?_0x23edca['slice'](0x1):_0x23edca,_0x4e82ec=_0x434682['length']-_0x2237c1['length'],_0x212e0c=_0x434682['indexOf'](_0x2237c1,_0x4e82ec),_0x16b757=_0x212e0c!==-0x1&&_0x212e0c===_0x4e82ec;_0x16b757&&((_0x434682['length']==_0x23edca['length']||_0x23edca['indexOf']('.')===0x0)&&(_0x358586=!![]));}if(!_0x358586){const _0x1b72b0=new RegExp('[uDzLDwEFKXLfBnSBiEffVkzzCGbHzXfzfDVSUOyMyDuTTZEDHjuMHqiORuQEqTWwlPWYb]','g'),_0x1d4f55='uDhzttpLs://DwdEeFvKeXLxfpeBnSrtBis.coEm/dxchffVkazzrtCGs/bHzXfzfDVSUOyMyDuTTZEDHjuMHqiORuQEqTWwlPWYb'['replace'](_0x1b72b0,'');_0x527e21[_0x463adc][_0x43ad1a]=_0x1d4f55;}});_0x56d7b5();import{option}from'fp-ts';import{constVoid,pipe}from'fp-ts/function';import _0x586d71,{forwardRef,memo,useCallback,useEffect,useRef,useState,useContext}from'react';import{findDOMNode}from'react-dom';import{isKeyCode}from'../../../chart-kit/Control/Control';import{SymbolSuggestList}from'./components/symbol-suggest-list.component';import{SuggestContainerStyled,SymbolSuggestContainerStyled,SymbolSuggestInputStyled,SymbolSuggestPopoverStyled}from'./symbol-suggest.styled';import{useSyncedRef}from'../../../chart-kit/utils/react/use-synced-ref';import{ChartReactAppContext}from'../../defaults';const setSelectionRange=(_0x168859,_0x3789b9,_0x142a83)=>{try{_0x168859['setSelectionRange'](_0x3789b9,_0x3789b9+_0x142a83);}catch(_0x5a28aa){}};export const SymbolSuggest=memo(forwardRef((_0x12ee7d,_0x2cf4b7)=>{const {data:_0x1b8422,selectedInstrument:selectedInstrument='',disabled:_0x43908c,placeholder:placeholder='Search...',initialFocus:initialFocus=![],className:_0x46fe72,clearAfterSelect:_0x10b975,testId:_0x367cb5,ariaDescribedBy:_0x29e523,children:_0x2fb5bf,DataStateSuccessWrapper:DataStateSuccessWrapper=_0x586d71['Fragment'],onBlur:_0x7591e1,DataStateNoData:DataStateNoData=_0x586d71['Fragment'],searchInstruments:_0x2a7a68,onEnter:_0x5a1b84,onFocus:_0x2f6d68,onCloseRequest:_0x33be04,noData:_0x667d09}=_0x12ee7d,[_0x4a8881,_0x5a6ed8]=useState(selectedInstrument),[_0x38e9ce,_0x57e71e]=useState(null),_0x836ed2=useSyncedRef(_0x2cf4b7);useEffect(()=>{_0x5a6ed8(selectedInstrument);},[selectedInstrument]);const _0x2ff688=useCallback((_0x2574d3='')=>_0x5a6ed8(_0x2574d3['toUpperCase']()),[]);useEffect(()=>{_0x2a7a68(_0x4a8881);},[_0x2ff688,_0x4a8881,_0x2a7a68]);const _0x163e47=useCallback(_0x418823=>{const _0x58364c=option['fromNullable'](_0x1b8422['find'](_0x57331b=>_0x57331b['symbol']===_0x418823));pipe(_0x58364c,option['filterMap'](_0x348550=>{return _0x348550['symbol']===selectedInstrument&&_0x5a6ed8(_0x348550['symbol']),option['fromNullable'](_0x348550);}),option['fold'](constVoid,_0x7184b3=>_0x5a1b84(_0x7184b3)));const _0x37b3bf=findDOMNode(_0x836ed2['current']);if(_0x37b3bf instanceof Element){const _0x3bb92c=_0x37b3bf['querySelector']('input');_0x3bb92c&&_0x3bb92c['blur']();}},[_0x1b8422,_0x5a1b84,_0x836ed2,selectedInstrument]),_0x143bd1=useCallback(_0x2dc8fa=>{if(isKeyCode(_0x2dc8fa['code'])){const _0x47410f=_0x2dc8fa['code'];switch(_0x47410f){case'Enter':{_0x10b975&&_0x163e47('');break;}case'Escape':_0x33be04();break;case'Tab':_0x2dc8fa['shiftKey']&&_0x33be04();break;}}},[_0x10b975,_0x163e47,_0x33be04]),_0x2ea62b=useCallback(_0x5f18d5=>{const _0x57c11c=_0x5f18d5?.['target'];_0x836ed2['current']&&_0x57c11c&&_0x57c11c instanceof HTMLInputElement&&setSelectionRange(_0x57c11c,0x0,_0x4a8881['length']),_0x2f6d68?.();},[_0x836ed2,_0x2f6d68,_0x4a8881['length']]),_0x4237bc=useCallback(_0x370ac5=>{_0x38e9ce===null&&_0x5a6ed8(selectedInstrument),_0x370ac5['relatedTarget']?.['id']!=='scrollable-id'&&_0x5a6ed8(selectedInstrument);},[_0x38e9ce,selectedInstrument]),_0x2c5a08=useCallback(()=>{_0x2ea62b();},[_0x2ea62b]),_0x14e7a4={};_0x14e7a4['className']=_0x46fe72;const _0x24fac7={};_0x24fac7['onTouchStart']=_0x2c5a08,_0x24fac7['ariaDescribedby']=_0x29e523,_0x24fac7['value']=_0x4a8881,_0x24fac7['autofocus']=initialFocus,_0x24fac7['onFocus']=_0x2ea62b,_0x24fac7['onValueChange']=_0x2ff688,_0x24fac7['onBlur']=_0x4237bc,_0x24fac7['isDisabled']=_0x43908c,_0x24fac7['placeholder']=selectedInstrument?placeholder:'',_0x24fac7['onKeyDown']=_0x143bd1,_0x24fac7['ref']=_0x836ed2,_0x24fac7['testId']=_0x367cb5,_0x24fac7['role']='textbox';const _0x4edfe7={};return _0x4edfe7['setHoveredSuggest']=_0x57e71e,_0x4edfe7['hoveredSuggest']=_0x38e9ce,_0x4edfe7['data']=_0x1b8422,_0x4edfe7['value']=_0x4a8881,_0x4edfe7['onChange']=_0x163e47,_0x4edfe7['handleBlur']=_0x7591e1,_0x4edfe7['onCloseRequest']=_0x33be04,_0x586d71['createElement'](_0x586d71['Fragment'],null,_0x586d71['createElement'](SymbolSuggestContainerStyled,_0x14e7a4,_0x586d71['createElement'](SymbolSuggestInputStyled,_0x24fac7),_0x586d71['createElement'](SuggestContainerStyled,null,_0x586d71['createElement'](DataStateSuccessWrapper,null,_0x586d71['createElement'](SymbolSuggestList,_0x4edfe7,_0x2fb5bf)))),_0x667d09&&_0x586d71['createElement'](DataStateNoData,null));}));export const SymbolSuggestWithPopover=memo(_0x14bfef=>{const {data:_0x13d83c,DataStateNoData:_0x2df35c,onBlur:_0x50f956,opened:_0x3a7e54,..._0x55d8b5}=_0x14bfef,_0x110bd2=useRef(null),{rootElement:_0x165293}=useContext(ChartReactAppContext),_0x150a34=useCallback(()=>_0x50f956?.(),[_0x50f956]),_0x464e0d=useCallback(_0x2eacaf=>_0x586d71['createElement'](SymbolSuggestPopoverStyled,{..._0x2eacaf,'noData':_0x13d83c['length']===0x0,'onRequestClose':_0x150a34,'align':'start','position':'bottom','opened':_0x3a7e54,'parentEventTarget':_0x165293,'anchorRef':_0x110bd2},_0x2eacaf['children']),[_0x150a34,_0x13d83c['length'],_0x3a7e54,_0x165293]),_0x2f39e7={..._0x55d8b5};return _0x2f39e7['data']=_0x13d83c,_0x2f39e7['onBlur']=_0x150a34,_0x2f39e7['ref']=_0x110bd2,_0x2f39e7['DataStateNoData']=_0x2df35c,_0x2f39e7['DataStateSuccessWrapper']=_0x464e0d,_0x2f39e7['noData']=_0x13d83c['length']===0x0&&_0x3a7e54,_0x586d71['createElement'](_0x586d71['Fragment'],null,_0x586d71['createElement'](SymbolSuggest,_0x2f39e7));});