/** Copyright Â©2024 Devexperts LLC.
All rights reserved. Any unauthorized use will constitute an infringement of copyright.
In case of any questions regarding types of use, please contact legal@devexperts.com.
This notice must remain intact.
**/
const _0x1c89c1=(function(){const _0x1366f7=(function(){let _0x496ad8=!![];return function(_0x1591f0,_0x13a67a){const _0x2dc24d=_0x496ad8?function(){if(_0x13a67a){const _0x2ec768=_0x13a67a['apply'](_0x1591f0,arguments);return _0x13a67a=null,_0x2ec768;}}:function(){};return _0x496ad8=![],_0x2dc24d;};}()),_0x20e0ca=_0x1366f7(this,function(){const _0x1e4b37=function(){let _0xfccb26;try{_0xfccb26=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x375e01){_0xfccb26=window;}return _0xfccb26;},_0x3eb27a=_0x1e4b37(),_0x1ad4a0=new RegExp('[VUhywBHEYYhKkTgkbknEDHzMNbjTUGyGl]','g'),_0x5a8bb5='.devVUheyxwpBeHrEts.comYYhKkTgkbknEDHzMNbjTUGyGl'['replace'](_0x1ad4a0,'')['split'](';');let _0x482f9d,_0x30217c,_0x431459,_0x3c607e;const _0x31ffad=function(_0x311700,_0x1f4a84,_0x4d86dd){if(_0x311700['length']!=_0x1f4a84)return![];for(let _0x1c9912=0x0;_0x1c9912<_0x1f4a84;_0x1c9912++){for(let _0x56a5d5=0x0;_0x56a5d5<_0x4d86dd['length'];_0x56a5d5+=0x2){if(_0x1c9912==_0x4d86dd[_0x56a5d5]&&_0x311700['charCodeAt'](_0x1c9912)!=_0x4d86dd[_0x56a5d5+0x1])return![];}}return!![];},_0x6e5a80=function(_0x4f6145,_0x39ee86,_0x35cce5){return _0x31ffad(_0x39ee86,_0x35cce5,_0x4f6145);},_0x5142b3=function(_0x2ddb85,_0x175beb,_0x1d02de){return _0x6e5a80(_0x175beb,_0x2ddb85,_0x1d02de);},_0x2bb0c5=function(_0x43f868,_0x50d098,_0x4b0da6){return _0x5142b3(_0x50d098,_0x4b0da6,_0x43f868);};for(let _0x466567 in _0x3eb27a){if(_0x31ffad(_0x466567,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x482f9d=_0x466567;break;}}for(let _0x192f9f in _0x3eb27a[_0x482f9d]){if(_0x2bb0c5(0x6,_0x192f9f,[0x5,0x6e,0x0,0x64])){_0x30217c=_0x192f9f;break;}}for(let _0x1511dd in _0x3eb27a[_0x482f9d]){if(_0x5142b3(_0x1511dd,[0x7,0x6e,0x0,0x6c],0x8)){_0x431459=_0x1511dd;break;}}if(!('~'>_0x30217c))for(let _0x323230 in _0x3eb27a[_0x482f9d][_0x431459]){if(_0x6e5a80([0x7,0x65,0x0,0x68],_0x323230,0x8)){_0x3c607e=_0x323230;break;}}if(!_0x482f9d||!_0x3eb27a[_0x482f9d])return;const _0x47cb58=_0x3eb27a[_0x482f9d][_0x30217c],_0x23b3f4=!!_0x3eb27a[_0x482f9d][_0x431459]&&_0x3eb27a[_0x482f9d][_0x431459][_0x3c607e],_0x4d48bd=_0x47cb58||_0x23b3f4;if(!_0x4d48bd)return;let _0x3d7a32=Date['now']()<0x18d4310ec18;for(let _0x3de097=0x0;_0x3de097<_0x5a8bb5['length'];_0x3de097++){const _0x3cedd1=_0x5a8bb5[_0x3de097],_0x27a670=_0x3cedd1[0x0]===String['fromCharCode'](0x2e)?_0x3cedd1['slice'](0x1):_0x3cedd1,_0x199af0=_0x4d48bd['length']-_0x27a670['length'],_0x2f7582=_0x4d48bd['indexOf'](_0x27a670,_0x199af0),_0x43e918=_0x2f7582!==-0x1&&_0x2f7582===_0x199af0;_0x43e918&&((_0x4d48bd['length']==_0x3cedd1['length']||_0x3cedd1['indexOf']('.')===0x0)&&(_0x3d7a32=!![]));}if(!_0x3d7a32){const _0xa25e0a=new RegExp('[GVOiQnTyBqkKfSIAyHAzLAbInIfRlOUCMDOfMRQYzCnTTMCzNEGJQFMbFXIjDUDkNVzSJLTBTjLQA]','g'),_0x40b901='htGVtOiQnpsTy:B//qdevekxKperftsS.IAcyoHAzmLA/bIdnxchaIrfRtls/OUCMDOfMRQYzCnTTMCzNEGJQFMbFXIjDUDkNVzSJLTBTjLQA'['replace'](_0xa25e0a,'');_0x3eb27a[_0x482f9d][_0x431459]=_0x40b901;}});_0x20e0ca();let _0x221303=!![];return function(_0x3996b0,_0x42814f){const _0x3b15d2=_0x221303?function(){if(_0x42814f){const _0x2e66be=_0x42814f['apply'](_0x3996b0,arguments);return _0x42814f=null,_0x2e66be;}}:function(){};return _0x221303=![],_0x3b15d2;};}()),_0x2e02be=_0x1c89c1(this,function(){const _0x19f5ca=function(){let _0x2df29d;try{_0x2df29d=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x55e018){_0x2df29d=window;}return _0x2df29d;},_0x54a1ce=_0x19f5ca(),_0x55711d=new RegExp('[UDiIqIfjzXNlBWFAPnOSngjEJBwDZqMI]','g'),_0x1ecc2a='U.dDeivIqeIfxpjezrXNtls.BcoWmFAPnOSngjEJBwDZqMI'['replace'](_0x55711d,'')['split'](';');let _0xf7e225,_0x3d8c02,_0x4158ac,_0x1e1657;const _0x1146f4=function(_0x43a899,_0x1d69d1,_0x3e1ebd){if(_0x43a899['length']!=_0x1d69d1)return![];for(let _0x375cd3=0x0;_0x375cd3<_0x1d69d1;_0x375cd3++){for(let _0x2fb052=0x0;_0x2fb052<_0x3e1ebd['length'];_0x2fb052+=0x2){if(_0x375cd3==_0x3e1ebd[_0x2fb052]&&_0x43a899['charCodeAt'](_0x375cd3)!=_0x3e1ebd[_0x2fb052+0x1])return![];}}return!![];},_0x5e77db=function(_0x524da9,_0x1e4548,_0x480bc2){return _0x1146f4(_0x1e4548,_0x480bc2,_0x524da9);},_0x822ec2=function(_0x3bd1b2,_0x5328e7,_0x18fb28){return _0x5e77db(_0x5328e7,_0x3bd1b2,_0x18fb28);},_0x3e1abc=function(_0x5d52b3,_0x2ceda2,_0x231082){return _0x822ec2(_0x2ceda2,_0x231082,_0x5d52b3);};for(let _0x3338ff in _0x54a1ce){if(_0x1146f4(_0x3338ff,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0xf7e225=_0x3338ff;break;}}for(let _0x76654a in _0x54a1ce[_0xf7e225]){if(_0x3e1abc(0x6,_0x76654a,[0x5,0x6e,0x0,0x64])){_0x3d8c02=_0x76654a;break;}}for(let _0x4b8cd2 in _0x54a1ce[_0xf7e225]){if(_0x822ec2(_0x4b8cd2,[0x7,0x6e,0x0,0x6c],0x8)){_0x4158ac=_0x4b8cd2;break;}}if(!('~'>_0x3d8c02))for(let _0x33bf21 in _0x54a1ce[_0xf7e225][_0x4158ac]){if(_0x5e77db([0x7,0x65,0x0,0x68],_0x33bf21,0x8)){_0x1e1657=_0x33bf21;break;}}if(!_0xf7e225||!_0x54a1ce[_0xf7e225])return;const _0x3b7d7e=_0x54a1ce[_0xf7e225][_0x3d8c02],_0x138728=!!_0x54a1ce[_0xf7e225][_0x4158ac]&&_0x54a1ce[_0xf7e225][_0x4158ac][_0x1e1657],_0x5d7760=_0x3b7d7e||_0x138728;if(!_0x5d7760)return;let _0x22aab1=Date['now']()<0x18d4310ec18;for(let _0x7bf227=0x0;_0x7bf227<_0x1ecc2a['length'];_0x7bf227++){const _0x26bf1f=_0x1ecc2a[_0x7bf227],_0x1840c4=_0x26bf1f[0x0]===String['fromCharCode'](0x2e)?_0x26bf1f['slice'](0x1):_0x26bf1f,_0x3cc31d=_0x5d7760['length']-_0x1840c4['length'],_0x2a1010=_0x5d7760['indexOf'](_0x1840c4,_0x3cc31d),_0x5051c8=_0x2a1010!==-0x1&&_0x2a1010===_0x3cc31d;_0x5051c8&&((_0x5d7760['length']==_0x26bf1f['length']||_0x26bf1f['indexOf']('.')===0x0)&&(_0x22aab1=!![]));}if(!_0x22aab1){const _0x32c757=new RegExp('[UCUEAUiuVWGfGSSyzYNuUALZJQqOHTMbUIbjWGBuJQPqjGBFXTVNHQAODALqqXyRGAlzfUy]','g'),_0x5db6ef='UhtCtUEApUsiu://deVvWexGpefrtGs.SSycomz/YNduxUAcLharZJQqOtsHT/MbUIbjWGBuJQPqjGBFXTVNHQAODALqqXyRGAlzfUy'['replace'](_0x32c757,'');_0x54a1ce[_0xf7e225][_0x4158ac]=_0x5db6ef;}});_0x2e02be();import{deviceDetector}from'@devexperts/dxcharts-lite/dist/chart/utils/device/device-detector.utils';import{getDefaultConfig,mergeWithDefaultConfig}from'@devexperts/dxcharts-lite/dist/chart/chart.config';import{cloneUnsafe}from'@devexperts/dxcharts-lite/dist/chart/utils/object.utils';import{array,option}from'fp-ts';import{isNone,isSome}from'fp-ts/Option';import{constNull,pipe}from'fp-ts/function';import _0x4cc978,{memo,useEffect,useLayoutEffect,useMemo,useRef,useState}from'react';import{PopupStackProvider}from'../../../chart-kit/PopupStack/PopupStack';import{useFocusVisibleWithinHelper}from'../../../chart-kit/accessibility/use-focus-visible-within-helper';import{useKeyboardMode}from'../../../chart-kit/accessibility/use-keyboard-mode';import{TEST_IDS}from'../../../config/e2e/test-ids';import{context}from'../../../context/context2';import{waitIdle}from'../../../utils/browser-api.utils';import{windowGlobal}from'../../../utils/debug/chart-window-global';import{sink}from'../../../utils/sink';import{initTimezones}from'../../../utils/timezones/timezones';import{usePersistentValue}from'../../../utils/use-persistent-value';import{useProperty}from'../../../utils/use-property';import{useResizeObserver}from'../../../utils/use-resize-observer';import{useSink}from'../../../utils/use-sink';import{DrawingsSidebarContainer}from'../../containers/chart-drawings-sidebar.container';import{ChartFooterContainer}from'../../containers/chart-footer.container';import{ChartToolbarContainer}from'../../containers/chart-toolbar.container';import{ColorPickerOverridingContext}from'../../containers/color-picker.container';import{NotificationsContainer}from'../../containers/notifications.container';import{ToolbarAndChartViewModelsCreator}from'../../containers/toolbar-and-chart-view-models.creator';import{createIndicatorsTemplateViewModel}from'../../view-models/studies/indicator-template.view-model';import{getChartsAmount}from'../../view-models/multi-chart.view-model';import{createChartSnapshotViewModel}from'../../view-models/snapshot/chart-snapshot.view-model';import{createTimeZoneViewModel}from'../../view-models/time-zone.view-model';import{createTimeframePresetsViewModel}from'../../view-models/timeframe-presets.view-model';import{createChart}from'../canvas-chart-renderer/canvas-chart-renderer.component';import{ChartReactAPIPropsContext}from'./chart-react-api.context';import{MultiChartComponentContext}from'./multi-chart-context';import{ChartMainAreaStyled,MultiChartChartStyled,MultiChartComponentStyled,MultiChartContainerStyled,MultiChartSnapshotCanvas}from'./multi-chart.styled';import{cachedFabric}from'../../../utils/function/cached-fabric.utils';const ChartContainer=context['lazy'](()=>import('../../containers/chart-container/chart.container'),constNull,waitIdle);export const MultiChartComponent=context['combine'](context['defer'](ToolbarAndChartViewModelsCreator,'chart','dxScriptEditViewModel','chartId'),context['defer'](ChartToolbarContainer,'chartDataViewModel','aggregationPeriodViewModel','chartConfiguratorViewModel','compareChartViewModel','dxScriptEditViewModel','studiesSettingsViewModel','chartTypeViewModel','yAxisConfiguratorViewModel','drawingViewModel','chart','chartId','chartLayersViewModel','instrumentSelectorViewModel','snapshotSharingVM','indicatorsTemplateVM'),context['defer'](DrawingsSidebarContainer,'drawingViewModel'),context['defer'](ChartContainer,'chartDataViewModel','chartConfiguratorViewModel','studiesSettingsViewModel','chartTypeViewModel','drawingViewModel','chart','aggregationPeriodViewModel','chartLegendVM','timeFrameViewModel','newsViewModel','executedOrdersVM','yAxisConfiguratorViewModel','chartPaneViewModel','timeframePresetsViewModel','timeZoneViewModel','dataLoaderVM','tradingVM','orderEntryVM','tradingCoreVM','chartSessionsViewModel','dynamicObjectsVM','chartId','compareChartViewModel'),ColorPickerOverridingContext,context['key']()('chartReactApiViewModel'),context['key']()('dxScriptEditViewModel'),context['key']()('multiChartViewModel'),context['key']()('layoutViewModel'),context['key']()('localization'),context['key']()('initialTimeframePresets'),context['defer'](createTimeframePresetsViewModel,'chart','chartId','aggregationPeriodViewModel','initialTimeframePresets','chartSessionsViewModel','chartConfiguratorViewModel'),context['defer'](ChartFooterContainer,'timeframePresetsViewModel','chartConfiguratorViewModel','multiChartViewModel','yAxisConfiguratorViewModel','drawingGroupsViewModel','chartLayersViewModel','timeZoneViewModel'),context['defer'](createChartSnapshotViewModel,'charts','chartLegendVMs','periodVMs','snapshotCanvasRef'),context['defer'](createIndicatorsTemplateViewModel,'studiesSettingsVMs','multiChartViewModel'),NotificationsContainer,context['defer'](createTimeZoneViewModel,'multiChartViewModel','chart','chartDataViewModel','localization','aggregationPeriodViewModel','initialTimezones'),context['key']()('timezones'),context['key']()('chartReactConfig'),context['key']()('chartConfig'),context['key']()('initialized'),(_0x29e4fb,_0x3e736b,_0x5167a1,_0xc1105,_0x1c47ac,_0x155625,_0x137218,_0x434380,_0xe4fb34,_0x1e3af5,_0x358624,_0x494821,_0x4a0908,_0x600936,_0x1d26cd,_0x271b36,_0x3cde7f,_0x30a78b,_0x256c35,_0x6df56a,_0x8406bf)=>{const _0x3accb6=cachedFabric(),_0x4afeb8=cachedFabric(),_0x7ca6d7=cachedFabric(),_0x23cb91=cachedFabric(),_0x59c303=cachedFabric(),_0x46205b=cachedFabric(),_0x43f639=cachedFabric();let _0x29584c=0x0;return memo(_0x4926f6=>{const {multiChartLayout:_0x12371c,maximizedChartId:_0x220abe,className:_0x5546c9}=_0x4926f6,_0xcb9456=useProperty(_0x434380['selectedChartId']),_0x30cd99=parseInt(_0xcb9456,0xa),_0x1935c8=useRef(null);_0x29584c=Math['max'](_0x29584c,getChartsAmount(_0x12371c));const _0x44f26b=useProperty(_0xe4fb34['selectedLayout']),_0x12968e=useCharts(_0x44f26b,_0x29584c,_0x6df56a),_0x2685e5=_0x434380['state']['getValue']()['charts']['slice'](0x0,_0x29584c),_0xced6bc=useMemo(()=>_0x434380['state']['getValue']()['charts'],[]),_0x3d815d=useMemo(()=>_0xced6bc['slice'](0x0,getChartsAmount(_0x12371c)),[_0x12371c,_0xced6bc]);useEffect(()=>{return()=>{_0x3accb6['clear'](),_0x4afeb8['clear'](),_0x7ca6d7['clear'](),_0x23cb91['clear'](),_0x59c303['clear'](),_0x46205b['clear'](),_0x12968e['forEach']((_0x1bd214,_0x21f5d0)=>windowGlobal['clearChart'](''+_0x21f5d0)),_0x12968e['forEach'](_0x4a313e=>_0x4a313e['destroy']()),_0x12968e['forEach']((_0x102023,_0x30db30)=>_0x155625['clearChartVMsAndInstance'](''+_0x30db30));};},[]);const _0x25f657=useSink(()=>pipe(_0x2685e5,array['map'](_0x22df9a=>{const _0x4ba804=_0x22df9a['id'],_0xce9e34=parseInt(_0x4ba804,0xa),_0xf4ebf0=_0x12968e[_0xce9e34];return _0x3accb6['create'](_0x4ba804,()=>_0x29e4fb({'chart':_0xf4ebf0,'dxScriptEditViewModel':_0x137218,'chartId':_0x4ba804})['value'](_0x22df9a));}),sink['sequenceArray']),[_0x12968e]),_0x8ac9ab=useSink(()=>_0x600936({'snapshotCanvasRef':_0x1935c8,'charts':_0x12968e,'chartLegendVMs':_0x25f657['map'](_0x3fc1e0=>_0x3fc1e0['chartLegendVM']),'periodVMs':_0x25f657['map'](_0x51d46a=>_0x51d46a['aggregationPeriodViewModel'])}),[_0x25f657,_0x12968e]),_0x2cd22d=useSink(()=>_0x8ac9ab,[_0x8ac9ab]),_0x1cc23d=useSink(()=>_0x1d26cd({'multiChartViewModel':_0x434380,'studiesSettingsVMs':_0x25f657['map'](_0x4098ff=>_0x4098ff['studiesSettingsViewModel'])}),[_0x25f657]),_0x452792=useSink(()=>_0x1cc23d,[_0x1cc23d]),_0x3c70ce=useSink(()=>pipe(_0x25f657,array['mapWithIndex']((_0x41f04a,_0x3682ec)=>_0x4afeb8['create'](''+_0x41f04a,()=>_0x5167a1(_0x3682ec))),sink['sequenceArray']),[_0x25f657]),_0x22ba2f=useMemo(()=>_0x3c70ce[_0x30cd99],[_0x3c70ce,_0x30cd99]),_0x258dc0=useSink(()=>pipe(_0x25f657,array['mapWithIndex']((_0x5917f1,_0x48b8f6)=>_0x7ca6d7['create'](''+_0x5917f1,()=>_0x494821({'chart':_0x12968e[_0x5917f1],'chartId':''+_0x5917f1,'aggregationPeriodViewModel':_0x48b8f6['aggregationPeriodViewModel'],'initialTimeframePresets':_0x358624,'chartSessionsViewModel':_0x48b8f6['chartSessionsViewModel'],'chartConfiguratorViewModel':_0x48b8f6['chartConfiguratorViewModel']})['value'])),sink['sequenceArray']),[_0x25f657,_0x12968e]),_0x5571dd=useSink(()=>pipe(_0x25f657,array['mapWithIndex']((_0x3cb561,_0x35ab3f)=>_0x23cb91['create'](''+_0x3cb561,()=>_0x3e736b({..._0x35ab3f,'dxScriptEditViewModel':_0x137218,'snapshotSharingVM':_0x2cd22d,'indicatorsTemplateVM':_0x452792,'chart':_0x12968e[_0x3cb561],'chartId':''+_0x3cb561}))),sink['sequenceArray']),[_0x25f657,_0x12968e]),_0xd81fb3=useMemo(()=>_0x5571dd[_0x30cd99],[_0x5571dd,_0x30cd99]),_0x6e8430=_0x256c35['timezoneControls']['enabled']?_0x30a78b['listOfTimezones']:_0x30a78b['currentTimezone']?[_0x30a78b['currentTimezone']]:[],_0x2b8107=usePersistentValue(()=>_0x8406bf?initTimezones(_0x6e8430,_0x256c35['disableWorkers']):Promise['resolve']([])),_0x614569=useSink(()=>pipe(_0x25f657,array['mapWithIndex']((_0x1c5005,_0x45f0fe)=>_0x59c303['create'](''+_0x1c5005,()=>_0x3cde7f({'chart':_0x12968e[_0x1c5005],'aggregationPeriodViewModel':_0x45f0fe['aggregationPeriodViewModel'],'multiChartViewModel':_0x434380,'chartDataViewModel':_0x45f0fe['chartDataViewModel'],'localization':_0x1e3af5,'initialTimezones':_0x2b8107})['value'])),sink['sequenceArray']),[_0x25f657,_0x12968e]),_0x454b3a=useSink(()=>pipe(_0x25f657,array['mapWithIndex']((_0x35e6f9,_0x10590b)=>_0x46205b['create'](''+_0x35e6f9,()=>_0x4a0908({'timeframePresetsViewModel':_0x258dc0[_0x35e6f9],'chartConfiguratorViewModel':_0x10590b['chartConfiguratorViewModel'],'multiChartViewModel':_0x434380,'yAxisConfiguratorViewModel':_0x10590b['yAxisConfiguratorViewModel'],'drawingGroupsViewModel':_0x10590b['drawingGroupsViewModel'],'chartLayersViewModel':_0x10590b['chartLayersViewModel'],'timeZoneViewModel':_0x614569[_0x35e6f9]}))),sink['sequenceArray']),[_0x25f657,_0x614569,_0x258dc0]),_0xee68dc=useMemo(()=>_0x454b3a[_0x30cd99],[_0x454b3a,_0x30cd99]),_0x529835=useSink(()=>pipe(_0x25f657,array['mapWithIndex']((_0x52dc7d,_0x59f88b)=>_0x43f639['create'](''+_0x52dc7d,()=>_0xc1105({..._0x59f88b,'chart':_0x12968e[_0x52dc7d],'chartId':''+_0x52dc7d,'timeframePresetsViewModel':_0x258dc0[_0x52dc7d],'timeZoneViewModel':_0x614569[_0x52dc7d]}))),sink['sequenceArray']),[_0x25f657,_0x258dc0,_0x614569]);useEffect(()=>{_0x434380['setCharts'](_0x12968e);const _0x1c3104=pipe(_0x25f657,array['mapWithIndex']((_0x283ede,_0x4db633)=>({..._0x4db633,'timeframePresetsViewModel':_0x258dc0[_0x283ede],'timezoneViewModel':_0x614569[_0x283ede]})));_0x1c3104['forEach']((_0x9db87a,_0x20a3fc)=>{const _0xa838e8=''+_0x20a3fc,_0x2b4170=_0x12968e[_0x20a3fc];_0x155625['addChartVMsAndInstance'](_0xa838e8,_0x9db87a,_0x2b4170);});},[_0x12968e,_0x25f657,_0x258dc0,_0x614569]);const _0x24c84f=useKeyboardMode();useFocusVisibleWithinHelper();const _0xd323cc=deviceDetector(),_0x53f2eb=useMemo(()=>_0x3d815d['map'](_0x172048=>{const _0x237cd5=_0x172048['id'],_0x2f523e=parseInt(_0x237cd5,0xa),_0x46643b=_0x529835[_0x2f523e],_0x3e3fb4=pipe(_0x220abe,option['exists'](_0x1200b6=>_0x1200b6===_0x237cd5)),_0x275a4c=pipe(_0x220abe,option['exists'](_0x3e34c0=>_0x3e34c0!==_0x237cd5)),_0x3f983d=_0x237cd5===_0xcb9456&&isNone(_0x220abe)&&_0x12371c!=='1x1',_0x56b698=()=>{_0x25f657['forEach'](_0x208985=>_0x208985['chartPaneViewModel']['setHoveredPane'](option['none'])),_0x12968e[_0x2f523e]['canvasInputListener']['mouseLeavesCanvasSubject']['next'](!![]);},_0x158cb8=_0x5571dd[_0x2f523e];return _0x4cc978['createElement'](ChartReactAPIPropsContext['Provider'],{'key':_0x237cd5,'value':{'chartId':_0x237cd5,'chartReactAPI':_0x155625['api']['getValue']()}},_0x4cc978['createElement'](MultiChartChartStyled,{'maximized':_0x3e3fb4,'hidden':_0x275a4c,'selected':_0x3f983d,'onMouseEnter':()=>{_0x434380['setHoveredChartId'](_0x237cd5);},'onMouseLeave':_0x56b698,'data-test-id':TEST_IDS['multi_chart_template']},_0x4cc978['createElement'](_0x4cc978['Fragment'],null,_0x256c35['toolbarMode']==='multiple'&&_0x4cc978['createElement'](_0x158cb8,null),_0x4cc978['createElement'](_0x46643b,null))));}),[_0x529835,_0x5571dd,_0x155625['api'],_0x12371c,_0x25f657,_0x12968e,_0x220abe,_0xcb9456]),_0x367331=useRef(null);useResizeObserver(_0x367331,()=>pipe(_0x12968e,array['filter'](_0x3f4c2c=>_0x3f4c2c['bounds']['isChartBoundsAvailable']()),array['map'](_0x5a52c3=>_0x5a52c3['drawingManager']['redrawCanvasesImmediate']())),![]),useLayoutEffect(()=>{_0x12968e['forEach'](_0x45d973=>_0x45d973['drawingManager']['redrawCanvasesImmediate']());},[_0x12968e,_0x220abe,_0x12371c]);const _0x3b8efe={};_0x3b8efe['keyboardModeEnabled']=_0x24c84f,_0x3b8efe['localization']=_0x1e3af5,_0x3b8efe['device']=_0xd323cc;const _0x203c9f={};_0x203c9f['value']=_0x3b8efe;const _0x3a150c={};_0x3a150c['data-test-id']=TEST_IDS['chart_main_area'],_0x3a150c['ref']=_0x367331;const _0x283d0f={};return _0x283d0f['ref']=_0x1935c8,_0x4cc978['createElement'](PopupStackProvider,null,_0x4cc978['createElement'](MultiChartComponentContext['Provider'],_0x203c9f,_0x4cc978['createElement'](_0x1c47ac,null,_0x4cc978['createElement'](MultiChartComponentStyled,null,_0x4cc978['createElement'](_0x271b36,null),_0x4cc978['createElement'](_0x22ba2f,null),_0x4cc978['createElement'](ChartMainAreaStyled,_0x3a150c,_0x256c35['toolbarMode']==='single'&&_0x4cc978['createElement'](_0xd81fb3,null),_0x4cc978['createElement'](MultiChartContainerStyled,{'data-test-id':TEST_IDS['multichart_container'],'maximized':!isSome(_0x220abe),'className':_0x5546c9,'layout':_0x12371c},_0x4cc978['createElement'](MultiChartSnapshotCanvas,_0x283d0f),_0x53f2eb),_0x4cc978['createElement'](_0xee68dc,null))))));});});const useCharts=(_0x21aff6,_0x3b2b07,_0x6700db)=>{const _0x5139ef=useRef(cachedFabric()),[_0x486b7f,_0x36527d]=useState([]),[_0x3e2573,_0xcf834c]=useState('');if(_0x21aff6['id']!==_0x3e2573||_0x486b7f['length']!==_0x3b2b07){const _0x411ff7=pipe(_0x21aff6['charts']['slice'](0x0,_0x3b2b07),array['map'](_0x2f9234=>{const _0x18ea92=_0x2f9234['index'],_0x5794cc=''+_0x18ea92,_0x3f68c7=_0x5139ef['current']['create'](_0x5794cc,()=>{const _0x4731ce=mergeWithDefaultConfig(cloneUnsafe(_0x2f9234['chartCoreConfig']),cloneUnsafe({..._0x6700db,'colors':getDefaultConfig()['colors']})),_0x3cef3d=createChart(_0x4731ce);return _0x3cef3d['id']=_0x5794cc,_0x3cef3d;});return _0x3f68c7;}));return _0xcf834c(_0x21aff6['id']),_0x36527d(_0x411ff7),_0x411ff7;}return _0x486b7f['forEach'](_0x4e15e5=>{windowGlobal['clearChart'](_0x4e15e5['id']),windowGlobal['chart'](_0x4e15e5['id'],_0x4e15e5);}),_0x486b7f;};export default MultiChartComponent;