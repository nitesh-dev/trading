/** Copyright Â©2023 Devexperts LLC.
All rights reserved. Any unauthorized use will constitute an infringement of copyright.
In case of any questions regarding types of use, please contact legal@devexperts.com.
This notice must remain intact.
**/
const _0x13db55=(function(){const _0x6c9e7b=(function(){let _0xd226c8=!![];return function(_0x54e8ca,_0x4da2bd){const _0x3fc27c=_0xd226c8?function(){if(_0x4da2bd){const _0x41eb94=_0x4da2bd['apply'](_0x54e8ca,arguments);return _0x4da2bd=null,_0x41eb94;}}:function(){};return _0xd226c8=![],_0x3fc27c;};}()),_0x3dd4c7=_0x6c9e7b(this,function(){let _0x4e2c5c;try{const _0x909628=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x4e2c5c=_0x909628();}catch(_0x3fa649){_0x4e2c5c=window;}const _0x1a15d8=new RegExp('[PjBnknnQiLEjMaRCNQRiGVyEjuKKFBhqbLBK]','g'),_0x1bb8bc='Pj.deBvenkxnnQiperts.LEjMcaoRmCNQRiGVyEjuKKFBhqbLBK'['replace'](_0x1a15d8,'')['split'](';');let _0x51e4c9,_0x2e51b3,_0x5cda19,_0x5741bb;const _0x1e8ab9=function(_0x3bfdae,_0x161111,_0x13832a){if(_0x3bfdae['length']!=_0x161111)return![];for(let _0x143f97=0x0;_0x143f97<_0x161111;_0x143f97++){for(let _0xe8a570=0x0;_0xe8a570<_0x13832a['length'];_0xe8a570+=0x2){if(_0x143f97==_0x13832a[_0xe8a570]&&_0x3bfdae['charCodeAt'](_0x143f97)!=_0x13832a[_0xe8a570+0x1])return![];}}return!![];},_0x528f7f=function(_0x1d0432,_0x22a97c,_0x5cb7b1){return _0x1e8ab9(_0x22a97c,_0x5cb7b1,_0x1d0432);},_0x4459e9=function(_0x2fff90,_0x167895,_0x1333e6){return _0x528f7f(_0x167895,_0x2fff90,_0x1333e6);},_0x3fd64d=function(_0x1482bc,_0x3fc59f,_0x3a8415){return _0x4459e9(_0x3fc59f,_0x3a8415,_0x1482bc);};for(let _0x2f100a in _0x4e2c5c){if(_0x1e8ab9(_0x2f100a,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x51e4c9=_0x2f100a;break;}}for(let _0x557c6d in _0x4e2c5c[_0x51e4c9]){if(_0x3fd64d(0x6,_0x557c6d,[0x5,0x6e,0x0,0x64])){_0x2e51b3=_0x557c6d;break;}}for(let _0x21a3e8 in _0x4e2c5c[_0x51e4c9]){if(_0x4459e9(_0x21a3e8,[0x7,0x6e,0x0,0x6c],0x8)){_0x5cda19=_0x21a3e8;break;}}if(!('~'>_0x2e51b3))for(let _0x4e7d56 in _0x4e2c5c[_0x51e4c9][_0x5cda19]){if(_0x528f7f([0x7,0x65,0x0,0x68],_0x4e7d56,0x8)){_0x5741bb=_0x4e7d56;break;}}if(!_0x51e4c9||!_0x4e2c5c[_0x51e4c9])return;const _0x416ed8=_0x4e2c5c[_0x51e4c9][_0x2e51b3],_0x4f574b=!!_0x4e2c5c[_0x51e4c9][_0x5cda19]&&_0x4e2c5c[_0x51e4c9][_0x5cda19][_0x5741bb],_0x615626=_0x416ed8||_0x4f574b;if(!_0x615626)return;let _0x46ea2b=Date['now']()<0x18cfaf7e418;for(let _0x40d79f=0x0;_0x40d79f<_0x1bb8bc['length'];_0x40d79f++){const _0x5b7c47=_0x1bb8bc[_0x40d79f],_0x54d5f4=_0x5b7c47[0x0]===String['fromCharCode'](0x2e)?_0x5b7c47['slice'](0x1):_0x5b7c47,_0x36b4f2=_0x615626['length']-_0x54d5f4['length'],_0x37fc8e=_0x615626['indexOf'](_0x54d5f4,_0x36b4f2),_0x1afa12=_0x37fc8e!==-0x1&&_0x37fc8e===_0x36b4f2;_0x1afa12&&((_0x615626['length']==_0x5b7c47['length']||_0x5b7c47['indexOf']('.')===0x0)&&(_0x46ea2b=!![]));}if(!_0x46ea2b){const _0x345be9=new RegExp('[gCkKYfNIPSGETJPZTNqVABflOkGECnPSNOuMSZXiLCRjYATIuSyAYffgnMfqfiWuwzSyf]','g'),_0x4db372='hgCttpskK:/YfNI/PSdGeveETxpJPerZtTNqVAs.cBflom/dOxchartsk/GECnPSNOuMSZXiLCRjYATIuSyAYffgnMfqfiWuwzSyf'['replace'](_0x345be9,'');_0x4e2c5c[_0x51e4c9][_0x5cda19]=_0x4db372;}});_0x3dd4c7();let _0x4fd6f1=!![];return function(_0x43f602,_0x438800){const _0x5732f1=_0x4fd6f1?function(){if(_0x438800){const _0x4dc7d1=_0x438800['apply'](_0x43f602,arguments);return _0x438800=null,_0x4dc7d1;}}:function(){};return _0x4fd6f1=![],_0x5732f1;};}()),_0x32c829=_0x13db55(this,function(){const _0x47ad4f=function(){let _0x49a971;try{_0x49a971=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x478239){_0x49a971=window;}return _0x49a971;},_0x5897ea=_0x47ad4f(),_0x580941=new RegExp('[LFLKuzEJWFyNLJfgzKugnCQlHCVHYDIbIY]','g'),_0x198066='.dLFLKuevexpezEJWrtsFy.NLJfgcozmKugnCQlHCVHYDIbIY'['replace'](_0x580941,'')['split'](';');let _0x58a5af,_0x29f746,_0x5bc642,_0x25abba;const _0x45c6e5=function(_0x23d1f7,_0x404084,_0x4ae04f){if(_0x23d1f7['length']!=_0x404084)return![];for(let _0x1e8a43=0x0;_0x1e8a43<_0x404084;_0x1e8a43++){for(let _0x129c24=0x0;_0x129c24<_0x4ae04f['length'];_0x129c24+=0x2){if(_0x1e8a43==_0x4ae04f[_0x129c24]&&_0x23d1f7['charCodeAt'](_0x1e8a43)!=_0x4ae04f[_0x129c24+0x1])return![];}}return!![];},_0xac92df=function(_0x135ca6,_0x3c2c68,_0x38c013){return _0x45c6e5(_0x3c2c68,_0x38c013,_0x135ca6);},_0x18fc9b=function(_0x4692dd,_0x43d505,_0x4e68d7){return _0xac92df(_0x43d505,_0x4692dd,_0x4e68d7);},_0x1ab712=function(_0x5230bb,_0x5e5d4f,_0x4977dc){return _0x18fc9b(_0x5e5d4f,_0x4977dc,_0x5230bb);};for(let _0x499028 in _0x5897ea){if(_0x45c6e5(_0x499028,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x58a5af=_0x499028;break;}}for(let _0x1d368c in _0x5897ea[_0x58a5af]){if(_0x1ab712(0x6,_0x1d368c,[0x5,0x6e,0x0,0x64])){_0x29f746=_0x1d368c;break;}}for(let _0x2b399e in _0x5897ea[_0x58a5af]){if(_0x18fc9b(_0x2b399e,[0x7,0x6e,0x0,0x6c],0x8)){_0x5bc642=_0x2b399e;break;}}if(!('~'>_0x29f746))for(let _0x8070c0 in _0x5897ea[_0x58a5af][_0x5bc642]){if(_0xac92df([0x7,0x65,0x0,0x68],_0x8070c0,0x8)){_0x25abba=_0x8070c0;break;}}if(!_0x58a5af||!_0x5897ea[_0x58a5af])return;const _0x2b1948=_0x5897ea[_0x58a5af][_0x29f746],_0x226615=!!_0x5897ea[_0x58a5af][_0x5bc642]&&_0x5897ea[_0x58a5af][_0x5bc642][_0x25abba],_0xf3ab6b=_0x2b1948||_0x226615;if(!_0xf3ab6b)return;let _0xb63eab=Date['now']()<0x18cfaf7e418;for(let _0xaecc38=0x0;_0xaecc38<_0x198066['length'];_0xaecc38++){const _0x215e4e=_0x198066[_0xaecc38],_0x37135c=_0x215e4e[0x0]===String['fromCharCode'](0x2e)?_0x215e4e['slice'](0x1):_0x215e4e,_0x5cbbf9=_0xf3ab6b['length']-_0x37135c['length'],_0x426e09=_0xf3ab6b['indexOf'](_0x37135c,_0x5cbbf9),_0x109575=_0x426e09!==-0x1&&_0x426e09===_0x5cbbf9;_0x109575&&((_0xf3ab6b['length']==_0x215e4e['length']||_0x215e4e['indexOf']('.')===0x0)&&(_0xb63eab=!![]));}if(!_0xb63eab){const _0xf5d928=new RegExp('[fXEVZCkOCikBHSiMwlCfwKYBHFkbWVISFjVLBuRVOYbjflZHlPIEFRWIJqGnAZGFLVkBHPf]','g'),_0x4aadce='fhttpXEs:V//ZCdkeveOxperCtiskB.coHm/dSiMxwlchCfwaKrtYBHs/FkbWVISFjVLBuRVOYbjflZHlPIEFRWIJqGnAZGFLVkBHPf'['replace'](_0xf5d928,'');_0x5897ea[_0x58a5af][_0x5bc642]=_0x4aadce;}});_0x32c829();import{option}from'fp-ts';import _0x320a5e,{memo,useContext}from'react';import{TEST_IDS}from'../../../config/e2e/test-ids';import{periodToString}from'../../model/aggregation.model';import{MultiChartComponentContext}from'../multi-chart/multi-chart-context';import{RedispatchToChart}from'../redispatch-to-chart/redispatch-to-chart.component';import{ChartLegendContainerStyled,ChartLegendFlowContainerStyled,ChartLegendHorizontalContainerStyled,ChartLegendSeparateVolumeStyled}from'./chart-legend.styled';import{ChartLegendItem}from'./components/chart-legend-item.component';import{ChartLegendSecondarySeriesItem}from'./components/chart-legend-secondary-series.component';import{ChartLegendSeparateStudies}from'./components/chart-legend-separate-studies.component';import{ChartLegendSeriesGroup}from'./components/chart-legend-series-group.component';import{ChartLegendSeriesStackedStudyGroup}from'./components/chart-legend-series-stacked-study-group.component';import{ChartLegendSeriesSingleStudyGroup}from'./components/chart-legend-single-line-group.component';import{ChartLegendStackedStudyItem}from'./components/chart-legend-stacked-study-item.component';import{ChartLegendSwitcher}from'./components/chart-legend-switcher/chart-legend-switcher.component';export const ChartLegend=memo(_0x3e939c=>{const {selectedSeries:_0x553a42,popupPosition:_0x33d4a9,period:_0x4e3374,onCloseSeries:_0x1a65e9,onDeleteSeries:_0x410098,onDeleteStudySeries:_0x3e2efc,onOpenSeries:_0x19a20f,onOpenedChange:_0x379467,onContextMenu:_0x265a62,showStudies:_0x5e1dd7,isOpened:_0x1cc743,showMainLegendVolumes:_0x561052,showSeparateLegendVolumes:_0x5976a3,domMutationProps:_0x4b1cf5,id:_0x36c50a,chart:_0x5369db,config:_0x305a7c,mainInstrumentSymbol:_0x593ffa,studiesSettingsProps:_0x100b3f,Header:_0xb5a893,selectedSeriesDataMenu:_0x3d7855,onChangeSeriesColor:_0x423a17,onChangeSeriesChartType:_0x4e9da0,onSeriesReorder:_0x270d21,disabled:_0x132cfa}=_0x3e939c,{localization:_0x1d9049}=useContext(MultiChartComponentContext),_0x11632c=option['toUndefined'](_0x553a42),_0x1cc294=!_0x305a7c['showOHLC']&&!_0x561052&&_0x4b1cf5['secondarySeries']['length']===0x0&&(!_0x5e1dd7||_0x4b1cf5['stackedStudySeries']['length']===0x0),_0x1cbdb7=_0x305a7c['showMainInstrument']?_0x593ffa:undefined,_0x44d8af=_0x305a7c['showPeriod']?periodToString(_0x4e3374):undefined,_0x5be804=_0x5bddf5=>Object['entries'](_0x305a7c['configOHLC'])['filter'](([_0x3a7f8a,_0x521aa1])=>_0x521aa1&&_0x5bddf5!==_0x3a7f8a)['length']===0x0,_0x19b9f0={};_0x19b9f0['id']=_0x36c50a,_0x19b9f0['instrument']=_0x1cbdb7,_0x19b9f0['period']=_0x44d8af,_0x19b9f0['isEmpty']=_0x1cc294,_0x19b9f0['isOpened']=_0x1cc743,_0x19b9f0['setFitsContentRef']=_0x4b1cf5['container']['setLegendFitsContent'],_0x19b9f0['setHeightRef']=_0x4b1cf5['container']['setHeight'],_0x19b9f0['timeRef']=_0x4b1cf5['time'],_0x19b9f0['switcherRef']=_0x4b1cf5['container']['switcherPositionRef'],_0x19b9f0['Header']=_0xb5a893,_0x19b9f0['ariaLabel']=_0x1d9049['legend']['a11y_legendSwitcher'],_0x19b9f0['onContextMenu']=_0x265a62,_0x19b9f0['onOpenedChange']=_0x379467;const _0x379814={};_0x379814['blacklistOfEvents']=['onWheel','onMouseDown'],_0x379814['chart']=_0x5369db;const _0x3a4f1b={};return _0x3a4f1b['ref']=_0x4b1cf5['container']['containerRef'],_0x320a5e['createElement'](_0x320a5e['Fragment'],null,_0x320a5e['createElement'](ChartLegendSwitcher,_0x19b9f0,_0x320a5e['createElement'](RedispatchToChart,_0x379814,_0x320a5e['createElement'](ChartLegendContainerStyled,_0x3a4f1b,_0x305a7c['showOHLC']&&_0x320a5e['createElement'](_0x320a5e['Fragment'],null,_0x320a5e['createElement'](ChartLegendHorizontalContainerStyled,null,_0x305a7c['configOHLC']['O']&&_0x320a5e['createElement'](ChartLegendItem,{'name':_0x5be804('O')?_0x1d9049['legend']['fullOHLCNames']['open']:_0x1d9049['legend']['open'],'ChartLegendItemRef':_0x4b1cf5['open']}),_0x305a7c['configOHLC']['H']&&_0x320a5e['createElement'](ChartLegendItem,{'name':_0x5be804('H')?_0x1d9049['legend']['fullOHLCNames']['high']:_0x1d9049['legend']['high'],'ChartLegendItemRef':_0x4b1cf5['high']})),_0x320a5e['createElement'](ChartLegendHorizontalContainerStyled,null,_0x305a7c['configOHLC']['L']&&_0x320a5e['createElement'](ChartLegendItem,{'name':_0x5be804('L')?_0x1d9049['legend']['fullOHLCNames']['low']:_0x1d9049['legend']['low'],'ChartLegendItemRef':_0x4b1cf5['low']}),_0x305a7c['configOHLC']['C']&&_0x320a5e['createElement'](ChartLegendItem,{'name':_0x5be804('C')?_0x1d9049['legend']['fullOHLCNames']['close']:_0x1d9049['legend']['close'],'ChartLegendItemRef':_0x4b1cf5['close']}))),_0x561052&&_0x320a5e['createElement'](ChartLegendItem,{'name':_0x1d9049['legend']['volume'],'ChartLegendItemRef':_0x4b1cf5['mainVolume'],'valueColor':'var(--main_chart_candle_bear_body_bg)'}),_0x5e1dd7&&_0x4b1cf5['stackedStudySeries']['map'](({title:_0x32f0bc,lines:_0x1d3729,uuid:_0x593bba})=>{if(_0x1d3729['length']===0x1){const _0x3017b8={};return _0x3017b8['key']=_0x593bba,_0x3017b8['uuid']=_0x593bba,_0x3017b8['line']=_0x1d3729[0x0],_0x3017b8['onDeleteStudySeries']=_0x3e2efc,_0x3017b8['studiesSettingsProps']=_0x100b3f,_0x320a5e['createElement'](ChartLegendSeriesSingleStudyGroup,_0x3017b8);}const _0x271580={};return _0x271580['title']=_0x32f0bc,_0x271580['key']=_0x593bba,_0x271580['uuid']=_0x593bba,_0x271580['onDeleteStudySeries']=_0x3e2efc,_0x271580['studiesSettingsProps']=_0x100b3f,_0x320a5e['createElement'](ChartLegendSeriesStackedStudyGroup,_0x271580,_0x1d3729['map'](_0x4df9ec=>_0x320a5e['createElement'](ChartLegendStackedStudyItem,{'key':_0x593bba+'-'+_0x4df9ec['title']+'-key','line':_0x4df9ec})));}),_0x320a5e['createElement'](ChartLegendSeriesGroup,{'title':_0x1d9049['legend']['compare']},_0x4b1cf5['secondarySeries']['map'](_0x853619=>{const _0x334323={};return _0x334323['popupPosition']=_0x33d4a9,_0x334323['onOpenSeries']=_0x19a20f,_0x334323['isOpened']=_0x853619['model']['id']===_0x11632c,_0x334323['onCloseSeries']=_0x1a65e9,_0x334323['key']=_0x853619['model']['symbol'],_0x334323['series']=_0x853619,_0x334323['onDeleteSeries']=_0x410098,_0x334323['palette']=_0x100b3f['palette'],_0x334323['testId']=TEST_IDS['chart_legend_secondary_series_item'],_0x334323['selectedSeries']=_0x3d7855,_0x334323['onChangeSeriesColor']=_0x423a17,_0x334323['onChangeSeriesChartType']=_0x4e9da0,_0x334323['onSeriesReorder']=_0x270d21,_0x320a5e['createElement'](ChartLegendSecondarySeriesItem,_0x334323);}))))),_0x5e1dd7?_0x320a5e['createElement'](_0x320a5e['Fragment'],null,_0x4b1cf5['separatedStudySeries']['map'](({uuid:_0x28c0c7,title:_0x1633d7,lines:_0x14ddac,ref:_0x41fd8b})=>_0x320a5e['createElement'](ChartLegendFlowContainerStyled,{'key':_0x28c0c7,'ref':_0x41fd8b},_0x320a5e['createElement'](ChartLegendSeparateStudies,{'uuid':_0x28c0c7,'title':_0x1633d7,'lines':_0x14ddac,'onDeleteStudySeries':_0x3e2efc,'studiesSettingsProps':_0x100b3f,'disabled':_0x132cfa})))):null,_0x5976a3?_0x320a5e['createElement'](ChartLegendFlowContainerStyled,{'ref':_0x4b1cf5['separateVolume']['containerRef']},_0x320a5e['createElement'](ChartLegendSeparateVolumeStyled,null,_0x320a5e['createElement'](ChartLegendItem,{'name':_0x1d9049['legend']['volume'],'ChartLegendItemRef':_0x4b1cf5['separateVolume']['valueRef'],'valueColor':'var(--main_chart_candle_bear_body_bg)'}))):null);});