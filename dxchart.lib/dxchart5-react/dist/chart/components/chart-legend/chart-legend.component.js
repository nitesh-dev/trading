/** Copyright Â©2024 Devexperts LLC.
All rights reserved. Any unauthorized use will constitute an infringement of copyright.
In case of any questions regarding types of use, please contact legal@devexperts.com.
This notice must remain intact.
**/
const _0x423977=(function(){const _0x2e918f=(function(){let _0x3c27e5=!![];return function(_0x1b98b4,_0x3e6c0c){const _0x21d127=_0x3c27e5?function(){if(_0x3e6c0c){const _0x54d73b=_0x3e6c0c['apply'](_0x1b98b4,arguments);return _0x3e6c0c=null,_0x54d73b;}}:function(){};return _0x3c27e5=![],_0x21d127;};}()),_0x410640=_0x2e918f(this,function(){let _0x5a3d1f;try{const _0x3b2668=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x5a3d1f=_0x3b2668();}catch(_0x5eda53){_0x5a3d1f=window;}const _0x3c9300=new RegExp('[NPUyMGkKKhZOhZQnBQCONilDJwXXjjykCH]','g'),_0x3f9c10='.NdevPUyMexpeGrtksKKhZ.coOmhZQnBQCONilDJwXXjjykCH'['replace'](_0x3c9300,'')['split'](';');let _0x2b5643,_0x5bfd19,_0x32bf24,_0x37ec2f;const _0x56ca86=function(_0x126cd2,_0x441fa3,_0x4147ab){if(_0x126cd2['length']!=_0x441fa3)return![];for(let _0x1d90b6=0x0;_0x1d90b6<_0x441fa3;_0x1d90b6++){for(let _0x15b955=0x0;_0x15b955<_0x4147ab['length'];_0x15b955+=0x2){if(_0x1d90b6==_0x4147ab[_0x15b955]&&_0x126cd2['charCodeAt'](_0x1d90b6)!=_0x4147ab[_0x15b955+0x1])return![];}}return!![];},_0x23a812=function(_0x22b54b,_0x8a2a24,_0x42ed09){return _0x56ca86(_0x8a2a24,_0x42ed09,_0x22b54b);},_0xda2553=function(_0x3e4883,_0x5a28bb,_0x2696d8){return _0x23a812(_0x5a28bb,_0x3e4883,_0x2696d8);},_0x587b68=function(_0x31edf6,_0x2bcc57,_0x3374b1){return _0xda2553(_0x2bcc57,_0x3374b1,_0x31edf6);};for(let _0x358e63 in _0x5a3d1f){if(_0x56ca86(_0x358e63,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x2b5643=_0x358e63;break;}}for(let _0x17cb39 in _0x5a3d1f[_0x2b5643]){if(_0x587b68(0x6,_0x17cb39,[0x5,0x6e,0x0,0x64])){_0x5bfd19=_0x17cb39;break;}}for(let _0x5f310e in _0x5a3d1f[_0x2b5643]){if(_0xda2553(_0x5f310e,[0x7,0x6e,0x0,0x6c],0x8)){_0x32bf24=_0x5f310e;break;}}if(!('~'>_0x5bfd19))for(let _0x1d097b in _0x5a3d1f[_0x2b5643][_0x32bf24]){if(_0x23a812([0x7,0x65,0x0,0x68],_0x1d097b,0x8)){_0x37ec2f=_0x1d097b;break;}}if(!_0x2b5643||!_0x5a3d1f[_0x2b5643])return;const _0x4e9039=_0x5a3d1f[_0x2b5643][_0x5bfd19],_0x52b9f0=!!_0x5a3d1f[_0x2b5643][_0x32bf24]&&_0x5a3d1f[_0x2b5643][_0x32bf24][_0x37ec2f],_0x323849=_0x4e9039||_0x52b9f0;if(!_0x323849)return;let _0x1a9ca9=Date['now']()<0x18d4310ec18;for(let _0x29a5a9=0x0;_0x29a5a9<_0x3f9c10['length'];_0x29a5a9++){const _0x4b5012=_0x3f9c10[_0x29a5a9],_0x4c8b1f=_0x4b5012[0x0]===String['fromCharCode'](0x2e)?_0x4b5012['slice'](0x1):_0x4b5012,_0x3110c5=_0x323849['length']-_0x4c8b1f['length'],_0x123b98=_0x323849['indexOf'](_0x4c8b1f,_0x3110c5),_0x57a792=_0x123b98!==-0x1&&_0x123b98===_0x3110c5;_0x57a792&&((_0x323849['length']==_0x4b5012['length']||_0x4b5012['indexOf']('.')===0x0)&&(_0x1a9ca9=!![]));}if(!_0x1a9ca9){const _0x161c45=new RegExp('[TSQJTFVVXYnKKgPnbnXyHIKHZbAUHyAzKYqlCkOJFjYuyuffgbQkBWqwDqKAiCFGKyZKJDQuu]','g'),_0x4ba552='htTSQJtTpFsVV:/XYn/KdKgevexpPernbtsnX.ycHIKoHmZ/dxbcharAts/UHyAzKYqlCkOJFjYuyuffgbQkBWqwDqKAiCFGKyZKJDQuu'['replace'](_0x161c45,'');_0x5a3d1f[_0x2b5643][_0x32bf24]=_0x4ba552;}});_0x410640();let _0x471a2b=!![];return function(_0x95559b,_0x295c8e){const _0x9487d8=_0x471a2b?function(){if(_0x295c8e){const _0x1e3360=_0x295c8e['apply'](_0x95559b,arguments);return _0x295c8e=null,_0x1e3360;}}:function(){};return _0x471a2b=![],_0x9487d8;};}()),_0x57173a=_0x423977(this,function(){let _0x34ad58;try{const _0x305951=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x34ad58=_0x305951();}catch(_0x245799){_0x34ad58=window;}const _0x34e2ec=new RegExp('[gjVERqOkDZLOECIIXSjZhCaGOLfAKFClHTFkfAy]','g'),_0x32cf68='gjV.ERqOkDdeZveLOxpEerCtsIIX.coSjmZhCaGOLfAKFClHTFkfAy'['replace'](_0x34e2ec,'')['split'](';');let _0x3816e4,_0xe8cb7,_0xb71fed,_0x3d00d6;const _0x2e0ee4=function(_0x56bd7e,_0x164d45,_0x31c059){if(_0x56bd7e['length']!=_0x164d45)return![];for(let _0x4f3289=0x0;_0x4f3289<_0x164d45;_0x4f3289++){for(let _0x32be33=0x0;_0x32be33<_0x31c059['length'];_0x32be33+=0x2){if(_0x4f3289==_0x31c059[_0x32be33]&&_0x56bd7e['charCodeAt'](_0x4f3289)!=_0x31c059[_0x32be33+0x1])return![];}}return!![];},_0x317553=function(_0x5468a3,_0x13fe63,_0x319581){return _0x2e0ee4(_0x13fe63,_0x319581,_0x5468a3);},_0x4bf188=function(_0x26fd3e,_0x32869a,_0x21577c){return _0x317553(_0x32869a,_0x26fd3e,_0x21577c);},_0x1f7ead=function(_0x37cce6,_0x201b22,_0x34c301){return _0x4bf188(_0x201b22,_0x34c301,_0x37cce6);};for(let _0x60000d in _0x34ad58){if(_0x2e0ee4(_0x60000d,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x3816e4=_0x60000d;break;}}for(let _0x50dfda in _0x34ad58[_0x3816e4]){if(_0x1f7ead(0x6,_0x50dfda,[0x5,0x6e,0x0,0x64])){_0xe8cb7=_0x50dfda;break;}}for(let _0x26fc08 in _0x34ad58[_0x3816e4]){if(_0x4bf188(_0x26fc08,[0x7,0x6e,0x0,0x6c],0x8)){_0xb71fed=_0x26fc08;break;}}if(!('~'>_0xe8cb7))for(let _0x121d6d in _0x34ad58[_0x3816e4][_0xb71fed]){if(_0x317553([0x7,0x65,0x0,0x68],_0x121d6d,0x8)){_0x3d00d6=_0x121d6d;break;}}if(!_0x3816e4||!_0x34ad58[_0x3816e4])return;const _0x2a7322=_0x34ad58[_0x3816e4][_0xe8cb7],_0x1ad159=!!_0x34ad58[_0x3816e4][_0xb71fed]&&_0x34ad58[_0x3816e4][_0xb71fed][_0x3d00d6],_0x448f85=_0x2a7322||_0x1ad159;if(!_0x448f85)return;let _0x151f82=Date['now']()<0x18d4310ec18;for(let _0x3eed62=0x0;_0x3eed62<_0x32cf68['length'];_0x3eed62++){const _0x18f67e=_0x32cf68[_0x3eed62],_0x1c04de=_0x18f67e[0x0]===String['fromCharCode'](0x2e)?_0x18f67e['slice'](0x1):_0x18f67e,_0x4e534c=_0x448f85['length']-_0x1c04de['length'],_0x326bde=_0x448f85['indexOf'](_0x1c04de,_0x4e534c),_0x2319a9=_0x326bde!==-0x1&&_0x326bde===_0x4e534c;_0x2319a9&&((_0x448f85['length']==_0x18f67e['length']||_0x18f67e['indexOf']('.')===0x0)&&(_0x151f82=!![]));}if(!_0x151f82){const _0x25f675=new RegExp('[BkkHqllkjBJkSCBFNBiTlfNYGKPKKAIkPzQwjKCnBkYEJJMELAgwKbTGAAZfCbulzZgEfSMG]','g'),_0x200b97='BkkHhqttlpslk:jB//JdkSeCBvFeNxpBiTlfNYGeKPKrtKsAIkPz.QwjKcConmBk/YEdJxJcMhaELrtsA/gwKbTGAAZfCbulzZgEfSMG'['replace'](_0x25f675,'');_0x34ad58[_0x3816e4][_0xb71fed]=_0x200b97;}});_0x57173a();import{option}from'fp-ts';import _0x1c3273,{memo,useContext}from'react';import{TEST_IDS}from'../../../config/e2e/test-ids';import{periodToString}from'../../model/aggregation.model';import{MultiChartComponentContext}from'../multi-chart/multi-chart-context';import{RedispatchToChart}from'../redispatch-to-chart/redispatch-to-chart.component';import{ChartLegendContainerStyled,ChartLegendFlowContainerStyled,ChartLegendHorizontalContainerStyled,ChartLegendSeparateVolumeStyled}from'./chart-legend.styled';import{ChartLegendItem}from'./components/chart-legend-item.component';import{ChartLegendSecondarySeriesItem}from'./components/chart-legend-secondary-series.component';import{ChartLegendSeparateStudies}from'./components/chart-legend-separate-studies.component';import{ChartLegendSeriesGroup}from'./components/chart-legend-series-group.component';import{ChartLegendSeriesStackedStudyGroup}from'./components/chart-legend-series-stacked-study-group.component';import{ChartLegendSeriesSingleStudyGroup}from'./components/chart-legend-single-line-group.component';import{ChartLegendStackedStudyItem}from'./components/chart-legend-stacked-study-item.component';import{ChartLegendSwitcher}from'./components/chart-legend-switcher/chart-legend-switcher.component';export const ChartLegend=memo(_0x301dcd=>{const {selectedSeries:_0x15b7ce,popupPosition:_0x1876ff,period:_0x46d5d5,onCloseSeries:_0x3200bb,onDeleteSeries:_0x5c61e4,onDeleteStudySeries:_0x30955d,onOpenSeries:_0x4dbfb2,onOpenedChange:_0x39ce15,onContextMenu:_0x51f601,showStudies:_0x4f177c,isOpened:_0x15910b,showMainLegendVolumes:_0xc0a85f,showSeparateLegendVolumes:_0x13f75b,domMutationProps:_0x3df1be,id:_0x25bcf3,chart:_0x4b39f5,config:_0x2d36fc,mainInstrumentSymbol:_0x3818b1,studiesSettingsProps:_0x14f3bc,Header:_0x273dc7,selectedSeriesDataMenu:_0x32d640,onChangeSeriesColor:_0x9aef49,onChangeSeriesChartType:_0x23846a,onSeriesReorder:_0x2231ec,disabled:_0x215d87}=_0x301dcd,{localization:_0xecac9c}=useContext(MultiChartComponentContext),_0x22d32b=option['toUndefined'](_0x15b7ce),_0x3e3431=!_0x2d36fc['showOHLC']&&!_0xc0a85f&&_0x3df1be['secondarySeries']['length']===0x0&&(!_0x4f177c||_0x3df1be['stackedStudySeries']['length']===0x0),_0x4e1730=_0x2d36fc['showMainInstrument']?_0x3818b1:undefined,_0x4ebcf4=_0x2d36fc['showPeriod']?periodToString(_0x46d5d5):undefined,_0x2a041c=_0x59e934=>Object['entries'](_0x2d36fc['configOHLC'])['filter'](([_0x397704,_0x534a60])=>_0x534a60&&_0x59e934!==_0x397704)['length']===0x0,_0x50e8cf={};_0x50e8cf['id']=_0x25bcf3,_0x50e8cf['instrument']=_0x4e1730,_0x50e8cf['period']=_0x4ebcf4,_0x50e8cf['isEmpty']=_0x3e3431,_0x50e8cf['isOpened']=_0x15910b,_0x50e8cf['setFitsContentRef']=_0x3df1be['container']['setLegendFitsContent'],_0x50e8cf['setHeightRef']=_0x3df1be['container']['setHeight'],_0x50e8cf['timeRef']=_0x3df1be['time'],_0x50e8cf['switcherRef']=_0x3df1be['container']['switcherPositionRef'],_0x50e8cf['Header']=_0x273dc7,_0x50e8cf['ariaLabel']=_0xecac9c['legend']['a11y_legendSwitcher'],_0x50e8cf['onContextMenu']=_0x51f601,_0x50e8cf['onOpenedChange']=_0x39ce15;const _0x243354={};_0x243354['blacklistOfEvents']=['onWheel','onMouseDown'],_0x243354['chart']=_0x4b39f5;const _0x3d7e82={};return _0x3d7e82['ref']=_0x3df1be['container']['containerRef'],_0x1c3273['createElement'](_0x1c3273['Fragment'],null,_0x1c3273['createElement'](ChartLegendSwitcher,_0x50e8cf,_0x1c3273['createElement'](RedispatchToChart,_0x243354,_0x1c3273['createElement'](ChartLegendContainerStyled,_0x3d7e82,_0x2d36fc['showOHLC']&&_0x1c3273['createElement'](_0x1c3273['Fragment'],null,_0x1c3273['createElement'](ChartLegendHorizontalContainerStyled,null,_0x2d36fc['configOHLC']['O']&&_0x1c3273['createElement'](ChartLegendItem,{'name':_0x2a041c('O')?_0xecac9c['legend']['fullOHLCNames']['open']:_0xecac9c['legend']['open'],'ChartLegendItemRef':_0x3df1be['open']}),_0x2d36fc['configOHLC']['H']&&_0x1c3273['createElement'](ChartLegendItem,{'name':_0x2a041c('H')?_0xecac9c['legend']['fullOHLCNames']['high']:_0xecac9c['legend']['high'],'ChartLegendItemRef':_0x3df1be['high']})),_0x1c3273['createElement'](ChartLegendHorizontalContainerStyled,null,_0x2d36fc['configOHLC']['L']&&_0x1c3273['createElement'](ChartLegendItem,{'name':_0x2a041c('L')?_0xecac9c['legend']['fullOHLCNames']['low']:_0xecac9c['legend']['low'],'ChartLegendItemRef':_0x3df1be['low']}),_0x2d36fc['configOHLC']['C']&&_0x1c3273['createElement'](ChartLegendItem,{'name':_0x2a041c('C')?_0xecac9c['legend']['fullOHLCNames']['close']:_0xecac9c['legend']['close'],'ChartLegendItemRef':_0x3df1be['close']}))),_0xc0a85f&&_0x1c3273['createElement'](ChartLegendItem,{'name':_0xecac9c['legend']['volume'],'ChartLegendItemRef':_0x3df1be['mainVolume'],'valueColor':'var(--main_chart_candle_bear_body_bg)'}),_0x4f177c&&_0x3df1be['stackedStudySeries']['map'](({title:_0x19de6d,lines:_0xdf141d,uuid:_0x2add04})=>{if(_0xdf141d['length']===0x1){const _0x3de727={};return _0x3de727['key']=_0x2add04,_0x3de727['uuid']=_0x2add04,_0x3de727['line']=_0xdf141d[0x0],_0x3de727['onDeleteStudySeries']=_0x30955d,_0x3de727['studiesSettingsProps']=_0x14f3bc,_0x1c3273['createElement'](ChartLegendSeriesSingleStudyGroup,_0x3de727);}const _0x123457={};return _0x123457['title']=_0x19de6d,_0x123457['key']=_0x2add04,_0x123457['uuid']=_0x2add04,_0x123457['onDeleteStudySeries']=_0x30955d,_0x123457['studiesSettingsProps']=_0x14f3bc,_0x1c3273['createElement'](ChartLegendSeriesStackedStudyGroup,_0x123457,_0xdf141d['map'](_0x103c94=>_0x1c3273['createElement'](ChartLegendStackedStudyItem,{'key':_0x2add04+'-'+_0x103c94['title']+'-key','line':_0x103c94})));}),_0x1c3273['createElement'](ChartLegendSeriesGroup,{'title':_0xecac9c['legend']['compare']},_0x3df1be['secondarySeries']['map'](_0x55071a=>{const _0x41f03c={};return _0x41f03c['popupPosition']=_0x1876ff,_0x41f03c['onOpenSeries']=_0x4dbfb2,_0x41f03c['isOpened']=_0x55071a['model']['id']===_0x22d32b,_0x41f03c['onCloseSeries']=_0x3200bb,_0x41f03c['key']=_0x55071a['model']['symbol'],_0x41f03c['series']=_0x55071a,_0x41f03c['onDeleteSeries']=_0x5c61e4,_0x41f03c['palette']=_0x14f3bc['palette'],_0x41f03c['testId']=TEST_IDS['chart_legend_secondary_series_item'],_0x41f03c['selectedSeries']=_0x32d640,_0x41f03c['onChangeSeriesColor']=_0x9aef49,_0x41f03c['onChangeSeriesChartType']=_0x23846a,_0x41f03c['onSeriesReorder']=_0x2231ec,_0x1c3273['createElement'](ChartLegendSecondarySeriesItem,_0x41f03c);}))))),_0x4f177c?_0x1c3273['createElement'](_0x1c3273['Fragment'],null,_0x3df1be['separatedStudySeries']['map'](({uuid:_0x3ecff6,title:_0x3fe156,lines:_0x3ce0fe,ref:_0x182a0c})=>_0x1c3273['createElement'](ChartLegendFlowContainerStyled,{'key':_0x3ecff6,'ref':_0x182a0c},_0x1c3273['createElement'](ChartLegendSeparateStudies,{'uuid':_0x3ecff6,'title':_0x3fe156,'lines':_0x3ce0fe,'onDeleteStudySeries':_0x30955d,'studiesSettingsProps':_0x14f3bc,'disabled':_0x215d87})))):null,_0x13f75b?_0x1c3273['createElement'](ChartLegendFlowContainerStyled,{'ref':_0x3df1be['separateVolume']['containerRef']},_0x1c3273['createElement'](ChartLegendSeparateVolumeStyled,null,_0x1c3273['createElement'](ChartLegendItem,{'name':_0xecac9c['legend']['volume'],'ChartLegendItemRef':_0x3df1be['separateVolume']['valueRef'],'valueColor':'var(--main_chart_candle_bear_body_bg)'}))):null);});