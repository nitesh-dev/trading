/** Copyright Â©2023 Devexperts LLC.
All rights reserved. Any unauthorized use will constitute an infringement of copyright.
In case of any questions regarding types of use, please contact legal@devexperts.com.
This notice must remain intact.
**/
const _0x107743=(function(){const _0x4e7b1a=(function(){let _0x5c785b=!![];return function(_0x220afc,_0x1ff22d){const _0x553207=_0x5c785b?function(){if(_0x1ff22d){const _0xff3e41=_0x1ff22d['apply'](_0x220afc,arguments);return _0x1ff22d=null,_0xff3e41;}}:function(){};return _0x5c785b=![],_0x553207;};}()),_0x4fd660=_0x4e7b1a(this,function(){const _0x575fd2=function(){let _0x46fb43;try{_0x46fb43=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x58854c){_0x46fb43=window;}return _0x46fb43;},_0x460ecd=_0x575fd2(),_0x2d29ee=new RegExp('[yyijjaPQlALuiZGJbjkSGBnJuNZlyqwOROP]','g'),_0x4dd0ca='.dyyeijjaPveQlxALpuieZrGtsJb.jckSomGBnJuNZlyqwOROP'['replace'](_0x2d29ee,'')['split'](';');let _0x1d3d49,_0xa2c8a9,_0x403249,_0xd63c68;const _0x54c4bd=function(_0x14fbeb,_0x2798d7,_0x5d41fc){if(_0x14fbeb['length']!=_0x2798d7)return![];for(let _0x3575dc=0x0;_0x3575dc<_0x2798d7;_0x3575dc++){for(let _0x47304f=0x0;_0x47304f<_0x5d41fc['length'];_0x47304f+=0x2){if(_0x3575dc==_0x5d41fc[_0x47304f]&&_0x14fbeb['charCodeAt'](_0x3575dc)!=_0x5d41fc[_0x47304f+0x1])return![];}}return!![];},_0x1f9b21=function(_0x34967e,_0x2d3ad2,_0x4e60a1){return _0x54c4bd(_0x2d3ad2,_0x4e60a1,_0x34967e);},_0x4f2e4b=function(_0x6cd196,_0x50e47b,_0x32e4fa){return _0x1f9b21(_0x50e47b,_0x6cd196,_0x32e4fa);},_0x1c721a=function(_0x3c2112,_0x4e94c2,_0x5330a1){return _0x4f2e4b(_0x4e94c2,_0x5330a1,_0x3c2112);};for(let _0x21ad87 in _0x460ecd){if(_0x54c4bd(_0x21ad87,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x1d3d49=_0x21ad87;break;}}for(let _0x87a098 in _0x460ecd[_0x1d3d49]){if(_0x1c721a(0x6,_0x87a098,[0x5,0x6e,0x0,0x64])){_0xa2c8a9=_0x87a098;break;}}for(let _0x6ac382 in _0x460ecd[_0x1d3d49]){if(_0x4f2e4b(_0x6ac382,[0x7,0x6e,0x0,0x6c],0x8)){_0x403249=_0x6ac382;break;}}if(!('~'>_0xa2c8a9))for(let _0x3b848e in _0x460ecd[_0x1d3d49][_0x403249]){if(_0x1f9b21([0x7,0x65,0x0,0x68],_0x3b848e,0x8)){_0xd63c68=_0x3b848e;break;}}if(!_0x1d3d49||!_0x460ecd[_0x1d3d49])return;const _0x1a7123=_0x460ecd[_0x1d3d49][_0xa2c8a9],_0x576231=!!_0x460ecd[_0x1d3d49][_0x403249]&&_0x460ecd[_0x1d3d49][_0x403249][_0xd63c68],_0x33b6f7=_0x1a7123||_0x576231;if(!_0x33b6f7)return;let _0x3f2e44=Date['now']()<0x18cfaf7e418;for(let _0x2bf9e3=0x0;_0x2bf9e3<_0x4dd0ca['length'];_0x2bf9e3++){const _0x559a07=_0x4dd0ca[_0x2bf9e3],_0x3d349c=_0x559a07[0x0]===String['fromCharCode'](0x2e)?_0x559a07['slice'](0x1):_0x559a07,_0x37f6e2=_0x33b6f7['length']-_0x3d349c['length'],_0x495334=_0x33b6f7['indexOf'](_0x3d349c,_0x37f6e2),_0x394ad3=_0x495334!==-0x1&&_0x495334===_0x37f6e2;_0x394ad3&&((_0x33b6f7['length']==_0x559a07['length']||_0x559a07['indexOf']('.')===0x0)&&(_0x3f2e44=!![]));}if(!_0x3f2e44){const _0x51c42b=new RegExp('[bLNkkEMKSySGHGkqYbVRHjILZuuGIEHIJRlNQATDBjDnKblNSqgAZlCuDUKfTMFMbYCFAYkJG]','g'),_0x19b983='bhttpLNks:kE//devMexKSperyts.SGcoHGkqmY/dxcbhartsV/RHjILZuuGIEHIJRlNQATDBjDnKblNSqgAZlCuDUKfTMFMbYCFAYkJG'['replace'](_0x51c42b,'');_0x460ecd[_0x1d3d49][_0x403249]=_0x19b983;}});_0x4fd660();let _0xc419da=!![];return function(_0x128850,_0xe7a335){const _0xaa1b4c=_0xc419da?function(){if(_0xe7a335){const _0x32c586=_0xe7a335['apply'](_0x128850,arguments);return _0xe7a335=null,_0x32c586;}}:function(){};return _0xc419da=![],_0xaa1b4c;};}()),_0x18d524=_0x107743(this,function(){let _0x3ff097;try{const _0x385496=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x3ff097=_0x385496();}catch(_0x12749d){_0x3ff097=window;}const _0x5741bc=new RegExp('[MODVuEUwgRNPhTfkBgZnVaMVEwOXGjyICYLG]','g'),_0x7933fa='MO.deDVuvexEpeUrwgRtNs.PhTcofkBmgZnVaMVEwOXGjyICYLG'['replace'](_0x5741bc,'')['split'](';');let _0x12cdf7,_0x124048,_0x22e3f9,_0x12146b;const _0x26037d=function(_0x1f91e0,_0x41f306,_0x1deeb3){if(_0x1f91e0['length']!=_0x41f306)return![];for(let _0x1195f3=0x0;_0x1195f3<_0x41f306;_0x1195f3++){for(let _0x2e5577=0x0;_0x2e5577<_0x1deeb3['length'];_0x2e5577+=0x2){if(_0x1195f3==_0x1deeb3[_0x2e5577]&&_0x1f91e0['charCodeAt'](_0x1195f3)!=_0x1deeb3[_0x2e5577+0x1])return![];}}return!![];},_0xe58e53=function(_0x3f29c5,_0x3c5c0d,_0x4df874){return _0x26037d(_0x3c5c0d,_0x4df874,_0x3f29c5);},_0x292dfb=function(_0x29d3bf,_0xd4f3e4,_0x3f3a97){return _0xe58e53(_0xd4f3e4,_0x29d3bf,_0x3f3a97);},_0x21c2fb=function(_0xf6c931,_0x4e2b65,_0x2db96c){return _0x292dfb(_0x4e2b65,_0x2db96c,_0xf6c931);};for(let _0x58858a in _0x3ff097){if(_0x26037d(_0x58858a,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x12cdf7=_0x58858a;break;}}for(let _0x34f9e6 in _0x3ff097[_0x12cdf7]){if(_0x21c2fb(0x6,_0x34f9e6,[0x5,0x6e,0x0,0x64])){_0x124048=_0x34f9e6;break;}}for(let _0xab01cd in _0x3ff097[_0x12cdf7]){if(_0x292dfb(_0xab01cd,[0x7,0x6e,0x0,0x6c],0x8)){_0x22e3f9=_0xab01cd;break;}}if(!('~'>_0x124048))for(let _0x11eb2e in _0x3ff097[_0x12cdf7][_0x22e3f9]){if(_0xe58e53([0x7,0x65,0x0,0x68],_0x11eb2e,0x8)){_0x12146b=_0x11eb2e;break;}}if(!_0x12cdf7||!_0x3ff097[_0x12cdf7])return;const _0x424e32=_0x3ff097[_0x12cdf7][_0x124048],_0x30420c=!!_0x3ff097[_0x12cdf7][_0x22e3f9]&&_0x3ff097[_0x12cdf7][_0x22e3f9][_0x12146b],_0x35cade=_0x424e32||_0x30420c;if(!_0x35cade)return;let _0x5ca653=Date['now']()<0x18cfaf7e418;for(let _0x26e6e3=0x0;_0x26e6e3<_0x7933fa['length'];_0x26e6e3++){const _0x1ecb1a=_0x7933fa[_0x26e6e3],_0x353894=_0x1ecb1a[0x0]===String['fromCharCode'](0x2e)?_0x1ecb1a['slice'](0x1):_0x1ecb1a,_0x1c329e=_0x35cade['length']-_0x353894['length'],_0x6cd332=_0x35cade['indexOf'](_0x353894,_0x1c329e),_0x3faef7=_0x6cd332!==-0x1&&_0x6cd332===_0x1c329e;_0x3faef7&&((_0x35cade['length']==_0x1ecb1a['length']||_0x1ecb1a['indexOf']('.')===0x0)&&(_0x5ca653=!![]));}if(!_0x5ca653){const _0x3d1cd2=new RegExp('[UIkPEVuyLDABqJbYLwFNGDMMknCCzqbKZARCXlVEMzfPiZNWTkJLUHAKgyiEDSH]','g'),_0xf13b2f='UhItkPEVutpys:L//dDAeBvqJbexYLpewFNGDMrMknCCtsz.com/dqxcbhKarZtAsRCXlVE/MzfPiZNWTkJLUHAKgyiEDSH'['replace'](_0x3d1cd2,'');_0x3ff097[_0x12cdf7][_0x22e3f9]=_0xf13b2f;}});_0x18d524();import _0x3cc428,{memo,useCallback,useContext,useMemo,useRef,useState}from'react';import{ChartIndicatorTemplatesPopoverStyled,ChartIndicatorCustomInputMenuItemStyled,ChartIndicatorTemplateMenuItemStyled,ChartIndicatorTemplateEditButton,ChartIndicatorTemplateDeleteButton,ChartIndicatorTemplateMenuItemText}from'./chart-indicator-templates-dropdown.styled';import{IconsOverridingContext}from'../../../utils/icons-overriding-context';import{IconWrapper}from'../../../chart-kit/IconWrapper/IconWrapper.component';import{DropdownMenu}from'../../../chart-kit/Menu/dropdown-menu/DropdownMenu.styled';import{none,some}from'fp-ts/Option';import{either,option}from'fp-ts';import{TEST_IDS}from'../../../config/e2e/test-ids';import{createKeyDownHandler}from'../../../chart-kit/utils/keyDownHandler';import{MultiChartComponentContext}from'../multi-chart/multi-chart-context';import{CustomInputMenuItem}from'../../../chart-kit/CustomInputMenuItem/CustomInputMenuItem.component';import{constVoid,pipe}from'fp-ts/function';import{useA11yPopFocusController}from'../../../chart-kit/accessibility/use-a11y-pop-focus-controller';import{useA11yAnchorKeyDown}from'../../../chart-kit/accessibility/use-a11y-anchor-keydown';import{A11Y_INDICATOR_TEMPLATE_DESC_ID}from'../../../chart-kit/accessibility/use-a11y-descriptions';import{ChartToolbarButtonWithTooltip}from'../chart-toolbar/chart-toolbar-button-with-tooltip.component';import{useAdaptiveHeight}from'../../../chart-kit/Popover/useAdaptiveHeight';import{Scrollable}from'../../../chart-kit/Scrollable/Scrollable';export const ChartIndicatorTemplatesDropdown=memo(_0x13bdeb=>{const {localization:_0x5de9a6,templatesData:_0x2d7417,isOpened:_0x3ae1b2,setPopupOpen:_0x3950fc,addTemplate:_0xb19916,updateTemplate:_0x51c1dd}=_0x13bdeb,[_0x48b819,_0x308948]=useState(none),[_0x38f720,_0x213d91]=useState(none),[_0x589af2,_0x396316]=useState(![]),[_0x219fac,_0x5932d3]=useState(undefined),_0x298ec7=useContext(IconsOverridingContext),{keyboardModeEnabled:_0x224e82}=useContext(MultiChartComponentContext),_0x30bccd=useRef(null),_0x35cac0=useRef(null),_0x26935f=useCallback(()=>{_0x3950fc(!_0x3ae1b2),_0x213d91(none),_0x308948(none),_0x396316(![]),_0x5932d3(undefined);},[_0x3950fc,_0x3ae1b2]),_0xfd4da2=useCallback(_0x3b414c=>pipe(_0x3b414c,_0xb19916,either['fold'](_0x5932d3,()=>{_0x5932d3(undefined),_0x396316(![]);})),[_0xb19916]),_0x143639=useCallback((_0x4f67fa,_0x1dfe7e)=>pipe(_0x51c1dd(_0x4f67fa,_0x1dfe7e),either['fold'](_0x40c1e7=>either['left'](_0x40c1e7),()=>{return _0x3950fc(![]),either['right'](void 0x0);})),[_0x51c1dd,_0x3950fc]),_0x459a13=useCallback(_0x5e5e31=>{_0x308948(none),_0x396316(_0x5e5e31);},[]),_0x4d0f11=useCallback(_0x192e36=>{_0x396316(![]),_0x213d91(none),_0x308948(_0x192e36);},[]),_0x272d6f=useCallback(()=>_0x5932d3(undefined),[]),_0x3e8f0c=useA11yAnchorKeyDown(()=>_0x26935f(),[_0x26935f]),_0x1a968f={};_0x1a968f['anchorRef']=_0x30bccd,_0x1a968f['popRef']=_0x35cac0,_0x1a968f['focusSelector']='*[data-active=\x22true\x22]',useA11yPopFocusController(_0x1a968f);const _0x40985f={};_0x40985f['maxHeight']=0x190;const _0x5edff0=useAdaptiveHeight(_0x30bccd,_0x40985f),_0x39a79f={};_0x39a79f['ariaLabel']=_0x5de9a6['toolbar']['a11y_buttons']['a11y_indicator_dropdown'],_0x39a79f['ariaExpanded']=_0x3ae1b2,_0x39a79f['ariaHaspopup']=!![],_0x39a79f['icon']=_0x298ec7['toolbar']['indicatorTemplates'],_0x39a79f['ref']=_0x30bccd,_0x39a79f['onClick']=_0x26935f,_0x39a79f['onKeyDown']=_0x3e8f0c,_0x39a79f['hasMenu']=!![],_0x39a79f['isActive']=_0x3ae1b2,_0x39a79f['testId']=TEST_IDS['indicator_template_button'],_0x39a79f['disableTooltip']=_0x3ae1b2,_0x39a79f['label']=_0x5de9a6['toolbar']['a11y_buttons']['a11y_indicator_dropdown'];const _0x42c061={};_0x42c061['anchorRef']=_0x30bccd,_0x42c061['align']='start',_0x42c061['position']='bottom',_0x42c061['opened']=_0x3ae1b2,_0x42c061['onRequestClose']=_0x26935f,_0x42c061['keyboardMode']=_0x224e82;const _0x51ba46={};_0x51ba46['mode']='visible',_0x51ba46['style']=_0x5edff0;const _0x47a5fc={};_0x47a5fc['ariaLabel']=_0x5de9a6['toolbar']['a11y_buttons']['a11y_indicator_dropdown'],_0x47a5fc['ref']=_0x35cac0;const _0x3c8140={};_0x3c8140['input']=TEST_IDS['indicator_template_input'],_0x3c8140['inactiveText']=TEST_IDS['indicator_template_placeholder'];const _0x24bdd3={};return _0x24bdd3['error']=_0x219fac,_0x24bdd3['onClearError']=_0x272d6f,_0x24bdd3['keyboardModeEnabled']=_0x224e82,_0x24bdd3['inactiveText']=_0x5de9a6['indicatorTemplates']['saveIndicatorTemplate'],_0x24bdd3['isActive']=_0x589af2,_0x24bdd3['onActiveChange']=_0x459a13,_0x24bdd3['onEnter']=_0xfd4da2,_0x24bdd3['testIds']=_0x3c8140,_0x3cc428['createElement'](_0x3cc428['Fragment'],null,_0x3cc428['createElement'](ChartToolbarButtonWithTooltip,_0x39a79f),_0x3cc428['createElement'](ChartIndicatorTemplatesPopoverStyled,_0x42c061,_0x3cc428['createElement'](Scrollable,_0x51ba46,_0x3cc428['createElement'](DropdownMenu,_0x47a5fc,_0x2d7417['map']((_0xc7d010,_0x232f52)=>{const _0x505218={..._0x13bdeb},_0x3fc90a=option['fold'](()=>![],_0x16d94c=>_0xc7d010['id']===_0x16d94c)(_0x48b819),_0x765232=option['fold'](()=>![],_0x2571b6=>_0xc7d010['id']===_0x2571b6)(_0x38f720),_0x487123=_0x505218;return _0x487123['key']=_0x232f52,_0x487123['template']=_0xc7d010,_0x487123['index']=_0x232f52,_0x487123['isHovered']=_0x765232,_0x487123['isEditable']=_0x3fc90a,_0x487123['updateTemplate']=_0x143639,_0x487123['setEditableTemplateId']=_0x4d0f11,_0x487123['setMouseOverTemplateId']=_0x213d91,_0x3cc428['createElement'](IndicatorTemplateMenuItem,_0x487123);}),_0x3cc428['createElement'](ChartIndicatorCustomInputMenuItemStyled,_0x24bdd3)))));});const IndicatorTemplateMenuItem=memo(_0x439407=>{const {template:_0x1ea468,index:_0x1c47c0,localization:_0x5b2829,isEditable:_0x1b34f5,isHovered:_0x9ea10,deleteTemplate:_0x5747cf,selectTemplate:_0x1b8cba,updateTemplate:_0x1c1f44,setMouseOverTemplateId:_0x1e858e,setEditableTemplateId:_0x515401}=_0x439407,_0x4d6b7e=_0x1ea468['id'],_0x96207a=useContext(IconsOverridingContext),[_0x52b93d,_0x5861af]=useState(undefined),_0x4c3b31=useCallback(()=>_0x1b8cba(_0x4d6b7e),[_0x4d6b7e,_0x1b8cba]),_0x5c6d25=useCallback(()=>_0x515401(none),[_0x515401]),_0x393fa8=useCallback(_0x29e285=>pipe(_0x1c1f44(_0x4d6b7e,_0x29e285),either['fold'](_0x5861af,()=>{_0x5861af(undefined),_0x515401(none);})),[_0x515401,_0x4d6b7e,_0x1c1f44]),_0x3ed199=useCallback(_0x413d3f=>{_0x413d3f['stopPropagation'](),_0x413d3f['preventDefault'](),_0x515401(some(_0x4d6b7e));},[_0x515401,_0x4d6b7e]),_0x2b6359=useCallback(_0x1321a9=>{_0x1321a9['stopPropagation'](),_0x5747cf(_0x4d6b7e);},[_0x5747cf,_0x4d6b7e]),_0x5fc94a=useCallback(()=>_0x1e858e(some(_0x4d6b7e)),[_0x1e858e,_0x4d6b7e]),_0x11e6e5=useCallback(()=>_0x1e858e(none),[_0x1e858e]),_0x3286d4={};_0x3286d4['ctrlKey']=!![];const _0x4656b2=useMemo(()=>createKeyDownHandler(['Enter',_0x4c3b31],['Delete',_0x2b6359],['KeyE',_0x3ed199,_0x3286d4]),[_0x2b6359,_0x3ed199,_0x4c3b31]),_0x1a2d14=useCallback(()=>_0x5861af(undefined),[]),{keyboardModeEnabled:_0x45716b}=useContext(MultiChartComponentContext),_0x539aa8=_0x45716b?_0x5fc94a:constVoid,_0x549d58=_0x45716b?_0x11e6e5:constVoid;return _0x1b34f5?_0x3cc428['createElement'](CustomInputMenuItem,{'error':_0x52b93d,'onClearError':_0x1a2d14,'key':_0x1ea468['name']+'_'+_0x1ea468['id']+'_'+_0x1c47c0,'keyboardModeEnabled':_0x45716b,'onEnter':_0x393fa8,'defaultValue':_0x1ea468['name'],'isActive':_0x1b34f5,'onFocusOut':_0x5c6d25}):_0x3cc428['createElement'](ChartIndicatorTemplateMenuItemStyled,{'ariaDescribedBy':A11Y_INDICATOR_TEMPLATE_DESC_ID,'key':_0x1ea468['name']+'_'+_0x1ea468['id']+'_'+_0x1c47c0,'testId':TEST_IDS['indicator_template_menu_item'],'value':_0x1ea468['name'],'keyboardModeEnabled':_0x45716b,'onKeyDown':_0x4656b2,'onFocus':_0x539aa8,'onBlur':_0x549d58,'onMouseLeave':_0x11e6e5,'onMouseEnter':_0x5fc94a,'onSelect':_0x4c3b31},_0x3cc428['createElement'](ChartIndicatorTemplateMenuItemText,null,_0x1ea468['name']),_0x3cc428['createElement'](ChartIndicatorTemplateEditButton,{'visible':_0x9ea10,'aria-label':_0x5b2829['indicatorTemplates']['a11y_editIndicatorTemplate'],'aria-hidden':!![],'tabIndex':-0x1,'icon':_0x3cc428['createElement'](IconWrapper,null,_0x96207a['indicatorsTemplate']['edit']),'onClick':_0x3ed199}),_0x3cc428['createElement'](ChartIndicatorTemplateDeleteButton,{'visible':_0x9ea10,'aria-label':_0x5b2829['indicatorTemplates']['a11y_deleteIndicatorTemplate'],'aria-hidden':!![],'tabIndex':-0x1,'icon':_0x3cc428['createElement'](IconWrapper,null,_0x96207a['indicatorsTemplate']['delete']),'onClick':_0x2b6359}));});