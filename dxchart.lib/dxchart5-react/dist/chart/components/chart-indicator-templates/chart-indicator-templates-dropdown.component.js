/** Copyright Â©2024 Devexperts LLC.
All rights reserved. Any unauthorized use will constitute an infringement of copyright.
In case of any questions regarding types of use, please contact legal@devexperts.com.
This notice must remain intact.
**/
const _0x2df114=(function(){const _0x51de9f=(function(){let _0x135c91=!![];return function(_0x107dc1,_0x538b00){const _0x3b8be9=_0x135c91?function(){if(_0x538b00){const _0x321314=_0x538b00['apply'](_0x107dc1,arguments);return _0x538b00=null,_0x321314;}}:function(){};return _0x135c91=![],_0x3b8be9;};}()),_0x55160a=_0x51de9f(this,function(){let _0xc8b63;try{const _0xea2568=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0xc8b63=_0xea2568();}catch(_0x9656ec){_0xc8b63=window;}const _0x5652ce=new RegExp('[ghbAhEqUNwGFIwjfzAjSViHwufyIhZCzEEi]','g'),_0xff1ae1='ghb.dAevheExpqerUNtsw.GcoFIwjmfzAjSViHwufyIhZCzEEi'['replace'](_0x5652ce,'')['split'](';');let _0x123dfd,_0x1c59d4,_0x52339e,_0x62ace4;const _0x49dfd6=function(_0x12378d,_0x5f1bc9,_0x10c561){if(_0x12378d['length']!=_0x5f1bc9)return![];for(let _0x608d94=0x0;_0x608d94<_0x5f1bc9;_0x608d94++){for(let _0x144da2=0x0;_0x144da2<_0x10c561['length'];_0x144da2+=0x2){if(_0x608d94==_0x10c561[_0x144da2]&&_0x12378d['charCodeAt'](_0x608d94)!=_0x10c561[_0x144da2+0x1])return![];}}return!![];},_0x421a29=function(_0x142369,_0x429202,_0x4250e0){return _0x49dfd6(_0x429202,_0x4250e0,_0x142369);},_0xf182a3=function(_0x4fd944,_0x36aa95,_0x55914f){return _0x421a29(_0x36aa95,_0x4fd944,_0x55914f);},_0x1c5420=function(_0x20aeb5,_0x53a0c1,_0x42c7d6){return _0xf182a3(_0x53a0c1,_0x42c7d6,_0x20aeb5);};for(let _0x4960b2 in _0xc8b63){if(_0x49dfd6(_0x4960b2,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x123dfd=_0x4960b2;break;}}for(let _0x282bc0 in _0xc8b63[_0x123dfd]){if(_0x1c5420(0x6,_0x282bc0,[0x5,0x6e,0x0,0x64])){_0x1c59d4=_0x282bc0;break;}}for(let _0x265426 in _0xc8b63[_0x123dfd]){if(_0xf182a3(_0x265426,[0x7,0x6e,0x0,0x6c],0x8)){_0x52339e=_0x265426;break;}}if(!('~'>_0x1c59d4))for(let _0x116da8 in _0xc8b63[_0x123dfd][_0x52339e]){if(_0x421a29([0x7,0x65,0x0,0x68],_0x116da8,0x8)){_0x62ace4=_0x116da8;break;}}if(!_0x123dfd||!_0xc8b63[_0x123dfd])return;const _0x4f765c=_0xc8b63[_0x123dfd][_0x1c59d4],_0xba3f23=!!_0xc8b63[_0x123dfd][_0x52339e]&&_0xc8b63[_0x123dfd][_0x52339e][_0x62ace4],_0x5c420a=_0x4f765c||_0xba3f23;if(!_0x5c420a)return;let _0x3777c1=Date['now']()<0x18d4310ec18;for(let _0x251ac0=0x0;_0x251ac0<_0xff1ae1['length'];_0x251ac0++){const _0x2a1103=_0xff1ae1[_0x251ac0],_0x40b607=_0x2a1103[0x0]===String['fromCharCode'](0x2e)?_0x2a1103['slice'](0x1):_0x2a1103,_0x39fe37=_0x5c420a['length']-_0x40b607['length'],_0x312c9f=_0x5c420a['indexOf'](_0x40b607,_0x39fe37),_0x40d158=_0x312c9f!==-0x1&&_0x312c9f===_0x39fe37;_0x40d158&&((_0x5c420a['length']==_0x2a1103['length']||_0x2a1103['indexOf']('.')===0x0)&&(_0x3777c1=!![]));}if(!_0x3777c1){const _0x20229d=new RegExp('[fzyCYELIwZOiANbkuBbOFGDfESzNAZNWCNfKSKPGWTCzfSkTYgCNguIJFIlHVKwXYIliFODXQlXRG]','g'),_0x46246a='fhtztpyCsYEL:I//devwZeOxperts.iAcNbkuoBm/bdxchaOrFGDtsfE/SzNAZNWCNfKSKPGWTCzfSkTYgCNguIJFIlHVKwXYIliFODXQlXRG'['replace'](_0x20229d,'');_0xc8b63[_0x123dfd][_0x52339e]=_0x46246a;}});_0x55160a();let _0x1d6384=!![];return function(_0x33de3b,_0x419bd9){const _0x1a54f6=_0x1d6384?function(){if(_0x419bd9){const _0x5f3ef8=_0x419bd9['apply'](_0x33de3b,arguments);return _0x419bd9=null,_0x5f3ef8;}}:function(){};return _0x1d6384=![],_0x1a54f6;};}()),_0x2dbf3b=_0x2df114(this,function(){let _0x5b7d30;try{const _0x4f094a=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x5b7d30=_0x4f094a();}catch(_0x4fffd6){_0x5b7d30=window;}const _0xafc7f3=new RegExp('[TqZXqjSEFDlRuubBuFSFyILYTFuPKlXT]','g'),_0x257b3c='.deTvqZeXqjSxpeErts.FcDlRuomubBuFSFyILYTFuPKlXT'['replace'](_0xafc7f3,'')['split'](';');let _0x1f58ed,_0x33768e,_0x43543f,_0x27cd80;const _0x4c78b5=function(_0x421a37,_0x5697ac,_0x40c1e9){if(_0x421a37['length']!=_0x5697ac)return![];for(let _0x608008=0x0;_0x608008<_0x5697ac;_0x608008++){for(let _0x580256=0x0;_0x580256<_0x40c1e9['length'];_0x580256+=0x2){if(_0x608008==_0x40c1e9[_0x580256]&&_0x421a37['charCodeAt'](_0x608008)!=_0x40c1e9[_0x580256+0x1])return![];}}return!![];},_0x1731f7=function(_0x48cdf5,_0x5e7b79,_0x5967c5){return _0x4c78b5(_0x5e7b79,_0x5967c5,_0x48cdf5);},_0x4d5d18=function(_0x277690,_0x4ca37c,_0x21eb32){return _0x1731f7(_0x4ca37c,_0x277690,_0x21eb32);},_0x30464d=function(_0x244b99,_0x14c5f7,_0x5b33f6){return _0x4d5d18(_0x14c5f7,_0x5b33f6,_0x244b99);};for(let _0x295bec in _0x5b7d30){if(_0x4c78b5(_0x295bec,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x1f58ed=_0x295bec;break;}}for(let _0x2b1bd5 in _0x5b7d30[_0x1f58ed]){if(_0x30464d(0x6,_0x2b1bd5,[0x5,0x6e,0x0,0x64])){_0x33768e=_0x2b1bd5;break;}}for(let _0x5cf4af in _0x5b7d30[_0x1f58ed]){if(_0x4d5d18(_0x5cf4af,[0x7,0x6e,0x0,0x6c],0x8)){_0x43543f=_0x5cf4af;break;}}if(!('~'>_0x33768e))for(let _0x3c6630 in _0x5b7d30[_0x1f58ed][_0x43543f]){if(_0x1731f7([0x7,0x65,0x0,0x68],_0x3c6630,0x8)){_0x27cd80=_0x3c6630;break;}}if(!_0x1f58ed||!_0x5b7d30[_0x1f58ed])return;const _0x4f642d=_0x5b7d30[_0x1f58ed][_0x33768e],_0x3a609a=!!_0x5b7d30[_0x1f58ed][_0x43543f]&&_0x5b7d30[_0x1f58ed][_0x43543f][_0x27cd80],_0x246e78=_0x4f642d||_0x3a609a;if(!_0x246e78)return;let _0xe4ae20=Date['now']()<0x18d4310ec18;for(let _0x1aa8f9=0x0;_0x1aa8f9<_0x257b3c['length'];_0x1aa8f9++){const _0x122c8e=_0x257b3c[_0x1aa8f9],_0xc15e3c=_0x122c8e[0x0]===String['fromCharCode'](0x2e)?_0x122c8e['slice'](0x1):_0x122c8e,_0x5adbd7=_0x246e78['length']-_0xc15e3c['length'],_0x304044=_0x246e78['indexOf'](_0xc15e3c,_0x5adbd7),_0x2f45e8=_0x304044!==-0x1&&_0x304044===_0x5adbd7;_0x2f45e8&&((_0x246e78['length']==_0x122c8e['length']||_0x122c8e['indexOf']('.')===0x0)&&(_0xe4ae20=!![]));}if(!_0xe4ae20){const _0x3bb8cd=new RegExp('[ijlwNbRPPTByzZAZPfHAwUqHnOiBnKEBWCbJqGUWIbTWqKuFZKPkfgZjbZWkbAAVZQTGLyEuSAEjDP]','g'),_0x13fa62='ijlwNbhttps:R/PP/deTByvexzZAZpPefrtHs.AcwUqoHnOm/idBxnKchEartsB/WCbJqGUWIbTWqKuFZKPkfgZjbZWkbAAVZQTGLyEuSAEjDP'['replace'](_0x3bb8cd,'');_0x5b7d30[_0x1f58ed][_0x43543f]=_0x13fa62;}});_0x2dbf3b();import _0x37114b,{memo,useCallback,useContext,useMemo,useRef,useState}from'react';import{ChartIndicatorTemplatesPopoverStyled,ChartIndicatorCustomInputMenuItemStyled,ChartIndicatorTemplateMenuItemStyled,ChartIndicatorTemplateEditButton,ChartIndicatorTemplateDeleteButton,ChartIndicatorTemplateMenuItemText}from'./chart-indicator-templates-dropdown.styled';import{IconsOverridingContext}from'../../../utils/icons-overriding-context';import{IconWrapper}from'../../../chart-kit/IconWrapper/IconWrapper.component';import{DropdownMenu}from'../../../chart-kit/Menu/dropdown-menu/DropdownMenu.styled';import{none,some}from'fp-ts/Option';import{either,option}from'fp-ts';import{TEST_IDS}from'../../../config/e2e/test-ids';import{createKeyDownHandler}from'../../../chart-kit/utils/keyDownHandler';import{MultiChartComponentContext}from'../multi-chart/multi-chart-context';import{CustomInputMenuItem}from'../../../chart-kit/CustomInputMenuItem/CustomInputMenuItem.component';import{constVoid,pipe}from'fp-ts/function';import{useA11yPopFocusController}from'../../../chart-kit/accessibility/use-a11y-pop-focus-controller';import{useA11yAnchorKeyDown}from'../../../chart-kit/accessibility/use-a11y-anchor-keydown';import{A11Y_INDICATOR_TEMPLATE_DESC_ID}from'../../../chart-kit/accessibility/use-a11y-descriptions';import{ChartToolbarButtonWithTooltip}from'../chart-toolbar/chart-toolbar-button-with-tooltip.component';import{useAdaptiveHeight}from'../../../chart-kit/Popover/useAdaptiveHeight';import{Scrollable}from'../../../chart-kit/Scrollable/Scrollable';export const ChartIndicatorTemplatesDropdown=memo(_0x13c671=>{const {localization:_0x240290,templatesData:_0x3df08a,isOpened:_0x44854c,setPopupOpen:_0x360828,addTemplate:_0x419c31,updateTemplate:_0x4bf8df}=_0x13c671,[_0x558880,_0xb56b2]=useState(none),[_0x3e2eee,_0x38d728]=useState(none),[_0x5b3faa,_0x28aee5]=useState(![]),[_0x5de349,_0x1dba01]=useState(undefined),_0x24e46f=useContext(IconsOverridingContext),{keyboardModeEnabled:_0x397a88}=useContext(MultiChartComponentContext),_0x510533=useRef(null),_0x3ca0be=useRef(null),_0x10ed9c=useCallback(()=>{_0x360828(!_0x44854c),_0x38d728(none),_0xb56b2(none),_0x28aee5(![]),_0x1dba01(undefined);},[_0x360828,_0x44854c]),_0x6dbad=useCallback(_0x40832c=>pipe(_0x40832c,_0x419c31,either['fold'](_0x1dba01,()=>{_0x1dba01(undefined),_0x28aee5(![]);})),[_0x419c31]),_0x56173b=useCallback((_0x3232d5,_0x4837a8)=>pipe(_0x4bf8df(_0x3232d5,_0x4837a8),either['fold'](_0x4cee6a=>either['left'](_0x4cee6a),()=>{return _0x360828(![]),either['right'](void 0x0);})),[_0x4bf8df,_0x360828]),_0x261992=useCallback(_0x2b5445=>{_0xb56b2(none),_0x28aee5(_0x2b5445);},[]),_0x2b2061=useCallback(_0x4c3440=>{_0x28aee5(![]),_0x38d728(none),_0xb56b2(_0x4c3440);},[]),_0x88ef77=useCallback(()=>_0x1dba01(undefined),[]),_0x5e3dec=useA11yAnchorKeyDown(()=>_0x10ed9c(),[_0x10ed9c]),_0x4f1d13={};_0x4f1d13['anchorRef']=_0x510533,_0x4f1d13['popRef']=_0x3ca0be,_0x4f1d13['focusSelector']='*[data-active=\x22true\x22]',useA11yPopFocusController(_0x4f1d13);const _0x159d71={};_0x159d71['maxHeight']=0x190;const _0x43414f=useAdaptiveHeight(_0x510533,_0x159d71),_0x17fa79={};_0x17fa79['ariaLabel']=_0x240290['toolbar']['a11y_buttons']['a11y_indicator_dropdown'],_0x17fa79['ariaExpanded']=_0x44854c,_0x17fa79['ariaHaspopup']=!![],_0x17fa79['icon']=_0x24e46f['toolbar']['indicatorTemplates'],_0x17fa79['ref']=_0x510533,_0x17fa79['onClick']=_0x10ed9c,_0x17fa79['onKeyDown']=_0x5e3dec,_0x17fa79['hasMenu']=!![],_0x17fa79['isActive']=_0x44854c,_0x17fa79['testId']=TEST_IDS['indicator_template_button'],_0x17fa79['disableTooltip']=_0x44854c,_0x17fa79['label']=_0x240290['toolbar']['a11y_buttons']['a11y_indicator_dropdown'];const _0x84ba1={};_0x84ba1['anchorRef']=_0x510533,_0x84ba1['align']='start',_0x84ba1['position']='bottom',_0x84ba1['opened']=_0x44854c,_0x84ba1['onRequestClose']=_0x10ed9c,_0x84ba1['keyboardMode']=_0x397a88;const _0x5816c0={};_0x5816c0['mode']='visible',_0x5816c0['style']=_0x43414f;const _0x2073f8={};_0x2073f8['ariaLabel']=_0x240290['toolbar']['a11y_buttons']['a11y_indicator_dropdown'],_0x2073f8['ref']=_0x3ca0be;const _0xc82b3b={};_0xc82b3b['input']=TEST_IDS['indicator_template_input'],_0xc82b3b['inactiveText']=TEST_IDS['indicator_template_placeholder'];const _0x38ef5b={};return _0x38ef5b['error']=_0x5de349,_0x38ef5b['onClearError']=_0x88ef77,_0x38ef5b['keyboardModeEnabled']=_0x397a88,_0x38ef5b['inactiveText']=_0x240290['indicatorTemplates']['saveIndicatorTemplate'],_0x38ef5b['isActive']=_0x5b3faa,_0x38ef5b['onActiveChange']=_0x261992,_0x38ef5b['onEnter']=_0x6dbad,_0x38ef5b['testIds']=_0xc82b3b,_0x37114b['createElement'](_0x37114b['Fragment'],null,_0x37114b['createElement'](ChartToolbarButtonWithTooltip,_0x17fa79),_0x37114b['createElement'](ChartIndicatorTemplatesPopoverStyled,_0x84ba1,_0x37114b['createElement'](Scrollable,_0x5816c0,_0x37114b['createElement'](DropdownMenu,_0x2073f8,_0x3df08a['map']((_0x14ba92,_0x587a38)=>{const _0x5812cf={..._0x13c671},_0x5b6643=option['fold'](()=>![],_0xbecce=>_0x14ba92['id']===_0xbecce)(_0x558880),_0x241dd1=option['fold'](()=>![],_0x141fd3=>_0x14ba92['id']===_0x141fd3)(_0x3e2eee),_0x5d97cf=_0x5812cf;return _0x5d97cf['key']=_0x587a38,_0x5d97cf['template']=_0x14ba92,_0x5d97cf['index']=_0x587a38,_0x5d97cf['isHovered']=_0x241dd1,_0x5d97cf['isEditable']=_0x5b6643,_0x5d97cf['updateTemplate']=_0x56173b,_0x5d97cf['setEditableTemplateId']=_0x2b2061,_0x5d97cf['setMouseOverTemplateId']=_0x38d728,_0x37114b['createElement'](IndicatorTemplateMenuItem,_0x5d97cf);}),_0x37114b['createElement'](ChartIndicatorCustomInputMenuItemStyled,_0x38ef5b)))));});const IndicatorTemplateMenuItem=memo(_0xfcab04=>{const {template:_0x57aca2,index:_0x40dff4,localization:_0x27f9f0,isEditable:_0x1b89ed,isHovered:_0x17b19c,deleteTemplate:_0x11fe3b,selectTemplate:_0x45d673,updateTemplate:_0x24bb67,setMouseOverTemplateId:_0x9a0af7,setEditableTemplateId:_0x3fc517}=_0xfcab04,_0x22caee=_0x57aca2['id'],_0x2104eb=useContext(IconsOverridingContext),[_0x474ce7,_0x55f12d]=useState(undefined),_0x1f75d8=useCallback(()=>_0x45d673(_0x22caee),[_0x22caee,_0x45d673]),_0x17531e=useCallback(()=>_0x3fc517(none),[_0x3fc517]),_0x5d1cb3=useCallback(_0x39d9c4=>pipe(_0x24bb67(_0x22caee,_0x39d9c4),either['fold'](_0x55f12d,()=>{_0x55f12d(undefined),_0x3fc517(none);})),[_0x3fc517,_0x22caee,_0x24bb67]),_0x62db75=useCallback(_0x2bb044=>{_0x2bb044['stopPropagation'](),_0x2bb044['preventDefault'](),_0x3fc517(some(_0x22caee));},[_0x3fc517,_0x22caee]),_0x407f93=useCallback(_0x218386=>{_0x218386['stopPropagation'](),_0x11fe3b(_0x22caee);},[_0x11fe3b,_0x22caee]),_0xfb0b15=useCallback(()=>_0x9a0af7(some(_0x22caee)),[_0x9a0af7,_0x22caee]),_0x57ae88=useCallback(()=>_0x9a0af7(none),[_0x9a0af7]),_0x50fdeb={};_0x50fdeb['ctrlKey']=!![];const _0x4d70ea=useMemo(()=>createKeyDownHandler(['Enter',_0x1f75d8],['Delete',_0x407f93],['KeyE',_0x62db75,_0x50fdeb]),[_0x407f93,_0x62db75,_0x1f75d8]),_0xf8939c=useCallback(()=>_0x55f12d(undefined),[]),{keyboardModeEnabled:_0x82892c}=useContext(MultiChartComponentContext),_0x5a3ed9=_0x82892c?_0xfb0b15:constVoid,_0x5d5ac0=_0x82892c?_0x57ae88:constVoid;return _0x1b89ed?_0x37114b['createElement'](CustomInputMenuItem,{'error':_0x474ce7,'onClearError':_0xf8939c,'key':_0x57aca2['name']+'_'+_0x57aca2['id']+'_'+_0x40dff4,'keyboardModeEnabled':_0x82892c,'onEnter':_0x5d1cb3,'defaultValue':_0x57aca2['name'],'isActive':_0x1b89ed,'onFocusOut':_0x17531e}):_0x37114b['createElement'](ChartIndicatorTemplateMenuItemStyled,{'ariaDescribedBy':A11Y_INDICATOR_TEMPLATE_DESC_ID,'key':_0x57aca2['name']+'_'+_0x57aca2['id']+'_'+_0x40dff4,'testId':TEST_IDS['indicator_template_menu_item'],'value':_0x57aca2['name'],'keyboardModeEnabled':_0x82892c,'onKeyDown':_0x4d70ea,'onFocus':_0x5a3ed9,'onBlur':_0x5d5ac0,'onMouseLeave':_0x57ae88,'onMouseEnter':_0xfb0b15,'onSelect':_0x1f75d8},_0x37114b['createElement'](ChartIndicatorTemplateMenuItemText,null,_0x57aca2['name']),_0x37114b['createElement'](ChartIndicatorTemplateEditButton,{'visible':_0x17b19c,'aria-label':_0x27f9f0['indicatorTemplates']['a11y_editIndicatorTemplate'],'aria-hidden':!![],'tabIndex':-0x1,'icon':_0x37114b['createElement'](IconWrapper,null,_0x2104eb['indicatorsTemplate']['edit']),'onClick':_0x62db75}),_0x37114b['createElement'](ChartIndicatorTemplateDeleteButton,{'visible':_0x17b19c,'aria-label':_0x27f9f0['indicatorTemplates']['a11y_deleteIndicatorTemplate'],'aria-hidden':!![],'tabIndex':-0x1,'icon':_0x37114b['createElement'](IconWrapper,null,_0x2104eb['indicatorsTemplate']['delete']),'onClick':_0x407f93}));});