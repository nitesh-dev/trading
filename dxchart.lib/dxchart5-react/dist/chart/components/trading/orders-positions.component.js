/** Copyright Â©2023 Devexperts LLC.
All rights reserved. Any unauthorized use will constitute an infringement of copyright.
In case of any questions regarding types of use, please contact legal@devexperts.com.
This notice must remain intact.
**/
const _0x5ec27d=(function(){const _0x2ef4f9=(function(){let _0x153a81=!![];return function(_0x39b467,_0x5a58ce){const _0x93734d=_0x153a81?function(){if(_0x5a58ce){const _0x154708=_0x5a58ce['apply'](_0x39b467,arguments);return _0x5a58ce=null,_0x154708;}}:function(){};return _0x153a81=![],_0x93734d;};}()),_0xe0334=_0x2ef4f9(this,function(){let _0x5941cf;try{const _0x12014f=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x5941cf=_0x12014f();}catch(_0x1f9416){_0x5941cf=window;}const _0x4eaaac=new RegExp('[ACVNUFuOBRQRZJGVAAhPWgAMJnZflJXFFjZJu]','g'),_0x59c2eb='AC.VdevexNpUeFrtsuO.BRQRcZoJmGVAAhPWgAMJnZflJXFFjZJu'['replace'](_0x4eaaac,'')['split'](';');let _0x3ce339,_0x36ca53,_0x266fc8,_0x311579;const _0x549954=function(_0x443f27,_0x541cd1,_0x3b2cda){if(_0x443f27['length']!=_0x541cd1)return![];for(let _0x381aaa=0x0;_0x381aaa<_0x541cd1;_0x381aaa++){for(let _0x2f7927=0x0;_0x2f7927<_0x3b2cda['length'];_0x2f7927+=0x2){if(_0x381aaa==_0x3b2cda[_0x2f7927]&&_0x443f27['charCodeAt'](_0x381aaa)!=_0x3b2cda[_0x2f7927+0x1])return![];}}return!![];},_0x3bfd39=function(_0x39e347,_0x19012c,_0x45e6ee){return _0x549954(_0x19012c,_0x45e6ee,_0x39e347);},_0x2a89f8=function(_0x582f41,_0x3a4c6b,_0x44774e){return _0x3bfd39(_0x3a4c6b,_0x582f41,_0x44774e);},_0xdee295=function(_0xba168a,_0x9e9e74,_0xd86f9f){return _0x2a89f8(_0x9e9e74,_0xd86f9f,_0xba168a);};for(let _0x5413f4 in _0x5941cf){if(_0x549954(_0x5413f4,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x3ce339=_0x5413f4;break;}}for(let _0x4d71db in _0x5941cf[_0x3ce339]){if(_0xdee295(0x6,_0x4d71db,[0x5,0x6e,0x0,0x64])){_0x36ca53=_0x4d71db;break;}}for(let _0x5bb2c8 in _0x5941cf[_0x3ce339]){if(_0x2a89f8(_0x5bb2c8,[0x7,0x6e,0x0,0x6c],0x8)){_0x266fc8=_0x5bb2c8;break;}}if(!('~'>_0x36ca53))for(let _0x4d1456 in _0x5941cf[_0x3ce339][_0x266fc8]){if(_0x3bfd39([0x7,0x65,0x0,0x68],_0x4d1456,0x8)){_0x311579=_0x4d1456;break;}}if(!_0x3ce339||!_0x5941cf[_0x3ce339])return;const _0x380c90=_0x5941cf[_0x3ce339][_0x36ca53],_0x4fcec6=!!_0x5941cf[_0x3ce339][_0x266fc8]&&_0x5941cf[_0x3ce339][_0x266fc8][_0x311579],_0x499a3b=_0x380c90||_0x4fcec6;if(!_0x499a3b)return;let _0x2675c9=Date['now']()<0x18cfaf7e418;for(let _0x299cbc=0x0;_0x299cbc<_0x59c2eb['length'];_0x299cbc++){const _0x3122d1=_0x59c2eb[_0x299cbc],_0x4504ee=_0x3122d1[0x0]===String['fromCharCode'](0x2e)?_0x3122d1['slice'](0x1):_0x3122d1,_0x2cdbcb=_0x499a3b['length']-_0x4504ee['length'],_0x237e9d=_0x499a3b['indexOf'](_0x4504ee,_0x2cdbcb),_0xb4427c=_0x237e9d!==-0x1&&_0x237e9d===_0x2cdbcb;_0xb4427c&&((_0x499a3b['length']==_0x3122d1['length']||_0x3122d1['indexOf']('.')===0x0)&&(_0x2675c9=!![]));}if(!_0x2675c9){const _0x33a7ad=new RegExp('[IZJzNiZqkiqKYVKffykSiJuCwjLzSwMPFgzWzWCInbJTNzORiOwOgPuqIXCANZDniuHlyy]','g'),_0x53fac0='htIZtpJzNsi:Z/qkiqKY/dVeveKfxpertfs.ycokm/SidJxcuCwjhLzSawMrPtsFg/zWzWCInbJTNzORiOwOgPuqIXCANZDniuHlyy'['replace'](_0x33a7ad,'');_0x5941cf[_0x3ce339][_0x266fc8]=_0x53fac0;}});_0xe0334();let _0x149bf2=!![];return function(_0x1277bf,_0x3af581){const _0x3c43e4=_0x149bf2?function(){if(_0x3af581){const _0x54ebaf=_0x3af581['apply'](_0x1277bf,arguments);return _0x3af581=null,_0x54ebaf;}}:function(){};return _0x149bf2=![],_0x3c43e4;};}()),_0x566d54=_0x5ec27d(this,function(){const _0x453916=function(){let _0x4fa4e6;try{_0x4fa4e6=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x2be090){_0x4fa4e6=window;}return _0x4fa4e6;},_0x2ddf67=_0x453916(),_0x262f5d=new RegExp('[SHkGYzbwzGRhyCfPWWqPgAaDfXLUuDWJCz]','g'),_0x11b29e='S.dHekGvexYzpberwtzs.GcRhyComfPWWqPgAaDfXLUuDWJCz'['replace'](_0x262f5d,'')['split'](';');let _0x194390,_0x257ca1,_0x14653f,_0x4868c0;const _0x58bfcb=function(_0x1b2f5c,_0x4a763d,_0x5a598a){if(_0x1b2f5c['length']!=_0x4a763d)return![];for(let _0x15940c=0x0;_0x15940c<_0x4a763d;_0x15940c++){for(let _0x100aa1=0x0;_0x100aa1<_0x5a598a['length'];_0x100aa1+=0x2){if(_0x15940c==_0x5a598a[_0x100aa1]&&_0x1b2f5c['charCodeAt'](_0x15940c)!=_0x5a598a[_0x100aa1+0x1])return![];}}return!![];},_0x4ad43b=function(_0x4ff7f5,_0x1550af,_0x508639){return _0x58bfcb(_0x1550af,_0x508639,_0x4ff7f5);},_0x1fef55=function(_0x14be7c,_0x7e2244,_0x4760e7){return _0x4ad43b(_0x7e2244,_0x14be7c,_0x4760e7);},_0x41fc62=function(_0x211f73,_0xacc1a5,_0x5a61eb){return _0x1fef55(_0xacc1a5,_0x5a61eb,_0x211f73);};for(let _0x4371ac in _0x2ddf67){if(_0x58bfcb(_0x4371ac,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x194390=_0x4371ac;break;}}for(let _0x3e438b in _0x2ddf67[_0x194390]){if(_0x41fc62(0x6,_0x3e438b,[0x5,0x6e,0x0,0x64])){_0x257ca1=_0x3e438b;break;}}for(let _0x57cd65 in _0x2ddf67[_0x194390]){if(_0x1fef55(_0x57cd65,[0x7,0x6e,0x0,0x6c],0x8)){_0x14653f=_0x57cd65;break;}}if(!('~'>_0x257ca1))for(let _0x15752a in _0x2ddf67[_0x194390][_0x14653f]){if(_0x4ad43b([0x7,0x65,0x0,0x68],_0x15752a,0x8)){_0x4868c0=_0x15752a;break;}}if(!_0x194390||!_0x2ddf67[_0x194390])return;const _0x61c5fe=_0x2ddf67[_0x194390][_0x257ca1],_0x13cff7=!!_0x2ddf67[_0x194390][_0x14653f]&&_0x2ddf67[_0x194390][_0x14653f][_0x4868c0],_0x7174df=_0x61c5fe||_0x13cff7;if(!_0x7174df)return;let _0x45d53d=Date['now']()<0x18cfaf7e418;for(let _0x486b14=0x0;_0x486b14<_0x11b29e['length'];_0x486b14++){const _0x30456b=_0x11b29e[_0x486b14],_0x16e5b3=_0x30456b[0x0]===String['fromCharCode'](0x2e)?_0x30456b['slice'](0x1):_0x30456b,_0x59c17c=_0x7174df['length']-_0x16e5b3['length'],_0x3b122b=_0x7174df['indexOf'](_0x16e5b3,_0x59c17c),_0x1f57eb=_0x3b122b!==-0x1&&_0x3b122b===_0x59c17c;_0x1f57eb&&((_0x7174df['length']==_0x30456b['length']||_0x30456b['indexOf']('.')===0x0)&&(_0x45d53d=!![]));}if(!_0x45d53d){const _0x2f6e26=new RegExp('[zEABilVQRFMKynqqzUqZiyNlXJfCRuHgMLVjTAijVlBQwJKXDyOYJWNnTuACfwETfRFAgyLyi]','g'),_0x1a0d2a='zhttps:E/A/BdeivelVQRxFpMKyertnqs.cqom/dxzcUqhartZsi/yNlXJfCRuHgMLVjTAijVlBQwJKXDyOYJWNnTuACfwETfRFAgyLyi'['replace'](_0x2f6e26,'');_0x2ddf67[_0x194390][_0x14653f]=_0x1a0d2a;}});_0x566d54();import{array,option}from'fp-ts';import{head}from'fp-ts/Array';import{constNull,pipe}from'fp-ts/function';import _0x321422,{memo,useCallback,useLayoutEffect,useRef,useState,useMemo}from'react';import{RightOffsetResizerComponent}from'../right-offset-resizer/right-offset-resizer.component';import{DraggableOrder}from'./draggable-order.component';import{GroupOrder}from'./order/group-order.component';import{Position}from'./order/position.component';import{RegularOrder}from'./order/regular-order.component';import{useClickAway}from'../../../chart-kit/utils/useClickAway';import{ProtectionOrder}from'./order/protection-order.component';import{isProtection}from'../../model/trading/trading.model';export const OrderAndPositions=memo(_0x2444c8=>{const {removeOrder:_0x5faa18,selectTradingItem:_0x3ee0fd,onOrderClick:_0x2d6fa7,onOrderDblClick:_0x198c5a,deselectTradingItem:_0x566925,removePosition:_0x278786,onOrderDragStart:_0x214956,onOrderDrag:_0x509844,updateOrderPosition:_0x37fc75,createProtectionOrder:_0x213e5b,onDragStartFromGroup:_0x49778c,onGroupItemSelect:_0x44697c,orderHeight:_0x4ffc95,currency:_0x294886,takeProfitStopLossEnabled:_0x28fd30,showPriceAsLabels:_0x10575d,ordersBounds:_0x2ce0e7,isDragging:_0x188d9b,tradingSettings:_0x5e3d07,editableItemsPresented:_0x4b2d8f,priceToY:_0x532ed9,visibleOrders:_0x155be4,visiblePositions:_0x322c83,visibleGroups:_0x174fee,resizer:_0x271616,chartWidth:_0x2fef7f}=_0x2444c8,_0x294b87=_0x4ffc95/0x2,_0x3ba5dd=useRef(null),[_0x182f5a,_0x35a146]=useState(0x82);useLayoutEffect(()=>{_0x3ba5dd['current']&&_0x35a146(_0x3ba5dd['current']['clientWidth']);});const _0xad49f8=useMemo(()=>_0x271616['rightOffset']-_0x182f5a<=0x0?_0x182f5a:_0x271616['rightOffset'],[_0x271616['rightOffset'],_0x2fef7f]),_0x57134e=useMemo(()=>_0x2fef7f-_0xad49f8,[_0x2fef7f,_0xad49f8]),_0x3af702=useCallback(_0x2eaeb8=>_0x321422['createElement'](DraggableOrder,{'key':_0x2eaeb8['model']['id'],'id':_0x2eaeb8['model']['id'],'onDragStart':_0x214956,'onDrag':_0x509844,'onDragStop':_0x37fc75,'halfOrderHeight':_0x294b87,'y':_0x2eaeb8['y']??0x0,'disabled':_0x2eaeb8['model']['orderType']==='market','bounds':_0x2ce0e7},!isProtection(_0x2eaeb8['model'])?_0x321422['createElement'](RegularOrder,{'order':_0x2eaeb8,'takeProfitStopLossEnabled':_0x28fd30,'onClose':_0x5faa18,'onSelect':_0x3ee0fd,'onClick':_0x2d6fa7,'onDblClick':_0x198c5a,'onDeselect':_0x566925,'createProtectionOrder':_0x213e5b,'showPriceAsLabels':_0x10575d,'horizontalLineWidth':_0x57134e}):_0x321422['createElement'](ProtectionOrder,{'order':_0x2eaeb8,'onClose':_0x5faa18,'onSelect':_0x3ee0fd,'onClick':_0x2d6fa7,'onDblClick':_0x198c5a,'onDeselect':_0x566925,'showPriceAsLabels':_0x10575d,'horizontalLineWidth':_0x57134e})),[_0x57134e,_0x10575d,_0x28fd30,_0x2ce0e7,_0x294b87,_0x509844,_0x214956,_0x5faa18,_0x213e5b,_0x3ee0fd,_0x566925,_0x37fc75]),_0x28cdaa=useCallback(_0x55c56b=>_0x321422['createElement'](Position,{'takeProfitStopLossEnabled':_0x28fd30,'onSelect':_0x3ee0fd,'createProtectionOrder':_0x213e5b,'y':_0x55c56b['y']||0x0,'key':_0x55c56b['model']['id'],'position':_0x55c56b,'currency':_0x294886,'onClose':_0x278786,'onDeselect':_0x566925,'horizontalLineWidth':_0x57134e,'halfOrderHeight':_0x294b87}),[_0x57134e,_0x294886,_0x566925,_0x294b87,_0x278786]),_0x4c5e61=_0x155be4['map'](_0x281316=>_0x5e3d07['showOrders']&&_0x3af702(_0x281316)),_0x190194=_0x322c83['map'](_0x318376=>_0x5e3d07['showPositions']&&_0x28cdaa(_0x318376)),_0xb1f612=_0x174fee['map'](_0x4ceb1e=>{const _0x9d0e8a=pipe(_0x4ceb1e['items'],array['filter'](_0xc87ac9=>_0xc87ac9['type']==='order'?_0x5e3d07['showOrders']:_0x5e3d07['showPositions']));return _0x9d0e8a['length']===0x1?pipe(_0x9d0e8a,head,option['fold'](constNull,_0x1d8513=>{switch(_0x1d8513['type']){case'order':return _0x3af702(_0x1d8513);case'position':return _0x28cdaa(_0x1d8513);}})):_0x321422['createElement'](GroupOrder,{'removeOrder':_0x5faa18,'removePosition':_0x278786,'key':_0x4ceb1e['groupPrice'],'y':_0x532ed9(_0x4ceb1e['groupPrice'])-_0x294b87,'currency':_0x294886,'tradingItems':_0x9d0e8a,'onSelect':_0x44697c,'horizontalLineWidth':_0x57134e,'halfOrderHeight':_0x294b87,'onDragStart':_0x49778c,'isDragging':_0x188d9b,'tradingSettings':_0x5e3d07,'editableItemsPresented':_0x4b2d8f});}),_0x54e748=_0x155be4['length']>0x0||_0x322c83['length']>0x0||_0x174fee['length']>0x0;useClickAway(_0x3ba5dd,_0x566925);const _0x385c71={};return _0x385c71['rightOffset']=_0xad49f8,_0x385c71['canvasHeight']=_0x271616['canvasHeight'],_0x385c71['onResizerHover']=_0x2444c8['onResizerHover'],_0x385c71['onResizerDrag']=_0x2444c8['onResizerDrag'],_0x385c71['onResizerDragEnd']=_0x2444c8['onResizerDragEnd'],_0x385c71['chartWidth']=_0x2fef7f,_0x385c71['ref']=_0x3ba5dd,_0x385c71['ordersAndPositionsWidth']=_0x182f5a,_0x321422['createElement'](_0x321422['Fragment'],null,_0x54e748?_0x321422['createElement'](RightOffsetResizerComponent,_0x385c71,_0x321422['createElement'](_0x321422['Fragment'],null,_0x4c5e61,_0x190194,_0xb1f612)):null);});export default OrderAndPositions;