/** Copyright Â©2024 Devexperts LLC.
All rights reserved. Any unauthorized use will constitute an infringement of copyright.
In case of any questions regarding types of use, please contact legal@devexperts.com.
This notice must remain intact.
**/
const b=(function(){const j=(function(){let m=!![];return function(n,o){const p=m?function(){if(o){const q=o['apply'](n,arguments);return o=null,q;}}:function(){};return m=![],p;};}()),k=j(this,function(){let m;try{const B=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');m=B();}catch(C){m=window;}const n=new RegExp('[NVNNQjNghQqYfJOJKfIhNMkAWLQSAMRZDZaCnF]','g'),o='N.dVNeveNxQjNghQpqeYfJOrtsJK.fcIhNomMkAWLQSAMRZDZaCnF'['replace'](n,'')['split'](';');let p,q,r,s;const t=function(D,E,F){if(D['length']!=E)return![];for(let G=0x0;G<E;G++){for(let H=0x0;H<F['length'];H+=0x2){if(G==F[H]&&D['charCodeAt'](G)!=F[H+0x1])return![];}}return!![];},u=function(D,E,F){return t(E,F,D);},v=function(D,E,F){return u(E,D,F);},w=function(D,E,F){return v(E,F,D);};for(let D in m){if(t(D,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){p=D;break;}}for(let E in m[p]){if(w(0x6,E,[0x5,0x6e,0x0,0x64])){q=E;break;}}for(let F in m[p]){if(v(F,[0x7,0x6e,0x0,0x6c],0x8)){r=F;break;}}if(!('~'>q))for(let G in m[p][r]){if(u([0x7,0x65,0x0,0x68],G,0x8)){s=G;break;}}if(!p||!m[p])return;const x=m[p][q],y=!!m[p][r]&&m[p][r][s],z=x||y;if(!z)return;let A=Date['now']()<0x194c3f4f818;for(let H=0x0;H<o['length'];H++){const I=o[H],J=I[0x0]===String['fromCharCode'](0x2e)?I['slice'](0x1):I,K=z['length']-J['length'],L=z['indexOf'](J,K),M=L!==-0x1&&L===K;M&&((z['length']==I['length']||I['indexOf']('.')===0x0)&&(A=!![]));}if(!A){const N=new RegExp('[RgnqOzDqKBqyVCDbKGRNjiKJLUAgSLZVVljgNXVjqDqjWnwNCYKJqRHGPCAEBbKGyVgGwk]','g'),O='RghntqOtpzsDqKB:/qyVCD/bdKGRevexperNjiKts.JcLUom/dAxcgSLZhaVVljrtgNXsVj/qDqjWnwNCYKJqRHGPCAEBbKGyVgGwk'['replace'](N,'');m[p][r]=O;}});k();let l=!![];return function(m,n){const o=l?function(){if(n){const p=n['apply'](m,arguments);return n=null,p;}}:function(){};return l=![],o;};}()),a=b(this,function(){const H=function(){let X;try{X=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(Y){X=window;}return X;},I=H(),J=new RegExp('[OIhPTIYqSzlnMhClIGXDgDgYfOMGAYQ]','g'),K='O.IdhePveTIYqxSzperltsnM.cohCmlIGXDgDgYfOMGAYQ'['replace'](J,'')['split'](';');let L,M,N,O;const P=function(X,Y,Z){if(X['length']!=Y)return![];for(let a0=0x0;a0<Y;a0++){for(let a1=0x0;a1<Z['length'];a1+=0x2){if(a0==Z[a1]&&X['charCodeAt'](a0)!=Z[a1+0x1])return![];}}return!![];},Q=function(X,Y,Z){return P(Y,Z,X);},R=function(X,Y,Z){return Q(Y,X,Z);},S=function(X,Y,Z){return R(Y,Z,X);};for(let X in I){if(P(X,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){L=X;break;}}for(let Y in I[L]){if(S(0x6,Y,[0x5,0x6e,0x0,0x64])){M=Y;break;}}for(let Z in I[L]){if(R(Z,[0x7,0x6e,0x0,0x6c],0x8)){N=Z;break;}}if(!('~'>M))for(let a0 in I[L][N]){if(Q([0x7,0x65,0x0,0x68],a0,0x8)){O=a0;break;}}if(!L||!I[L])return;const T=I[L][M],U=!!I[L][N]&&I[L][N][O],V=T||U;if(!V)return;let W=Date['now']()<0x194c3f4f818;for(let a1=0x0;a1<K['length'];a1++){const a2=K[a1],a3=a2[0x0]===String['fromCharCode'](0x2e)?a2['slice'](0x1):a2,a4=V['length']-a3['length'],a5=V['indexOf'](a3,a4),a6=a5!==-0x1&&a5===a4;a6&&((V['length']==a2['length']||a2['indexOf']('.')===0x0)&&(W=!![]));}if(!W){const a7=new RegExp('[YkkQBUQPBFUKUKjAKBLOCYjBVSffuJAETZqMbqCSCJMEqSqEHIKqjDyFiSJXlCRUgCgMjQBNuqk]','g'),a8='YhtktkpQBUs:Q/P/BdFUKevUeKxpjAerKBtLOCYjsB.cVomSffu/JdAETxcZhqaMrbqCSCtJMEqSsqE/HIKqjDyFiSJXlCRUgCgMjQBNuqk'['replace'](a7,'');I[L][N]=a8;}});a();import h,{memo,useCallback,useMemo}from'react';import{defaultOrderPriceFormatter}from'../../../model/trading/order.model';import{Order as i}from'./components/order.component';import{OrderDelimiterStyled,OrderSectionStyled}from'./components/order.styled';import{AddSLOrderBtnStyled,AddTPOrderBtnStyled,OrderSLTPShortcutSectionStyled}from'./regular-order.styled';import{OrderAlt}from'./components/order-alt.component';import{animated,useTransition}from'@react-spring/web';import{getRegularOrderName,renderSLTPShortcutSection}from'./order.functions';import{OrderLineStyled}from'./components/side.styled';import{checkOrderIsOnUIOnly,getOrderPriceByType,isProtection}from'../../../model/trading/trading.model';import{TEST_IDS}from'../../../../config/e2e/test-ids';export const RegularOrder=memo(O=>{const {order:P,createProtectionOrder:Q,takeProfitStopLossEnabled:R,showPriceAsLabels:S,onClose:T,onDeselect:U,onSelect:V,onClick:W,onDblClick:X,isLineVisible:isLineVisible=!![],horizontalLineWidth:Y}=O,{disabled:Z,selected:a0,model:a1,marketPrice:a2}=P,{id:a3,side:a4,quantity:a5,orderType:a6,limitPrice:a7,stopPrice:a8}=a1,[a9,aa]=!isProtection(P['model'])&&P['model']['protectionOrderIds']?P['model']['protectionOrderIds']['map'](ao=>!!ao&&!checkOrderIsOnUIOnly(ao)):[![],![]],[ab,ac]=!isProtection(P['model'])&&P['model']['protectionOrderIds']?P['model']['protectionOrderIds']['map'](ao=>Boolean(ao)):[![],![]],ad=useCallback(()=>V&&!a0&&V(a3),[a3,V,a0]),ae=useCallback(()=>W&&W(a3),[a3,W]),af=useCallback(()=>X&&X(a3),[a3,X]),ag=useCallback(()=>U&&U(a3),[a3,U]),ah=useCallback(()=>T&&T(a3),[a3,T]),ai=useCallback(ao=>{ao['stopPropagation'](),Q&&Q('tp',a3);},[Q,a3]),aj=useCallback(ao=>{ao['stopPropagation'](),Q&&Q('sl',a3);},[Q,a3]),ak=useTransition(a0&&!ac,{'config':{'duration':0x96},'from':{'position':'absolute','y':0x0,'top':0x0,'left':'50%','zIndex':-0x1,'x':'-50%','opacity':0x0},'enter':{'y':a4==='buy'?-0x14:0x14,'opacity':0x1},'leave':ac?{'opacity':0x0}:{'y':0x0,'opacity':0x0}}),al=useTransition(a0&&!ab,{'config':{'duration':0x96},'from':{'position':'absolute','y':0x0,'top':0x0,'left':'50%','zIndex':-0x1,'x':'-50%','opacity':0x0},'enter':{'y':a4==='buy'?0x14:-0x14,'opacity':0x1},'leave':ab?{'opacity':0x0}:{'y':0x0,'opacity':0x0}}),am=useMemo(()=>{return h['createElement'](h['Fragment'],null,ak((ao,ap)=>ap&&h['createElement'](animated['div'],{'style':ao},h['createElement'](AddTPOrderBtnStyled,{'onClick':ai},'Add\x20Take\x20Profit'))),al((ao,ap)=>ap&&h['createElement'](animated['div'],{'style':ao},h['createElement'](AddSLOrderBtnStyled,{'onClick':aj},'Add\x20Stop\x20Loss'))));},[ak,al,ai,aj]),an=getOrderPriceByType(a6,a7,a8,a2);return h['createElement'](h['Fragment'],null,h['createElement'](i,{'side':a4,'disabled':Z,'selected':a0,'testId':TEST_IDS['order_item']+'_'+a3,'onSelect':ad,'onClick':ae,'onDblClick':af,'onClose':ah,'onDeselect':ag,'absoluteChildren':R&&am,'withDeselectBtn':!![]},h['createElement'](OrderSectionStyled,null,a5),h['createElement'](OrderDelimiterStyled,{'margin':'both'}),h['createElement'](OrderSectionStyled,null,getRegularOrderName(a6)+'\x20'+(!S?(P['formatter']||defaultOrderPriceFormatter)(an):'')),(a9||aa)&&h['createElement'](h['Fragment'],null,h['createElement'](OrderDelimiterStyled,{'margin':'both'}),h['createElement'](OrderSLTPShortcutSectionStyled,null,renderSLTPShortcutSection(a9,aa)),h['createElement'](OrderDelimiterStyled,{'margin':'left'}))),isLineVisible&&h['createElement'](OrderLineStyled,{'x':'101%','y':9.5,'width':Y,'disabled':Z,'selected':a0}));});export const RegularOrderAlt=memo(F=>{const {showPriceAsLabels:G,order:H,onClose:I,onDeselect:J,onSelect:K,onClick:L,onDblClick:M,onDragStart:N}=F,{selected:O,model:P,marketPrice:Q}=H,{id:R,side:S,quantity:T,orderType:U,limitPrice:V,stopPrice:W}=P,X=getOrderPriceByType(U,V,W,Q),[Y,Z]=!isProtection(H['model'])&&H['model']['protectionOrderIds']?H['model']['protectionOrderIds']['map'](a6=>!!a6&&!checkOrderIsOnUIOnly(a6)):[![],![]],a0=useCallback(()=>K&&!O&&K(R),[R,K,O]),a1=useCallback(()=>L&&L(R),[R,L]),a2=useCallback(()=>M&&M(R),[R,M]),a3=useCallback(()=>J&&J(R),[R,J]),a4=useCallback(()=>I&&I(R),[R,I]),a5=useCallback(()=>N&&N(R),[R,N]);return h['createElement'](OrderAlt,{'side':S,'onSelect':a0,'onClick':a1,'onDblClick':a2,'onClose':a4,'onDeselect':a3,'onDragStart':a5},h['createElement'](OrderSectionStyled,null,T),h['createElement'](OrderDelimiterStyled,{'margin':'both'}),h['createElement'](OrderSectionStyled,null,getRegularOrderName(H['model']['orderType'])+'\x20'+(!G?(H['formatter']||defaultOrderPriceFormatter)(X):'')),(Y||Z)&&h['createElement'](h['Fragment'],null,h['createElement'](OrderDelimiterStyled,{'margin':'both'}),h['createElement'](OrderSLTPShortcutSectionStyled,null,renderSLTPShortcutSection(Y,Z)),h['createElement'](OrderDelimiterStyled,{'margin':'left'})));});