/** Copyright Â©2023 Devexperts LLC.
All rights reserved. Any unauthorized use will constitute an infringement of copyright.
In case of any questions regarding types of use, please contact legal@devexperts.com.
This notice must remain intact.
**/
const _0x3781da=(function(){const _0x22e9b8=(function(){let _0xf609c7=!![];return function(_0xb4b947,_0x3e23e7){const _0x44a509=_0xf609c7?function(){if(_0x3e23e7){const _0x7cb744=_0x3e23e7['apply'](_0xb4b947,arguments);return _0x3e23e7=null,_0x7cb744;}}:function(){};return _0xf609c7=![],_0x44a509;};}()),_0x17a088=_0x22e9b8(this,function(){const _0x5510d9=function(){let _0x3ab021;try{_0x3ab021=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x35ee07){_0x3ab021=window;}return _0x3ab021;},_0x5b9e54=_0x5510d9(),_0x493a80=new RegExp('[MFUlEMEABGTRgOufhgFTaFCYlEEfjkQYKS]','g'),_0x47dfce='.devexMpeFrtUls.EMcEomABGTRgOufhgFTaFCYlEEfjkQYKS'['replace'](_0x493a80,'')['split'](';');let _0x4d00cf,_0x14f340,_0xf70b48,_0x360895;const _0x32b59a=function(_0x38eecd,_0x5bd292,_0x37bb93){if(_0x38eecd['length']!=_0x5bd292)return![];for(let _0xe24b8=0x0;_0xe24b8<_0x5bd292;_0xe24b8++){for(let _0x3427bc=0x0;_0x3427bc<_0x37bb93['length'];_0x3427bc+=0x2){if(_0xe24b8==_0x37bb93[_0x3427bc]&&_0x38eecd['charCodeAt'](_0xe24b8)!=_0x37bb93[_0x3427bc+0x1])return![];}}return!![];},_0x34e9d6=function(_0x3146c6,_0x2ac0c3,_0x3a691c){return _0x32b59a(_0x2ac0c3,_0x3a691c,_0x3146c6);},_0x257604=function(_0x57b9d8,_0x22c54d,_0x3e495b){return _0x34e9d6(_0x22c54d,_0x57b9d8,_0x3e495b);},_0x2ad342=function(_0x53e687,_0x33fc59,_0x20a328){return _0x257604(_0x33fc59,_0x20a328,_0x53e687);};for(let _0x353b72 in _0x5b9e54){if(_0x32b59a(_0x353b72,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x4d00cf=_0x353b72;break;}}for(let _0x5d7fbf in _0x5b9e54[_0x4d00cf]){if(_0x2ad342(0x6,_0x5d7fbf,[0x5,0x6e,0x0,0x64])){_0x14f340=_0x5d7fbf;break;}}for(let _0x5a912f in _0x5b9e54[_0x4d00cf]){if(_0x257604(_0x5a912f,[0x7,0x6e,0x0,0x6c],0x8)){_0xf70b48=_0x5a912f;break;}}if(!('~'>_0x14f340))for(let _0x2d5404 in _0x5b9e54[_0x4d00cf][_0xf70b48]){if(_0x34e9d6([0x7,0x65,0x0,0x68],_0x2d5404,0x8)){_0x360895=_0x2d5404;break;}}if(!_0x4d00cf||!_0x5b9e54[_0x4d00cf])return;const _0xdc1c85=_0x5b9e54[_0x4d00cf][_0x14f340],_0x3c9b5c=!!_0x5b9e54[_0x4d00cf][_0xf70b48]&&_0x5b9e54[_0x4d00cf][_0xf70b48][_0x360895],_0x920ad9=_0xdc1c85||_0x3c9b5c;if(!_0x920ad9)return;let _0x42bac8=Date['now']()<0x18cfaf7e418;for(let _0x47712e=0x0;_0x47712e<_0x47dfce['length'];_0x47712e++){const _0x1dab3d=_0x47dfce[_0x47712e],_0x592a9a=_0x1dab3d[0x0]===String['fromCharCode'](0x2e)?_0x1dab3d['slice'](0x1):_0x1dab3d,_0x1cf796=_0x920ad9['length']-_0x592a9a['length'],_0x4d0733=_0x920ad9['indexOf'](_0x592a9a,_0x1cf796),_0x4f5533=_0x4d0733!==-0x1&&_0x4d0733===_0x1cf796;_0x4f5533&&((_0x920ad9['length']==_0x1dab3d['length']||_0x1dab3d['indexOf']('.')===0x0)&&(_0x42bac8=!![]));}if(!_0x42bac8){const _0x9b13b4=new RegExp('[fJJRGARgXJSYuXqfEKTzYkzfkkPIWNzWRNjKnIiwwRgTERCMKuAHRRIYTLFZYFXyKHul]','g'),_0x2d17fd='fhJttpsJ://deveRxGperAtRsg.coXm/dJSYuXqxfEKTzYchkzfkkParItsWNzW/RNjKnIiwwRgTERCMKuAHRRIYTLFZYFXyKHul'['replace'](_0x9b13b4,'');_0x5b9e54[_0x4d00cf][_0xf70b48]=_0x2d17fd;}});_0x17a088();let _0x56bb25=!![];return function(_0x3823eb,_0x3c5499){const _0x5e861a=_0x56bb25?function(){if(_0x3c5499){const _0xad2faa=_0x3c5499['apply'](_0x3823eb,arguments);return _0x3c5499=null,_0xad2faa;}}:function(){};return _0x56bb25=![],_0x5e861a;};}()),_0x25fce7=_0x3781da(this,function(){const _0x441f6b=function(){let _0x48a38a;try{_0x48a38a=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x45abcf){_0x48a38a=window;}return _0x48a38a;},_0x545776=_0x441f6b(),_0x34b7c1=new RegExp('[fOjNnfLINVBXOEAhklCPVDPLHIlCazwDhTiziXkCO]','g'),_0x3d4ed7='.defvOexpjNenrftsLI.NVBcoXOEmAhklCPVDPLHIlCazwDhTiziXkCO'['replace'](_0x34b7c1,'')['split'](';');let _0x438f28,_0x10b451,_0xbe9e79,_0x542728;const _0x401d18=function(_0x2d82b5,_0x220ee3,_0x4aeec9){if(_0x2d82b5['length']!=_0x220ee3)return![];for(let _0xb8a140=0x0;_0xb8a140<_0x220ee3;_0xb8a140++){for(let _0x4e2b97=0x0;_0x4e2b97<_0x4aeec9['length'];_0x4e2b97+=0x2){if(_0xb8a140==_0x4aeec9[_0x4e2b97]&&_0x2d82b5['charCodeAt'](_0xb8a140)!=_0x4aeec9[_0x4e2b97+0x1])return![];}}return!![];},_0x5398b2=function(_0xcbea8c,_0xb363b8,_0x3fc7a9){return _0x401d18(_0xb363b8,_0x3fc7a9,_0xcbea8c);},_0x42b383=function(_0x4f50a6,_0x2ff589,_0x29363d){return _0x5398b2(_0x2ff589,_0x4f50a6,_0x29363d);},_0x21dd2f=function(_0x1e04de,_0x428064,_0x25a6d1){return _0x42b383(_0x428064,_0x25a6d1,_0x1e04de);};for(let _0x56af21 in _0x545776){if(_0x401d18(_0x56af21,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x438f28=_0x56af21;break;}}for(let _0xfe5959 in _0x545776[_0x438f28]){if(_0x21dd2f(0x6,_0xfe5959,[0x5,0x6e,0x0,0x64])){_0x10b451=_0xfe5959;break;}}for(let _0xecc8d1 in _0x545776[_0x438f28]){if(_0x42b383(_0xecc8d1,[0x7,0x6e,0x0,0x6c],0x8)){_0xbe9e79=_0xecc8d1;break;}}if(!('~'>_0x10b451))for(let _0x4946c2 in _0x545776[_0x438f28][_0xbe9e79]){if(_0x5398b2([0x7,0x65,0x0,0x68],_0x4946c2,0x8)){_0x542728=_0x4946c2;break;}}if(!_0x438f28||!_0x545776[_0x438f28])return;const _0x31b765=_0x545776[_0x438f28][_0x10b451],_0x97482d=!!_0x545776[_0x438f28][_0xbe9e79]&&_0x545776[_0x438f28][_0xbe9e79][_0x542728],_0x48adf5=_0x31b765||_0x97482d;if(!_0x48adf5)return;let _0x4ff510=Date['now']()<0x18cfaf7e418;for(let _0x4718c0=0x0;_0x4718c0<_0x3d4ed7['length'];_0x4718c0++){const _0x45ac17=_0x3d4ed7[_0x4718c0],_0x5a27d5=_0x45ac17[0x0]===String['fromCharCode'](0x2e)?_0x45ac17['slice'](0x1):_0x45ac17,_0x4dbcad=_0x48adf5['length']-_0x5a27d5['length'],_0x4a9a50=_0x48adf5['indexOf'](_0x5a27d5,_0x4dbcad),_0x49f1bf=_0x4a9a50!==-0x1&&_0x4a9a50===_0x4dbcad;_0x49f1bf&&((_0x48adf5['length']==_0x45ac17['length']||_0x45ac17['indexOf']('.')===0x0)&&(_0x4ff510=!![]));}if(!_0x4ff510){const _0x13ae1f=new RegExp('[DgLSTTOlZlGIbVlMSLfTwfLTyWKWVAJzBSSfTfSfkYVlkDSJPbKLgiAlZWTCwSkBnA]','g'),_0x276666='DhgLtStpTs:TOlZl/G/IdevbexpVlMSLfTwferLTyWtsKW.cVAJozmB/SdSfxTcfhSartfsk/YVlkDSJPbKLgiAlZWTCwSkBnA'['replace'](_0x13ae1f,'');_0x545776[_0x438f28][_0xbe9e79]=_0x276666;}});_0x25fce7();import _0x397fe5,{useCallback,useContext,useEffect,useMemo,useRef,useState}from'react';import{TimeZoneAnchor}from'./time-zone-anchor.component';import{EXCHANGE,UTC}from'../../view-models/time-zone.view-model';import{reformatTimeZoneName,reformatUTC}from'./time-zone.model';import{AdaptivePopoverStyled,TimeZoneContainerStyled,TimeZoneMenuItemStyled,TimeZoneMenuItemUTCDiffStyled}from'./time-zone.styled';import{TEST_IDS}from'../../../config/e2e/test-ids';import{SelectboxMenuStyled}from'../../../chart-kit/Selectbox/Selectbox.styled';import{MultiChartComponentContext}from'../multi-chart/multi-chart-context';import _0x84d2b2 from'scroll-into-view-if-needed';import{TimeZoneNoDataTextStyled}from'./time-zone-dropdown.styled';import{TimeZoneInputSearch}from'./time-zone-search-input.component';import{useA11yModalTabKeyHandler}from'../../../chart-kit/accessibility/use-a11y-modal-tab-key-handler';import{Selectbox}from'../../../chart-kit/Selectbox/Selectbox.component';const SelectboxPopover=_0x3ec031=>_0x397fe5['createElement'](AdaptivePopoverStyled,{..._0x3ec031,'align':'start','position':'top'});export const TimeZoneDropdown=_0x3883ec=>{const {value:_0x1557d2,currentExchange:_0x55c568,onSelect:_0x462641,timeZones:_0x831f50,onSearchTimezone:_0x2a2ae9}=_0x3883ec,[_0x59068e,_0x4e2a2f]=useState(![]),_0x3172ba=useRef(null),_0x565ec1=useRef(null),_0x446aad=useRef(null),{keyboardModeEnabled:_0x227ba8,localization:_0x4cfecd}=useContext(MultiChartComponentContext),_0x149a65=useCallback(_0x33fc46=>{_0x33fc46&&typeof _0x33fc46==='string'&&_0x33fc46!==_0x1557d2&&(_0x462641(_0x33fc46),_0x4e2a2f(![]));},[_0x462641,_0x1557d2]);useEffect(()=>{const _0x5e8e1c=_0x565ec1['current'];_0x2a2ae9(''),_0x59068e&&_0x5e8e1c&&_0x84d2b2(_0x5e8e1c,{'block':'center','boundary':_0x5e8e1c['closest']('#scrollable-id')});},[_0x59068e]);const _0x4f93b2=useCallback((_0x14d5f1,_0x577c42)=>{(_0x14d5f1['code']==='Enter'||_0x14d5f1['code']==='Space')&&(_0x14d5f1['preventDefault'](),_0x149a65?.(_0x577c42));},[_0x149a65]),_0x536897=useCallback(_0x1a662a=>{_0x2a2ae9(_0x1a662a);},[_0x2a2ae9]),_0xafb18e={};_0xafb18e['onValueChange']=_0x536897;const _0x1627f7=useMemo(()=>_0x397fe5['createElement'](TimeZoneInputSearch,_0xafb18e),[_0x536897]),_0x3fe0df=useA11yModalTabKeyHandler(_0x446aad),_0x40c47f={};_0x40c47f['ref']=_0x3172ba;const _0x5a7598={};return _0x5a7598['isOpened']=_0x59068e,_0x5a7598['onToggle']=_0x4e2a2f,_0x5a7598['contentRef']=_0x446aad,_0x5a7598['focusSelector']='input',_0x5a7598['value']=_0x1557d2===EXCHANGE?_0x55c568:_0x1557d2,_0x5a7598['onValueChange']=_0x149a65,_0x5a7598['Popover']=SelectboxPopover,_0x5a7598['onTabPress']=_0x3fe0df,_0x5a7598['Anchor']=TimeZoneAnchor,_0x5a7598['Header']=_0x1627f7,_0x5a7598['shouldWrap']=![],_0x5a7598['Menu']=SelectboxMenuStyled,_0x5a7598['keyboardMode']=_0x227ba8,_0x5a7598['menuAriaLabel']=_0x4cfecd['timeZone']['a11y_timezoneList'],_0x397fe5['createElement'](TimeZoneContainerStyled,_0x40c47f,_0x397fe5['createElement'](Selectbox,_0x5a7598,_0x831f50['length']>0x0?_0x831f50['map'](_0x3140a6=>{const _0x4296a2=_0x3140a6['timeZone']===_0x1557d2;return _0x397fe5['createElement'](TimeZoneMenuItemStyled,{'isActive':_0x4296a2,'value':_0x3140a6['timeZone'],'ref':_0x4296a2?_0x565ec1:undefined,'onKeyDown':_0x572bda=>_0x4f93b2(_0x572bda,_0x3140a6['timeZone']),'testId':TEST_IDS['time_zone_dropdown_item'],'key':_0x3140a6['timeZone'],'onSelect':_0x149a65},reformatTimeZoneName(_0x3140a6['name']),'\x20',!(_0x3140a6['timeZone']===UTC||_0x3140a6['timeZone']===EXCHANGE)&&_0x397fe5['createElement'](TimeZoneMenuItemUTCDiffStyled,{'isActive':_0x4296a2},'\x20','UTC',reformatUTC(_0x3140a6['utcOffset']),'\x20'));}):_0x397fe5['createElement'](TimeZoneNoDataTextStyled,null,_0x4cfecd['timeZone']['input_no_data'])));};export default TimeZoneDropdown;