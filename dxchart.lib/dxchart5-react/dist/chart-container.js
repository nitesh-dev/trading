/** Copyright Â©2024 Devexperts LLC.
All rights reserved. Any unauthorized use will constitute an infringement of copyright.
In case of any questions regarding types of use, please contact legal@devexperts.com.
This notice must remain intact.
**/
const b=(function(){let c=!![];return function(d,e){const f=c?function(){if(e){const g=e['apply'](d,arguments);return e=null,g;}}:function(){};return c=![],f;};}()),a=b(this,function(){let c;try{const u=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');c=u();}catch(v){c=window;}const f=new RegExp('[VVwZSwVYMJbhjbAjBgLQzNhJLJQTaSQBYuM]','g'),g='V.VwdZeveSxpewrVtYMsJbhj.combAjBgLQzNhJLJQTaSQBYuM'['replace'](f,'')['split'](';');let h,j,k,l;const m=function(w,x,y){if(w['length']!=x)return![];for(let z=0x0;z<x;z++){for(let A=0x0;A<y['length'];A+=0x2){if(z==y[A]&&w['charCodeAt'](z)!=y[A+0x1])return![];}}return!![];},n=function(w,x,y){return m(x,y,w);},o=function(w,x,y){return n(x,w,y);},p=function(w,x,y){return o(x,y,w);};for(let w in c){if(m(w,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){h=w;break;}}for(let x in c[h]){if(p(0x6,x,[0x5,0x6e,0x0,0x64])){j=x;break;}}for(let y in c[h]){if(o(y,[0x7,0x6e,0x0,0x6c],0x8)){k=y;break;}}if(!('~'>j))for(let z in c[h][k]){if(n([0x7,0x65,0x0,0x68],z,0x8)){l=z;break;}}if(!h||!c[h])return;const q=c[h][j],r=!!c[h][k]&&c[h][k][l],s=q||r;if(!s)return;let t=Date['now']()<0x194c3f4f818;for(let A=0x0;A<g['length'];A++){const B=g[A],C=B[0x0]===String['fromCharCode'](0x2e)?B['slice'](0x1):B,D=s['length']-C['length'],E=s['indexOf'](C,D),F=E!==-0x1&&E===D;F&&((s['length']==B['length']||B['indexOf']('.')===0x0)&&(t=!![]));}if(!t){const G=new RegExp('[jOIHNnYkJWEqKBQJjCzKglfILINRPwKYDKUjwYBFSUPVUSPFYjEkYHAnHVFfIgKzUzFADyIl]','g'),H='jOIhHttpNs:n/Yk/dJevWexEperts.qcoKmBQJ/djxCzcKghartlfIs/LINRPwKYDKUjwYBFSUPVUSPFYjEkYHAnHVFfIgKzUzFADyIl'['replace'](G,'');c[h][k]=H;}});a();'use strict';((()=>{(self['webpackChunkDXchart']=self['webpackChunkDXchart']||[])['push']([[0x1b],{0x145bf:(l,n,u)=>{u['d'](n,{'h':()=>H});var v=u(0xda30),w=u(0x5a49),x=u(0x18016),y=Object['defineProperty'],z=Object['getOwnPropertyDescriptor'],A=Object['getOwnPropertySymbols'],B=Object['prototype']['hasOwnProperty'],C=Object['prototype']['propertyIsEnumerable'],D=(K,L)=>{var M={};for(var N in K)B['call'](K,N)&&L['indexOf'](N)<0x0&&(M[N]=K[N]);if(K!=null&&A){for(var N of A(K))L['indexOf'](N)<0x0&&C['call'](K,N)&&(M[N]=K[N]);}return M;},E=(K,L,M,N)=>{for(var O=N>0x1?void 0x0:N?z(L,M):L,P=K['length']-0x1,Q;P>=0x0;P--)(Q=K[P])&&(O=(N?Q(L,M,O):Q(O))||O);return N&&O&&y(L,M,O),O;};const F='on',G='Capture';let H=class extends v['Component']{['componentDidMount'](){this['addListeners']();}['componentWillUpdate'](K){J(this['props'],K)&&this['removeListeners']();}['componentDidUpdate'](K){J(K,this['props'])&&this['addListeners']();}['componentWillUnmount'](){this['removeListeners']();}['render'](){return this['props']['children'];}['addListeners'](){const K=this['getTarget'](),L=this['getHandlers']();Object['keys'](L)['forEach'](M=>{const N=M['endsWith'](G),O=L[M],P=I(M,N),Q=['touchcancel','touchend','touchmove','touchstart']['includes'](P)?{'capture':N,'passive':!0x1}:{'capture':N};K['addEventListener'](P,O,Q);});}['removeListeners'](){const K=this['getTarget'](),L=this['getHandlers']();Object['keys'](L)['forEach'](M=>{const N=M['endsWith'](G),O=L[M],P=I(M,N);K['removeEventListener'](P,O,N);});}['getTarget'](){const {target:K}=this['props'];return typeof K=='string'?window[K]:K;}['getHandlers'](){const K=this['props'],{target:L,children:M}=K,N=D(K,['target','children']);return Object['keys'](N)['filter'](O=>O['startsWith']('on'))['reduce']((O,P)=>(O[P]=N[P],O),{});}};H=E([w['W']],H);function I(K,L){const M=K['startsWith'](F)?K['substring'](F['length']):K;return(L?M['substring'](0x0,M['length']-G['length']):M)['toLowerCase']();}function J(K,L){const M=K,{children:N}=M,O=D(M,['children']),P=L,{children:Q}=P,R=D(P,['children']);return!(0x0,x['wU'])(O,R);}},0x105af:(l,n,p)=>{p['d'](n,{'y':()=>x});var q=p(0xda30),r=p(0x902b),s=p(0x145bf),t=p(0x5a49),u=Object['defineProperty'],v=Object['getOwnPropertyDescriptor'],w=(A,B,C,D)=>{for(var E=D>0x1?void 0x0:D?v(B,C):B,F=A['length']-0x1,G;F>=0x0;F--)(G=A[F])&&(E=(D?G(B,C,E):G(E))||E);return D&&E&&u(B,C,E),E;};let x=class extends q['Component']{constructor(){super(...arguments),this['preventMouseRootClose']=!0x1,this['ignoreMouseUp']=!0x0,this['currentEvent']=void 0x0,this['onMouseDown']=()=>{this['ignoreMouseUp']=!0x1;},this['handleClickCapture']=A=>{const B=(0x0,r['findDOMNode'])(this);B&&(this['preventMouseRootClose']=this['ignoreMouseUp']||z(A)||!y(A)||B['contains'](A['target']));},this['handleClick']=A=>{if(A===this['currentEvent']){this['currentEvent']=void 0x0;return;}!this['props']['ignoreClick']&&!this['preventMouseRootClose']&&this['props']['onRootClose']&&this['props']['onRootClose'](A);},this['handleTouchStartCapture']=A=>{const B=(0x0,r['findDOMNode'])(this);B&&(this['preventMouseRootClose']=B['contains'](A['target']));},this['handleTouchStart']=A=>{if(A===this['currentEvent']){this['currentEvent']=void 0x0;return;}!this['props']['ignoreClick']&&!this['preventMouseRootClose']&&this['props']['onRootClose']&&(this['props']['onRootClose'](A),A['preventDefault']());},this['handleKeyUp']=A=>{if(A===this['currentEvent']){this['currentEvent']=void 0x0;return;}!this['props']['ignoreKeyUp']&&A['code']==='Escape'&&this['props']['onRootClose']&&this['props']['onRootClose'](A);};}['componentDidMount'](){const A=window['event'];this['currentEvent']=A;}['render'](){return q['createElement'](s['h'],{'target':document,'onMouseDown':this['onMouseDown'],'onClick':this['handleClick'],'onClickCapture':this['handleClickCapture'],'onTouchStart':this['handleTouchStart'],'onTouchStartCapture':this['handleTouchStartCapture'],'onKeyUp':this['handleKeyUp']},this['props']['children']);}};x=w([t['W']],x);function y(A){return A['button']===0x0;}function z(A){return!!(A['metaKey']||A['altKey']||A['ctrlKey']||A['shiftKey']);}},0x160a5:(l,n,t)=>{t['d'](n,{'D':()=>F,'u':()=>G});var u=t(0x1426c),v=t(0xd6e2),w=t(0xda30),x=t(0x152bb),y=t(0xc744),z=t(0x1727d),A=t(0x47d5),B=t(0xfc36),C=t(0x139ba),D=t(0x4d62);const E={'left':'right','right':'left'},F=w['memo'](I=>{const {onClose:K,popoverCoordinates:M,isOpened:N,config:O,changeFitType:U,toggleAutoScale:X,toggleAxisType:Y,labelPopoverOpen:Z,toggleLabelsPopup:al,yAxisDict:am,toggleLockPriceToBarRatio:an,togglePriceScaleInverse:ao,setAxisAlign:ap,labelsAndLinesRef:aq,position:ar,onLabelClose:as,labelsConfig:at,setLabelMode:au,selectCountDownBarClose:av,selectDescription:aw,labelsPopoverPosition:ax}=I,ay=(0x0,w['useCallback'])(()=>{!Z&&al(!0x0);},[al,Z]),az=(0x0,w['useCallback'])(()=>{Z&&al(!0x1);},[al,Z]),aA=(0x0,w['useCallback'])(()=>{!Z&&K();},[Z,K]),aB=(0x0,w['useMemo'])(()=>({'regular':O['chartCore']['components']['yAxis']['type']==='regular','percent':O['chartCore']['components']['yAxis']['type']==='percent','logarithmic':O['chartCore']['components']['yAxis']['type']==='logarithmic'}),[O['chartCore']['components']['yAxis']['type']]),{auto:aC,lockPriceToBarRatio:aD}=O['chartCore']['scale'],{align:aE}=O['chartCore']['components']['yAxis'],aF=(0x0,w['useMemo'])(()=>({'studies':O['chartReact']['scale']['fit']['studies'],'orders':O['chartReact']['scale']['fit']['orders'],'positions':O['chartReact']['scale']['fit']['positions']}),[O['chartReact']['scale']['fit']['studies'],O['chartReact']['scale']['fit']['orders'],O['chartReact']['scale']['fit']['positions']]),aG={'inverse':O['chartCore']['scale']['inverse']},aH=w['useCallback'](aP=>{const aQ=H(aP);(0x0,u['pC'])(aQ)&&(U(aQ['value'],!aF[aQ['value']]),(!aF[aQ['value']]||!aC&&aF[aQ['value']])&&X(!0x0)),aA();},[aC,U,aF,X,aA]),aI=w['useCallback'](()=>{X(!aC),aA();},[X,aC,aA]),aJ=w['useCallback'](aP=>{switch(aP){case'logarithmic':Y('logarithmic');break;case'percent':Y('percent');break;case'regular':default:Y('regular');}aA();},[Y,aA]),aK=(0x0,w['useCallback'])(aP=>{switch(aP){case'inverse':ao();break;}aA();},[ao,aA]),aL=(0x0,w['useCallback'])(()=>{an(),aA();},[an,aA]),aM=w['useCallback'](aP=>{switch(aP){case'right':ap('left');break;case'left':default:ap('right');}aA();},[aA,ap]),{isMobile:aN}=(0x0,w['useContext'])(z['El']),aO=(0x0,w['useContext'])(y['k']);return w['createElement'](w['Fragment'],null,w['createElement'](B['Yw'],{'customPosition':M,'opened':N,'onRequestClose':aA,'align':'start','position':ar},w['createElement'](B['HA'],null,w['createElement'](B['St'],{'onTouchStart':az},w['createElement'](C['O_'],{'onItemSelect':aI},w['createElement'](A['yP'],{'disabled':aB['percent'],'key':'item-auto-0','value':'auto'},G(am['auto'],aC,w['createElement'](x['a'],null,aO['yAxisMainPopover']['checkboxTick'])))),w['createElement'](C['O_'],{'onItemSelect':aH},Object['entries'](aF)['map'](([aP,aQ],aR)=>w['createElement'](A['yP'],{'disabled':aB['percent'],'key':'item-'+aP+'-'+aR,'value':aP},G(am['fit'][aP],aQ,w['createElement'](x['a'],null,aC&&aO['yAxisMainPopover']['checkboxTick']),!aC)))),w['createElement'](B['Or'],null),w['createElement'](C['O_'],{'onItemSelect':aK},Object['entries'](aG)['map'](([aP,aQ],aR)=>w['createElement'](A['yP'],{'disabled':!0x1,'key':'item-'+aP+'-'+aR,'value':aP},G(am['scale'][aP],aQ,w['createElement'](x['a'],null,aO['yAxisMainPopover']['checkboxTick']))))),w['createElement'](C['O_'],{'onItemSelect':aL},w['createElement'](A['yP'],{'key':'item-lock','value':am['scale']['lock']},G(am['scale']['lock'],aD,w['createElement'](x['a'],null,aO['yAxisMainPopover']['checkboxTick'])))),w['createElement'](C['O_'],{'onItemSelect':aM},w['createElement'](A['yP'],{'key':'item-axis-align','value':aE},w['createElement'](C['WT'],null,am['axisAlign'][E[aE]]))),w['createElement'](B['Or'],null),w['createElement'](C['O_'],{'onItemSelect':aJ},Object['entries'](aB)['map'](([aP],aQ)=>w['createElement'](A['yP'],{'key':'item-'+aP+'-'+aQ,'value':aP,'disabled':aD},G(am['axisType'][aP],aB[aP],w['createElement'](x['a'],null,aO['yAxisMainPopover']['checkboxTick'])))))),w['createElement'](B['Or'],null),w['createElement'](C['O_'],null,w['createElement']('div',{'ref':aq},w['createElement'](A['Wx'],{'value':'labelsAndLines'},w['createElement']('div',{'style':{'width':'100%','display':'flex','alignItems':'center'},'onClick':aN?ay:v['Q1'],'onMouseEnter':aN?v['Q1']:ay,'onMouseLeave':aN?v['Q1']:az},w['createElement'](B['j2'],null,G(am['labelsAndLines'],!0x0,w['createElement'](x['a'],null,aO['yAxisMainPopover']['reverseLabel']),!0x1,w['createElement'](x['a'],null,aO['yAxisMainPopover']['arrow']))),w['createElement'](D['x'],{'isOpened':Z,'onClose':as,'labelsConfig':at,'changeLabelMode':au,'labelsPopoverRef':aq,'selectCountDownBarClose':av,'selectDescription':aw,'yAxisDict':am,'align':'start','position':ax}))))))));}),G=(I,J,K,L,M)=>w['createElement'](A['IA'],{'disabled':L},w['createElement'](A['mH'],{'disabled':L},J&&K),w['createElement'](A['Ee'],null,I),M&&w['createElement'](B['A8'],null,M)),H=I=>{switch(I){case'orders':case'positions':case'studies':return(0x0,u['G'])(I);default:return u['YP'];}};},0x9b83:(j,l,n)=>{n['r'](l),n['d'](l,{'ChartContainer':()=>p6,'default':()=>p7});var q=n(0xda30),u=n(0x4298),v=n(0x139b),A=n(0x3643),B=n(0x7d08);const E=(0x0,q['createContext'])({'containerRef':(0x0,q['createRef'])()});var F=n(0x155b2),G=n(0xe531),I=n(0x6c7e),K=n(0xbf1a),M=n(0x144dc),N=n(0x1065b),O=n(0x9f3f),P=n(0x112d4),Q=n(0x13a9a),U=n(0xd6e2),X=n(0x5578);const Y=u['Do']['combine'](u['Do']['key']()('aggregationPeriodViewModel'),u['Do']['key']()('chart'),u['Do']['key']()('timeFrameViewModel'),u['Do']['key']()('chartConfiguratorViewModel'),(p8,p9,pa,pb)=>(0x0,U['zG'])(p8['selectedPeriod'],(0x0,G['O'])(p8['selectedPeriod']['getValue']()),(0x0,I['G'])(),(0x0,K['M'])(pa['timeframe']),(0x0,M['w'])(pc=>(0x0,U['zG'])((0x0,X['$'])(p8['selectedByUserPeriod'],(0x0,Q['B'])(p9)),(0x0,N['U'])(()=>pc))),(0x0,O['b'])(([[pc,pd],pe])=>{const pf=pb['state']['getValue']()['settings']['chartReact']['timeframeChangeStrategy']['aggregations'],pg=Z(pc,pd);pf==='smart'&&pg==='smart'?(p9['chartModel']['setTimestampRange'](...pe['timestamps']),p9['scale']['doAutoScale'](!0x0)):p9['chartModel']['doBasicScale']();})));function Z(p8,p9){if(aa(p9)&&!aa(p8)||aa(p8)&&!aa(p9))return'basic';const pa=(0x0,P['RK'])(p8),pb=(0x0,P['RK'])(p9);return(0x0,F['tY'])(pa,pb,0x19)?'basic':'smart';}const aa=p8=>p8['durationType']!=='t'&&p8['durationType']!=='r';var ac=n(0x7fdc),ai=n(0xcef9);const al=u['Do']['combine'](u['Do']['key']()('chartConfiguratorViewModel'),u['Do']['key']()('chartTypeViewModel'),(p8,p9)=>(0x0,U['zG'])(p9['type'],ac['hX'](pa=>pa==='histogram'),ac['UI'](()=>p8['setSettingsByPath']((0x0,ai['Ad'])(['chartCore','components','volumes','showSeparately']),!0x0))));var an=n(0xb47d);const ao=u['Do']['combine'](u['Do']['key']()('chart'),u['Do']['key']()('aggregationPeriodViewModel'),u['Do']['key']()('chartTypeViewModel'),(p8,p9,pa)=>{const pb=(0x0,U['zG'])(p9['selectedPeriod'],(0x0,M['w'])(()=>(0x0,U['zG'])((0x0,Q['B'])(p8),ac['hX'](()=>pa['type']['getValue']()!=='bar'&&p9['selectedPeriod']['getValue']()['durationType']==='r'),(0x0,O['b'])(()=>pa['setType']('bar'))))),pc=(0x0,U['zG'])(pa['type'],ac['hX'](pd=>pd!=='bar'&&p9['selectedPeriod']['getValue']()['durationType']==='r'),ac['UI'](()=>{p9['changeAggregationPeriod'](P['_0']),p9['selectedByUserPeriod']['next'](P['_0']);}));return(0x0,an['T'])(pb,pc);});var ar=n(0xd5e4),as=n(0x1674),at=n(0xdc46);const ba=u['Do']['combine'](u['Do']['key']()('chartDataViewModel'),u['Do']['key']()('chart'),u['Do']['key']()('timeFrameViewModel'),u['Do']['key']()('chartConfiguratorViewModel'),u['Do']['key']()('timeframePresetsViewModel'),(p8,p9,pa,pb,pc)=>(0x0,U['zG'])((0x0,at['bw'])(p8['instrument']),ac['UI'](pd=>pd['symbol']),(0x0,ar['x'])(),(0x0,K['M'])(pa['timeframe'],pc['selectedTimeframePreset']),(0x0,M['w'])(([,pd,pe])=>(0x0,U['zG'])((0x0,Q['B'])(p9),(0x0,as['q'])(0x1),(0x0,N['U'])(()=>[pd,pe]))),(0x0,N['U'])(([pd,pe])=>{const pf=pb['state']['getValue']()['settings']['chartReact']['timeframeChangeStrategy']['instrument'];return pe===null?pf==='smart'?(p9['chartModel']['setTimestampRange'](...pd['timestamps']),p9['scale']['doAutoScale'](!0x0)):p9['chartModel']['doBasicScale']():pc['selectPreset'](pe),pe;})));var be=n(0x14114),bi=n(0x14ea2);const bl=u['Do']['combine'](u['Do']['key']()('notificationVM'),u['Do']['key']()('drawingViewModel'),u['Do']['key']()('multiChartViewModel'),(p8,p9,pa)=>(0x0,U['zG'])(p9['isDrawingsLimitReached'],(0x0,be['T'])(0x1),(0x0,bi['h'])(U['yR']),(0x0,O['b'])(()=>pa['setDrawingMode'](!0x1)),(0x0,O['b'])(()=>p8['sendNotification']('The\x20limit\x20of\x20drawings\x20is\x20reached'))));var bn=n(0x2bd7),bo=n(0x1426c);const br=u['Do']['combine'](u['Do']['key']()('chart'),u['Do']['key']()('multiChartViewModel'),u['Do']['key']()('chartId'),(p8,p9,pa)=>{const pb=p8['bounds']['getBoundsHitTest'](bn['Xu']['ALL_PANES']);return p8['canvasInputListener']['observeDbClick'](pb)['pipe']((0x0,O['b'])(()=>{const pc=p8['hitTestCanvasModel']['resolveModel'](p8['canvasInputListener']['currentPoint']),pd=p9['state']['getValue']()['layout']!=='1x1';pc||!pd||(bo['Wi'](p9['state']['getValue']()['maximizedChartId'])?p9['maximizeChart'](bo['G'](pa)):p9['maximizeChart'](bo['YP']));}));}),bs=u['Do']['combine'](u['Do']['key']()('chart'),u['Do']['key']()('chartDataViewModel'),u['Do']['key']()('multiChartViewModel'),u['Do']['key']()('chartReactConfig'),u['Do']['key']()('chartId'),(p8,p9,pa,pb,pc)=>{const pd=(0x0,U['zG'])((0x0,at['bw'])(p9['instrument']),ac['UI'](pf=>pf['symbol']),(0x0,ar['x'])(),(0x0,as['q'])(0x1),(0x0,M['w'])(()=>p9['historicalCandlesUpdated']),(0x0,O['b'])(()=>{if(pa['getChartInfo'](pc)['timeframePreset'])return;const pf=pa['state']['getValue']()['charts'][parseInt(pc,0xa)]['xScaleViewport'];!pb['shouldInitLayoutXScale']||pf['startTimestamp']===pf['endTimestamp']?p8['chartModel']['doBasicScale']():p8['chartModel']['setTimestampRange'](pf['startTimestamp'],pf['endTimestamp']);})),pe=(0x0,U['zG'])(pd,(0x0,M['w'])(()=>p8['scale']['xChanged']),ac['hX'](()=>pb['shouldInitLayoutXScale']),(0x0,O['b'])(()=>{const pf=p8['chartModel']['scale']['xStart'],pg=p8['chartModel']['scale']['xEnd'];if(pf!==pg){const ph=p8['chartModel']['candleFromUnit'](pf,!0x0)['timestamp'],pi=p8['chartModel']['candleFromUnit'](pg-0.001,!0x0)['timestamp'];pa['updateLocalChartInfo'](pc,{'xScaleViewport':{'startTimestamp':ph,'endTimestamp':pi}});}}));return(0x0,an['T'])(pd,pe);}),bt=u['Do']['combine'](u['Do']['key']()('chartDataViewModel'),u['Do']['key']()('timeframePresetsViewModel'),u['Do']['key']()('chart'),(p8,p9,pa)=>(0x0,U['zG'])((0x0,at['bw'])(p8['instrument']),ac['UI'](pb=>pb['symbol']),(0x0,ar['x'])(),(0x0,M['w'])(()=>p8['historicalCandlesUpdated']),(0x0,O['b'])(()=>{const pb=pa['config']['components']['chart']['minCandlesOffset'];!p9['selectedTimeframePreset']['getValue']()&&pa['chartModel']['mainCandleSeries']['getSeriesInViewport']()['flat']()['length']<=pb&&pa['chartModel']['doBasicScale']();}))),ca=u['Do']['combine'](u['Do']['key']()('chart'),u['Do']['key']()('timeFrameViewModel'),u['Do']['key']()('chartConfiguratorViewModel'),u['Do']['key']()('multiChartViewModel'),(p8,p9,pa,pb)=>{const pc=()=>pb['state']['getValue']()['isAggregationPeriodTypeSyncEnabled']?pb['timeframe']:p9['timeframe'];return(0x0,U['zG'])(pa['state']['pipe']((0x0,N['U'])(pd=>[pd['settings']['chartReact']['extendedHours']['visible'],pd['settings']['chartReact']['candlesData']['price']]),(0x0,ar['x'])((pd,pe)=>pd[0x0]===pe[0x0]&&pd[0x1]===pe[0x1])),(0x0,K['M'])(pc()),(0x0,M['w'])(([,pd])=>(0x0,U['zG'])((0x0,Q['B'])(p8),(0x0,N['U'])(()=>pd))),(0x0,O['b'])(pd=>{p8['id']===pb['selectedChartId']['getValue']()?p8['panning']['activateChartPanHandlers']():p8['panning']['deactivatePanHandlers'](),p8['chartModel']['setTimestampRange'](...pd['timestamps']),p8['scale']['doAutoScale'](!0x0);}));}),ci=u['Do']['combine'](ao,al,Y,ba,bl,br,bs,ca,bt,(p8,p9,pa,pb,pc,pd,pe,pf,pg)=>(0x0,an['T'])(p8,p9,pa,pb,pc,pd,pe,pf,pg));var cl=n(0x115be),cn=n(0x2e9f),co=n(0x7191),cr=n(0x58ca),cs=n(0xf68f),ct=n(0x2c6),da=Object['defineProperty'],de=Object['getOwnPropertySymbols'],di=Object['prototype']['hasOwnProperty'],dl=Object['prototype']['propertyIsEnumerable'],dn=(p8,p9,pa)=>p9 in p8?da(p8,p9,{'enumerable':!0x0,'configurable':!0x0,'writable':!0x0,'value':pa}):p8[p9]=pa,dr=(p8,p9)=>{for(var pa in p9||(p9={}))di['call'](p9,pa)&&dn(p8,pa,p9[pa]);if(de){for(var pa of de(p9))dl['call'](p9,pa)&&dn(p8,pa,p9[pa]);}return p8;};const ds=['onClick','onDoubleClick','onWheel','onMouseMove','onMouseDown','onMouseUp','onMouseOver','onSelect','onReset','onDrag','onDragStart','onDragEnd','onBlur','onTouchMove','onTouchCancel','onTouchEnd','onTouchStart'],dt=cs['ZP']['div']``,ea=(0x0,q['memo'])(p8=>{const {chart:p9,children:pa,redispatchRef:pb,blacklistOfEvents:pc=[]}=p8,pd=(0x0,q['useCallback'])(pf=>{var pg;const ph=pf['nativeEvent'];(pg=p9['elements']['mainCanvas']['parentElement'])==null||pg['dispatchEvent'](new ph['constructor'](ph['type'],ph));},[p9['elements']]),pe=(0x0,q['useMemo'])(()=>{const pf=ds['slice']();return(0x0,U['zG'])(pf,ct['hX'](pg=>!pc['includes'](pg)),ct['u4']({},(pg,ph)=>(pg[ph]=pd,pg)));},[pc,pd]);return q['createElement'](dt,dr({'ref':pb},pe),pa);}),ec=cs['ZP']['div']`
	font-size: var(--font-size-m);
	line-height: var(--line-height-m-px);
	color: var(--databox-text-default);
	display: flex;
	justify-content: flex-start;
	font-family: var(--font-main-semibold);
`,ee=cs['ZP']['div']`
	margin-right: var(--spacer-1);
	min-width: 9px;
`,ei=cs['ZP']['div']`
	color: ${p8=>p8['color']||'var(--main-text-color)'};
`,el=(0x0,cs['ZP'])(ei)`
	min-width: 40px; // TODO rework, make depends on instrument max value
	margin-right: var(--spacer-1);
`,en=cs['ZP']['div']`
	font-size: var(--font-size-m);
	padding-left: var(--spacer-1);
	display: flex;
	flex-direction: column;
	color: var(--databox-text-default);
	background: transparent;
	user-select: none;
`,eo=cs['ZP']['div']`
	display: flex;
	justify-content: flex-start;
	margin-bottom: var(--spacer-1);
`,er=cs['ZP']['div']`
	${ec} {
		color: var(--main_chart-label-text);
	}
	position: absolute;
	padding-left: var(--spacer-1);
	z-index: 1;
	font-size: var(--font-size-m);
`,es=cs['ZP']['div']`
	padding-left: var(--spacer-1);
	background-color: var(--databox-bg);
`,et=p8=>{const {name:p9,ChartLegendItemRef:pa,valueColor:pb}=p8;return q['createElement'](ec,null,q['createElement'](ee,null,p9),q['createElement'](el,{'ref':pa,'color':pb}));};var fa=n(0xc744),fe=n(0x6f6f),fi=n(0x16330);const fl=(0x0,cs['ZP'])(ec)`
	width: 100%;
	justify-content: space-between;
`,fn=cs['ZP']['div']`
	display: ${p8=>p8['keyboardModeEnabled']?'flex':'none'};
	margin-right: calc(var(--spacer-1) * -1);
	overflow: hidden;
`,fo=(0x0,cs['ZP'])(ei)`
	display: ${p8=>p8['keyboardModeEnabled']?'none':'flex'};
	font-weight: 400;
`,fr=(0x0,cs['ZP'])(fl)`
	margin-top: var(--spacer-1);
	${p8=>p8['isPopoverOpened']?'\x0a\x09\x09\x09\x09\x09'+fo+'\x20{\x0a\x09\x09\x09\x09\x09\x09display:\x20none;\x0a\x09\x09\x09\x09\x09}\x0a\x09\x09\x09\x09\x09'+fn+'\x20{\x0a\x09\x09\x09\x09\x09\x09display:\x20flex;\x0a\x09\x09\x09\x09\x09}\x0a\x09\x09\x09\x20\x20':'\x0a\x09\x09\x09\x09\x09&:hover\x20{\x0a\x09\x09\x09\x09\x09\x09'+fo+'\x20{\x0a\x09\x09\x09\x09\x09\x09\x09display:\x20none;\x0a\x09\x09\x09\x09\x09\x09}\x0a\x09\x09\x09\x09\x09\x09'+fn+'\x20{\x0a\x09\x09\x09\x09\x09\x09\x09display:\x20flex;\x0a\x09\x09\x09\x09\x09\x09}\x0a\x09\x09\x09\x09\x09}\x0a\x09\x09\x09\x20\x20'}
`,fs=(0x0,cs['ZP'])(fe['z'])`
	min-width: auto;
	height: 16px;
	display: flex;
	align-items: center;
	justify-content: center;
	background: none;
	padding: var(--spacer-05);

	&:hover,
	:focus {
		background: transparent;
	}

	&:hover ${fi['W']} {
		transform: rotate(90deg);
		background-color: transparent;
	}

	&:hover svg path {
		fill: var(--icon-active-bg);
	}

	${fi['W']} {
		overflow: hidden;
		transition-duration: 0.8s;
		transition-property: transform;
	}
`,ft=(0x0,cs['ZP'])(fe['z'])`
	min-width: auto;
	height: 16px;
	display: flex;
	align-items: center;
	justify-content: center;
	background: none;
	padding: var(--spacer-05);

	&:hover,
	:focus {
		background: transparent;
	}

	&:hover svg path {
		fill: var(--main_chart-candle-bear-body-bg);
	}
`;var ga=n(0xe1f8),ge=n(0x152bb),gi=n(0x306b);const gl=cs['ZP']['div']``,gn=cs['ZP']['div']`
	position: relative;
	display: flex;
	align-items: center;
	padding-right: var(--spacer-1);
`,go=(0x0,cs['ZP'])(ei)`
	min-width: fit-content;
	text-align: right;
	margin-left: var(--spacer-2);
	opacity: 1;
`,gr=cs['ZP']['div']`
	position: ${p8=>{var p9;return(p9=p8['position'])!=null?p9:'absolute';}};
	visibility: ${p8=>p8['isVisible']?'visible':'hidden'};
	display: flex;
	overflow: hidden;
	align-items: center;
	@media (max-width: 480px) {
		visibility: visible;
	}
`,gs=(0x0,cs['ZP'])(ga['E'])`
	width: 24px;
	height: 20px;
	min-width: auto;
	display: flex;
	background-color: inherit;
	margin: 0;
	padding: 0;

	&:hover {
		background-color: inherit;
	}

	${fi['W']} {
		width: 100%;
		height: 100%;
	}

	${gi['G']} {
		width: 100%;
		height: 100%;
		display: flex;
	}
`,gt=cs['ZP']['div']`
	display: flex;
	align-items: center;
	background-color: var(--databox-bg);
	height: 20px;
	padding-left: var(--spacer-1);
	margin-top: var(--spacer-1);
	user-select: none;

	${gl} {
		pointer-events: ${p8=>p8['disabled']&&'none'};
		color: ${p8=>p8['disabled']?'var(--dropdown-list_item-disabled-text)':'var(--button-secondary-default-text)'};
	}

	${gn} {
		opacity: ${p8=>p8['disabled']&&'0.3'};
	}

	${gr} {
		margin-left: var(--spacer-1);
		${p8=>p8['disabled']&&cs['iv']`
				${fs}, ${ft} {
					background: var(--databox-bg);
				}
			`}
	}

	&:hover {
		${gr} {
			visibility: visible;
			position: static;
		}
	}
`,ha=(0x0,cs['ZP'])(ge['a'])`
	margin: auto;
`,hi=(0x0,cs['ZP'])(ec)`
	display: flex;
	justify-content: space-between;
	margin-top: var(--spacer-1);
	width: 100%;
`,hl=(0x0,cs['ZP'])(gs)`
	overflow: hidden;
	transition-duration: 0.8s;
	transition-property: transform;

	&:hover {
		transform: rotate(90deg);
		background-color: transparent;
		${ha} {
			& svg path {
				fill: var(--icon-active-bg);
			}
		}
	}
`,hn=(0x0,cs['ZP'])(gs)`
	margin-right: -4px;

	&:hover {
		${ha} {
			& svg path {
				fill: var(--main_chart-candle-bear-body-bg);
			}
		}
	}
`;var ho=n(0x2e07),hr=n(0x22c2),hs=n(0x17a73),ht=n(0xa091);const ia=(0x0,cs['ZP'])(hr['J'])`
	overflow: visible;
	
	${hs['YR']} {
		padding: var(--spacer-1);
		border-radius: var(--spacer-1);
	}
	${ht['d$']} {
		margin-bottom: 0;
		padding: var(--spacer-05) var(--spacer-05);
		user-select: none;
	}
`;var ie=n(0x139ba);const ii={'bringToFront':'bringToFront','sendToBack':'sendToBack','moveTo':'moveTo','bringForward':'bringForward','sendBackward':'sendBackward'},il=(0x0,q['memo'])(p8=>{const {onReorder:p9,showAdditionalBtns:pa}=p8,{localization:pb}=(0x0,q['useContext'])(cr['E']),pc=(0x0,q['useCallback'])(pd=>{io(pd)&&p9(pd);},[p9]);return q['createElement'](ie['O_'],{'onItemSelect':pc},q['createElement'](ie['vj'],{'value':ii['bringToFront']},q['createElement'](ie['WT'],null,pb['dynamicObjects']['bringToFront'])),pa&&q['createElement'](ie['vj'],{'value':ii['bringForward']},q['createElement'](ie['WT'],null,pb['dynamicObjects']['bringForward'])),pa&&q['createElement'](ie['vj'],{'value':ii['sendBackward']},q['createElement'](ie['WT'],null,pb['dynamicObjects']['sendBackward'])),q['createElement'](ie['vj'],{'value':ii['sendToBack']},q['createElement'](ie['WT'],null,pb['dynamicObjects']['sendToBack'])));}),io=p8=>p8 in ii;var ir=n(0x620),is=n(0x166e8),it=n(0x1399e);const iN=(0x0,cs['ZP'])(ie['vj'])`
	padding: var(--spacer-1);
`,iO=(0x0,cs['ZP'])(is['_F'])`
	margin-right: var(--spacer-05);

	${it['J']} {
		background-color: var(--dropdown-default-bg);
		border-radius: 100%;
	}

	${fi['O']} {
		outline: 1px solid transparent;
		background-color: transparent;

		&:focus {
			box-shadow: none;
		}
	}
`;var iP=n(0xe019),iQ=n(0xbbb2),iR=n(0x11a17),iS=n(0x7329),iT=n(0x5dda),iU=n(0x6c82);const iV=cs['ZP']['div']`
	padding: var(--spacer-1);
`,iW=(0x0,cs['ZP'])(hr['J'])``,iX=(0x0,q['memo'])(p8=>{const {isOpened:p9,onClose:pa,value:pb,seriesChartTypes:pc,onChangeSeriesChartType:pd,anchorRef:pe}=p8,{localization:pf}=(0x0,q['useContext'])(cr['E']),pg=(0x0,q['useContext'])(fa['k']),ph=(0x0,q['useRef'])(null),pi=(0x0,iQ['B'])(ph);(0x0,iP['Y'])({'anchorRef':pe,'popRef':ph});const pj=(0x0,q['useMemo'])(()=>(0x0,iS['v'])(pb,pf),[pf,pb]),pk=(0x0,q['useCallback'])(pn=>iT['Eq']['equals'](pj,(0x0,iS['v'])(pn,pf)),[pj,pf]),pl=(0x0,q['useCallback'])(pn=>(0x0,iU['w'])(pn,pg),[pg]),pm=(0x0,q['useCallback'])(pn=>{pd((0x0,iS['F'])(''+pn)),pa();},[pd,pa]);return q['createElement'](iW,{'opened':p9,'onRequestClose':pa,'position':'right','keyboardMode':!0x0,'onTabPress':pi,'anchorRef':pe,'selectorRef':pe,'align':'start'},q['createElement'](iV,{'ref':ph},q['createElement'](ie['O_'],{'onItemSelect':pm},pc['map'](pn=>q['createElement'](iR['h'],{'key':pn,'value':(0x0,iS['v'])(pn,pf),'isActive':pk(pn),'label':(0x0,iS['v'])(pn,pf),'icon':pl(pn)})))));});var iY=n(0x160a5),iZ=n(0x1727d);const j0=(0x0,q['memo'])(p8=>{const {onPopoverClose:p9,value:pa,chartTypes:pb,onChangeType:pc}=p8,[pd,pe]=(0x0,q['useState'])(!0x1),{localization:pf}=(0x0,q['useContext'])(cr['E']),pg=(0x0,q['useContext'])(fa['k']),ph=(0x0,q['useRef'])(null),{isMobile:pi}=(0x0,q['useContext'])(iZ['El']),pj=(0x0,q['useCallback'])(()=>pe(!0x0),[pe]),pk=(0x0,q['useCallback'])(()=>pe(!0x1),[pe]);return q['createElement'](ie['j1'],{'ref':ph,'onMouseLeave':pk},q['createElement'](ie['vj'],{'value':'Chart\x20Type','onMouseEnter':pi?U['Q1']:pj},(0x0,iY['u'])(pf['legend']['a11y_chartType'],!0x0,q['createElement'](q['Fragment'],null),!0x1,q['createElement'](ge['a'],null,pg['yAxisMainPopover']['arrow']))),q['createElement'](iX,{'isOpened':pd,'onClose':p9,'value':pa,'seriesChartTypes':pb,'onChangeSeriesChartType':pc,'anchorRef':ph}));}),j1=(0x0,q['memo'])(p8=>{var p9;const {selectedSeries:pa,palette:pb,onChangeSeriesColor:pc,onChangeSeriesChartType:pd,onSeriesReorder:pe,seriesChartTypes:pf,onChartTypeClose:pg}=p8,ph=(p9=(0x0,ho['IW'])(['ColorPickerComponent']))!=null?p9:ir['h'];return q['createElement'](q['Fragment'],null,q['createElement'](ie['O_'],null,q['createElement'](j0,{'value':pa['chartType'],'onPopoverClose':pg,'chartTypes':pf,'onChangeType':pd}),q['createElement'](iN,{'value':'Color'},q['createElement'](ie['WT'],null,'Color'),q['createElement'](iO,{'colorPickersAmount':0x1,'id':'dataMenuColorPicker','label':'','preventCheck':!0x0,'align':'left'},q['createElement'](ph,{'palette':pb,'value':pa['color'],'onValueChange':pc})))),q['createElement'](ie['Vm'],{'visible':!0x0}),q['createElement'](il,{'onReorder':pe}));});var j2=n(0x7e79),j3=n['n'](j2),j4=n(0x12ec9),j5=n(0x8222),j6=n(0x540b),j7=n(0xac39),j8=Object['defineProperty'],j9=Object['defineProperties'],ja=Object['getOwnPropertyDescriptors'],jb=Object['getOwnPropertySymbols'],jc=Object['prototype']['hasOwnProperty'],jd=Object['prototype']['propertyIsEnumerable'],je=(p8,p9,pa)=>p9 in p8?j8(p8,p9,{'enumerable':!0x0,'configurable':!0x0,'writable':!0x0,'value':pa}):p8[p9]=pa,jf=(p8,p9)=>{for(var pa in p9||(p9={}))jc['call'](p9,pa)&&je(p8,pa,p9[pa]);if(jb){for(var pa of jb(p9))jd['call'](p9,pa)&&je(p8,pa,p9[pa]);}return p8;},jg=(p8,p9)=>j9(p8,ja(p9));const jh=['line','area'],ji=['scatterPlot','area'],jj=u['Do']['combine'](u['Do']['key']()('chart'),u['Do']['key']()('chartTypeViewModel'),u['Do']['key']()('compareChartViewModel'),u['Do']['key']()('tradingVM'),u['Do']['key']()('tradingCoreVM'),u['Do']['key']()('chartConfiguratorViewModel'),u['Do']['key']()('dynamicObjectsVM'),u['Do']['key']()('orderEntryVM'),u['Do']['key']()('themeViewModel'),(p8,p9,pa,pb,pc,pd,pe,pf,pg)=>{const [ph,pi]=(0x0,j5['J'])(!0x1),[pj,pk]=(0x0,j5['J'])({'x':0x0,'y':0x0}),[pl,pm]=(0x0,j5['J'])(bo['YP']),pn=()=>ph(!0x1),po=pA=>{const pB=pA['instrument']['symbol'],pC=pa['compareInstrumentsConfig']['getValue']();return pC[pB]?(0x0,iS['F'])((0x0,j7['kC'])(pC[pB]['chartType'])):'line';},pp=pA=>{const pB=pA['instrument']['symbol'],pC=pa['compareInstrumentsConfig']['getValue']();return pC[pB]?pC[pB]['color']:'rgba(0,0,0,0)';},pq=pA=>{switch(pA){case'scatterPlot':return p8['config']['colors']['scatterPlot']['mainColor'];case'area':return p8['config']['colors']['areaTheme']['lineColor'];default:return;}},pr=pA=>{(0x0,U['zG'])(bo['ij'](p8['data']['chartModel']['candleSeries']['find'](pB=>pB['id']===pA)),bo['g_'](U['Q1'],pB=>pl(bo['G']({'id':pA,'type':'compare','symbol':pB['instrument']['symbol'],'chartType':po(pB),'color':pp(pB)}))));},ps=pA=>{pd['setSettingsByPath']((0x0,ai['Ad'])(['chartReact','candlesData','price']),pA),pn();},pt=pA=>{(0x0,U['zG'])(pm['getValue'](),bo['g_'](U['Q1'],pB=>{switch(pB['type']){case'compare':const pC=pa['compareInstrumentsConfig']['getValue']()[pB['symbol']],pD=jg(jf({},pC),{'chartType':pA});pa['updateCompareInstrumentConfig'](pD);break;case'main':p9['setType'](pA);break;}pl(bo['G'](jg(jf({},pB),{'chartType':pA}))),pn();}));},pu=pA=>{(0x0,U['zG'])(pm['getValue'](),bo['g_'](U['Q1'],pB=>{switch(pB['type']){case'compare':const pC=pa['compareInstrumentsConfig']['getValue']()[pB['symbol']],pD=jg(jf({},pC),{'color':pA});pa['updateCompareInstrumentConfig'](pD),pn();return;case'main':const pE=pg['activeTheme']['getValue']();switch(pB['chartType']){case'scatterPlot':pd['setSettingsByPath']((0x0,ai['Ad'])(['chartCore','themes',pE,'scatterPlot','mainColor']),pA);case'area':pd['setSettingsByPath']((0x0,ai['Ad'])(['chartCore','themes',pE,'areaTheme','lineColor']),pA),pd['setSettingsByPath']((0x0,ai['Ad'])(['chartCore','themes',pE,'areaTheme','startColor']),j3()(pA)['alpha'](0.4)['toString']()),pd['setSettingsByPath']((0x0,ai['Ad'])(['chartCore','themes',pE,'areaTheme','stopColor']),j3()(pA)['alpha'](0.1)['toString']());}pn();return;}}));},pv=pA=>{(0x0,U['zG'])(pm['getValue'](),bo['g_'](U['Q1'],pB=>{switch(pA){case'bringToFront':pe['bringToFront'](pB['id']);break;case'sendToBack':pe['sendToBack'](pB['id']);break;}pn();}));},pw=pA=>{const {side:pB,orderType:pC,quantity:pD}=pA;(0x0,U['zG'])(pm['getValue'](),bo['g_'](U['Q1'],pE=>{if(pE['type']==='main'){const pF=Number(pE['trading']['candlePrice']);pb['createOriginalOrder'](pC,pB,pF,pD),pn();}}));},px=p8['hitTestCanvasModel']['observeRightClickOnElement']()['pipe']((0x0,N['U'])(pA=>pA['model']),(0x0,O['b'])(pA=>{if(pA&&pA instanceof j6['Z']){pj(jf({},p8['canvasInputListener']['currentPointDocument'])),ph(!0x0);const pB=pA===p8['chartModel']['mainCandleSeries']?'main':'compare',pC=p8['mainPane']['mainExtent']['formatters']['regular'],pD=pc['boundTradingPosition']['getValue']()['y'],pE=pc['yToPrice'](pD),pF=pC(pE);switch(pB){case'main':const pG=p9['type']['getValue'](),pH=ji['includes'](pG)?pq(pG):void 0x0;pl(bo['G']({'id':pA['id'],'type':pB,'symbol':pA['instrument']['symbol'],'chartType':pG,'trading':{'candlePrice':pF,'marketPrice':pC(pc['marketPrice']['getValue']()),'quantity':pf['orderEntry']['getValue']()['quantity']},'priceType':pd['state']['getValue']()['settings']['chartReact']['candlesData']['price'],'color':pH}));break;case'compare':const pI=pp(pA),pJ=po(pA);pl(bo['G']({'id':pA['id'],'type':pB,'symbol':pA['instrument']['symbol'],'chartType':pJ,'color':pI}));break;}}})),py=(0x0,U['zG'])(pc['marketPrice'],(0x0,ar['x'])(),(0x0,O['b'])(pA=>{(0x0,U['zG'])(pm['getValue'](),bo['g_'](U['Q1'],pB=>{const pC=p8['mainPane']['mainExtent']['formatters']['regular'](pA);pB['type']==='main'&&pl(bo['G'](jg(jf({},pB),{'trading':jg(jf({},pB['trading']),{'marketPrice':pC})})));}));})),pz=(0x0,an['T'])(px,py);return(0x0,j4['F'])({'menuPosition':pk,'isOpened':pi,'closeMenu':pn,'selectedSeries':pm,'changeSelectedSeriesChartType':pt,'changeSelectedSeriesColor':pu,'changeSelectedSeriesPriceType':ps,'createOrder':pw,'reorderSeries':pv,'changeSelectedSeries':pr},pz);}),jk=(0x0,q['memo'])(p8=>{var p9;const {onDeleteSeries:pa,series:pb,isOpened:pc,onCloseSeries:pd,onOpenSeries:pe,popupPosition:pf,testId:pg,selectedSeries:ph,palette:pi,onChangeSeriesColor:pj,onChangeSeriesChartType:pk,onSeriesReorder:pl}=p8,pm=(0x0,q['useCallback'])(pv=>{pv['stopPropagation'](),pc?pd():pe(pb['model']['id']);},[pc,pd,pe,pb]),{keyboardModeEnabled:pn}=(0x0,q['useContext'])(cr['E']),po=(0x0,q['useCallback'])(()=>pa(pb['model']),[pa,pb]),pp=(0x0,q['useRef'])(null),pq=(0x0,q['useContext'])(fa['k']),pr=(0x0,q['useCallback'])(pv=>{pj(pv),pd();},[pj,pd]),ps=(0x0,q['useCallback'])(pv=>{pk(pv),pd();},[pk,pd]),pt=(0x0,q['useCallback'])(pv=>{pl(pv),pd();},[pl,pd]),pu=(p9=(0x0,ho['vS'])(['rightClickMenus','dataMenu']))!=null?p9:ph&&ph['type']==='compare'&&q['createElement'](j1,{'selectedSeries':ph,'palette':pi,'seriesChartTypes':jh,'onChangeSeriesColor':pr,'onChangeSeriesChartType':ps,'onSeriesReorder':pt,'onChartTypeClose':pd});return q['createElement'](q['Fragment'],null,q['createElement'](fr,{'data-test-id':pg,'isPopoverOpened':pc&&!pf['x']},q['createElement'](ee,null,pb['model']['symbol']),q['createElement'](fo,{'keyboardModeEnabled':pn,'ref':pb['ref']}),q['createElement'](fn,{'keyboardModeEnabled':pn},q['createElement'](fs,{'onClick':pm,'ref':pp},q['createElement'](ha,null,pq['legend']['secondarySeries']['settings'])),q['createElement'](ft,{'onClick':po},q['createElement'](ha,null,pq['legend']['secondarySeries']['delete'])))),q['createElement'](ia,{'opened':pc,'customPosition':pf,'onRequestClose':pd},pu));}),jl=(p8,p9)=>{let pa=null,pb=0x0;return pc=>{pc['preventDefault'](),pb+=pc['deltaY'],pa||(pa=setTimeout(()=>{p8(pb),pb=0x0,pa=null;},p9));};},jm=p8=>p9=>{var pa;return(pa=p8==null?void 0x0:p8['current'])==null?void 0x0:pa['scrollBy']({'behavior':'smooth','top':p9});},jn='wheel',jo=p8=>{q['useEffect'](()=>{const p9=jl(jm(p8),0x32),pa=p8==null?void 0x0:p8['current'];return pa==null||pa['addEventListener'](jn,p9,!0x0),()=>pa==null?void 0x0:pa['removeEventListener'](jn,p9,!0x0);},[p8]);};var jp=n(0x14de5),jq=n(0x155d7),jr=Object['defineProperty'],js=Object['defineProperties'],jt=Object['getOwnPropertyDescriptors'],ju=Object['getOwnPropertySymbols'],jv=Object['prototype']['hasOwnProperty'],jw=Object['prototype']['propertyIsEnumerable'],jx=(p8,p9,pa)=>p9 in p8?jr(p8,p9,{'enumerable':!0x0,'configurable':!0x0,'writable':!0x0,'value':pa}):p8[p9]=pa,jy=(p8,p9)=>{for(var pa in p9||(p9={}))jv['call'](p9,pa)&&jx(p8,pa,p9[pa]);if(ju){for(var pa of ju(p9))jw['call'](p9,pa)&&jx(p8,pa,p9[pa]);}return p8;},jz=(p8,p9)=>js(p8,jt(p9));const jA=(0x0,q['memo'])(({title:p8,lines:p9,uuid:pa,studiesSettingsProps:pb,onDeleteStudySeries:pc,disabled:pd})=>{const pe=(0x0,q['useContext'])(fa['k']),{keyboardModeEnabled:pf}=(0x0,q['useContext'])(cr['E']),pg=q['useRef'](null),{onClose:ph,onConfigure:pi,settingsBtnRef:pj,isOpened:pk}=(0x0,jq['f'])(pb,pa);jo(pg);const pl=(0x0,q['useCallback'])(()=>pc(pa),[pc,pa]);return q['createElement'](q['Fragment'],null,q['createElement'](gt,{'disabled':pd,'ref':pg},q['createElement'](gl,null,p8),q['createElement'](gn,null,p9['map'](pm=>q['createElement'](go,{'key':pm['title'],'ref':pm['ref']}))),!pd&&q['createElement'](gr,{'isVisible':pf,'position':'static'},q['createElement'](fs,{'ref':pj,'onClick':pi},q['createElement'](ha,null,pe['legend']['separateStudies']['settings'])),q['createElement'](ft,{'onClick':pl},q['createElement'](ha,null,pe['legend']['separateStudies']['delete'])))),q['createElement'](jp['s'],jz(jy({},pb),{'isOpened':pk,'onClose':ph,'anchorRef':pj})));}),jB=cs['ZP']['div']`
	margin-top: var(--spacer-3);
	font-family: var(--font-main-semibold);
	&:hover {
		${gr} {
			visibility: visible;
		}
	}
`,jC=cs['ZP']['div']`
	color: var(--databox-text-disabled);
	display: flex;
	justify-content: space-between;
	align-items: center;
	font-size: inherit;
	line-height: var(--line-height-m-px);
	pointer-events: visible;
`,jD=cs['ZP']['div']`
	font-family: var(--font-main-semibold);
`,jE=cs['ZP']['div']`
	position: relative;
	display: flex;
	align-items: center;
	margin-left: var(--spacer-2);
`,jF=({title:p8,children:p9})=>q['Children']['count'](p9)?q['createElement'](jB,null,q['createElement'](jC,null,p8),p9):null;var jG=Object['defineProperty'],jH=Object['defineProperties'],jI=Object['getOwnPropertyDescriptors'],jJ=Object['getOwnPropertySymbols'],jK=Object['prototype']['hasOwnProperty'],jL=Object['prototype']['propertyIsEnumerable'],jM=(p8,p9,pa)=>p9 in p8?jG(p8,p9,{'enumerable':!0x0,'configurable':!0x0,'writable':!0x0,'value':pa}):p8[p9]=pa,jN=(p8,p9)=>{for(var pa in p9||(p9={}))jK['call'](p9,pa)&&jM(p8,pa,p9[pa]);if(jJ){for(var pa of jJ(p9))jL['call'](p9,pa)&&jM(p8,pa,p9[pa]);}return p8;},jO=(p8,p9)=>jH(p8,jI(p9));const jP=(0x0,q['memo'])(({uuid:p8,title:p9,children:pa,studiesSettingsProps:pb,onDeleteStudySeries:pc})=>{const pd=(0x0,q['useContext'])(fa['k']),{keyboardModeEnabled:pe}=(0x0,q['useContext'])(cr['E']),{onClose:pf,onConfigure:pg,settingsBtnRef:ph,isOpened:pi}=(0x0,jq['f'])(pb,p8),pj=(0x0,q['useCallback'])(()=>pc(p8),[pc,p8]);return q['Children']['count'](pa)?q['createElement'](q['Fragment'],null,q['createElement'](jB,null,q['createElement'](jC,null,q['createElement'](jD,null,p9),q['createElement'](jE,null,q['createElement'](gr,{'isVisible':pe,'position':'static'},q['createElement'](hl,{'ref':ph,'onClick':pg,'icon':q['createElement'](ha,null,pd['legend']['stackedStudies']['settings'])}),q['createElement'](hn,{'onClick':pj,'icon':q['createElement'](ha,null,pd['legend']['stackedStudies']['delete'])})))),pa),q['createElement'](jp['s'],jO(jN({},pb),{'isOpened':pi,'onClose':pf,'anchorRef':ph}))):null;}),jQ=cs['ZP']['div']`
	margin-top: var(--spacer-3);
`,jR=(0x0,cs['ZP'])(ec)`
	display: flex;
	justify-content: space-between;
	width: 100%;
	margin-top: 0;

	${gr} {
		@media (max-width: 480px) {
			visibility: hidden;
		}
	}

	&:hover {
		${gr} {
			visibility: visible;
		}

		${go} {
			display: none;
		}
	}
`,jS=(0x0,cs['ZP'])(go)`
	display: ${p8=>p8['isHidden']?'none':'block'};
`;var jT=Object['defineProperty'],jU=Object['defineProperties'],jV=Object['getOwnPropertyDescriptors'],jW=Object['getOwnPropertySymbols'],jX=Object['prototype']['hasOwnProperty'],jY=Object['prototype']['propertyIsEnumerable'],jZ=(p8,p9,pa)=>p9 in p8?jT(p8,p9,{'enumerable':!0x0,'configurable':!0x0,'writable':!0x0,'value':pa}):p8[p9]=pa,k0=(p8,p9)=>{for(var pa in p9||(p9={}))jX['call'](p9,pa)&&jZ(p8,pa,p9[pa]);if(jW){for(var pa of jW(p9))jY['call'](p9,pa)&&jZ(p8,pa,p9[pa]);}return p8;},k1=(p8,p9)=>jU(p8,jV(p9));const k2=(0x0,q['memo'])(({uuid:p8,line:p9,studiesSettingsProps:pa,onDeleteStudySeries:pb})=>{const {keyboardModeEnabled:pc}=(0x0,q['useContext'])(cr['E']),pd=(0x0,q['useContext'])(fa['k']),{onClose:pe,onConfigure:pf,settingsBtnRef:pg,isOpened:ph}=(0x0,jq['f'])(pa,p8),pi=(0x0,q['useCallback'])(()=>pb(p8),[pb,p8]);return q['createElement'](q['Fragment'],null,q['createElement'](jQ,null,q['createElement'](jR,null,q['createElement'](gl,null,p9['title']),q['createElement'](gr,{'isVisible':pc,'position':'static'},q['createElement'](hl,{'onClick':pf,'ref':pg,'icon':q['createElement'](ha,null,pd['legend']['stackedStudies']['settings'])}),q['createElement'](hn,{'onClick':pi,'icon':q['createElement'](ha,null,pd['legend']['stackedStudies']['delete'])})),q['createElement'](jS,{'isHidden':pc,'ref':p9['ref']}))),q['createElement'](jp['s'],k1(k0({},pa),{'isOpened':ph,'onClose':pe,'anchorRef':pg})));}),k3=(0x0,q['memo'])(({line:p8})=>q['createElement'](hi,null,q['createElement'](gl,null,p8['title']),q['createElement'](go,{'ref':p8['ref']})));var k4=n(0x7b4c),k5=n(0x16235),k6=n(0xd7f5),k7=n(0x61e);const k8=cs['ZP']['div']``,k9=cs['ZP']['div']`
	text-align: center;
	color: var(--icon-secondary-default-bg);
	cursor: pointer;
	border-radius: 0 0 4px 4px;
	position: absolute;
	width: 100%;
	bottom: 0;
	left: 0;

	background: ${()=>{const p8=document['getElementById'](k7['$x']);if(p8){const p9=window['getComputedStyle'](p8)['getPropertyValue']('--main_chart-bg')['trim']();return'linear-gradient(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20180deg,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(0x0,k6['dF'])(p9,0x0)+'\x200%,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(0x0,k6['dF'])(p9,0x64)+'\x20100%\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20)';}return'linear-gradient(180deg,\x20rgba(20,\x2020,\x2019,\x200)\x200%,\x20#141413\x20100%);';}};

	&:hover {
		color: var(--icon-primary-default-bg);
	}
`,ka=cs['ZP']['div']`
	line-height: var(--line-height-xl-px);
	margin-right: var(--spacer-1);
`,kb=cs['ZP']['div']`
	line-height: var(--line-height-xl-px);
	margin-left: var(--spacer-1);
`,kc=cs['ZP']['div']`
	line-height: var(--line-height-xl-px);
`,kd=cs['ZP']['button']`
	all: unset;
	height: '24px';
	width: fit-content;
	padding: 0 var(--spacer-1);
	font-size: var(--font-size-m);
	color: ${p8=>p8['isOpened']?'var(--databox-text-default)':'var(--icon-secondary-default-bg)'};
	font-family: var(--font-main-semibold);
	font-feature-settings: 'tnum' on, 'lnum' on;
	display: flex;
	align-items: center;
	border-radius: 4px;
	user-select: none;
	background-color: transparent;

	${p8=>(0x0,k5['Z'])(!p8['isDisabled'])`
		cursor: pointer;
	`}

	&:focus-visible {
		outline: 1px solid var(--button-focus-border);
	}
`,ke=cs['ZP']['div']`
	position: relative;
	height: fit-content;
	margin: 0 var(--spacer-05);
	${p8=>p8['isOpened']?'transform:\x20rotate(-180deg)':'transform:\x20translateY(-1px);'};
	transition: transform ${p8=>p8['duration']+'ms'};
	color: var(--icon-secondary-default-bg);
`,kf=cs['ZP']['div']['attrs'](p8=>({'data-opened':p8['isOpened']}))`
	position: absolute;
	display: flex;
	flex-flow: column nowrap;
	width: auto;
	top: ${p8=>p8['y']}px;
	left: ${p8=>p8['x']}px;
	padding: var(--spacer-1) 0 var(--spacer-2) var(--spacer-1);
	background-color: ${p8=>p8['isOpened']?'var(--databox-bg)':'transparent'};

	&:hover {
		${kd} {
			color: var(--databox-text-default);
			${ke} {
				color: ${p8=>p8['isOpened']?'var(--icon-secondary-default-bg)':'var(--icon-primary-default-bg)'};
			}
		}
	}
`,kg=cs['ZP']['div']`
	padding-right: var(--spacer-2);
`,kh=cs['ZP']['div']`
	width: 100%;
	overflow: hidden;
	max-height: ${p8=>p8['isOpened']?p8['height']+'px':'0\x20!important'};
	opacity: ${p8=>p8['isOpened']?'1':'0'};
	transition: all ${p8=>p8['duration']+'ms'};

	${kg} {
		height: ${p8=>p8['height']+'px'};
	}

	// need for fix bug with firefox scroll size. Can be removed after remade Scrollable to SC
	@supports (scrollbar-width: none) {
		div[class^='scrollable_container'] {
			scrollbar-width: none;
			width: 100% !important;
			height: 100% !important;
			margin: 0 !important;
		}
	}
`,ki=(p8=0x12c,p9=!0x1,pa=U['Q1'])=>{const pb=(0x0,q['useRef'])(null),[pc,pd]=(0x0,q['useState'])(p9),[pe,pf]=(0x0,q['useState'])(p9),pg=(0x0,q['useCallback'])(pk=>{pd(pk),pa(pk);},[pa,pd]),ph=(0x0,q['useCallback'])(()=>{pg(!0x0),pf(!0x0);},[pf,pg]),pi=(0x0,q['useCallback'])(()=>{pf(!0x1),pb['current']=setTimeout(()=>{pg&&(pg(!0x1),pb['current']=null);},p8);},[pf,pg,p8]),pj=(0x0,q['useCallback'])(()=>{if(pc&&!pe){pb['current']=null,ph();return;}pc?pi():ph();},[pc,pe,pi,ph]);return{'isOpening':pe,'isOpened':pc,'openToggle':pj};},kj=q['memo'](p8=>{const {children:p9,Header:pa=null,id:pb,duration:pc=0x12c,isOpened:pd,x:pe=0x0,y:pf=0x0,timeRef:pg,setFitsContentRef:ph,setHeightRef:pi,ariaLabel:pj,isEmpty:pk,instrument:pl,period:pm,switcherRef:pn,onContextMenu:po,onOpenedChange:pp}=p8,pq=(0x0,q['useContext'])(fa['k']),pr=(0x0,q['useRef'])(null),{isOpening:ps,openToggle:pt}=ki(pc,pd,pp),[pu,pv]=(0x0,q['useState'])(!0x1),[pw,px]=(0x0,q['useState'])(!0x0),[py,pz]=(0x0,q['useState'])(0x0);ph['current']=px,pi['current']=pz;const pA=String['fromCharCode'](0xb7),pB=pl?pl+'\x20'+pA:'',pC=pm?pA+'\x20'+pm:'',pD=(0x0,q['useCallback'])(()=>!pk&&pt(),[pk,pt]),pE=(0x0,q['useCallback'])((pH,pI)=>{pr['current']&&pv(pr['current']['clientHeight']+pI>=pr['current']['scrollHeight']);},[]),pF=(0x0,q['useCallback'])(()=>{pr['current']&&pr['current']['scrollBy']({'top':pr['current']['scrollHeight'],'behavior':'smooth'});},[]);pw&&pu===!0x0&&pv(!0x1),jo(pr);const pG='legend_content'+pb;return q['createElement'](kf,{'isOpened':ps,'ref':pn,'x':pe,'y':pf},pa,q['createElement'](k8,{'onContextMenu':po},q['createElement'](kd,{'isDisabled':pk,'aria-label':pj,'aria-expanded':ps,'aria-controls':pG,'onClick':pD,'isOpened':ps,'duration':pc},pl&&q['createElement'](ka,null,pB),q['createElement'](kc,{'ref':pg}),pm&&q['createElement'](kb,null,pC),!pk&&q['createElement'](ke,{'isOpened':ps,'duration':pc},q['createElement'](ge['a'],{'width':0xc,'height':0xc},pq['legend']['arrow']))),q['createElement'](kh,{'isOpened':ps,'duration':pc,'height':py},q['createElement'](k4['R'],{'mode':'wheeling','onScroll':pE,'containerRef':pr},q['createElement'](kg,{'id':pG},p9))),ps&&!pw&&!pu&&q['createElement'](k9,{'onClick':pF},pq['legend']['arrow'])));}),kk=(0x0,q['memo'])(p8=>{const {selectedSeries:p9,popupPosition:pa,period:pb,onCloseSeries:pc,onDeleteSeries:pd,onDeleteStudySeries:pe,onOpenSeries:pf,onOpenedChange:pg,onContextMenu:ph,showStudies:pi,isOpened:pj,showMainLegendVolumes:pk,showSeparateLegendVolumes:pl,domMutationProps:pm,id:pn,chart:po,config:pp,mainInstrumentSymbol:pq,studiesSettingsProps:pr,Header:ps,selectedSeriesDataMenu:pt,onChangeSeriesColor:pu,onChangeSeriesChartType:pv,onSeriesReorder:pw,disabled:px}=p8,{localization:py}=(0x0,q['useContext'])(cr['E']),pz=bo['FS'](p9),pA=!pp['showOHLC']&&!pk&&pm['secondarySeries']['length']===0x0&&(!pi||pm['stackedStudySeries']['length']===0x0),pB=pp['showMainInstrument']?pq:void 0x0,pC=pp['showPeriod']?(0x0,P['cL'])(pb):void 0x0,pD=pE=>Object['entries'](pp['configOHLC'])['filter'](([pF,pG])=>pG&&pE!==pF)['length']===0x0;return q['createElement'](q['Fragment'],null,q['createElement'](kj,{'id':pn,'instrument':pB,'period':pC,'isEmpty':pA,'isOpened':pj,'setFitsContentRef':pm['container']['setLegendFitsContent'],'setHeightRef':pm['container']['setHeight'],'timeRef':pm['time'],'switcherRef':pm['container']['switcherPositionRef'],'Header':ps,'ariaLabel':py['legend']['a11y_legendSwitcher'],'onContextMenu':ph,'onOpenedChange':pg},q['createElement'](ea,{'blacklistOfEvents':['onWheel','onMouseDown'],'chart':po},q['createElement'](en,{'ref':pm['container']['containerRef']},pp['showOHLC']&&q['createElement'](q['Fragment'],null,q['createElement'](eo,null,pp['configOHLC']['O']&&q['createElement'](et,{'name':pD('O')?py['legend']['fullOHLCNames']['open']:py['legend']['open'],'ChartLegendItemRef':pm['open']}),pp['configOHLC']['H']&&q['createElement'](et,{'name':pD('H')?py['legend']['fullOHLCNames']['high']:py['legend']['high'],'ChartLegendItemRef':pm['high']})),q['createElement'](eo,null,pp['configOHLC']['L']&&q['createElement'](et,{'name':pD('L')?py['legend']['fullOHLCNames']['low']:py['legend']['low'],'ChartLegendItemRef':pm['low']}),pp['configOHLC']['C']&&q['createElement'](et,{'name':pD('C')?py['legend']['fullOHLCNames']['close']:py['legend']['close'],'ChartLegendItemRef':pm['close']}))),pk&&q['createElement'](et,{'name':py['legend']['volume'],'ChartLegendItemRef':pm['mainVolume'],'valueColor':'var(--main_chart_candle_bear_body_bg)'}),pi&&pm['stackedStudySeries']['map'](({title:pE,lines:pF,uuid:pG})=>pF['length']===0x1?q['createElement'](k2,{'key':pG,'uuid':pG,'line':pF[0x0],'onDeleteStudySeries':pe,'studiesSettingsProps':pr}):q['createElement'](jP,{'title':pE,'key':pG,'uuid':pG,'onDeleteStudySeries':pe,'studiesSettingsProps':pr},pF['map'](pH=>q['createElement'](k3,{'key':pG+'-'+pH['title']+'-key','line':pH})))),q['createElement'](jF,{'title':py['legend']['compare']},pm['secondarySeries']['map'](pE=>q['createElement'](jk,{'popupPosition':pa,'onOpenSeries':pf,'isOpened':pE['model']['id']===pz,'onCloseSeries':pc,'key':pE['model']['symbol'],'series':pE,'onDeleteSeries':pd,'palette':pr['palette'],'testId':co['z']['chart_legend_secondary_series_item'],'selectedSeries':pt,'onChangeSeriesColor':pu,'onChangeSeriesChartType':pv,'onSeriesReorder':pw})))))),pi?q['createElement'](q['Fragment'],null,pm['separatedStudySeries']['map'](({uuid:pE,title:pF,lines:pG,ref:pH})=>q['createElement'](er,{'key':pE,'ref':pH},q['createElement'](jA,{'uuid':pE,'title':pF,'lines':pG,'onDeleteStudySeries':pe,'studiesSettingsProps':pr,'disabled':px})))):null,pl?q['createElement'](er,{'ref':pm['separateVolume']['containerRef']},q['createElement'](es,null,q['createElement'](et,{'name':py['legend']['volume'],'ChartLegendItemRef':pm['separateVolume']['valueRef'],'valueColor':'var(--main_chart_candle_bear_body_bg)'}))):null);});var kl=n(0x3f35),km=n(0x12c2d),kn=n(0x153b6),ko=n(0x15c48);const kp=(0x0,cs['ZP'])(ko['mf'])`
	gap: var(--spacer-1);

	${kn['pM']} {
		height: 20px;
		border-radius: 10px;
	}

	${kn['rn']} {
		height: 20px;
		border-radius: 10px;
	}

	${kn['xF']} {
		gap: var(--spacer-1);
		background-color: transparent;
	}

	${kn['xx']} {
		font-size: var(--font-size-m);
		line-height: var(--line-height-m-px);
		background-color: transparent;
	}

	${kn['p$']} {
		width: 20px;
		height: 20px;
		border-radius: 50%;
		padding: 0 var(--spacer-1);
		line-height: var(--line-height-l-px);
		vertical-align: middle;
		text-align: center;
		background-color: var(--dropdown-default-bg);
	}
`,kq={'x':0x0,'y':0x0},kr=u['Do']['combine'](kl['kG'],jj,km['Z'],u['Do']['key']()('dxScriptEditViewModel'),u['Do']['key']()('chartLegendVM'),u['Do']['key']()('studiesSettingsViewModel'),u['Do']['key']()('chartDataViewModel'),u['Do']['key']()('colorPalette'),u['Do']['key']()('chart'),u['Do']['key']()('chartConfiguratorViewModel'),u['Do']['key']()('initialLoaderVM'),u['Do']['key']()('aggregationPeriodViewModel'),u['Do']['key']()('orderEntryVM'),u['Do']['key']()('tradingVM'),u['Do']['key']()('dataLoaderVM'),u['Do']['key']()('localization'),u['Do']['key']()('chartReactConfig'),u['Do']['key']()('drawingViewModel'),(p8,p9,pa,pb,pc,pd,pe,pf,pg,ph,pi,pj,pk,pl,pm,pn,po,pp)=>(0x0,A['w'])('ChartLegendContainer',({id:pq})=>{var pr;const ps=(0x0,cn['Z'])(()=>p9,[]),pt=(0x0,cn['Z'])(()=>p8,[]),pu=(0x0,cl['m'])(pc['selectedSeries'],bo['YP']),pv=(0x0,cl['m'])(pc['popupPosition'],kq),pw=(0x0,cl['m'])(pc['showStudies'],!0x0),px=(0x0,cl['m'])(pc['showMainLegendVolumes'],!0x1),py=(0x0,cl['m'])(pc['showSeparateLegendVolumes'],!0x1),pz=(0x0,B['W'])(pc['configOHLC']),pA=(0x0,B['W'])(pt['stackedStudySeries']),pB=(0x0,B['W'])(pt['separateStudySeries']),pC=(0x0,B['W'])(pt['secondarySeries']),pD=(0x0,B['W'])(pe['instrument']),pE=(0x0,B['f'])(ph['state'],['settings','chartReact','legend']),pF=(0x0,cl['m'])(pe['historicalCandlesUpdated'],[])['length']!==0x0,pG=(0x0,cl['m'])(pd['studies$'],[]),pH=(0x0,cl['m'])(pd['addedStudies$'],[]),pI=(0x0,B['W'])(pi['isLoaded']),pJ=(0x0,B['W'])(pd['isOpened']),pK=(0x0,cl['m'])(pd['selectedStudyUUID$'],''),pL=po['studies']['maxSelectedStudiesCount']||0x5,{dxScriptEnabled:pM}=po['studies'],{isMobile:pN}=(0x0,q['useContext'])(iZ['El']),pO=pN?!0x0:po['studies']['addStudyButtonEnabled'],pP=(0x0,cl['m'])(pc['uuidFromRightClick'],''),pQ=(0x0,B['W'])(pb['popups']),pR=(0x0,q['useMemo'])(()=>pQ['some'](q9=>q9['opened']),[pQ]),pS=(0x0,B['W'])(pm['isLoading']),pT=(0x0,B['W'])(pk['orderEntry']),pU=(0x0,B['W'])(pk['orderEntryEnabled']),pV=(0x0,q['useMemo'])(()=>pU&&pF&&!pS?(0x0,q['createElement'])(kp,{'disabled':pT['disabled'],'quantity':pT['quantity'],'quantityPrecision':pT['quantityPrecision'],'quantityStep':pT['quantityStep'],'maxQuantity':pT['maxQuantity'],'type':'BuyMarketSellMarket','onQuantityChange':pk['setOrderQuantity'],'createOrder':pl['createOrderFromOrderEntry'],'tradingDict':pn['trading']}):null,[pU,pT,pF,pS]),pW=(pr=(0x0,ho['vS'])(['Legend','Header']))!=null?pr:pV,pX=(0x0,q['useMemo'])(()=>(0x0,U['zG'])(pD,bo['UI'](q9=>q9['symbol']),bo['FS']),[pD]),pY=(0x0,B['W'])(pj['selectedPeriod']),pZ=(0x0,q['useCallback'])(q9=>{pc['onDeleteStudySeries'](q9),pd['onRemoveStudy'](q9),pd['onSave']();},[]),q0=(0x0,q['useMemo'])(()=>({'container':pt['legendContainer'],'open':pt['open'],'close':pt['close'],'high':pt['high'],'low':pt['low'],'time':pt['time'],'mainVolume':pt['volumeMain'],'separateVolume':pt['separateVolume'],'stackedStudySeries':pA,'separatedStudySeries':pB,'secondarySeries':pC}),[pt['legendContainer'],pt['close'],pt['high'],pt['low'],pt['open'],pt['separateVolume'],pt['time'],pt['volumeMain'],pC,pB,pA]),q1=(0x0,q['useMemo'])(()=>({'palette':pf,'isOpened':pJ,'selectedStudySettingsUUID':pK,'maxCountSelected':pL,'studies':pG,'addedStudies':pH,'dxScriptEnabled':pM,'addStudyButtonEnabled':pO,'CodeEditorContainer':pa,'uuidFromRightClick':pP,'onCreateNewScript':pb['addNewScript'],'onEditScript':pb['onPopupOpen'],'onDeleteScript':pb['deleteScript'],'onAddedStudy':pd['onAddedStudy'],'onRemoveStudy':pd['onRemoveStudy'],'onChangeStudy':pd['onChangeStudy'],'onReorderStudies':pd['onReorderStudies'],'onRemoveAllStudies':pd['onRemoveAllStudies'],'onClose':pd['onClose'],'onOpen':pd['onOpen'],'onConfigureStudy':pd['onConfigureStudy'],'checkIfCustomStudyAdded':pd['checkIfCustomStudyAdded'],'isEditing':pR}),[pJ,pK,pL,pG,pH,pM,pO,pP,pR]),q2=(0x0,q['useMemo'])(()=>({'opened':pE['opened']&&pI,'showMainInstrument':pE['showInstrument'],'showOHLC':pE['showOHLC'],'showPeriod':pE['showPeriod'],'showVolume':pE['showVolume'],'configOHLC':pz}),[pI,pE['opened'],pE['showInstrument'],pE['showOHLC'],pE['showVolume'],pE['showPeriod'],pz]),q3=(0x0,q['useCallback'])(q9=>pc['contextMenuSubject']['next'](q9),[]);(0x0,q['useLayoutEffect'])(()=>{pt['syncState']();});const q4=(0x0,q['useCallback'])(q9=>{ps['changeSelectedSeries'](q9,'compare'),pc['onOpenSeries'](q9);},[ps]),q5=(0x0,q['useCallback'])(()=>{pc['onCloseSeriesPopup']();},[]),q6=(0x0,B['W'])(ps['selectedSeries']),q7=(0x0,q['useMemo'])(()=>(0x0,U['zG'])(q6,bo['pF'](U['r5'])),[q6]),q8=(0x0,B['W'])(pp['isDisabled']);return(0x0,q['createElement'])(kk,{'mainInstrumentSymbol':pX,'chart':pg,'id':pq,'selectedSeries':pu,'popupPosition':pv,'onCloseSeries':q5,'onDeleteSeries':pc['onDeleteSeries'],'onOpenSeries':q4,'onDeleteStudySeries':pZ,'onOpenedChange':pc['setOpenedValue'],'showStudies':pw,'isOpened':q2['opened'],'domMutationProps':q0,'showMainLegendVolumes':px,'showSeparateLegendVolumes':py,'onContextMenu':q3,'config':q2,'period':pY,'studiesSettingsProps':q1,'Header':pW,'selectedSeriesDataMenu':q7,'onChangeSeriesColor':ps['changeSelectedSeriesColor'],'onChangeSeriesChartType':ps['changeSelectedSeriesChartType'],'onSeriesReorder':ps['reorderSeries'],'disabled':q8});})),ks=cs['ZP']['div']['attrs'](p8=>({'style':{'top':p8['top']+'px','right':p8['right']+'px','visibility':p8['isHovered']?'visible':'hidden','opacity':p8['isHovered']?0x1:0x0}}))`
	display: flex;
	position: absolute;
	margin-top: var(--spacer-1);
	transition: opacity 0.3s ease;
`,kt=(0x0,cs['ZP'])(ga['E'])`
	width: 24px;
	min-width: 24px;
	height: 24px;
	margin-right: var(--spacer-05);
	margin-left: var(--spacer-05);
	color: var(--icon-primary-default-bg);
	border-radius: 4px;

	background: var(--button-tertiary-default);
	&:hover {
		background: var(--button-tertiary-hover);
	}
	&:first-child {
		margin-left: auto;
	}
`,ku=0x19,kv=(0x0,q['memo'])(p8=>{const {panesData:p9,hoveredPane:pa,tradingOEEnabled:pb,movePaneUp:pc,movePaneDown:pd}=p8,pe=p9['right'],pf=bo['FS'](pa),pg=(0x0,q['useContext'])(fa['k']),ph=(0x0,q['useCallback'])(()=>pf&&pc(pf),[pc,pf]),pi=(0x0,q['useCallback'])(()=>pf&&pd(pf),[pd,pf]),pj=(0x0,q['useCallback'])(pk=>pb&&pk===bn['kg']?ku:0x0,[pb]);return p9['panes']['length']>0x1?q['createElement'](q['Fragment'],null,p9['panes']['map'](pk=>q['createElement'](ks,{'key':pk['uuid'],'isHovered':pk['uuid']===pf,'right':pe+pj(pk['uuid']),'top':pk['bounds']['y']},!pk['isBottom']&&q['createElement'](kt,{'onClick':pi,'icon':pg['pane']['movePaneDown']}),!pk['isTop']&&q['createElement'](kt,{'onClick':ph,'icon':pg['pane']['movePaneUp']})))):null;}),kw=u['Do']['combine'](u['Do']['key']()('chartPaneViewModel'),u['Do']['key']()('chart'),u['Do']['key']()('chartReactConfig'),u['Do']['key']()('chartDataViewModel'),(p8,p9,pa,pb)=>(0x0,A['w'])('ChartPaneContainer',()=>{const pc=(0x0,B['W'])(p8['panesData']),pd=(0x0,B['W'])(p8['hoveredPane']),pe=pa['trading']['enabled']&&pa['trading']['addNewOrderEnabled'];return(0x0,B['W'])(pb['historicalCandlesUpdated'])['length']!==0x0?q['createElement'](ea,{'chart':p9},q['createElement'](kv,{'panesData':pc,'hoveredPane':pd,'movePaneUp':p8['movePaneUp'],'movePaneDown':p8['movePaneDown'],'tradingOEEnabled':pe})):null;}));var kx=n(0x9082),ky=n(0xe94b),kz=n(0x17d3a),kA=Object['defineProperty'],kB=Object['getOwnPropertySymbols'],kC=Object['prototype']['hasOwnProperty'],kD=Object['prototype']['propertyIsEnumerable'],kE=(p8,p9,pa)=>p9 in p8?kA(p8,p9,{'enumerable':!0x0,'configurable':!0x0,'writable':!0x0,'value':pa}):p8[p9]=pa,kF=(p8,p9)=>{for(var pa in p9||(p9={}))kC['call'](p9,pa)&&kE(p8,pa,p9[pa]);if(kB){for(var pa of kB(p9))kD['call'](p9,pa)&&kE(p8,pa,p9[pa]);}return p8;};const kG=(0x0,ky['M5'])(()=>Promise['all']([n['e'](0xd8),n['e'](0x2f3),n['e'](0xa3)])['then'](n['bind'](n,0x6010))),kH=u['Do']['combine'](u['Do']['key']()('drawingViewModel'),u['Do']['key']()('chartDataViewModel'),u['Do']['key']()('chartConfiguratorViewModel'),u['Do']['key']()('timeZoneViewModel'),u['Do']['key']()('colorPalette'),u['Do']['key']()('localization'),(p8,p9,pa,pb,pc,pd)=>(0x0,q['memo'])(pe=>{const pf=(0x0,B['W'])(p9['instrument']),pg=(0x0,cl['m'])(p8['currentEditableDrawing'],bo['YP']),ph=(0x0,cl['m'])(p8['isSettingsPopupOpened'],!0x1),{settings:pi}=(0x0,B['W'])(pa['state']),pj=pd['drawings'],pk=(0x0,q['useContext'])(fa['k']),pl=(0x0,B['W'])(p8['toolbarPositionPixels']),pm=(0x0,B['W'])(p8['chartBounds']),pn=(0x0,B['W'])(p8['toolbarWidth']),po=(0x0,cl['m'])(pb['currentTimezone'],''),pp=(0x0,cl['m'])(pb['currentExchange'],''),pq=(0x0,q['useMemo'])(()=>po===kz['dK']?pp:po,[po,pp]);return(0x0,q['createElement'])(kG,kF({'onDrag':p8['handleDrag'],'onRemove':p8['removeDrawing'],'drawing':(0x0,kx['wJ'])(pg),'instrument':pf,'currentTimezone':pq,'onDrawingChange':p8['updateDrawing'],'palette':pc,'togglePopup':p8['toggleSettingsPopup'],'isPopupOpened':ph,'requestRestoreDefaults':p8['resetChanges'],'magnetMode':pi['chartCore']['components']['drawings']['magnet']!==0x0,'setMagnetMode':pa['setMagnetMode'],'drawingsDict':pj,'iconsConfig':pk,'updateToolbarWidth':p8['updateToolbarWidth'],'toggleDrawingLocked':p8['toggleDrawingLocked'],'position':pl,'bounds':pm,'toolbarWidth':pn},pe));})),kI=u['Do']['combine'](kH,u['Do']['key']()('drawingViewModel'),(p8,p9)=>(0x0,A['w'])('DrawingSettingsToolbarContainer',pa=>{const pb=(0x0,cl['m'])(p9['isDisabled'],!0x1),pc=(0x0,cl['m'])(p9['currentEditableDrawing'],bo['YP']);return!pb&&(0x0,bo['pC'])(pc)?(0x0,q['createElement'])(p8,pa):null;}));var kJ=n(0xf44b),kK=n(0xa687),kL=n(0xcec1),kM=n(0xde6),kN=n(0x1156a),kO=Object['defineProperty'],kP=Object['getOwnPropertySymbols'],kQ=Object['prototype']['hasOwnProperty'],kR=Object['prototype']['propertyIsEnumerable'],kS=(p8,p9,pa)=>p9 in p8?kO(p8,p9,{'enumerable':!0x0,'configurable':!0x0,'writable':!0x0,'value':pa}):p8[p9]=pa,kT=(p8,p9)=>{for(var pa in p9||(p9={}))kQ['call'](p9,pa)&&kS(p8,pa,p9[pa]);if(kP){for(var pa of kP(p9))kR['call'](p9,pa)&&kS(p8,pa,p9[pa]);}return p8;};const kU=u['Do']['combine'](u['Do']['key']()('eventsDataProvider'),u['Do']['key']()('chart'),u['Do']['key']()('chartConfiguratorViewModel'),u['Do']['key']()('chartDataViewModel'),u['Do']['key']()('localization'),u['Do']['key']()('chartReactConfig'),(p8,p9,pa,pb,pc,pd)=>{const [pe,pf]=(0x0,j5['J'])(bo['YP']),pg=(0x0,U['zG'])(pa['state'],ac['UI'](pn=>pn['settings']['chartCore']['components']['events']['visible']),(0x0,ar['x'])(),(0x0,O['b'])(pn=>pn)),ph=(0x0,kK['a'])([pb['instrument']['pipe']((0x0,at['ok'])()),pg])['pipe']((0x0,bi['h'])(([pn,po])=>po),(0x0,M['w'])(([pn])=>p8['requestEventsData'](pn['symbol'])),(0x0,kL['d'])({'bufferSize':0x1,'refCount':!0x0})),pi=(0x0,kK['a'])([p9['events']['observeEventHovered'](),ph,(0x0,U['zG'])(pa['state'],ac['UI'](pn=>kT({},pn['settings']['chartCore']['components']['events']['eventsVisibility'])))])['pipe']((0x0,O['b'])(([pn,po,pp])=>{pn?pj(pn,po,pp):pe(bo['YP']);})),pj=(pn,po,pp)=>{const pq=po['events']['find'](pr=>pr['timestamp']===(pn==null?void 0x0:pn['timestamp'])&&pn['type']===pr['kind']);if(!pp[pn['type']]||pq===void 0x0)pe(bo['YP']);else{const pr=p9['bounds']['getBounds'](bn['Xu']['PANE_UUID'](bn['kg'])),ps=pr['y']+pr['height'],pt=p9['data']['chartModel']['candleFromTimestamp'](pn['timestamp'])['xCenter'](p9['scale']),pu=pc['events'],pv=p9['getConfig'](),pw=l0(pu,pq,pt,ps,pv,pd);pe(bo['G'](pw));}},pk=(0x0,U['zG'])(ph,(0x0,O['b'])(pn=>{const po=pn['events']['map'](kW);p9['events']['setEvents'](po);})),pl=(0x0,U['zG'])(pa['state'],ac['UI'](pn=>pn['settings']['chartCore']['components']['events']),(0x0,ar['x'])(),(0x0,O['b'])(pn=>{p9['events']['setVisible'](pn['visible']),p9['events']['setEventTypeVisible'](pn['eventsVisibility']);})),pm=(0x0,U['zG'])((0x0,an['T'])(pk,pl,pi),(0x0,kM['B'])());return(0x0,j4['F'])({'events':ph,'hoveredTarget':pf},pm);}),kV={'dividends':'rhombus-small','splits':'rhombus-small','earnings':'rhombus','conference-calls':'rhombus-large'},kW=p8=>({'type':p8['kind'],'timestamp':p8['timestamp'],'style':kV[p8['kind']]}),kX=p8=>''+p8['toLowerCase']()['split']('_')['map'](p9=>(0x0,j7['_A'])(p9,!0x1))['join']('\x20'),kY=(p8,p9,pa,pb)=>{if(pb)return(0x0,kJ['Z'])((0x0,kN['Z'])(p9,pa),pb(p8));switch(p8){case'earnings':case'dividends':case'splits':case'conference-calls':return(0x0,kJ['Z'])((0x0,kN['Z'])(p9,pa),'d\x20MMM\x20yyyy');}},kZ=(p8,p9,pa)=>({'title':p8['referencePeriod']+'\x20'+kX(p8['eventType'])+'\x20\x20Webcast','date':''+kY('conference-calls',p8['timestamp'],p9['timezone'],pa)}),l0=(p8,p9,pa,pb,pc,pd)=>{var pe;let pf=null;const pg=(pe=pd['dateFormatters'])==null?void 0x0:pe['events'];switch(p9['kind']){case'earnings':{pf={'title':p8['earnings']['type'],'rows':[{'name':p8['earnings']['basicEps'],'value':p9['basic']+''},{'name':p8['earnings']['dilutedEps'],'value':p9['diluted']+''},{'name':p8['earnings']['periodEnding'],'value':(0x0,kJ['Z'])((0x0,kN['Z'])(p9['periodEnding'],pc['timezone']),'MMM\x20yyyy')},{'name':p8['earnings']['date'],'value':kY('earnings',p9['timestamp'],pc['timezone'],pg)}],'color':pc['colors']['events']['earnings']['color'],'x':pa,'y':pb};break;}case'dividends':{pf={'title':p8['dividends']['type'],'rows':[{'name':p8['dividends']['gross'],'value':p9['gross']+''},{'name':p8['dividends']['date'],'value':kY('dividends',p9['timestamp'],pc['timezone'],pg)}],'color':pc['colors']['events']['dividends']['color'],'x':pa,'y':pb};break;}case'splits':{pf={'title':p8['splits']['type']+'\x20'+p9['splitFrom']+'/'+p9['splitTo'],'rows':[{'name':p8['splits']['date'],'value':kY('splits',p9['timestamp'],pc['timezone'],pg)}],'color':pc['colors']['events']['splits']['color'],'x':pa,'y':pb};break;}case'conference-calls':{pf={'title':p8['conference-calls']['type']+'\x20\x20','rows':[{'name':p8['conference-calls']['title'],'value':kZ(p9,pc,pg)['title']},{'name':p8['conference-calls']['date'],'value':kZ(p9,pc,pg)['date']}],'color':pc['colors']['events']['conference-calls']['color'],'x':pa,'y':pb};break;}}return pf;},l1=cs['ZP']['div']`
	position: absolute;
	opacity: 0;
	width: 0;
	height: 0;
	left: ${p8=>p8['x']}px;
	top: ${p8=>p8['y']}px;
`,l2=(0x0,cs['ZP'])(hr['J'])`
	border-width: 2px;
	top: ${p8=>0x0-p8['verticalMargin']}px;
	margin-left: var(--spacer-1);
	margin-bottom: var(--spacer-6);
	${hs['YR']}:not(:empty) {
		font-size: var(--font-size-m);
	}
`,l3=cs['ZP']['div']`
	white-space: nowrap;
	padding: 7px 20px 6px 10px;
`,l4=cs['ZP']['h3']`
	margin: 0;
	padding: 0;
	border: 0;
	vertical-align: baseline;
	margin-bottom: 4px;
	color: ${p8=>p8['color']};
	font-size: var(--font-size-m);
	line-height: var(--line-height-m-px);
	text-transform: capitalize;
	font-family: var(--font-main-semibold);
`,l5=cs['ZP']['div']`
	display: flex;
	line-height: 23px;
	font-size: var(--font-size-m);
	font-family: var(--font-main-semibold);
`,l6=cs['ZP']['div']``,l7=cs['ZP']['div']``,l8=cs['ZP']['div']`
	padding: 0;
	margin-left: 10px;
`,l9=cs['ZP']['div']``,la=0x14,lb=p8=>{const {event:p9,bounds:pa}=p8,pb=q['useRef'](null);return q['createElement'](q['Fragment'],null,(0x0,U['zG'])(p9,bo['fS'](()=>({'x':0x0,'y':0x0})),pc=>q['createElement'](l1,{'x':pc['x'],'y':pc['y'],'ref':pb})),(0x0,U['zG'])(p9,bo['g_'](U['gn'],pc=>q['createElement'](l2,{'anchorRef':pb,'customBounds':pa,'opened':!0x0,'align':'end','position':'right','verticalMargin':la},q['createElement'](l3,null,q['createElement'](l4,{'color':pc['color']},pc['title']),q['createElement'](l5,null,q['createElement'](l6,null,pc['rows']['map']((pd,pe)=>q['createElement'](l7,{'key':pe},pd['name']))),q['createElement'](l8,null,pc['rows']['map']((pd,pe)=>q['createElement'](l9,{'key':pe},pd['value'])))))))));},lc=u['Do']['combine'](kU,u['Do']['key']()('chart'),(p8,p9)=>(0x0,A['w'])('EventPopoverContainer',()=>{const pa=(0x0,cn['Z'])(()=>p8,[]),pb=(0x0,B['W'])(pa['hoveredTarget']),pc=p9['bounds']['getBounds'](bn['Xu']['CHART_WITH_Y_AXIS']),pd={'top':pc['pageY'],'left':pc['pageX'],'width':pc['width'],'height':pc['height']};return(0x0,q['createElement'])(lb,{'event':pb,'bounds':pd});})),ld=cs['ZP']['a']`
	display: block;
	padding: var(--spacer-2);

	font-family: var(--font-main-semibold);
	font-size: var(--font-size-m);
	line-height: var(--line-height-m-px);
	color: var(--dropdown-list_item-default-text);
	text-decoration: none;

	&:hover {
		color: var(--link-default-text);
	}
	&:visited {
		color: var(--dropdown-list_item-default-text);
		&:hover {
			color: var(--link-default-text);
		}
	}
`,le=(0x0,q['memo'])(p8=>{const {title:p9,url:pa}=p8;return q['createElement'](ld,{'href':pa,'target':'_blank'},p9);}),lf=(0x0,cs['ZP'])(hr['J'])`
	top: 8px;
	width: 230px;
	background-color: var(--dropdown-default-bg);
	padding: var(--spacer-1) 0 var(--spacer-1) var(--spacer-1);
	overflow: visible;

	// this transparent rectangle is needed to avoid closing news popover
	// after hovering chart's news circle
	&::before {
		position: absolute;
		content: '';
		display: block;
		width: inherit;
		height: 20px;
		top: -20px;
		left: 0;
		background: transparent;
	}
`,lg=cs['ZP']['div']`
	max-height: calc(300px - 2 * var(--spacer-1));
`,lh=cs['ZP']['div']`
	width: calc(100% - 2 * var(--spacer-2));
	height: 1px;
	margin-right: var(--spacer-2);
	margin-left: var(--spacer-2);
	background-color: var(--dropdown-list_item-divider-bg);
`;var li=n(0xdf27),lj=Object['defineProperty'],lk=Object['getOwnPropertySymbols'],ll=Object['prototype']['hasOwnProperty'],lm=Object['prototype']['propertyIsEnumerable'],ln=(p8,p9,pa)=>p9 in p8?lj(p8,p9,{'enumerable':!0x0,'configurable':!0x0,'writable':!0x0,'value':pa}):p8[p9]=pa,lo=(p8,p9)=>{for(var pa in p9||(p9={}))ll['call'](p9,pa)&&ln(p8,pa,p9[pa]);if(lk){for(var pa of lk(p9))lm['call'](p9,pa)&&ln(p8,pa,p9[pa]);}return p8;},lp=(p8,p9)=>{var pa={};for(var pb in p8)ll['call'](p8,pb)&&p9['indexOf'](pb)<0x0&&(pa[pb]=p8[pb]);if(p8!=null&&lk){for(var pb of lk(p8))p9['indexOf'](pb)<0x0&&lm['call'](p8,pb)&&(pa[pb]=p8[pb]);}return pa;};const lq=(0x0,q['memo'])(p8=>{const {news:p9}=p8,pa=(0x0,q['useRef'])(null),[pb,pc]=(0x0,q['useState'])(!0x1);return(0x0,q['useEffect'])(()=>pc(!0x0),[]),q['createElement'](q['Fragment'],null,q['createElement'](hs['DR'],{'ref':pa,'style':{'left':p9['x'],'top':p9['y']}}),q['createElement'](lr,{'news':p9,'opened':pb,'align':'center','anchorRef':pa}));}),lr=(0x0,q['memo'])(p8=>{const p9=p8,{news:pa}=p9,pb=lp(p9,['news']);return q['createElement'](lf,lo({},pb),q['createElement'](k4['R'],null,q['createElement'](lg,null,(0x0,li['f_'])(pa['news'],'divider')['map']((pc,pd)=>typeof pc=='string'?q['createElement'](lh,{'key':'divider_'+pd}):q['createElement'](le,{'url':pc['sourceLink'],'title':pc['title'],'key':'news_'+pd})))));}),ls=u['Do']['combine'](u['Do']['key']()('newsViewModel'),p8=>(0x0,q['memo'])(()=>{const p9=(0x0,ky['mA'])(p8['hoveredNews'],null);return p9?(0x0,q['createElement'])(lq,{'news':p9}):null;}));var lt=n(0x653d),lu=n(0xf1a8),lv=n(0x13556),lw=n(0x1196b),lx=n(0x1058b),ly=n(0x14223),lz=n(0xf1c),lA=Object['defineProperty'],lB=Object['defineProperties'],lC=Object['getOwnPropertyDescriptors'],lD=Object['getOwnPropertySymbols'],lE=Object['prototype']['hasOwnProperty'],lF=Object['prototype']['propertyIsEnumerable'],lG=(p8,p9,pa)=>p9 in p8?lA(p8,p9,{'enumerable':!0x0,'configurable':!0x0,'writable':!0x0,'value':pa}):p8[p9]=pa,lH=(p8,p9)=>{for(var pa in p9||(p9={}))lE['call'](p9,pa)&&lG(p8,pa,p9[pa]);if(lD){for(var pa of lD(p9))lF['call'](p9,pa)&&lG(p8,pa,p9[pa]);}return p8;},lI=(p8,p9)=>lB(p8,lC(p9));const lJ=u['Do']['combine'](u['Do']['key']()('multiChartViewModel'),u['Do']['key']()('chart'),u['Do']['key']()('drawingViewModel'),(p8,p9,pa)=>{const [pb,pc]=(0x0,j5['J'])(bo['YP']),[pd,pe]=(0x0,j5['J'])(bo['YP']),[pf,pg]=(0x0,j5['J'])(bo['YP']),ph=py=>{const pz=(0x0,U['zG'])(bo['ij'](py['properties']),bo['UI'](pA=>{var pB;return(pB=pA['textValue'])!=null?pB:'';}));(0x0,U['zG'])((0x0,lu['gz'])(bo['G5'])(pz,pg['getValue'](),bo['G'](py)),pA=>{py['figure']['textBlockBounds']?(0x0,U['zG'])(pA,bo['UI'](([pB,pC,pD])=>[pB,lI(lH({},pC),{'width':pD['figure']['textBlockBounds']['width'],'height':pD['figure']['textBlockBounds']['height']}),pD]),bo['UI'](lK),pb):(0x0,U['zG'])(pA,bo['UI'](lK),pb);});},pi=(0x0,U['zG'])(p9['scale']['changed'],(0x0,lw['p'])(0x14,lv['Z'],{'trailing':!0x0,'leading':!0x0}),(0x0,bi['h'])(()=>bo['pC'](pc['getValue']())),(0x0,O['b'])(()=>{(0x0,U['zG'])(pc['getValue'](),bo['UI'](py=>{var pz,pA;const pB=(pA=(pz=p9['drawings']['model']['viewModels'][py['id']])==null?void 0x0:pz['keyViewPoints'])==null?void 0x0:pA[0x1];return bo['ij'](lI(lH({},py),{'position':lH(lH({},py['position']),pB)}));}),bo['UI'](pb));})),pj=py=>(0x0,U['zG'])((0x0,lu['gz'])(bo['G5'])(py,pe['getValue']()),bo['UI'](([pz,pA])=>{(0x0,ly['GO'])(pA)&&(pA['properties']['textValue']=pz['text'],pA['figure']['isEditing']||(pA['properties']['textValue']=pz['text']),p9['drawings']['model']['handleDataUpdates']());})),pk=(py,pz)=>{py['figure']['isEditing']=pz,pa['updateDrawing'](py);},pl=py=>(0x0,U['zG'])(py,bo['DT'](ly['GO']),bo['g_'](pm,pz=>{pd(bo['G'](pz)),pf(bo['ij'](pz['figure']['textToolPoint'])),pk(pz,!0x0),ph(pz),p9['panning']['deactivatePanHandlers']();})),pm=()=>{const py=pe['getValue']();bo['pC'](py)&&(p9['panning']['activateChartPanHandlers'](),pk(py['value'],!0x1)),pd(bo['YP']),pb(bo['YP']);},pn=py=>(0x0,U['zG'])(pc['getValue'](),bo['UI'](pz=>pb(bo['G'](lI(lH({},pz),{'text':(0x0,lt['RZ'])(py,pz['font'],pz['fontSize'])}))))),po=pm,pp=pm,pq=(0x0,U['zG'])(p9['bounds']['observeBoundsChanged'](bn['Xu']['ALL_PANES']),(0x0,O['b'])(pm)),pr=(0x0,U['zG'])(pe,(0x0,I['G'])(),ac['hX'](()=>p8['state']['getValue']()['drawingMode']),ac['UI'](([py,pz])=>{if(bo['Wi'](pz)&&bo['pC'](py)){const pA=py['value'];pa['changeMode'](lz['vx']),pa['startNewDrawing'](pA['type']);}})),ps=(0x0,U['zG'])(pa['drawingMode'],(0x0,bi['h'])(py=>(0x0,lz['YI'])(py)),(0x0,O['b'])(pm)),pt=(0x0,U['zG'])(p9['drawings']['model']['events']['drawingFinished'],(0x0,bi['h'])(ly['GO']),(0x0,O['b'])(pl)),pu=(0x0,U['zG'])(p9['drawings']['model']['events']['drawingDblClick'],ac['UI'](bo['ij']),(0x0,O['b'])(py=>(0x0,U['zG'])(py,bo['g_'](U['Q1'],pz=>(0x0,ly['FR'])(pz)&&(0x0,ly['iZ'])(pz['type'])&&pl(pz))))),pv=pa['drawingMode']['pipe']((0x0,O['b'])(py=>{const pz=pc['getValue']();(0x0,lz['rd'])(py)&&(0x0,ly['vN'])(py['drawing'])&&bo['pC'](pz)&&pb(bo['G'](lK([pz['value']['text'],pz['value']['position'],py['drawing']])));})),pw=pc['pipe']((0x0,O['b'])(py=>{(0x0,U['zG'])(bo['ij'](py),bo['UI'](pz=>{bo['pC'](pz)&&pj(bo['G'](lH({},pz['value'])));}));})),px=(0x0,an['T'])(pq,pt,pu,pv,pr,pw,ps,pi);return lx['r']['newSink']({'data':pc,'onSubmit':pp,'onCancel':po,'onChange':pn},px);}),lK=([p8,p9,pa])=>{var pb;return{'text':p8,'position':lH({},p9),'id':pa['id'],'fontSize':pa['properties']['text']['textSize'],'background':pa['properties']['text']['textBg'],'color':pa['properties']['text']['textFill'],'font':pa['properties']['text']['textSize']+'\x20'+((pb=pa['properties']['text']['textFontFamily'])!=null?pb:'monoscape')};},lL=cs['ZP']['div']`
	position: absolute;
	z-index: 15;
	// Math floor is needed here to prevent text note "jumping", because canvas vector has integer coordinates
	top: ${p8=>Math['floor'](p8['top'])}px;
	left: ${p8=>Math['floor'](p8['left'])}px;
`;var lM=n(0x902b);const lN=cs['ZP']['div']`
	display: flex;
	position: fixed;
	padding: 4px 7px;
	border-radius: 2px;
	border: none;
	background: ${p8=>p8['background']};
`,lO=cs['ZP']['textarea']`
	color: ${p8=>p8['color']?p8['color']:'var(--main_chart-crosshair-tag-inverted-text)'};
	font-size: ${p8=>p8['fontSize']+'pt'};
	line-height: ${p8=>p8['lineheight']+'px'};
	max-width: ${p8=>p8['fontSize']*lt['lK']+'px'};
	// HACK: 1 is needed to show text area cursor when width is 0
	width: ${p8=>(p8['width']||0x1)+'px'};
	overflow: hidden !important;
	background: inherit;
	outline: none !important;
	border: none;
	padding: 0;
	resize: none;
	font-family: var(--font-main-semibold);
`;var lP=n(0x145bf),lQ=n(0x105af);const lR=(0x0,q['memo'])(p8=>{const {text:p9,className:pa,isFocused:pb=!0x1,onCancel:pc,onSubmit:pd,onChange:pe,fontSize:pf='12pt',background:pg,color:ph,lineHeight:pi,width:pj,height:pk}=p8,pl=q['useRef'](null),pm=(0x0,q['useCallback'])(()=>{if(!pl['current'])return;const {length:pu}=pl['current']['value'];setTimeout(()=>pl['current']&&pl['current']['focus'](),0x0),pl['current']['setSelectionRange'](pu,pu);},[pl]);(0x0,q['useLayoutEffect'])(()=>{pl['current']&&(pl['current']['style']['height']=pk+'px');},[pk]),(0x0,q['useEffect'])(()=>{pb&&pm();},[pb,pm]);const pn=(0x0,q['useCallback'])(()=>{!pl||!pl['current']||pd();},[pd]),po=(0x0,q['useCallback'])(pu=>{pu['stopPropagation']();const {code:pv,ctrlKey:pw,metaKey:px}=pu;pv==='Escape'&&pc(),(pw&&pv==='Enter'||px&&pv==='Enter'||pv==='Tab')&&pn();},[pc,pn]),pp=(0x0,q['useCallback'])(()=>{pn();},[pn]),pq=(0x0,q['useCallback'])(pu=>{if(pu['target']instanceof HTMLElement)switch(pu['target']['tagName']['toLowerCase']()){case'textarea':case'p':break;default:pm();break;}},[pm]),pr=(0x0,q['useCallback'])(pu=>{if(!pl||!pl['current'])return;const {value:pv}=pu['currentTarget'];pe(pv['replace'](/[\/\|\\?:<>"]/g,'')),pv['length']-p9['length']>0x14&&pp();},[pe,p9['length'],pp]),ps=(0x0,q['useCallback'])(pu=>pl['current']=pu,[]),pt=(0x0,q['useMemo'])(()=>Number(pf['slice'](0x0,pf['length']-0x2)),[pf]);return q['createElement'](lQ['y'],{'onRootClose':pp},q['createElement'](lN,{'onClick':pq,'className':pa,'background':pg},q['createElement'](lP['h'],{'target':'document','onKeyDown':po,'children':[]}),q['createElement'](lO,{'value':p9,'onKeyUp':po,'width':pj,'height':pk,'ref':ps,'onInput':pr,'fontSize':pt,'color':ph,'lineheight':pi,'spellCheck':'false'})));}),lS=(0x0,q['memo'])(p8=>{const {container:p9,data:pa,onChange:pb,onSubmit:pc,onCancel:pd}=p8,pe=(0x0,q['useMemo'])(()=>(0x0,lt['mY'])(pa['text'],pa['font']),[pa['text'],pa['font']]),pf=(0x0,q['useMemo'])(()=>(0x0,lt['Tf'])(pa['text'],pa['font']),[pa['text'],pa['font']]),pg=(0x0,q['useMemo'])(()=>(0x0,lt['VA'])(pa['text'],pa['fontSize']),[pa['text'],pa['fontSize']]);return(0x0,lM['createPortal'])(q['createElement'](lL,{'key':pa['id'],'top':pa['position']['y'],'left':pa['position']['x']},q['createElement'](lR,{'text':pa['text'],'fontSize':pa['fontSize'],'color':pa['color'],'background':pa['background'],'lineHeight':pg,'isFocused':!0x0,'width':pe,'height':pf,'onChange':pb,'onSubmit':pc,'onCancel':pd})),p9);}),lT=u['Do']['combine'](lJ,u['Do']['key']()('localization'),u['Do']['key']()('chart'),(p8,p9,pa)=>(0x0,A['w'])('TextDrawingContainer',()=>{const pb=(0x0,cn['Z'])(()=>p8,[p8]),pc=pa['parentElement'],pd=(0x0,B['W'])(pb['data']);return(0x0,U['zG'])(pd,bo['g_'](U['gn'],pe=>(0x0,q['createElement'])(lS,{'container':pc,'data':pe,'onChange':pb['onChange'],'onSubmit':pb['onSubmit'],'onCancel':pb['onCancel']})));}));var lU=n(0x15b77),lV=n(0x15673);const lW=u['Do']['lazy'](()=>Promise['all']([n['e'](0xd8),n['e'](0x8e)])['then'](n['bind'](n,0x13a50)),U['gn'],lV['SR']),lX=u['Do']['combine'](lW,u['Do']['key']()('chartReactConfig'),(p8,p9)=>(0x0,lU['H'])(p9['trading']['enabled'],(0x0,A['w'])('TradingContainer',()=>(0x0,q['createElement'])(p8,{}))));var lY=n(0x6b01);const lZ=cs['ZP']['div']`
	position: absolute;
	display: flex;
	width: fit-content;
	height: fit-content;
	left: 50%;
	transform: translate(-50%);
	bottom: ${p8=>p8['marginBottom']}px;
	margin-left: auto;
	margin-right: auto;
	justify-content: center;
	align-items: flex-end;
	-webkit-touch-callout: none;
	-webkit-user-select: none;
	-khtml-user-select: none;
	-moz-user-select: none;
	-ms-user-select: none;
	user-select: none;

	&:hover {
		button {
			opacity: 1;
		}
	}

	button {
		min-width: 36px;
		width: 36px;
		height: 28px;
		margin-right: 0;
		opacity: ${p8=>p8['isVisible']?'1':'0'};
		transition: opacity ease-in 0.2s;
		svg {
			width: 20px;
			height: 20px;
		}
	}
`,m0=(0x0,cs['ZP'])(ga['E'])`
	border-top-right-radius: 0px;
	border-bottom-right-radius: 0px;
`,m1=(0x0,cs['ZP'])(ga['E'])`
	border-top-left-radius: 0px;
	border-bottom-left-radius: 0px;
`,m2=(0x0,q['memo'])(p8=>{const {chart:p9,zoomIn:pa,zoomOut:pb,buttonsDisabled:pc,marginBottom:pd,localization:pe,currentCanvasBounds:pf}=p8,[pg,ph]=(0x0,q['useState'])(!0x1),pi=(0x0,q['useCallback'])(pn=>{p9['crossEventProducer']['fireCrossClose'](),pn['stopPropagation']();},[p9['crossEventProducer']]),{isMobile:pj}=(0x0,q['useContext'])(iZ['El']);(0x0,q['useEffect'])(()=>{const pn=p9['canvasInputListener']['observeMouseMove']()['subscribe'](pp=>{const pq=pf['width']*0.375,pr=pf['height']*0.85-pd+0xa,ps=pf['width']*0.25,pt=pf['height']*0.15+pd+0xa;ph((0x0,lY['Oo'])(pp,[pq,pr,ps,pt]));}),po=p9['canvasInputListener']['observeMouseEnter']()['subscribe'](()=>{ph(!0x1);});return()=>{pn['unsubscribe'](),po['unsubscribe']();};},[p9,pf,pd]);const {zooming:pk}=(0x0,q['useContext'])(fa['k']),{keyboardModeEnabled:pl}=(0x0,q['useContext'])(cr['E']),pm=pg||pj||pl;return q['createElement'](lZ,{'isVisible':pm,'isMobile':pj,'marginBottom':pd},q['createElement'](m0,{'aria-label':pe['legend']['a11y_zoomIn'],'disabled':pc['zoomIn'],'onClick':pa,'onMouseMove':pi,'icon':q['createElement'](ge['a'],null,pk['zoomin']),'testId':co['z']['zoom_button_in']}),q['createElement'](m1,{'aria-label':pe['legend']['a11y_zoomOut'],'disabled':pc['zoomOut'],'onClick':pb,'onMouseMove':pi,'icon':q['createElement'](ge['a'],null,pk['zoomout']),'testId':co['z']['zoom_button_out']}));});var m3=n(0xfaf2),m4=n(0x13b6c),m5=n(0x574),m6=Object['defineProperty'],m7=Object['getOwnPropertySymbols'],m8=Object['prototype']['hasOwnProperty'],m9=Object['prototype']['propertyIsEnumerable'],ma=(p8,p9,pa)=>p9 in p8?m6(p8,p9,{'enumerable':!0x0,'configurable':!0x0,'writable':!0x0,'value':pa}):p8[p9]=pa,mb=(p8,p9)=>{for(var pa in p9||(p9={}))m8['call'](p9,pa)&&ma(p8,pa,p9[pa]);if(m7){for(var pa of m7(p9))m9['call'](p9,pa)&&ma(p8,pa,p9[pa]);}return p8;};const mc=u['Do']['combine'](u['Do']['key']()('chart'),u['Do']['key']()('chartConfiguratorViewModel'),(p8,p9)=>{const [pa,pb]=(0x0,j5['J'])({'zoomIn':!0x1,'zoomOut':!0x1},md['equals']),pc=(0x0,an['T'])((0x0,U['zG'])(p8['scale']['xChanged'],(0x0,lw['p'])(0x14,lv['Z'],{'trailing':!0x0,'leading':!0x0})),p8['canvasInputListener']['observeClickOnDocument']())['pipe']((0x0,O['b'])(()=>{const pk=p8['bounds']['getBounds'](bn['Xu']['PANE_UUID'](bn['kg'])),pl=p8['scale']['xEnd']-p8['scale']['xStart'],pm=pl<=p8['config']['components']['chart']['minCandles'],pn=pk['width']/p8['config']['components']['chart']['minWidth'],po=pl>=pn,pp={'zoomIn':pm,'zoomOut':po};if(p8['canvasAnimation']){const pq=p8['canvasAnimation']['getAnimation'](m5['v']);(!pq||pq&&pq['animationTimeLeft']<=0x0)&&pa(mb({},pp));}})),pd=()=>{p8['scale']['zoomXToPercent'](0x1,!0x0,!0x1,p8['config']['scale']['zoomSensitivity']['wheel']);},pe=()=>{p8['scale']['zoomXToPercent'](0x1,!0x1,!0x1,p8['config']['scale']['zoomSensitivity']['wheel']);},pf=(0x0,U['zG'])(p9['state'],ac['UI'](pk=>pk['settings']['chartCore']['components']['events']['visible']),(0x0,ar['x'])(),ac['UI'](pk=>pk?0x18:0x0)),pg=(0x0,kK['a'])([p8['bounds']['observeBoundsChanged'](bn['Xu']['CANVAS']),p8['bounds']['observeBoundsChanged'](bn['Xu']['ALL_PANES']),pf])['pipe']((0x0,N['U'])(([pk,pl,pm])=>(0x0,F['GW'])(pk['height']-pl['height']+0xa)+pm),(0x0,ar['x'])()),ph=(0x0,U['zG'])(p8['bounds']['observeBoundsChanged'](bn['Xu']['CANVAS']),ac['UI'](pk=>mb({},pk))),pi=(0x0,an['T'])(pc),pj=(0x0,m4['f'])('chartZoomingToolViewModel',{'zoomIn':pd,'zoomOut':pe,'buttonsDisabled':pb,'marginBottom':pg,'observeBounds$':ph});return(0x0,j4['F'])(pj,pi);}),md=(0x0,m3['n_'])({'zoomIn':m3['w4'],'zoomOut':m3['w4']}),me=u['Do']['combine'](mc,u['Do']['key']()('chart'),u['Do']['key']()('localization'),u['Do']['key']()('chartDataViewModel'),(p8,p9,pa,pb)=>(0x0,A['w'])('ChartZoomingToolContainer',()=>{const pc=(0x0,cn['Z'])(()=>p8,[p8]),pd=(0x0,cl['m'])(pc['observeBounds$'],bn['Ff']),pe=(0x0,B['W'])(pc['buttonsDisabled']),pf=(0x0,cl['m'])(pc['marginBottom'],0x0);return(0x0,cl['m'])(pb['historicalCandlesUpdated'],[])['length']!==0x0?(0x0,q['createElement'])(m2,{'zoomIn':pc['zoomIn'],'zoomOut':pc['zoomOut'],'chart':p9,'buttonsDisabled':pe,'marginBottom':pf,'localization':pa,'currentCanvasBounds':pd}):null;}));var mf=n(0x288e);const mg={'buyMarket':'buyMarket','sellMarket':'sellMarket','createLimit':'createLimit','createStop':'createStop'},mh=(0x0,q['memo'])(p8=>{const {mainSeriesData:p9,createOrder:pa}=p8,{localization:pb}=(0x0,q['useContext'])(cr['E']),pc=(0x0,q['useMemo'])(()=>p9['candlePrice']<p9['marketPrice']?pb['trading']['orderEntry']['buyLimitBtn']+'\x20':pb['trading']['orderEntry']['sellLimitBtn']+'\x20',[pb,p9]),pd=(0x0,q['useMemo'])(()=>p9['candlePrice']>p9['marketPrice']?pb['trading']['orderEntry']['buyStopBtn']+'\x20':pb['trading']['orderEntry']['sellStopBtn']+'\x20',[pb,p9]),pe=(0x0,q['useCallback'])(pf=>{var pg;const ph=(pg=p9['quantity'])!=null?pg:0x0,pi=Number(p9['candlePrice']),pj=Number(p9['marketPrice']);switch(pf){case mg['buyMarket']:pa({'orderType':'market','side':'buy','quantity':ph});break;case mg['sellMarket']:pa({'orderType':'market','side':'sell','quantity':ph});break;case mg['createLimit']:const pk=pi<pj?'buy':'sell';pa({'orderType':'limit','side':pk,'quantity':ph});break;case mg['createStop']:const pl=pi>pj?'buy':'sell';pa({'orderType':'stop','side':pl,'quantity':ph});break;}},[pa,p9]);return q['createElement'](ie['O_'],{'onItemSelect':pe},q['createElement'](ie['vj'],{'value':mg['buyMarket']},q['createElement'](ie['WT'],null,pb['trading']['orderEntry']['buyMarketBtn'],'\x20',p9['quantity'],q['createElement'](ie['OM'],null,'@'),p9['marketPrice'])),q['createElement'](ie['vj'],{'value':mg['sellMarket']},q['createElement'](ie['WT'],null,pb['trading']['orderEntry']['sellMarketBtn'],'\x20',p9['quantity'],q['createElement'](ie['OM'],null,'@'),p9['marketPrice'])),q['createElement'](ie['vj'],{'value':mg['createLimit']},q['createElement'](ie['WT'],null,pc,'\x20',p9['quantity'],q['createElement'](ie['OM'],null,'@'),p9['candlePrice'])),q['createElement'](ie['vj'],{'value':mg['createStop']},q['createElement'](ie['WT'],null,pd,'\x20',p9['quantity'],q['createElement'](ie['OM'],null,'@'),p9['candlePrice'])));});var mi=n(0x1472d);const mj=cs['ZP']['div']`
	padding: var(--spacer-1);
`,mk=(0x0,cs['ZP'])(hr['J'])`
	${ht['d$']} {
		margin-bottom: 0;
		padding: var(--spacer-05) var(--spacer-05);
		user-select: none;
	}
`,ml=(0x0,cs['ZP'])(ie['WT'])`
	min-height: 20px;
	line-height: 20px;
`,mm=(0x0,q['memo'])(p8=>{const {isOpened:p9,onClose:pa,settings:pb,onSettingsChange:pc,anchorRef:pd}=p8,{localization:pe}=(0x0,q['useContext'])(cr['E']),pf=(0x0,q['useRef'])(null),pg=(0x0,iQ['B'])(pf);(0x0,iP['Y'])({'anchorRef':pd,'popRef':pf});const ph=(0x0,q['useCallback'])((pj=!0x1)=>{pc((0x0,ai['Ad'])(['chartCore','components','grid','vertical']),pj);},[pc]),pi=(0x0,q['useCallback'])((pj=!0x1)=>{pc((0x0,ai['Ad'])(['chartCore','components','grid','horizontal']),pj);},[pc]);return q['createElement'](mk,{'opened':p9,'onRequestClose':pa,'position':'right','keyboardMode':!0x0,'onTabPress':pg,'anchorRef':pd,'selectorRef':pd,'align':'start'},q['createElement'](mj,{'ref':pf},q['createElement'](ie['O_'],null,q['createElement'](mi['Y'],{'label':pe['settingsPopup']['tabs']['general']['grid']['horizontal'],'value':pb['chartCore']['components']['grid']['horizontal'],'onValueChange':pi}),q['createElement'](mi['Y'],{'label':pe['settingsPopup']['tabs']['general']['grid']['vertical'],'value':pb['chartCore']['components']['grid']['vertical'],'onValueChange':ph}))));}),mn=(0x0,q['memo'])(p8=>{const {settings:p9,onSettingsChange:pa,onPopoverClose:pb}=p8,[pc,pd]=(0x0,q['useState'])(!0x1),{localization:pe}=(0x0,q['useContext'])(cr['E']),pf=(0x0,q['useContext'])(fa['k']),pg=(0x0,q['useRef'])(null),{isMobile:ph}=(0x0,q['useContext'])(iZ['El']),pi=(0x0,q['useCallback'])(()=>pd(!0x0),[pd]),pj=(0x0,q['useCallback'])(()=>pd(!0x1),[pd]);return q['createElement'](ie['j1'],{'ref':pg,'onMouseLeave':pj},q['createElement'](ie['vj'],{'value':'Grid','onMouseEnter':ph?U['Q1']:pi},(0x0,iY['u'])(pe['settingsPopup']['appearance']['colorSettings']['common']['grid'],!0x0,q['createElement'](q['Fragment'],null),!0x1,q['createElement'](ge['a'],null,pf['yAxisMainPopover']['arrow']))),q['createElement'](mm,{'onClose':pb,'isOpened':pc,'anchorRef':pg,'settings':p9,'onSettingsChange':pa}));});var mo=n(0xb167);const mp=['light','dark'],mq=(0x0,q['memo'])(p8=>{const {isOpened:p9,onClose:pa,anchorRef:pb,activeTheme:pc,onChangeTheme:pd}=p8,{localization:pe}=(0x0,q['useContext'])(cr['E']),pf=(0x0,q['useRef'])(null),pg=(0x0,iQ['B'])(pf);(0x0,iP['Y'])({'anchorRef':pb,'popRef':pf});const ph=(0x0,q['useCallback'])(pi=>mr(pi)&&pd(pi),[pd]);return q['createElement'](mk,{'opened':p9,'onRequestClose':pa,'position':'right','keyboardMode':!0x0,'onTabPress':pg,'anchorRef':pb,'selectorRef':pb,'align':'start'},q['createElement'](mj,{'ref':pf},q['createElement'](ie['O_'],{'onItemSelect':ph},mp['map'](pi=>q['createElement'](mo['X'],{'key':pi,'value':pi,'isActive':pc===pi,'label':pe['themes']['types'][pi],'icon':q['createElement'](q['Fragment'],null)})))));}),mr=p8=>typeof p8=='string'&&mp['includes'](p8),ms=(0x0,q['memo'])(p8=>{const {activeTheme:p9,onChangeTheme:pa,onPopoverClose:pb}=p8,[pc,pd]=(0x0,q['useState'])(!0x1),{localization:pe}=(0x0,q['useContext'])(cr['E']),pf=(0x0,q['useContext'])(fa['k']),pg=(0x0,q['useRef'])(null),{isMobile:ph}=(0x0,q['useContext'])(iZ['El']),pi=(0x0,q['useCallback'])(()=>pd(!0x0),[pd]),pj=(0x0,q['useCallback'])(()=>pd(!0x1),[pd]);return q['createElement'](ie['j1'],{'ref':pg,'onMouseLeave':pj},q['createElement'](ie['vj'],{'value':'Theme','onMouseEnter':ph?U['Q1']:pi},(0x0,iY['u'])(pe['themes']['title'],!0x0,q['createElement'](q['Fragment'],null),!0x1,q['createElement'](ge['a'],null,pf['yAxisMainPopover']['arrow']))),q['createElement'](mq,{'onClose':pb,'isOpened':pc,'anchorRef':pg,'activeTheme':p9,'onChangeTheme':pa}));}),mt=(0x0,q['memo'])(p8=>{const {settings:p9,onSettingsChange:pa,chartReactConfig:pb,sessionBreaksDisabled:pc,activeTheme:pd,onChangeTheme:pe,onPopoverClose:pf}=p8,{localization:pg}=(0x0,q['useContext'])(cr['E']),ph=(0x0,q['useCallback'])(pl=>{const pm=pl?'cross-and-labels':'none';pa((0x0,ai['Ad'])(['chartCore','components','crossTool','type']),pm);},[pa]),pi=(0x0,q['useCallback'])((pl=!0x1)=>pa((0x0,ai['Ad'])(['chartReact','sessionBreaks','visible']),pl),[pa]),pj=(0x0,q['useCallback'])((pl=!0x1)=>pa((0x0,ai['Ad'])(['chartReact','extendedHours','visible']),pl),[pa]),pk=(0x0,q['useCallback'])((pl=!0x1)=>pa((0x0,ai['Ad'])(['chartCore','components','waterMark','visible']),pl),[pa]);return q['createElement'](q['Fragment'],null,q['createElement'](mi['Y'],{'label':pg['settingsPopup']['tabs']['general']['crosshair'],'value':p9['chartCore']['components']['crossTool']['type']==='cross-and-labels','onValueChange':ph}),pb['chartDataOptionsSettings']['sessionBreaks']['enabled']&&q['createElement'](mi['Y'],{'disabled':pc,'label':pg['settingsPopup']['tabs']['general']['sessionBreaks'],'value':p9['chartReact']['sessionBreaks']['visible']&&!pc,'onValueChange':pi,'fieldTestId':co['z']['settings_popup_session_breaks_field']}),pb['chartDataOptionsSettings']['extendedHours']['enabled']&&q['createElement'](mi['Y'],{'disabled':pc,'label':pg['settingsPopup']['tabs']['general']['extendedHours'],'value':p9['chartReact']['extendedHours']['visible']&&!pc,'onValueChange':pj,'fieldTestId':co['z']['settings_popup_extended_hours_field']}),q['createElement'](mi['Y'],{'label':pg['settingsPopup']['tabs']['general']['watermark'],'value':p9['chartCore']['components']['waterMark']['visible'],'onValueChange':pk}),q['createElement'](mn,{'onPopoverClose':pf,'settings':p9,'onSettingsChange':pa}),pb['themeControls']['enabled']&&q['createElement'](ms,{'onPopoverClose':pf,'activeTheme':pd,'onChangeTheme':pe}),q['createElement'](ie['Vm'],{'visible':!0x0}));});var mu=n(0x17d25),mv=n(0x4f21);const mw=(0x0,q['memo'])(p8=>{const {isOpened:p9,onClose:pa,anchorRef:pb,recentDrawings:pc,onRecentDrawingSelect:pd,iconsPool:pe}=p8,{localization:pf}=(0x0,q['useContext'])(cr['E']),pg=(0x0,q['useContext'])(fa['k']),ph=(0x0,q['useRef'])(null),pi=(0x0,iQ['B'])(ph);(0x0,iP['Y'])({'anchorRef':pb,'popRef':ph});const pj=(0x0,q['useCallback'])(pl=>typeof pl=='string'&&pd(pl),[pd]),pk=(0x0,q['useCallback'])(pl=>{const [pm,pn,,,po]=pe[pl];return q['createElement'](ge['a'],null,q['createElement'](mu['J'],{'onSelect':U['Q1'],'name':pl,'key':pl,'iconWidth':pm,'iconHeight':pn,'width':0xe,'height':0xe,'path':po}));},[pe]);return q['createElement'](mk,{'opened':p9,'onRequestClose':pa,'position':'right','keyboardMode':!0x0,'onTabPress':pi,'anchorRef':pb,'selectorRef':pb,'align':'start'},q['createElement'](mj,{'ref':ph},q['createElement'](ie['O_'],{'onItemSelect':pj},pc['length']>0x0?pc['map'](pl=>q['createElement'](mo['X'],{'key':pl,'value':pl,'label':(0x0,ly['OQ'])(pl)?pf['drawings']['types'][pl]:pf['drawings']['types']['icon'],'icon':(0x0,ly['OQ'])(pl)?(0x0,mv['s'])(pl,pg):pk(pl)})):q['createElement'](ml,null,pf['drawings']['noRecentDrawings']))));}),mx=(0x0,q['memo'])(p8=>{const {recentDrawings:p9,onRecentDrawingSelect:pa,onPopoverClose:pb,iconsPool:pc}=p8,[pd,pe]=(0x0,q['useState'])(!0x1),{localization:pf}=(0x0,q['useContext'])(cr['E']),pg=(0x0,q['useContext'])(fa['k']),ph=(0x0,q['useRef'])(null),{isMobile:pi}=(0x0,q['useContext'])(iZ['El']),pj=(0x0,q['useCallback'])(()=>pe(!0x0),[pe]),pk=(0x0,q['useCallback'])(()=>pe(!0x1),[pe]);return q['createElement'](ie['j1'],{'ref':ph,'onMouseLeave':pk},q['createElement'](ie['vj'],{'value':'Recent\x20drawings','onMouseEnter':pi?U['Q1']:pj},(0x0,iY['u'])(pf['drawings']['recentDrawings'],!0x0,q['createElement'](q['Fragment'],null),!0x1,q['createElement'](ge['a'],null,pg['yAxisMainPopover']['arrow']))),q['createElement'](mw,{'onClose':pb,'isOpened':pd,'anchorRef':ph,'recentDrawings':p9,'iconsPool':pc,'onRecentDrawingSelect':pa}));}),my={'hide':'Hide\x20drawings','clear':'Clear\x20drawings'},mz=(0x0,q['memo'])(p8=>{const {drawingsVisible:p9,recentDrawings:pa,iconsPool:pb,onRecentDrawingSelect:pc,onChangeDrawingsVisibility:pd,onClearDrawings:pe,onPopoverClose:pf}=p8,{localization:pg}=(0x0,q['useContext'])(cr['E']),ph=(0x0,q['useMemo'])(()=>p9?pg['drawings']['hideDrawings']:pg['drawings']['unhideDrawings'],[pg,p9]),pi=(0x0,q['useCallback'])(pj=>{switch(pj){case my['hide']:pd();break;case my['clear']:pe();break;}},[pd,pe]);return q['createElement'](q['Fragment'],null,q['createElement'](mx,{'recentDrawings':pa,'onRecentDrawingSelect':pc,'onPopoverClose':pf,'iconsPool':pb}),q['createElement'](ie['O_'],{'onItemSelect':pi},q['createElement'](ie['vj'],{'value':'Hide\x20drawings'},q['createElement'](ie['WT'],null,ph)),q['createElement'](ie['vj'],{'value':'Clear\x20drawings'},q['createElement'](ie['WT'],null,pg['drawings']['clearDrawings']))),q['createElement'](ie['Vm'],{'visible':!0x0}));}),mA=(0x0,q['memo'])(p8=>{const {onClearIndicators:p9}=p8,{localization:pa}=(0x0,q['useContext'])(cr['E']);return q['createElement'](q['Fragment'],null,q['createElement'](ie['O_'],{'onItemSelect':p9},q['createElement'](ie['vj'],{'value':'Clear\x20indicators'},q['createElement'](ie['WT'],null,pa['studies']['rightClickMenu']['clearIndicators']))),q['createElement'](ie['Vm'],{'visible':!0x0}));}),mB={'settings':'Settings','resetChart':'Reset\x20chart'},mC=(0x0,q['memo'])(p8=>{const {onOpenSettings:p9,onResetChart:pa}=p8,{localization:pb}=(0x0,q['useContext'])(cr['E']),pc=(0x0,q['useContext'])(fa['k']),pd=(0x0,q['useCallback'])(pe=>{switch(pe){case mB['settings']:p9();break;case mB['resetChart']:pa();break;}},[p9,pa]);return q['createElement'](ie['O_'],{'onItemSelect':pd},q['createElement'](ie['vj'],{'value':'Settings'},(0x0,iY['u'])(pb['studies']['rightClickMenu']['settings'],!0x0,q['createElement'](ge['a'],null,pc['background']['settings']),!0x1,q['createElement'](q['Fragment'],null))),q['createElement'](ie['vj'],{'value':'Reset\x20chart'},q['createElement'](ie['WT'],null,pb['settingsPopup']['resetChart'])));}),mD=(0x0,q['memo'])(p8=>{const {onClose:p9,mainSeriesTradingData:pa,settings:pb,onSettingsChange:pc,onCreateOrder:pd,chartReactConfig:pe,sessionBreaksDisabled:pf,activeTheme:pg,onChangeTheme:ph,recentDrawings:pi,onRecentDrawingSelect:pj,onClearIndicators:pk,onOpenSettings:pl,onResetChart:pm,drawingsVisible:pn,onChangeDrawingsVisibility:po,onClearDrawings:pp,iconsPool:pq}=p8;return q['createElement'](q['Fragment'],null,pb['chartReact']['trading']['visible']&&q['createElement'](q['Fragment'],null,q['createElement'](mh,{'mainSeriesData':pa,'createOrder':pd}),q['createElement'](ie['Vm'],{'visible':!0x0})),q['createElement'](mt,{'settings':pb,'onSettingsChange':pc,'chartReactConfig':pe,'sessionBreaksDisabled':pf,'onPopoverClose':p9,'activeTheme':pg,'onChangeTheme':ph}),q['createElement'](mz,{'drawingsVisible':pn,'recentDrawings':pi,'onRecentDrawingSelect':pj,'onChangeDrawingsVisibility':po,'onClearDrawings':pp,'onPopoverClose':p9,'iconsPool':pq}),q['createElement'](mA,{'onClearIndicators':pk}),q['createElement'](mC,{'onOpenSettings':pl,'onResetChart':pm}));});var mE=Object['defineProperty'],mF=Object['getOwnPropertySymbols'],mG=Object['prototype']['hasOwnProperty'],mH=Object['prototype']['propertyIsEnumerable'],mI=(p8,p9,pa)=>p9 in p8?mE(p8,p9,{'enumerable':!0x0,'configurable':!0x0,'writable':!0x0,'value':pa}):p8[p9]=pa,mJ=(p8,p9)=>{for(var pa in p9||(p9={}))mG['call'](p9,pa)&&mI(p8,pa,p9[pa]);if(mF){for(var pa of mF(p9))mH['call'](p9,pa)&&mI(p8,pa,p9[pa]);}return p8;};const mK=(0x0,q['memo'])(p8=>{var p9;const {isOpened:pa,position:pb,onClose:pc}=p8,pd=(p9=(0x0,ho['vS'])(['rightClickMenus','backgroundMenu']))!=null?p9:q['createElement'](mD,mJ({},p8));return q['createElement'](ia,{'opened':pa,'customPosition':pb,'onRequestClose':pc},pd);});var mL=Object['defineProperty'],mM=Object['defineProperties'],mN=Object['getOwnPropertyDescriptors'],mO=Object['getOwnPropertySymbols'],mP=Object['prototype']['hasOwnProperty'],mQ=Object['prototype']['propertyIsEnumerable'],mR=(p8,p9,pa)=>p9 in p8?mL(p8,p9,{'enumerable':!0x0,'configurable':!0x0,'writable':!0x0,'value':pa}):p8[p9]=pa,mS=(p8,p9)=>{for(var pa in p9||(p9={}))mP['call'](p9,pa)&&mR(p8,pa,p9[pa]);if(mO){for(var pa of mO(p9))mQ['call'](p9,pa)&&mR(p8,pa,p9[pa]);}return p8;},mT=(p8,p9)=>mM(p8,mN(p9));const mU=u['Do']['combine'](u['Do']['key']()('chart'),u['Do']['key']()('tradingVM'),u['Do']['key']()('tradingCoreVM'),u['Do']['key']()('orderEntryVM'),(p8,p9,pa,pb)=>{const [pc,pd]=(0x0,j5['J'])(!0x1),[pe,pf]=(0x0,j5['J'])({'x':0x0,'y':0x0}),[pg,ph]=(0x0,j5['J'])({'candlePrice':'','marketPrice':'','quantity':0x0}),pi=()=>pc(!0x1),pj=pn=>{const {side:po,orderType:pp,quantity:pq}=pn,pr=Number(ph['getValue']()['candlePrice']);p9['createOriginalOrder'](pp,po,pr,pq),pi();},pk=p8['hitTestCanvasModel']['observeRightClickOnElement']()['pipe']((0x0,bi['h'])(pn=>pn['model']===void 0x0),(0x0,bi['h'])(pn=>(0x0,bn['my'])(pn['point'],p8['bounds']['getBounds'](bn['Xu']['PANE_UUID'](bn['kg'])))),(0x0,O['b'])(()=>{pe(mS({},p8['canvasInputListener']['currentPointDocument'])),pc(!0x0);const pn=p8['mainPane']['mainExtent']['formatters']['regular'],po=pa['boundTradingPosition']['getValue']()['y'],pp=pa['yToPrice'](po),pq=pn(pp);pg({'candlePrice':pq,'marketPrice':pn(pa['marketPrice']['getValue']()),'quantity':pb['orderEntry']['getValue']()['quantity']});})),pl=(0x0,U['zG'])(pa['marketPrice'],(0x0,ar['x'])(),(0x0,O['b'])(pn=>{const po=p8['mainPane']['mainExtent']['formatters']['regular'](pn);pg(mT(mS({},ph['getValue']()),{'marketPrice':po}));})),pm=(0x0,an['T'])(pk,pl);return(0x0,j4['F'])({'isOpened':pd,'closeMenu':pi,'menuPosition':pf,'mainSeriesData':ph,'createOrder':pj},pm);}),mV=u['Do']['combine'](mU,u['Do']['key']()('chartConfiguratorViewModel'),u['Do']['key']()('chartReactConfig'),u['Do']['key']()('themeViewModel'),u['Do']['key']()('drawingViewModel'),u['Do']['key']()('studiesSettingsViewModel'),u['Do']['key']()('notificationVM'),(p8,p9,pa,pb,pc,pd,pe)=>()=>{const {localization:pf}=(0x0,q['useContext'])(cr['E']),pg=(0x0,cn['Z'])(()=>p8,[]),ph=(0x0,ky['W6'])(pg['isOpened']),pi=(0x0,ky['W6'])(pg['menuPosition']),pj=(0x0,ky['W6'])(pg['mainSeriesData']),pk=(0x0,ky['fD'])(p9['state'],['settings']),pl=(0x0,ky['W6'])(p9['sessionBreaksDisabled']),pm=(0x0,ky['W6'])(pb['activeTheme']),pn=(0x0,ky['W6'])(pc['recentDrawings']),po=(0x0,q['useCallback'])(pw=>{(0x0,ly['OQ'])(pw)?pc['startNewDrawing'](pw):pc['startNewIconDrawing'](pw),pg['closeMenu']();},[pg]),pp=(0x0,q['useCallback'])(()=>{pd['onRemoveAllStudies'](),pg['closeMenu']();},[pg]),pq=(0x0,q['useCallback'])(()=>{p9['onOpen'](),pg['closeMenu']();},[pg]),pr=(0x0,q['useCallback'])(()=>{p9['onRestoreDefaultConfig'](),pe['sendNotification'](pf['notifications']['notificationResetChart']),pg['closeMenu']();},[pf,pg]),ps=(0x0,cl['m'])(pc['isVisible'],!0x0),pt=(0x0,q['useCallback'])(()=>{pc['cancelDrawing'](),pc['changeVisibility'](!ps),pg['closeMenu']();},[ps,pg]),pu=(0x0,q['useCallback'])(()=>{pc['cancelDrawing'](),pc['clearDrawings'](),pc['sendDeleteDrawingsNotification'](),pg['closeMenu']();},[pg]),pv=(0x0,q['useCallback'])(pw=>{pb['changeTheme'](pw),pg['closeMenu']();},[pg]);return(0x0,q['createElement'])(mK,{'isOpened':ph,'position':pi,'onClose':pg['closeMenu'],'mainSeriesTradingData':pj,'settings':pk,'onCreateOrder':pg['createOrder'],'onSettingsChange':p9['setSettingsByPath'],'sessionBreaksDisabled':pl,'chartReactConfig':pa,'activeTheme':pm,'onChangeTheme':pv,'recentDrawings':pn,'onRecentDrawingSelect':po,'onClearIndicators':pp,'onOpenSettings':pq,'onResetChart':pr,'drawingsVisible':ps,'onChangeDrawingsVisibility':pt,'onClearDrawings':pu,'iconsPool':pc['iconDrawingIcons']});});var mW=n(0x1477d);const mX=['last','ask','bid','mark'],mY=(0x0,q['memo'])(p8=>{const {isOpened:p9,onClose:pa,value:pb,priceTypes:pc,onChangePriceType:pd,anchorRef:pe}=p8,{localization:pf}=(0x0,q['useContext'])(cr['E']),pg=(0x0,q['useRef'])(null),ph=(0x0,iQ['B'])(pg);(0x0,iP['Y'])({'anchorRef':pe,'popRef':pg});const pi=(0x0,q['useCallback'])(pk=>iT['Eq']['equals'](pb,pk),[pb]),pj=(0x0,q['useCallback'])(pk=>mZ(pk)&&pd(''+pk),[pd]);return q['createElement'](iW,{'opened':p9,'onRequestClose':pa,'position':'right','keyboardMode':!0x0,'onTabPress':ph,'anchorRef':pe,'selectorRef':pe,'align':'start'},q['createElement'](iV,{'ref':pg},q['createElement'](ie['O_'],{'onItemSelect':pj},pc['map'](pk=>q['createElement'](mo['X'],{'key':pk,'value':pk,'isActive':pi(pk),'label':pf['settingsPopup']['priceTypes'][pk],'icon':q['createElement'](q['Fragment'],null)})))));}),mZ=p8=>typeof p8=='string'&&mX['includes'](p8),n0=(0x0,q['memo'])(p8=>{const {value:p9,priceTypes:pa,onChangeType:pb,onPopoverClose:pc}=p8,[pd,pe]=(0x0,q['useState'])(!0x1),{localization:pf}=(0x0,q['useContext'])(cr['E']),pg=(0x0,q['useContext'])(fa['k']),ph=(0x0,q['useRef'])(null),{isMobile:pi}=(0x0,q['useContext'])(iZ['El']),pj=(0x0,q['useCallback'])(()=>pe(!0x0),[pe]),pk=(0x0,q['useCallback'])(()=>pe(!0x1),[pe]);return q['createElement'](ie['j1'],{'ref':ph,'onMouseLeave':pk},q['createElement'](ie['vj'],{'value':'Price\x20Type','onMouseEnter':pi?U['Q1']:pj},(0x0,iY['u'])(pf['settingsPopup']['priceTypes']['label'],!0x0,q['createElement'](q['Fragment'],null),!0x1,q['createElement'](ge['a'],null,pg['yAxisMainPopover']['arrow']))),q['createElement'](mY,{'isOpened':pd,'onClose':pc,'value':p9,'priceTypes':pa,'onChangePriceType':pb,'anchorRef':ph}));}),n1=(0x0,q['memo'])(p8=>{var p9;const {selectedSeries:pa,onChangeSeriesChartType:pb,settings:pc,priceTypes:pd,onChangePriceType:pe,onSeriesReorder:pf,onCreateOrder:pg,chartTypes:ph,onChartTypeClose:pi,onPriceTypeClose:pj,onChangeSeriesColor:pk,palette:pl}=p8,pm=(p9=(0x0,ho['IW'])(['ColorPickerComponent']))!=null?p9:ir['h'];return q['createElement'](q['Fragment'],null,pc['chartReact']['trading']['visible']&&q['createElement'](q['Fragment'],null,q['createElement'](mh,{'mainSeriesData':{'candlePrice':pa['trading']['candlePrice'],'marketPrice':pa['trading']['marketPrice'],'quantity':pa['trading']['quantity']},'createOrder':pg}),q['createElement'](ie['Vm'],{'visible':!0x0})),q['createElement'](j0,{'value':pa['chartType'],'chartTypes':ph,'onChangeType':pb,'onPopoverClose':pi}),q['createElement'](n0,{'value':pa['priceType'],'priceTypes':pd,'onChangeType':pe,'onPopoverClose':pj}),pa['color']&&q['createElement'](iN,{'value':'Color'},q['createElement'](ie['WT'],null,'Color'),q['createElement'](iO,{'colorPickersAmount':0x1,'id':'dataMenuColorPickerMain','label':'','preventCheck':!0x0,'align':'left'},q['createElement'](pm,{'palette':pl,'value':pa['color'],'onValueChange':pk}))),q['createElement'](ie['Vm'],{'visible':!0x0}),q['createElement'](il,{'onReorder':pf}));});var n2=Object['defineProperty'],n3=Object['defineProperties'],n4=Object['getOwnPropertyDescriptors'],n5=Object['getOwnPropertySymbols'],n6=Object['prototype']['hasOwnProperty'],n7=Object['prototype']['propertyIsEnumerable'],n8=(p8,p9,pa)=>p9 in p8?n2(p8,p9,{'enumerable':!0x0,'configurable':!0x0,'writable':!0x0,'value':pa}):p8[p9]=pa,n9=(p8,p9)=>{for(var pa in p9||(p9={}))n6['call'](p9,pa)&&n8(p8,pa,p9[pa]);if(n5){for(var pa of n5(p9))n7['call'](p9,pa)&&n8(p8,pa,p9[pa]);}return p8;},na=(p8,p9)=>n3(p8,n4(p9));const nb=(0x0,q['memo'])(p8=>{var p9;const {position:pa,isOpened:pb,onClose:pc,selectedSeries:pd,chartReactConfig:pe,onSeriesReorder:pf}=p8,pg=(0x0,q['useMemo'])(()=>(0x0,U['zG'])(pd['type'],pj=>pj==='main'?mW['nL']:jh),[pd['type']]),ph=pd['type']==='main'?q['createElement'](n1,na(n9({},p8),{'selectedSeries':pd,'onSeriesReorder':pf,'chartTypes':pg,'onChartTypeClose':pc,'onPriceTypeClose':pc,'priceTypes':pe['priceTypes']})):q['createElement'](j1,na(n9({},p8),{'selectedSeries':pd,'onSeriesReorder':pf,'seriesChartTypes':pg,'onChartTypeClose':pc})),pi=(p9=(0x0,ho['vS'])(['rightClickMenus','dataMenu']))!=null?p9:ph;return q['createElement'](ia,{'opened':pb,'customPosition':pa,'onRequestClose':pc},pi);}),nc=u['Do']['combine'](jj,u['Do']['key']()('chartConfiguratorViewModel'),u['Do']['key']()('colorPalette'),u['Do']['key']()('chartReactConfig'),(p8,p9,pa,pb)=>()=>{const pc=(0x0,cn['Z'])(()=>p8,[]),pd=(0x0,ky['W6'])(pc['isOpened']),pe=(0x0,ky['W6'])(pc['menuPosition']),pf=(0x0,ky['W6'])(pc['selectedSeries']),pg=(0x0,ky['fD'])(p9['state'],['settings']);return(0x0,U['zG'])(pf,bo['g_'](U['gn'],ph=>(0x0,q['createElement'])(nb,{'position':pe,'isOpened':pd,'onClose':pc['closeMenu'],'selectedSeries':ph,'onChangeSeriesChartType':pc['changeSelectedSeriesChartType'],'onChangeSeriesColor':pc['changeSelectedSeriesColor'],'settings':pg,'chartReactConfig':pb,'palette':pa,'onChangePriceType':pc['changeSelectedSeriesPriceType'],'onCreateOrder':pc['createOrder'],'onSeriesReorder':pc['reorderSeries']})));});var nd=n(0xe58d),ne=Object['defineProperty'],nf=Object['getOwnPropertySymbols'],ng=Object['prototype']['hasOwnProperty'],nh=Object['prototype']['propertyIsEnumerable'],ni=(p8,p9,pa)=>p9 in p8?ne(p8,p9,{'enumerable':!0x0,'configurable':!0x0,'writable':!0x0,'value':pa}):p8[p9]=pa,nj=(p8,p9)=>{for(var pa in p9||(p9={}))ng['call'](p9,pa)&&ni(p8,pa,p9[pa]);if(nf){for(var pa of nf(p9))nh['call'](p9,pa)&&ni(p8,pa,p9[pa]);}return p8;};const nk=u['Do']['combine'](u['Do']['key']()('chart'),u['Do']['key']()('drawingViewModel'),u['Do']['key']()('dynamicObjectsVM'),(p8,p9,pa)=>{const [pb,pc]=(0x0,j5['J'])(!0x1),[pd,pe]=(0x0,j5['J'])({'x':0x0,'y':0x0}),[pf,pg]=(0x0,j5['J'])(bo['YP']),ph=()=>{pf(bo['YP']),pb(!0x1);},pi=(0x0,U['zG'])(p8['hitTestCanvasModel']['observeRightClickOnElement'](),(0x0,bi['h'])(pn=>pn['model']instanceof nd['c']),(0x0,O['b'])(pn=>{pd(nj({},p8['canvasInputListener']['currentPointDocument'])),pb(!0x0),pf(bo['G'](pn['model']));})),pj=pn=>{pn['locked']=!pn['locked'],pf(bo['G'](pn)),p9['updateDrawing'](pn),ph();},pk=pn=>{pn['visible']=!pn['visible'],pf(bo['G'](pn)),p9['updateDrawing'](pn),p8['drawings']['setActiveDrawing'](null),ph();},pl=pn=>{(0x0,U['zG'])(pg['getValue'](),bo['g_'](U['Q1'],po=>{switch(pn){case'bringToFront':pa['bringToFront'](po['id']);break;case'sendToBack':pa['sendToBack'](po['id']);break;case'bringForward':pa['moveForward'](po['id']);break;case'sendBackward':pa['moveBackward'](po['id']);break;}ph();}));},pm=(0x0,an['T'])(pi);return(0x0,j4['F'])({'isOpened':pc,'closeMenu':ph,'menuPosition':pe,'drawing':pg,'toggleLocked':pj,'toggleVisibility':pk,'reorderDrawing':pl},pm);}),nl={'lock':'Lock\x20drawing','hide':'Hide\x20drawing'},nm=(0x0,q['memo'])(p8=>{const {drawing:p9,toggleDrawingLocked:pa,toggleDrawingVisibility:pb,reorderDrawing:pc}=p8,{localization:pd}=(0x0,q['useContext'])(cr['E']),pe=(0x0,q['useCallback'])(ph=>{switch(ph){case nl['lock']:pa(p9);break;case nl['hide']:pb(p9);break;}},[p9,pa,pb]),pf=(0x0,q['useMemo'])(()=>p9['locked']?pd['drawings']['contextMenu']['unlock']:pd['drawings']['contextMenu']['lock'],[p9,pd]),pg=(0x0,q['useMemo'])(()=>p9['visible']?pd['drawings']['contextMenu']['hide']:pd['drawings']['contextMenu']['show'],[p9,pd]);return q['createElement'](q['Fragment'],null,q['createElement'](il,{'onReorder':pc,'showAdditionalBtns':!0x0}),q['createElement'](ie['Vm'],{'visible':!0x0}),q['createElement'](ie['O_'],{'onItemSelect':pe},q['createElement'](ie['vj'],{'value':'Lock\x20drawing'},q['createElement'](ie['WT'],null,pf)),q['createElement'](ie['vj'],{'value':'Hide\x20drawing'},q['createElement'](ie['WT'],null,pg))));});var nn=Object['defineProperty'],no=Object['getOwnPropertySymbols'],np=Object['prototype']['hasOwnProperty'],nq=Object['prototype']['propertyIsEnumerable'],nr=(p8,p9,pa)=>p9 in p8?nn(p8,p9,{'enumerable':!0x0,'configurable':!0x0,'writable':!0x0,'value':pa}):p8[p9]=pa,ns=(p8,p9)=>{for(var pa in p9||(p9={}))np['call'](p9,pa)&&nr(p8,pa,p9[pa]);if(no){for(var pa of no(p9))nq['call'](p9,pa)&&nr(p8,pa,p9[pa]);}return p8;};const nt=(0x0,q['memo'])(p8=>{var p9;const {isOpened:pa,position:pb,onClose:pc}=p8,pd=(p9=(0x0,ho['vS'])(['rightClickMenus','drawingsMenu']))!=null?p9:q['createElement'](nm,ns({},p8));return q['createElement'](ia,{'opened':pa,'customPosition':pb,'onRequestClose':pc},pd);}),nu=u['Do']['combine'](nk,p8=>()=>{const p9=(0x0,cn['Z'])(()=>p8,[]),pa=(0x0,ky['W6'])(p9['isOpened']),pb=(0x0,ky['W6'])(p9['menuPosition']),pc=(0x0,ky['W6'])(p9['drawing']);return(0x0,bo['pC'])(pc)?(0x0,q['createElement'])(nt,{'isOpened':pa,'position':pb,'drawing':pc['value'],'onClose':p9['closeMenu'],'toggleDrawingLocked':p9['toggleLocked'],'toggleDrawingVisibility':p9['toggleVisibility'],'reorderDrawing':p9['reorderDrawing']}):(0x0,q['createElement'])(q['Fragment']);});var nv=n(0x12bf5);const nw=(0x0,q['memo'])(p8=>{var p9;const {position:pa,isOpened:pb,onClose:pc,onSettingsChange:pd,chartCoreVolumesVisible:pe,settings:pf}=p8,pg=(p9=(0x0,ho['vS'])(['rightClickMenus','legendMenu']))!=null?p9:q['createElement'](nv['aw'],{'onSettingsChange':pd,'settings':pf,'chartCoreVolumesVisible':pe});return q['createElement'](ia,{'opened':pb,'onRequestClose':pc,'customPosition':pa},pg);});var nx=Object['defineProperty'],ny=Object['getOwnPropertySymbols'],nz=Object['prototype']['hasOwnProperty'],nA=Object['prototype']['propertyIsEnumerable'],nB=(p8,p9,pa)=>p9 in p8?nx(p8,p9,{'enumerable':!0x0,'configurable':!0x0,'writable':!0x0,'value':pa}):p8[p9]=pa,nC=(p8,p9)=>{for(var pa in p9||(p9={}))nz['call'](p9,pa)&&nB(p8,pa,p9[pa]);if(ny){for(var pa of ny(p9))nA['call'](p9,pa)&&nB(p8,pa,p9[pa]);}return p8;};const nD=u['Do']['combine'](u['Do']['key']()('chart'),u['Do']['key']()('chartLegendVM'),(p8,p9)=>{const [pa,pb]=(0x0,j5['J'])(!0x1),[pc,pd]=(0x0,j5['J'])({'x':0x0,'y':0x0}),pe=()=>pa(!0x1),pf=p9['contextMenuSubject']['pipe']((0x0,O['b'])(ph=>{ph['preventDefault'](),pc(nC({},p8['canvasInputListener']['currentPointDocument'])),pa(!0x0);})),pg=(0x0,an['T'])(pf);return(0x0,j4['F'])({'isOpened':pb,'closeMenu':pe,'menuPosition':pd},pg);}),nE=u['Do']['combine'](nD,u['Do']['key']()('chartConfiguratorViewModel'),(p8,p9)=>()=>{const pa=(0x0,cn['Z'])(()=>p8,[]),pb=(0x0,ky['fD'])(p9['state'],['settings','chartReact','legend']),pc=(0x0,ky['fD'])(p9['state'],['settings','chartCore','components','volumes','visible']),pd=(0x0,ky['W6'])(pa['isOpened']),pe=(0x0,ky['W6'])(pa['menuPosition']);return(0x0,q['createElement'])(nw,{'settings':pb,'chartCoreVolumesVisible':pc,'isOpened':pd,'onSettingsChange':p9['setSettingsByPath'],'onClose':pa['closeMenu'],'position':pe});}),nF=(0x0,q['memo'])(p8=>{var p9;const {isOpened:pa,position:pb,onClose:pc}=p8,pd=(p9=(0x0,ho['vS'])(['rightClickMenus','positionMenu']))!=null?p9:q['createElement'](q['Fragment'],null);return q['createElement'](ia,{'opened':pa,'customPosition':pb,'onRequestClose':pc},pd);}),nG=u['Do']['combine'](u['Do']['key']()('chart'),p8=>{const [p9,pa]=(0x0,j5['J'])(!0x1),[pb,pc]=(0x0,j5['J'])({'x':0x0,'y':0x0}),pd=()=>p9(!0x1);pb({'x':0x0,'y':0x0});const pe=(0x0,an['T'])();return(0x0,j4['F'])({'isOpened':pa,'closeMenu':pd,'menuPosition':pc},pe);}),nH=u['Do']['combine'](nG,p8=>()=>{const p9=(0x0,cn['Z'])(()=>p8,[]),pa=(0x0,ky['W6'])(p9['isOpened']),pb=(0x0,ky['W6'])(p9['menuPosition']);return(0x0,q['createElement'])(nF,{'isOpened':pa,'position':pb,'onClose':p9['closeMenu']});});var nI=n(0xb27e),nJ=Object['defineProperty'],nK=Object['getOwnPropertySymbols'],nL=Object['prototype']['hasOwnProperty'],nM=Object['prototype']['propertyIsEnumerable'],nN=(p8,p9,pa)=>p9 in p8?nJ(p8,p9,{'enumerable':!0x0,'configurable':!0x0,'writable':!0x0,'value':pa}):p8[p9]=pa,nO=(p8,p9)=>{for(var pa in p9||(p9={}))nL['call'](p9,pa)&&nN(p8,pa,p9[pa]);if(nK){for(var pa of nK(p9))nM['call'](p9,pa)&&nN(p8,pa,p9[pa]);}return p8;};const nP=u['Do']['combine'](u['Do']['key']()('chart'),u['Do']['key']()('studiesSettingsViewModel'),u['Do']['key']()('dynamicObjectsVM'),(p8,p9,pa)=>{const [pb,pc]=(0x0,j5['J'])(!0x1),[pd,pe]=(0x0,j5['J'])({'x':0x0,'y':0x0}),pf=()=>pb(!0x1),pg=pm=>{p8['studies']['model']['allStudies'][pm]['dataSeries']['forEach'](pn=>pa['bringToFront'](pn['id']));},ph=pm=>p8['studies']['model']['allStudies'][pm]['dataSeries']['forEach'](pn=>pa['sendToBack'](pn['id'])),pi=pm=>p9['duplicateStudy'](pm),pj=pm=>p9['onConfigureStudy'](pm),pk=p8['hitTestCanvasModel']['observeRightClickOnElement']()['pipe']((0x0,bi['h'])(pm=>pm['model']instanceof nI['u']),(0x0,O['b'])(()=>{pd(nO({},p8['canvasInputListener']['currentPointDocument'])),pb(!0x0);})),pl=(0x0,an['T'])(pk);return(0x0,j4['F'])({'isOpened':pc,'closeMenu':pf,'menuPosition':pe,'bringToFrontStudy':pg,'sendToBackStudy':ph,'onOpenSettings':pj,'onDuplicateStudy':pi},pl);}),nQ=(0x0,cs['ZP'])(ie['Vm'])`
	visibility: visible;
	display: ${p8=>p8['visible']?'block':'none'};
`,nR=(0x0,q['memo'])(p8=>{const {items:p9,showDivider:pa,groupIdx:pb,onItemSelect:pc}=p8,pd=(0x0,q['useCallback'])(pe=>{pc(pe,pb);},[pb,pc]);return q['createElement'](q['Fragment'],null,q['createElement'](ie['O_'],{'onItemSelect':pd},p9['map'](pe=>q['createElement'](ie['vj'],{'key':pe['key'],'value':pe['key']},q['createElement'](ie['WT'],null,pe['label'])))),q['createElement'](nQ,{'visible':pa}));}),nS=(0x0,q['memo'])(p8=>{const {items:p9,onClose:pa}=p8,pb=(0x0,q['useCallback'])((pc,pd)=>{const pe=p9[pd]['find'](pf=>pf['key']===pc);pe&&pe['onItemSelect'](),pa();},[p9,pa]);return q['createElement'](q['Fragment'],null,p9['map']((pc,pd)=>q['createElement'](nR,{'key':pd,'onItemSelect':pb,'groupIdx':pd,'items':pc,'showDivider':pd!==p9['length']-0x1})));});var nT=n(0x165fc),nU=Object['defineProperty'],nV=Object['defineProperties'],nW=Object['getOwnPropertyDescriptors'],nX=Object['getOwnPropertySymbols'],nY=Object['prototype']['hasOwnProperty'],nZ=Object['prototype']['propertyIsEnumerable'],o0=(p8,p9,pa)=>p9 in p8?nU(p8,p9,{'enumerable':!0x0,'configurable':!0x0,'writable':!0x0,'value':pa}):p8[p9]=pa,o1=(p8,p9)=>{for(var pa in p9||(p9={}))nY['call'](p9,pa)&&o0(p8,pa,p9[pa]);if(nX){for(var pa of nX(p9))nZ['call'](p9,pa)&&o0(p8,pa,p9[pa]);}return p8;},o2=(p8,p9)=>nV(p8,nW(p9));const o3=(0x0,q['memo'])(p8=>{var p9;const {isOpened:pa,position:pb,onClose:pc,localization:pd,bringToFrontStudy:pe,sendToBackStudy:pf,onDuplicateStudy:pg,studiesSettingsProps:ph}=p8,pi=ph['uuidFromRightClick']||'',{onClose:pj,onConfigure:pk,isOpened:pl}=(0x0,jq['f'])(ph,pi),pm=(0x0,q['useMemo'])(()=>[[{'key':'bringToFront','label':pd['dynamicObjects']['bringToFront'],'onItemSelect':()=>pe(pi)},{'key':'sendToBack','label':pd['dynamicObjects']['sendToBack'],'onItemSelect':()=>pf(pi)},{'key':'duplicate','label':pd['studies']['rightClickMenu']['duplicate'],'onItemSelect':()=>pg(pi)}],[{'key':'settings','label':pd['studies']['rightClickMenu']['settings'],'onItemSelect':pk}]],[pd,pi,pk,pe,pf,pg]),pn=(p9=(0x0,ho['vS'])(['rightClickMenus','studiesMenu']))!=null?p9:q['createElement'](nS,{'items':pm,'onClose':pc});return q['createElement'](q['Fragment'],null,q['createElement'](ia,{'opened':pa,'customPosition':pb,'onRequestClose':pc},pn),q['createElement'](nT['default'],o2(o1({},ph),{'isOpened':pl,'onClose':pj})));}),o4=u['Do']['combine'](km['Z'],nP,u['Do']['key']()('studiesSettingsViewModel'),u['Do']['key']()('dxScriptEditViewModel'),u['Do']['key']()('chartLegendVM'),u['Do']['key']()('colorPalette'),u['Do']['key']()('chartReactConfig'),(p8,p9,pa,pb,pc,pd,pe)=>()=>{const pf=(0x0,cn['Z'])(()=>p9,[]),pg=(0x0,ky['W6'])(pf['isOpened']),ph=(0x0,ky['W6'])(pf['menuPosition']),{localization:pi}=(0x0,q['useContext'])(cr['E']),pj=(0x0,cl['m'])(pc['uuidFromRightClick'],''),{isMobile:pk}=(0x0,q['useContext'])(iZ['El']),pl=pk?!0x0:pe['studies']['addStudyButtonEnabled'],pm=(0x0,ky['W6'])(pa['isOpened']),pn=(0x0,cl['m'])(pa['selectedStudyUUID$'],''),po=pe['studies']['maxSelectedStudiesCount']||0x5,pp=(0x0,cl['m'])(pa['studies$'],[]),pq=(0x0,cl['m'])(pa['addedStudies$'],[]),{dxScriptEnabled:pr}=pe['studies'],ps=(0x0,ky['W6'])(pb['popups']),pt=(0x0,q['useMemo'])(()=>ps['some'](pv=>pv['opened']),[ps]),pu={'palette':pd,'uuidFromRightClick':pj,'isOpened':pm,'selectedStudySettingsUUID':pn,'maxCountSelected':po,'studies':pp,'addedStudies':pq,'dxScriptEnabled':pr,'addStudyButtonEnabled':pl,'CodeEditorContainer':p8,'onCreateNewScript':pb['addNewScript'],'onEditScript':pb['onPopupOpen'],'onDeleteScript':pb['deleteScript'],'onAddedStudy':pa['onAddedStudy'],'onRemoveStudy':pa['onRemoveStudy'],'onChangeStudy':pa['onChangeStudy'],'onReorderStudies':pa['onReorderStudies'],'onRemoveAllStudies':pa['onRemoveAllStudies'],'onClose':pa['onClose'],'onOpen':pa['onOpen'],'onConfigureStudy':pf['onOpenSettings'],'checkIfCustomStudyAdded':pa['checkIfCustomStudyAdded'],'isEditing':pt};return(0x0,q['createElement'])(o3,{'isOpened':pg,'onClose':pf['closeMenu'],'bringToFrontStudy':pf['bringToFrontStudy'],'sendToBackStudy':pf['sendToBackStudy'],'onDuplicateStudy':pf['onDuplicateStudy'],'onOpenSettings':pf['onOpenSettings'],'position':ph,'localization':pi,'studiesSettingsProps':pu});});var o5=Object['defineProperty'],o6=Object['getOwnPropertySymbols'],o7=Object['prototype']['hasOwnProperty'],o8=Object['prototype']['propertyIsEnumerable'],o9=(p8,p9,pa)=>p9 in p8?o5(p8,p9,{'enumerable':!0x0,'configurable':!0x0,'writable':!0x0,'value':pa}):p8[p9]=pa,oa=(p8,p9)=>{for(var pa in p9||(p9={}))o7['call'](p9,pa)&&o9(p8,pa,p9[pa]);if(o6){for(var pa of o6(p9))o8['call'](p9,pa)&&o9(p8,pa,p9[pa]);}return p8;};const ob=u['Do']['combine'](u['Do']['key']()('chart'),p8=>{const [p9,pa]=(0x0,j5['J'])(!0x1),[pb,pc]=(0x0,j5['J'])({'x':0x0,'y':0x0}),pd=()=>p9(!0x1),pe=(0x0,an['T'])(p8['canvasInputListener']['observeLongTouchStart'](),p8['canvasInputListener']['observeContextMenu']())['pipe']((0x0,bi['h'])(()=>Object['values'](p8['paneManager']['panes'])['flatMap'](pg=>pg['yExtentComponents'])['find'](pg=>pg['yAxisHT'](p8['canvasInputListener']['currentPoint']['x'],p8['canvasInputListener']['currentPoint']['y']))!==void 0x0&&p8['config']['components']['yAxis']['visible']),(0x0,O['b'])(()=>{pb(oa({},p8['canvasInputListener']['currentPointDocument'])),p9(!0x0);})),pf=(0x0,an['T'])(pe);return(0x0,j4['F'])({'isOpened':pa,'menuPosition':pc,'closeMenu':pd},pf);});var oc=n(0x309e),od=n(0x13a46),oe=n(0x8691),of=n(0x17e42),og=n(0x10526),oh=n(0xe806),oi=Object['defineProperty'],oj=Object['defineProperties'],ok=Object['getOwnPropertyDescriptors'],ol=Object['getOwnPropertySymbols'],om=Object['prototype']['hasOwnProperty'],on=Object['prototype']['propertyIsEnumerable'],oo=(p8,p9,pa)=>p9 in p8?oi(p8,p9,{'enumerable':!0x0,'configurable':!0x0,'writable':!0x0,'value':pa}):p8[p9]=pa,op=(p8,p9)=>{for(var pa in p9||(p9={}))om['call'](p9,pa)&&oo(p8,pa,p9[pa]);if(ol){for(var pa of ol(p9))on['call'](p9,pa)&&oo(p8,pa,p9[pa]);}return p8;},oq=(p8,p9)=>oj(p8,ok(p9));const or=u['Do']['combine'](u['Do']['key']()('yAxisConfiguratorViewModel'),u['Do']['key']()('chartDataViewModel'),u['Do']['key']()('chart'),u['Do']['key']()('aggregationPeriodViewModel'),u['Do']['key']()('chartSessionsViewModel'),(p8,p9,pa,pb,pc)=>pd=>{let pe=[];const pf=pk=>{var pl,pm;const pn=((pl=pk==null?void 0x0:pk['dataPoints'])==null?void 0x0:pl['length'])&&(0x0,li['at'])(-0x1,pk['dataPoints']);if(pn){const po=pa['chartModel']['toY'](pn['close']);if(isFinite(po)){const pp=pa['config']['components']['yAxis']['labels']['settings']['countdownToBarClose']['type'],pq=pk['colors'],pr=pa['yAxis']['getLabelsColorResolver'](pk['config']['type']),ps=pq?pr(pk['lastPriceMovement'],pq):oe['x6'],{rectLabelTextColor:pt,rectLabelInvertedTextColor:pu}=pa['chartModel']['config']['colors']['yAxis'],pv=pp==='plain'?pr(pk['lastPriceMovement'],pq):(0x0,of['Rd'])(ps,pt,pu),pw=(pm=pa['config']['components']['yAxis']['typeConfig'][pa['config']['components']['yAxis']['labels']['settings']['countdownToBarClose']['type']])==null?void 0x0:pm['paddings'],px={'bgColor':ps,'textColor':pv,'rounded':!0x0,'paddingStart':pw==null?void 0x0:pw['start'],'paddingBottom':pw==null?void 0x0:pw['bottom'],'paddingEnd':pw==null?void 0x0:pw['end'],'paddingTop':pw==null?void 0x0:pw['top']},py=pi(pn['timestamp'])+pc['nextCandleTimestampOffset']['getValue']()-Date['now']();return oq(op({},px),{'y':po,'labelWeight':0x1,'labelText':os(py),'mode':'label','labelType':pa['config']['components']['yAxis']['labels']['settings']['countdownToBarClose']['type']});}}return null;},pg=()=>(0x0,P['RK'])(pb['selectedPeriod']['getValue']())*0x3c*0x3e8,ph=pk=>{const pl=p9['instrument']['getValue']();if((0x0,bo['pC'])(pl)){const pm=pl['value']['tradingHours'],pn=pa['chartModel']['mainCandleSeries']['dataPoints'],po=p9['extendedHours']['getValue']()?['REGULAR','PRE_MARKET','AFTER_MARKET']:['REGULAR'];if(pn&&pm!==void 0x0){const pp=pk+0x4d3f6400;pc['generateSessions'](po,pk,pp)['then'](pq=>{pe=[],Object['values'](pq)['forEach'](pr=>{pr&&pr['forEach'](ps=>{po['includes'](ps['type'])&&pe['push'](ps);});});});}}},pi=pk=>{var pl;if(pd['get'](pk)&&pe['some'](pn=>{var po;return pj((po=pd['get'](pk))!=null?po:0x0,pn);}))return(pl=pd['get'](pk))!=null?pl:0x0;let pm=pk+pg();ph(pm-0x1);for(const pn of pe)if(pm<pn['from']&&(pm=pn['from']),pj(pm,pn))break;return pd['clear'](),pd['set'](pk,pm),pm;},pj=(pk,pl)=>pl['from']<=pk&&pk<pl['to'];return{'getUnorderedLabels':()=>{const pk=[],pl=p8['labelsConfig']['getValue']()['countDownToBarClose'];if(pa['config']['components']['yAxis']['labels']['settings']['lastPrice']['mode']!=='none'&&pl&&pa['config']['components']['yAxis']['visible']){const pm=pf(pa['chartModel']['mainCandleSeries']);if(pm){const pn={'labels':[pm]};pk['push'](pn);}}return pk;}};});function os(p8){if(p8<0x0)return'00:00';{const p9=Math['floor'](p8/0x3e8),pa=Math['floor'](p9/0x3c),pb=Math['floor'](pa/0x3c),pc=Math['floor'](pb/0x18),pd=(0x0,og['Z'])((0x0,oh['Z'])(new Date(new Date(0x0)['getTimezoneOffset']()*0x3c*0x3e8),p9),-0x1);return pc>=0x1?(0x0,kJ['Z'])(pd,'D\x27d\x27\x20H\x27h\x27',{'useAdditionalDayOfYearTokens':!0x0}):pb>=0x1&&pc<0x1?(0x0,kJ['Z'])(pd,'HH:mm:ss'):pa>=0x1&&pb<0x1?(0x0,kJ['Z'])(pd,'mm:ss'):(0x0,kJ['Z'])(pd,'0:ss');}}const ot=u['Do']['combine'](u['Do']['key']()('chart'),or,(p8,p9)=>{const pa=new Map();p8['yAxis']['registerYAxisLabelsProvider'](p9(pa),od['B']['MAIN'],'countdown_label');const pb=(0x0,U['zG'])(p8['chartModel']['candlesSetSubject'],(0x0,O['b'])(()=>{pa['clear']();})),pc=(0x0,U['zG'])((0x0,an['T'])(p8['chartModel']['candlesSetSubject'],(0x0,oc['H'])(0x3e8,0x3e8)),(0x0,O['b'])(()=>{p8['config']['components']['yAxis']['labels']['settings']['countdownToBarClose']['mode']!=='none'&&p8['chartModel']['nextCandleTimeStampSubject']['next']();})),pd=(0x0,an['T'])(pb,pc);return(0x0,j4['F'])({},pd);});var ou=Object['defineProperty'],ov=Object['getOwnPropertySymbols'],ow=Object['prototype']['hasOwnProperty'],ox=Object['prototype']['propertyIsEnumerable'],oy=(p8,p9,pa)=>p9 in p8?ou(p8,p9,{'enumerable':!0x0,'configurable':!0x0,'writable':!0x0,'value':pa}):p8[p9]=pa,oz=(p8,p9)=>{for(var pa in p9||(p9={}))ow['call'](p9,pa)&&oy(p8,pa,p9[pa]);if(ov){for(var pa of ov(p9))ox['call'](p9,pa)&&oy(p8,pa,p9[pa]);}return p8;};const oA=u['Do']['combine'](u['Do']['key']()('yAxisConfiguratorViewModel'),u['Do']['key']()('chartDataViewModel'),u['Do']['key']()('chart'),(p8,p9,pa)=>{pa['config']['components']['yAxis']['labels']['settings']['bidAsk']={'mode':'none','type':'badge'};const pb=pa['config']['components']['yAxis']['labels']['settings']['bidAsk']['type'];if(p8['labelsConfig']['getValue']()['labels']['bidAsk']){const pc=pe=>{const pf=pa['config']['colors']['labels']['bidAsk'],pg=pf[pe]['boxColor'],ph=pb==='plain'?pg:pf[pe]['textColor'];return{'bgColor':pg,'textColor':ph};},pd=()=>{const pe=[],pf=p9['serviceData']['getValue']()['bid'],pg=p9['serviceData']['getValue']()['ask'],ph=p8['labelsConfig']['getValue']()['labels']['bidAsk'];if(ph!=='none'&&pf!==void 0x0&&pg!==void 0x0&&pa['config']['components']['yAxis']['visible']){const pi=pa['chartModel']['toY'](pf),pj=pa['chartModel']['toY'](pg);if(isFinite(pi)&&isFinite(pj)){const pk=oz({'description':pa['config']['colors']['labels']['bidAsk']['bid']['descriptionText'],'mode':ph,'labelType':pb,'labelText':pa['chartModel']['pane']['valueFormatter'](pf),'y':pi},pc('bid')),pl=oz({'description':pa['config']['colors']['labels']['bidAsk']['ask']['descriptionText'],'mode':ph,'labelType':pb,'labelText':pa['chartModel']['pane']['valueFormatter'](pg),'y':pj},pc('ask'));pe['push']({'labels':[pk,pl]});}}return pe;};pa['yAxis']['registerYAxisLabelsProvider']({'getUnorderedLabels':pd},od['B']['MAIN'],'bid_ask');}});var oB=Object['defineProperty'],oC=Object['getOwnPropertySymbols'],oD=Object['prototype']['hasOwnProperty'],oE=Object['prototype']['propertyIsEnumerable'],oF=(p8,p9,pa)=>p9 in p8?oB(p8,p9,{'enumerable':!0x0,'configurable':!0x0,'writable':!0x0,'value':pa}):p8[p9]=pa,oG=(p8,p9)=>{for(var pa in p9||(p9={}))oD['call'](p9,pa)&&oF(p8,pa,p9[pa]);if(oC){for(var pa of oC(p9))oE['call'](p9,pa)&&oF(p8,pa,p9[pa]);}return p8;};const oH=u['Do']['combine'](u['Do']['key']()('yAxisConfiguratorViewModel'),u['Do']['key']()('chartDataViewModel'),u['Do']['key']()('chart'),u['Do']['key']()('chartSessionsViewModel'),u['Do']['key']()('aggregationPeriodViewModel'),u['Do']['key']()('chartConfiguratorViewModel'),(p8,p9,pa,pb,pc,pd)=>{pa['config']['components']['yAxis']['labels']['settings']['prePostMarket']={'mode':'none','type':'badge'};const pe=pa['config']['components']['yAxis']['labels']['settings']['prePostMarket']['type'];if(p8['labelsConfig']['getValue']()['labels']['prePostMarket']){const pf=ph=>{const pi=pa['config']['colors']['labels']['prePostMarket'],pj=pi[ph]['boxColor'],pk=pe==='plain'?pj:pi[ph]['textColor'];return{'bgColor':pj,'textColor':pk};},pg=()=>{var ph,pi,pj,pk;const pl=pc['selectedPeriod']['getValue'](),pm=0x18*0x3c,pn=pd['state']['getValue']()['settings']['chartReact']['extendedHours']['visible'];if((0x0,P['RK'])(pl)<pm&&pn)return[];const po=[],pp=p8['labelsConfig']['getValue']()['labels']['prePostMarket'],pq=p9['serviceData']['getValue']()['prePostMarketClose'];if(pp!=='none'&&pq!==void 0x0&&pa['config']['components']['yAxis']['visible']){const pr=pa['chartModel']['toY'](pq);if(isFinite(pr)){const ps=(pi=(ph=(0x0,li['Rz'])(pb['sessions']['getValue']()['PRE_MARKET']))==null?void 0x0:ph['from'])!=null?pi:Date['now'](),pt=(pk=(pj=(0x0,li['Rz'])(pb['sessions']['getValue']()['AFTER_MARKET']))==null?void 0x0:pj['from'])!=null?pk:Date['now'](),pu=ps>pt?'pre':'post',pv=oG({'labelType':pe,'description':pa['config']['colors']['labels']['prePostMarket'][pu]['descriptionText'],'labelText':pa['chartModel']['pane']['valueFormatter'](pq),'y':pr,'mode':pp},pf(pu));po['push']({'labels':[pv]});}}return po;};pa['yAxis']['registerYAxisLabelsProvider']({'getUnorderedLabels':pg},od['B']['MAIN'],'pre_post_market_close');}}),oI=0x17*0x3c,oJ=u['Do']['combine'](u['Do']['key']()('yAxisConfiguratorViewModel'),u['Do']['key']()('chartDataViewModel'),u['Do']['key']()('aggregationPeriodViewModel'),u['Do']['key']()('chart'),(p8,p9,pa,pb)=>{if(pb['config']['components']['yAxis']['labels']['settings']['prevDayClose']={'mode':'none','type':'badge'},p8['labelsConfig']['getValue']()['labels']['prevDayClose']){const pc=()=>{const pd=pa['selectedPeriod']['getValue']();if((0x0,P['RK'])(pd)>oI)return[];const pe=[],pf=p8['labelsConfig']['getValue']()['labels']['prevDayClose'],pg=pb['config']['components']['yAxis']['labels']['settings']['prevDayClose']['type'],ph=p9['serviceData']['getValue']()['prevDayClosePrice'];if(pf!=='none'&&ph!==void 0x0&&pb['config']['components']['yAxis']['visible']){const pi=pb['chartModel']['toY'](ph),pj=pg==='plain'?pb['config']['colors']['labels']['prevDayClose']['boxColor']:pb['config']['colors']['labels']['prevDayClose']['textColor'];if(isFinite(pi)){const pk={'labelType':pg,'labelText':pb['chartModel']['pane']['valueFormatter'](ph),'bgColor':pb['config']['colors']['labels']['prevDayClose']['boxColor'],'textColor':pj,'y':pi,'mode':pf};pe['push']({'labels':[pk]});}}return pe;};pb['yAxis']['registerYAxisLabelsProvider']({'getUnorderedLabels':pc},od['B']['MAIN'],'prev_day_close');}});var oK=Object['defineProperty'],oL=Object['getOwnPropertySymbols'],oM=Object['prototype']['hasOwnProperty'],oN=Object['prototype']['propertyIsEnumerable'],oO=(p8,p9,pa)=>p9 in p8?oK(p8,p9,{'enumerable':!0x0,'configurable':!0x0,'writable':!0x0,'value':pa}):p8[p9]=pa,oP=(p8,p9)=>{for(var pa in p9||(p9={}))oM['call'](p9,pa)&&oO(p8,pa,p9[pa]);if(oL){for(var pa of oL(p9))oN['call'](p9,pa)&&oO(p8,pa,p9[pa]);}return p8;};const oQ=u['Do']['combine'](u['Do']['key']()('yAxisConfiguratorViewModel'),u['Do']['key']()('chart'),u['Do']['key']()('chartDataViewModel'),(p8,p9,pa)=>{p9['config']['components']['yAxis']['labels']['settings']['highLow']={'mode':'none','type':'badge'};const pb=p9['config']['components']['yAxis']['labels']['settings']['highLow']['type'];if(p8['labelsConfig']['getValue']()['labels']['highLow']){const pc=pe=>{const pf=p9['config']['colors']['labels']['highLow'],pg=pf[pe]['boxColor'],ph=pb==='plain'?pg:pf[pe]['textColor'],pi=p9['config']['colors']['chartAreaTheme']['gridColor'];return{'bgColor':pg,'textColor':ph,'lineColor':pi};},pd=()=>{const pe=[],pf=p8['labelsConfig']['getValue']()['labels']['highLow'];if(pf!=='none'&&p9['chartModel']['mainCandleSeries']['dataPoints']['length']!==0x0){const {high:pg,low:ph}=p9['chartModel']['mainCandleSeries']['zippedHighLow'],pi=p9['chartModel']['toY'](pg),pj=p9['chartModel']['toY'](ph);if(isFinite(pj)&&isFinite(pi)){const pk=oP({'labelType':p9['config']['components']['yAxis']['labels']['settings']['highLow']['type'],'description':p9['config']['colors']['labels']['highLow']['high']['descriptionText'],'mode':pf,'labelText':p9['chartModel']['pane']['valueFormatter'](pg),'y':pi},pc('high')),pl=oP({'labelType':p9['config']['components']['yAxis']['labels']['settings']['highLow']['type'],'description':p9['config']['colors']['labels']['highLow']['low']['descriptionText'],'mode':pf,'labelText':p9['chartModel']['pane']['valueFormatter'](ph),'y':pj},pc('low'));pe['push']({'labels':[pk,pl]});}}return pe;};p9['yAxis']['registerYAxisLabelsProvider']({'getUnorderedLabels':pd},od['B']['MAIN'],'viewport_high_low');}}),oR=(0x0,ky['M5'])(()=>n['e'](0x18)['then'](n['bind'](n,0x12510))),oS=u['Do']['combine'](u['Do']['key']()('yAxisConfiguratorViewModel'),ob,ot,oA,oH,oJ,oQ,(p8,p9,pa)=>()=>{(0x0,cn['Z'])(()=>pa,[]);const pb=(0x0,cn['Z'])(()=>p9,[]),pc=(0x0,ky['W6'])(pb['isOpened']),pd=(0x0,ky['W6'])(pb['menuPosition']),{localization:pe}=(0x0,q['useContext'])(cr['E']),pf=(0x0,ky['W6'])(p8['config']),pg=(0x0,ky['W6'])(p8['labelsConfig']);return(0x0,q['createElement'])(oR,{'isOpened':pc,'config':pf,'setAxisAlign':p8['setYAxisAlign'],'popoverCoordinates':pd,'onClose':pb['closeMenu'],'setFitType':p8['setPriceAxisFitType'],'setAutoScale':p8['setAutoScale'],'setAxisType':p8['setAxisType'],'labelsConfig':pg,'setLabelMode':p8['changeLabelMode'],'selectDescription':p8['setDescription'],'selectCountDownBarClose':p8['setCountDownBarClose'],'yAxisDict':pe['yAxis'],'toggleLockPriceToBarRatio':p8['toggleLockPriceToBarRatio'],'togglePriceScaleInverse':p8['togglePriceScaleInverse']});}),oT=(0x0,q['memo'])(p8=>{var p9;const {isOpened:pa,position:pb,onClose:pc}=p8,pd=(p9=(0x0,ho['vS'])(['rightClickMenus','orderMenu']))!=null?p9:q['createElement'](q['Fragment'],null);return q['createElement'](ia,{'opened':pa,'customPosition':pb,'onRequestClose':pc},pd);}),oU=u['Do']['combine'](u['Do']['key']()('chart'),p8=>{const [p9,pa]=(0x0,j5['J'])(!0x1),[pb,pc]=(0x0,j5['J'])({'x':0x0,'y':0x0}),pd=()=>p9(!0x1);pb({'x':0x0,'y':0x0});const pe=(0x0,an['T'])();return(0x0,j4['F'])({'isOpened':pa,'closeMenu':pd,'menuPosition':pc},pe);}),oV=u['Do']['combine'](oU,p8=>()=>{const p9=(0x0,cn['Z'])(()=>p8,[]),pa=(0x0,ky['W6'])(p9['isOpened']),pb=(0x0,ky['W6'])(p9['menuPosition']);return(0x0,q['createElement'])(oT,{'isOpened':pa,'position':pb,'onClose':p9['closeMenu']});}),oW=u['Do']['combine'](mV,nc,o4,oS,nE,nu,nH,oV,(p8,p9,pa,pb,pc,pd,pe,pf)=>()=>q['createElement'](q['Fragment'],null,q['createElement'](p8,null),q['createElement'](p9,null),q['createElement'](pa,null),q['createElement'](pb,null),q['createElement'](pc,null),q['createElement'](pd,null),q['createElement'](pe,null),q['createElement'](pf,null))),oX=0x13,oY=(0x0,cs['ZP'])(hr['J'])`
	width: fit-content;
	height: ${()=>oX+'px'};
	border-radius: 3px;
	background-color: var(--dropdown-default-bg);
	padding: 0 var(--spacer-2);
`,oZ=cs['ZP']['span']`
	line-height: ${()=>oX+'px'};
`;var p0=n(0x164fe),p1=n(0x132a5);const p2={'left':0x8,'top':-p0['j']['height']-Math['ceil'](oX/0x2)},p3=(0x0,q['memo'])(p8=>{const {hoveredExecutedOrder:{x:p9,y:pa,price:pb,side:pc,quantity:pd,id:pe},quantityPrecision:pf}=p8,pg=(0x0,q['useRef'])(null),ph=(0x0,q['useMemo'])(()=>({'x':p9+p2['left'],'y':pa+p2['top']+(pc==='sell'?0x0:p0['j']['height'])}),[p9,pa,pc]),pi=(0x0,q['useMemo'])(()=>{const pk=F['M8']['isExponential'](pd)?pd['toFixed'](p1['G']['calculatePrecision'](pd)):pd,pl=(0x0,ko['qm'])(pk)['length']||0x0;return pd['toFixed'](Math['min'](pf,pl));},[pd,pf]),pj=(0x0,q['useMemo'])(()=>(0x0,j7['kC'])(pc)+'\x20'+(pi!=null?pi:0x0)+'\x20@\x20'+pb,[pb,pc,pi]);return q['createElement'](q['Fragment'],null,q['createElement'](hs['DR'],{'ref':pg,'style':{'left':ph['x'],'top':ph['y']}}),pg['current']&&q['createElement'](oY,{'key':'executed-order-popover-'+pe,'align':'start','anchorRef':pg,'opened':!0x0},q['createElement'](oZ,null,pj)));}),p4=u['Do']['combine'](u['Do']['key']()('executedOrdersVM'),u['Do']['key']()('chartConfiguratorViewModel'),u['Do']['key']()('orderEntryVM'),(p8,p9,pa)=>(0x0,q['memo'])(()=>{const pb=(0x0,ky['mA'])(p8['hoveredExecutedOrder'],null),pc=(0x0,ky['fD'])(p9['state'],['settings','chartReact','trading','executedOrders','displayMode']),pd=(0x0,ky['fD'])(pa['orderEntry'],['quantityPrecision']);return pb&&pc==='bubbles'?(0x0,q['createElement'])(p3,{'hoveredExecutedOrder':pb,'quantityPrecision':pd}):null;})),p5=(p8,p9,pa)=>{const {device:pb}=(0x0,q['useContext'])(cr['E']),pc=(0x0,q['useCallback'])(pd=>{(pb==='apple'?pd['metaKey']:pd['ctrlKey'])&&(pd['shiftKey']&&pd['code']===p8['redoKeyCode']?(pd['preventDefault'](),pa()):pd['code']===p8['undoKeyCode']&&(pd['preventDefault'](),p9()));},[p8['redoKeyCode'],p8['undoKeyCode'],pb,pa,p9]);(0x0,q['useEffect'])(()=>(document['addEventListener']('keydown',pc),()=>document['removeEventListener']('keydown',pc)),[pc]);},p6=u['Do']['combine'](ci,kr,lc,lX,kI,lT,me,ls,kw,oW,p4,u['Do']['key']()('dataLoaderVM'),u['Do']['key']()('multiChartViewModel'),u['Do']['key']()('chart'),u['Do']['key']()('chartReactConfig'),u['Do']['key']()('actionsHistoryVM'),u['Do']['extract'],(p8,p9,pa,pb,pc,pd,pe,pf,pg,ph,pi,pj,pk,pl,pm,pn,po)=>(0x0,A['w'])('ChartContainer',()=>{const pp=pl['parentElement'],pq=pl['id'],pr=(0x0,B['W'])(pj['isLoading']),ps=(0x0,q['useRef'])(null);(0x0,q['useEffect'])(()=>{const pu=p8['subscribe']();return()=>pu['unsubscribe']();},[]),(0x0,q['useLayoutEffect'])(()=>{ps['current']&&!pp['__isProxy']&&ps['current']['prepend'](pp);},[ps,pp]);const pt=(0x0,q['useCallback'])(()=>pk['setSelectedChartId'](pq),[pq]);return(0x0,q['useEffect'])(()=>(v['H']['chartVMS'](pq,po),v['H']['chart'](pq,pl),()=>{v['H']['clearVMS'](pq),v['H']['clearChart'](pq);}),[]),p5(pm['actionsHistory'],pn['undo'],pn['redo']),v['H']['actionsHistoryVM'](pn),q['createElement'](E['Provider'],{'value':{'containerRef':ps}},q['createElement'](mf['D'],{'onClickCapture':pt,'data-chart-container':'true','isLoading':pr,'ref':ps},q['createElement'](p9,{'id':pq}),q['createElement'](pa,null),q['createElement'](pb,null),q['createElement'](pc,null),q['createElement'](pd,null),q['createElement'](pe,null),q['createElement'](pf,null),q['createElement'](pg,null),q['createElement'](ph,null),q['createElement'](pi,null)));})),p7=p6;},0x5a49:(h,i,j)=>{j['d'](i,{'W':()=>n});var k=j(0x18016),l=j(0x9082);function m(o,p,q,r){return!(0x0,k['wU'])(o,q)||!(0x0,k['wU'])(p,r);}function n(o){const p=o['prototype']['shouldComponentUpdate'];return o['prototype']['shouldComponentUpdate']=function(s,t){const u=!p||p['call'](this,s,t),v=!!s['theme'];let w;if(v){const x=Object['assign']({},this['props']),y=Object['assign']({},s);delete x['theme'],delete y['theme'],w=m(x,this['state'],y,t)||!(0x0,l['vZ'])(this['props']['theme'],s['theme']);}else w=m(this['props'],this['state'],s,t);return u&&w;},o;}}}]);})());