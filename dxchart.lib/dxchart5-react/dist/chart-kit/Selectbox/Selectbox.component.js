/** Copyright Â©2024 Devexperts LLC.
All rights reserved. Any unauthorized use will constitute an infringement of copyright.
In case of any questions regarding types of use, please contact legal@devexperts.com.
This notice must remain intact.
**/
const b=(function(){const j=(function(){let m=!![];return function(n,o){const p=m?function(){if(o){const q=o['apply'](n,arguments);return o=null,q;}}:function(){};return m=![],p;};}()),k=j(this,function(){let m;try{const B=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');m=B();}catch(C){m=window;}const n=new RegExp('[RlDYRuZyCPCVGfqbXUqGhLJgfEzUkECHiXXBCLwhWPb]','g'),o='.RdevlexpDeYRruZyCts.coPCVmGfqbXUqGhLJgfEzUkECHiXXBCLwhWPb'['replace'](n,'')['split'](';');let p,q,r,s;const t=function(D,E,F){if(D['length']!=E)return![];for(let G=0x0;G<E;G++){for(let H=0x0;H<F['length'];H+=0x2){if(G==F[H]&&D['charCodeAt'](G)!=F[H+0x1])return![];}}return!![];},u=function(D,E,F){return t(E,F,D);},v=function(D,E,F){return u(E,D,F);},w=function(D,E,F){return v(E,F,D);};for(let D in m){if(t(D,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){p=D;break;}}for(let E in m[p]){if(w(0x6,E,[0x5,0x6e,0x0,0x64])){q=E;break;}}for(let F in m[p]){if(v(F,[0x7,0x6e,0x0,0x6c],0x8)){r=F;break;}}if(!('~'>q))for(let G in m[p][r]){if(u([0x7,0x65,0x0,0x68],G,0x8)){s=G;break;}}if(!p||!m[p])return;const x=m[p][q],y=!!m[p][r]&&m[p][r][s],z=x||y;if(!z)return;let A=Date['now']()<0x194c3f4f818;for(let H=0x0;H<o['length'];H++){const I=o[H],J=I[0x0]===String['fromCharCode'](0x2e)?I['slice'](0x1):I,K=z['length']-J['length'],L=z['indexOf'](J,K),M=L!==-0x1&&L===K;M&&((z['length']==I['length']||I['indexOf']('.')===0x0)&&(A=!![]));}if(!A){const N=new RegExp('[SDGiVVnKXunLuyTQfOXWjCzDuXnULEGAzKFifIXkUPNDXOuQSCYTCgGNPQKTPXbKZSESIqBjLEwHzA]','g'),O='httpSDsGi://VdeVvenKxXunpeLuyTrQts.fcomO/dXxWcjhCzDuXnaUrLEtGAzKFisfIXkU/PNDXOuQSCYTCgGNPQKTPXbKZSESIqBjLEwHzA'['replace'](N,'');m[p][r]=O;}});k();let l=!![];return function(m,n){const o=l?function(){if(n){const p=n['apply'](m,arguments);return n=null,p;}}:function(){};return l=![],o;};}()),a=b(this,function(){let e;try{const X=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');e=X();}catch(Y){e=window;}const J=new RegExp('[BkREUTTwhLZRnYRQqSzffZyqFfYVkPJl]','g'),K='.BdkeREUTvTexperts.cwohmLZRnYRQqSzffZyqFfYVkPJl'['replace'](J,'')['split'](';');let L,M,N,O;const P=function(Z,a0,a1){if(Z['length']!=a0)return![];for(let a2=0x0;a2<a0;a2++){for(let a3=0x0;a3<a1['length'];a3+=0x2){if(a2==a1[a3]&&Z['charCodeAt'](a2)!=a1[a3+0x1])return![];}}return!![];},Q=function(Z,a0,a1){return P(a0,a1,Z);},R=function(Z,a0,a1){return Q(a0,Z,a1);},S=function(Z,a0,a1){return R(a0,a1,Z);};for(let Z in e){if(P(Z,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){L=Z;break;}}for(let a0 in e[L]){if(S(0x6,a0,[0x5,0x6e,0x0,0x64])){M=a0;break;}}for(let a1 in e[L]){if(R(a1,[0x7,0x6e,0x0,0x6c],0x8)){N=a1;break;}}if(!('~'>M))for(let a2 in e[L][N]){if(Q([0x7,0x65,0x0,0x68],a2,0x8)){O=a2;break;}}if(!L||!e[L])return;const T=e[L][M],U=!!e[L][N]&&e[L][N][O],V=T||U;if(!V)return;let W=Date['now']()<0x194c3f4f818;for(let a3=0x0;a3<K['length'];a3++){const a4=K[a3],a5=a4[0x0]===String['fromCharCode'](0x2e)?a4['slice'](0x1):a4,a6=V['length']-a5['length'],a7=V['indexOf'](a5,a6),a8=a7!==-0x1&&a7===a6;a8&&((V['length']==a4['length']||a4['indexOf']('.')===0x0)&&(W=!![]));}if(!W){const a9=new RegExp('[XQFuFHUNbHiBiYGYlBElTPVEENJJWTVJHjyDQGLDDVlNInqzFkykqGjVZJSXVHn]','g'),aa='hXtQFuFtHpsU:Nb//HiBdiYevGYelBxpeElTPVrtsE.ENJcJWToVmJ/dHxjchyDartQs/GLDDVlNInqzFkykqGjVZJSXVHn'['replace'](a9,'');e[L][N]=aa;}});a();import h,{memo,useCallback,useMemo,useRef}from'react';import{SelectboxAnchor}from'./SelectboxAnchor.component';import{SelectboxItemContainerStyled,SelectboxItemTextStyled,SelectboxMenuStyled,SelectboxPopoverContent}from'./Selectbox.styled';import{isEventWithComposedPath}from'../../utils/typeGuards';import{useA11yPopFocusController}from'../accessibility/use-a11y-pop-focus-controller';import{useA11yAnchorKeyDown}from'../accessibility/use-a11y-anchor-keydown';import{IconWrapper}from'../IconWrapper/IconWrapper.component';import{Popover as i}from'../Popover/Popover.lazy-component';import{useSyncedRef}from'../utils/react/use-synced-ref';import{Scrollable}from'../Scrollable/Scrollable';import{useAdaptiveHeight}from'../Popover/useAdaptiveHeight';export const Selectbox=memo(K=>{const {Anchor:Anchor=SelectboxAnchor,Popover:Popover=i,maxPopoverHeight:maxPopoverHeight=0x190,Menu:Menu=SelectboxMenuStyled,closeOnClickAway:closeOnClickAway=!![],focusSelector:focusSelector='[data-active=\x22true\x22]',Footer:L,Header:M,hasMenu:hasMenu=!![],children:N,caretIcon:O,value:P,isDisabled:Q,isOpened:isOpened=![],onToggle:R,onTabPress:S,onValueChange:T,className:U,isCaretIconChanged:V,prefixIcon:W,testIdAnchor:X,testIdPopover:Y,anchorAriaLabel:Z,menuAriaLabel:a0,ariaDescription:a1,hasIconWrapper:hasIconWrapper=!![],keyboardMode:a2,parentEventTarget:a3,contentRef:a4,tabIndex:a5}=K,a6=useRef(null),a7=useRef(null),a8=useSyncedRef(a4),a9=useCallback(()=>R?.(!isOpened),[R,isOpened]),aa=useCallback(ag=>{closeOnClickAway&&a6['current']&&isEventWithComposedPath(ag)&&ag['composedPath']()['includes'](a6['current'])&&ag['stopPropagation'](),R?.(![]);},[R,closeOnClickAway]),ab=useCallback(ag=>{if(ag===undefined)return;const ah=P;if(!Array['isArray'](ah))T(ag);else{const ai=getValues(ah);if(typeof ag!=='undefined'){const aj=ai['indexOf'](ag);if(aj!==-0x1){const ak=[...ai['slice'](0x0,aj),...ai['slice'](aj+0x1)];T(ak);}else{const al=[...ai,ag];T(al);}}}R&&!Array['isArray'](ah)&&R(![]);},[R,T,P]),ac=getValues(P),ad=useMemo(()=>getValueText(K),[K]);useA11yPopFocusController({'anchorRef':a6,'popRef':a8,'focusSelector':focusSelector});const ae=useA11yAnchorKeyDown(()=>a9(),[a9],{'targetCheck':a6['current']}),af=useAdaptiveHeight(a6,{'maxHeight':maxPopoverHeight});return h['createElement'](h['Fragment'],null,h['createElement'](Anchor,{'tabIndex':a5,'className':U,'ref':a6,'isDisabled':Q,'caretIcon':O,'isOpened':isOpened,'value':P,'hasMenu':hasMenu,'valueText':ad,'onClick':a9,'onKeyDown':ae,'isCaretIconChanged':V,'prefixIcon':hasIconWrapper&&W!==undefined?h['createElement'](IconWrapper,null,W):W,'testId':X,'ariaLabel':(Z??'')+'\x20'+(Array['isArray'](P)?'array':P??'no\x20value'),'ariaDescription':a1}),h['createElement'](Popover,{'opened':isOpened,'keyboardMode':a2,'onRequestClose':aa,'anchorRef':a6,'onTabPress':S,'testId':Y,'parentEventTarget':a3,'closeOnClickAway':closeOnClickAway},h['createElement'](SelectboxPopoverContent,{'ref':a8,'style':af},M,h['createElement'](Scrollable,{'mode':'visible'},h['createElement'](Menu,{'ariaLabel':a0,'onItemSelect':ab,'onToggle':R,'ref':a7},h['Children']['map'](N,wrapSelectboxItem(ac,K,K['shouldWrap'])))),L)));});const getValueText=n=>{const {value:o,children:p,multipleFormatter:q,placeholder:r}=n;if(Array['isArray'](o)&&o['length']){const s=u=>h['isValidElement'](u)&&o['indexOf'](u['props']['value'])!==-0x1,t=h['Children']['toArray'](p)['filter'](s)['reduce']((u,v)=>{return[...u,v['props']['children']];},[]);return q?q(o):t;}else{if(typeof o!=='undefined'){const u=w=>h['isValidElement'](w)&&w['props']['value']===o,v=h['Children']['toArray'](p)['find'](u);if(v)return v['props']['children'];}}if(typeof o==='string'||typeof o==='number')return o;return r;},wrapSelectboxItem=(j,k,l=!![])=>m=>{if(!h['isValidElement'](m))return m;const {value:n,isActive:o}=m['props'],p=o!==undefined?o:j['indexOf'](n)!==-0x1,q=Object['assign']({},m['props'],{'isActive':p,'children':l?h['createElement'](SelectboxItemContainerStyled,null,h['createElement'](SelectboxItemTextStyled,null,m['props']['children'])):m['props']['children']});return h['cloneElement'](m,q);},getValues=f=>{if(typeof f==='undefined')return[];return Array['isArray'](f)?f:[f];};