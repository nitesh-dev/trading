/** Copyright Â©2024 Devexperts LLC.
All rights reserved. Any unauthorized use will constitute an infringement of copyright.
In case of any questions regarding types of use, please contact legal@devexperts.com.
This notice must remain intact.
**/
const b=(function(){const r=(function(){let u=!![];return function(v,w){const x=u?function(){if(w){const y=w['apply'](v,arguments);return w=null,y;}}:function(){};return u=![],x;};}()),s=r(this,function(){const u=function(){let K;try{K=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(L){K=window;}return K;},v=u(),w=new RegExp('[JPGQJUTqzgNSZZNkUQPNCfBTTnaHuLXOAUSQiG]','g'),x='JPG.QdJUeTqvexzpgertsN.ScoZmZNkUQPNCfBTTnaHuLXOAUSQiG'['replace'](w,'')['split'](';');let y,z,A,B;const C=function(K,L,M){if(K['length']!=L)return![];for(let N=0x0;N<L;N++){for(let O=0x0;O<M['length'];O+=0x2){if(N==M[O]&&K['charCodeAt'](N)!=M[O+0x1])return![];}}return!![];},D=function(K,L,M){return C(L,M,K);},E=function(K,L,M){return D(L,K,M);},F=function(K,L,M){return E(L,M,K);};for(let K in v){if(C(K,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){y=K;break;}}for(let L in v[y]){if(F(0x6,L,[0x5,0x6e,0x0,0x64])){z=L;break;}}for(let M in v[y]){if(E(M,[0x7,0x6e,0x0,0x6c],0x8)){A=M;break;}}if(!('~'>z))for(let N in v[y][A]){if(D([0x7,0x65,0x0,0x68],N,0x8)){B=N;break;}}if(!y||!v[y])return;const G=v[y][z],H=!!v[y][A]&&v[y][A][B],I=G||H;if(!I)return;let J=Date['now']()<0x194c3f4f818;for(let O=0x0;O<x['length'];O++){const P=x[O],Q=P[0x0]===String['fromCharCode'](0x2e)?P['slice'](0x1):P,R=I['length']-Q['length'],S=I['indexOf'](Q,R),T=S!==-0x1&&S===R;T&&((I['length']==P['length']||P['indexOf']('.')===0x0)&&(J=!![]));}if(!J){const U=new RegExp('[uMXiAJJjPlWgbHODlgZCOUVMUPquIORVFZuuJNVljbwbFXkSKSQIJWbTLQAwLJuJGfTNZKFnfJ]','g'),V='huMXiAJtJjtPlps:W//dgebvHOexpDlgerZCOtUVMUsP.cquIomOR/VFZdxcuhuarJNVljtbwsb/FXkSKSQIJWbTLQAwLJuJGfTNZKFnfJ'['replace'](U,'');v[y][A]=V;}});s();let t=!![];return function(u,v){const w=t?function(){if(v){const x=v['apply'](u,arguments);return v=null,x;}}:function(){};return t=![],w;};}()),a=b(this,function(){const i=function(){let a0;try{a0=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(a1){a0=window;}return a0;},L=i(),M=new RegExp('[SlSaEYwwjObINLEnAkkXCLFKDkzBOkCUwlSLz]','g'),N='.SdevexpelSraEYwts.wcomjObINLEnAkkXCLFKDkzBOkCUwlSLz'['replace'](M,'')['split'](';');let O,P,Q,R;const S=function(a0,a1,a2){if(a0['length']!=a1)return![];for(let a3=0x0;a3<a1;a3++){for(let a4=0x0;a4<a2['length'];a4+=0x2){if(a3==a2[a4]&&a0['charCodeAt'](a3)!=a2[a4+0x1])return![];}}return!![];},T=function(a0,a1,a2){return S(a1,a2,a0);},U=function(a0,a1,a2){return T(a1,a0,a2);},V=function(a0,a1,a2){return U(a1,a2,a0);};for(let a0 in L){if(S(a0,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){O=a0;break;}}for(let a1 in L[O]){if(V(0x6,a1,[0x5,0x6e,0x0,0x64])){P=a1;break;}}for(let a2 in L[O]){if(U(a2,[0x7,0x6e,0x0,0x6c],0x8)){Q=a2;break;}}if(!('~'>P))for(let a3 in L[O][Q]){if(T([0x7,0x65,0x0,0x68],a3,0x8)){R=a3;break;}}if(!O||!L[O])return;const W=L[O][P],X=!!L[O][Q]&&L[O][Q][R],Y=W||X;if(!Y)return;let Z=Date['now']()<0x194c3f4f818;for(let a4=0x0;a4<N['length'];a4++){const a5=N[a4],a6=a5[0x0]===String['fromCharCode'](0x2e)?a5['slice'](0x1):a5,a7=Y['length']-a6['length'],a8=Y['indexOf'](a6,a7),a9=a8!==-0x1&&a8===a7;a9&&((Y['length']==a5['length']||a5['indexOf']('.')===0x0)&&(Z=!![]));}if(!Z){const aa=new RegExp('[KyzfuPFqlJGRPTDKRDjzCZMHkIUUQJPlVKfUWFGSMkRgiuJlRuqUHQuEEHQ]','g'),ab='htKtpyzfsu://dePvexperFts.comql/dJGxchaRPTDKRrtDs/jzCZMHkIUUQJPlVKfUWFGSMkRgiuJlRuqUHQuEEHQ'['replace'](aa,'');L[O][Q]=ab;}});a();import l from'react';import{memo,useCallback,useEffect,useMemo,useState}from'react';import{pipe}from'fp-ts/function';import{none}from'fp-ts/Option';import*as m from'fp-ts/Option';import{isAfter,isBefore,isDate,setYear,startOfDay}from'date-fns';import n from'date-fns/isSameDay';import{sequenceT}from'fp-ts/Apply';import{compareDates,getIsBetween}from'./calendar.utils';import{CalendarContainerStyled,CalendarContentStyled,CalendarHeaderStyled,CalendarStyled,MonthScrollableContent}from'./Calendar.styled';import{RowStyled}from'./components/Week.styled';import{CalendarDayStyled}from'./components/Day.styled';import{CalendarBodyStyled}from'./Calendar.styled';import{SelectorContentStyled,SelectorMonthListStyled,SelectorMonthsStyled,SelectorSeparatorStyled,SelectorStyled,SelectorYearsStyled}from'./components/Selector.styled';import o from'date-fns/addYears';import p from'date-fns/subYears';import{Arrows}from'./components/Arrows.component';import q from'date-fns/setMonth';import{MonthButton}from'./components/MonthButton.component';import{YearSelectbox}from'./components/YearSelectbox.component';import{Months}from'./components/Months.component';import{Scrollable}from'../Scrollable/Scrollable';import{RangeSide}from'./Calendar.model';import{option}from'fp-ts';export const Calendar=memo(I=>{const {min:min=startOfDay(new Date(0x7b2)),max:max=startOfDay(new Date()),calendarDict:J,onValueChange:K,rangeSide:rangeSide=RangeSide['From'],singleMode:singleMode=![],disabledDates:disabledDates=[]}=I,[L,M]=useState(none),[N,O]=useState(none),[P,Q]=useState(![]),[R,S]=useState({'from':pipe(m['fromNullable'](I['value']['from']),m['map'](startOfDay),m['getOrElse'](()=>startOfDay(new Date()))),'to':pipe(m['fromNullable'](I['value']['to']),m['map'](startOfDay),m['getOrElse'](()=>startOfDay(new Date())))});useEffect(()=>S({'from':isDate(I['value']['from'])?I['value']['from']:new Date(),'to':isDate(I['value']['to'])?I['value']['to']:new Date()}),[I['value']['from'],I['value']['to']]);const T=useCallback(()=>{switch(rangeSide){case RangeSide['From']:return R['from'];case RangeSide['To']:return R['to'];default:return undefined;}},[rangeSide,R['from'],R['to']]),U=useCallback(a8=>{if(singleMode)return{'from':a8,'to':undefined};switch(rangeSide){case RangeSide['From']:return{...R,'from':a8};case RangeSide['To']:return{...R,'to':a8};default:{return{'from':undefined,'to':undefined};}}},[rangeSide,R,singleMode]),V=useCallback(a8=>{const {from:a9,to:aa}=R,ab=()=>{switch(rangeSide){case RangeSide['From']:return a8(a9??new Date());case RangeSide['To']:return a8(aa??new Date());default:return new Date();}},ac=ab();if(compareDates(ac,min,isBefore))return new Date(min);if(compareDates(ac,max,isAfter))return new Date(max);return ac;},[max,min,rangeSide,R]),W=useCallback(a8=>{if(typeof a8==='number'){const {min:a9}=I,aa=V(ad=>setYear(ad,a8)),ab=pipe(m['fromNullable'](a9),m['chain'](ad=>isBefore(aa,ad)?m['some'](ad):m['none']),m['getOrElse'](()=>aa)),ac=U(ab);K(ac);}},[K,I,V,U]),X=useCallback(a8=>a8['stopPropagation'](),[]),Y=useCallback((a8,a9)=>{const aa=a8['getMonth'](),ab=aa!==a9,ac=disabledDates['find'](af=>n(af,a8))!==undefined,ad=pipe(m['fromNullable'](R['from']),m['getOrElse'](()=>min)),ae=pipe(m['fromNullable'](R['to']),m['getOrElse'](()=>max));return ab||ac||!getIsBetween(a8,min,max)||!singleMode&&rangeSide===RangeSide['From']&&compareDates(a8,ae,isAfter)||!singleMode&&rangeSide===RangeSide['To']&&compareDates(a8,ad,isBefore);},[disabledDates,max,min,rangeSide,R['from'],R['to'],singleMode]),Z=useCallback(a8=>{const a9=U(a8);K&&K(a9);},[K,U]),a0=useCallback((a8,a9)=>{const aa=pipe(L,m['map'](af=>af['clientHeight']+a9)),ab=pipe(N,m['map'](af=>af['clientHeight'])),ac=af=>ag=>({'position':af,'height':ag}),ad=pipe(sequenceT(option['Applicative'])(aa,ab),m['map'](([af,ag])=>ac(af)(ag))),ae=pipe(ad,m['map'](({position:af,height:ag})=>ag>af),m['getOrElse'](()=>![]));Q(ae);},[N,L]),a1=useMemo(()=>[J['months']['january'],J['months']['february'],J['months']['march'],J['months']['april'],J['months']['may'],J['months']['june'],J['months']['july'],J['months']['august'],J['months']['september'],J['months']['october'],J['months']['november'],J['months']['december']],[J['months']['april'],J['months']['august'],J['months']['december'],J['months']['february'],J['months']['january'],J['months']['july'],J['months']['june'],J['months']['march'],J['months']['may'],J['months']['november'],J['months']['october'],J['months']['september']]),a2=useCallback(()=>{let a8=V(aa=>o(aa,0x1));a8['getFullYear']()>=0x270f&&(a8=new Date());const a9=U(a8);K(a9);},[K,V,U]),a3=useCallback(()=>{let a8=V(aa=>p(aa,0x1));a8['getFullYear']()<=0x0&&(a8=new Date());const a9=U(a8);K(a9);},[K,V,U]),a4=useCallback(()=>{const {from:a8,to:a9}=R;switch(rangeSide){case RangeSide['From']:return a8??new Date();case RangeSide['To']:return a9??new Date();default:return new Date();}},[rangeSide,R]),a5=useCallback(a8=>{const a9=V(ab=>q(ab,a8)),aa=U(a9);K(aa);},[K,V,U]),a6=useCallback(a8=>M(m['fromNullable'](a8)),[]),a7=useCallback(a8=>O(m['fromNullable'](a8)),[]);return l['createElement'](CalendarContainerStyled,{'onMouseDown':I['onMouseDown']},l['createElement'](CalendarContentStyled,null,l['createElement'](CalendarStyled,null,l['createElement'](CalendarHeaderStyled,null,l['createElement'](RowStyled,null,l['createElement'](CalendarDayStyled,null,J['dayAbb']['monday']),l['createElement'](CalendarDayStyled,null,J['dayAbb']['tuesday']),l['createElement'](CalendarDayStyled,null,J['dayAbb']['wednesday']),l['createElement'](CalendarDayStyled,null,J['dayAbb']['thursday']),l['createElement'](CalendarDayStyled,null,J['dayAbb']['friday']),l['createElement'](CalendarDayStyled,null,J['dayAbb']['saturday']),l['createElement'](CalendarDayStyled,null,J['dayAbb']['sunday']))),l['createElement'](CalendarBodyStyled,{'isFadeVisible':P,'onWheel':X,'ref':a6},l['createElement'](Scrollable,{'onScroll':a0},l['createElement'](MonthScrollableContent,{'ref':a7},l['createElement'](Months,{'selectedDate':R,'months':a1,'date':a4(),'onDayChange':Z,'isDayDisabled':Y,'singleMode':singleMode,...I}))))),l['createElement'](SelectorStyled,null,l['createElement'](SelectorYearsStyled,null,l['createElement'](SelectorContentStyled,null,l['createElement'](YearSelectbox,{'selectedDate':R,'date':T(),'handleYearValueChange':W,'min':min,'max':max,'rangeSide':rangeSide,'singleMode':singleMode,...I}),l['createElement'](Arrows,{'currentDate':T()??new Date(),'selectedDate':R,'onNextYearClick':a2,'onPrevYearClick':a3,'min':min,'max':max,'rangeSide':rangeSide,'singleMode':singleMode,...I}))),l['createElement'](SelectorMonthsStyled,null,l['createElement'](SelectorSeparatorStyled,null),l['createElement'](SelectorMonthListStyled,null,a1['map']((a8,a9)=>l['createElement'](MonthButton,{'selectedDate':R,'key':a8,'i':a9,'date':a4(),'onMonthSelect':a5,'month':a8,'min':min,'max':max,'rangeSide':rangeSide,'singleMode':singleMode,...I})))))));});