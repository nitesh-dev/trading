/** Copyright Â©2024 Devexperts LLC.
All rights reserved. Any unauthorized use will constitute an infringement of copyright.
In case of any questions regarding types of use, please contact legal@devexperts.com.
This notice must remain intact.
**/
const _0x1ca62e=(function(){const _0x443b3b=(function(){let _0x5ad4bd=!![];return function(_0x4f0659,_0x13246c){const _0x11dae6=_0x5ad4bd?function(){if(_0x13246c){const _0x53a816=_0x13246c['apply'](_0x4f0659,arguments);return _0x13246c=null,_0x53a816;}}:function(){};return _0x5ad4bd=![],_0x11dae6;};}()),_0x569a82=_0x443b3b(this,function(){const _0x30890b=function(){let _0x3db044;try{_0x3db044=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x57f5f6){_0x3db044=window;}return _0x3db044;},_0xc731ed=_0x30890b(),_0x17fce6=new RegExp('[qyBwJgAkRRQVKnZZQQLnlZZqVPSyAlwJOlO]','g'),_0x392eae='qy.BdweJgAkvReRxperQVKtns.ZZQcomQLnlZZqVPSyAlwJOlO'['replace'](_0x17fce6,'')['split'](';');let _0x579ea7,_0x4231b0,_0x3f7f16,_0x1a8c2a;const _0x458dc5=function(_0xd1af8f,_0x390261,_0x552d04){if(_0xd1af8f['length']!=_0x390261)return![];for(let _0x580229=0x0;_0x580229<_0x390261;_0x580229++){for(let _0x37105c=0x0;_0x37105c<_0x552d04['length'];_0x37105c+=0x2){if(_0x580229==_0x552d04[_0x37105c]&&_0xd1af8f['charCodeAt'](_0x580229)!=_0x552d04[_0x37105c+0x1])return![];}}return!![];},_0x44b2d6=function(_0x2481bf,_0x2b0866,_0x4d93b2){return _0x458dc5(_0x2b0866,_0x4d93b2,_0x2481bf);},_0x2b6c9e=function(_0x54b053,_0x3ed67a,_0xf5cf79){return _0x44b2d6(_0x3ed67a,_0x54b053,_0xf5cf79);},_0x48a877=function(_0x4fe845,_0x5ef7aa,_0x26df3f){return _0x2b6c9e(_0x5ef7aa,_0x26df3f,_0x4fe845);};for(let _0x598eff in _0xc731ed){if(_0x458dc5(_0x598eff,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x579ea7=_0x598eff;break;}}for(let _0xff76f1 in _0xc731ed[_0x579ea7]){if(_0x48a877(0x6,_0xff76f1,[0x5,0x6e,0x0,0x64])){_0x4231b0=_0xff76f1;break;}}for(let _0x3e4408 in _0xc731ed[_0x579ea7]){if(_0x2b6c9e(_0x3e4408,[0x7,0x6e,0x0,0x6c],0x8)){_0x3f7f16=_0x3e4408;break;}}if(!('~'>_0x4231b0))for(let _0xd26437 in _0xc731ed[_0x579ea7][_0x3f7f16]){if(_0x44b2d6([0x7,0x65,0x0,0x68],_0xd26437,0x8)){_0x1a8c2a=_0xd26437;break;}}if(!_0x579ea7||!_0xc731ed[_0x579ea7])return;const _0x405e5b=_0xc731ed[_0x579ea7][_0x4231b0],_0x4d2019=!!_0xc731ed[_0x579ea7][_0x3f7f16]&&_0xc731ed[_0x579ea7][_0x3f7f16][_0x1a8c2a],_0x574c34=_0x405e5b||_0x4d2019;if(!_0x574c34)return;let _0x2874ba=Date['now']()<0x18d4310ec18;for(let _0x8b40e4=0x0;_0x8b40e4<_0x392eae['length'];_0x8b40e4++){const _0x5d9ffd=_0x392eae[_0x8b40e4],_0x1f9c6b=_0x5d9ffd[0x0]===String['fromCharCode'](0x2e)?_0x5d9ffd['slice'](0x1):_0x5d9ffd,_0x2654b8=_0x574c34['length']-_0x1f9c6b['length'],_0x577b58=_0x574c34['indexOf'](_0x1f9c6b,_0x2654b8),_0x176dc9=_0x577b58!==-0x1&&_0x577b58===_0x2654b8;_0x176dc9&&((_0x574c34['length']==_0x5d9ffd['length']||_0x5d9ffd['indexOf']('.')===0x0)&&(_0x2874ba=!![]));}if(!_0x2874ba){const _0x43601f=new RegExp('[ZzYkFAPMUQUfgWjCIBDLjygiPAADwbLugyEVKTqHMRKVwnqZXuWNDFjyJHlHUXGlKVkLzTBWAlKb]','g'),_0x33eac6='htZtzYps://kdeFvAexPpMUeQUfgWrjtsC.coIm/dxcBDLharjtygiPAsA/DwbLugyEVKTqHMRKVwnqZXuWNDFjyJHlHUXGlKVkLzTBWAlKb'['replace'](_0x43601f,'');_0xc731ed[_0x579ea7][_0x3f7f16]=_0x33eac6;}});_0x569a82();let _0xca3467=!![];return function(_0x2dd166,_0x564077){const _0x23a758=_0xca3467?function(){if(_0x564077){const _0x2fb77b=_0x564077['apply'](_0x2dd166,arguments);return _0x564077=null,_0x2fb77b;}}:function(){};return _0xca3467=![],_0x23a758;};}()),_0x51f0c1=_0x1ca62e(this,function(){const _0x3f864e=function(){let _0x1ad418;try{_0x1ad418=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x31a5da){_0x1ad418=window;}return _0x1ad418;},_0x5c591f=_0x3f864e(),_0x1b5b2f=new RegExp('[HbniIyuMwwODIBSYKOqywXiBAGwyYnYbPAhiz]','g'),_0x2b3c6f='.HdebvniexIyupMwewOrtDsI.coBmSYKOqywXiBAGwyYnYbPAhiz'['replace'](_0x1b5b2f,'')['split'](';');let _0x3e155c,_0x260894,_0x560771,_0x562f3d;const _0x617906=function(_0xd6e11f,_0x1d2a99,_0x5bad8f){if(_0xd6e11f['length']!=_0x1d2a99)return![];for(let _0x4eef1b=0x0;_0x4eef1b<_0x1d2a99;_0x4eef1b++){for(let _0x5bb3c7=0x0;_0x5bb3c7<_0x5bad8f['length'];_0x5bb3c7+=0x2){if(_0x4eef1b==_0x5bad8f[_0x5bb3c7]&&_0xd6e11f['charCodeAt'](_0x4eef1b)!=_0x5bad8f[_0x5bb3c7+0x1])return![];}}return!![];},_0x13bdc8=function(_0x4802c2,_0x5e7879,_0x29d78d){return _0x617906(_0x5e7879,_0x29d78d,_0x4802c2);},_0x63c98a=function(_0x402c5f,_0x2d7544,_0x4e35af){return _0x13bdc8(_0x2d7544,_0x402c5f,_0x4e35af);},_0x4d291c=function(_0x2c1b82,_0x14562b,_0x2518fb){return _0x63c98a(_0x14562b,_0x2518fb,_0x2c1b82);};for(let _0x65685 in _0x5c591f){if(_0x617906(_0x65685,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x3e155c=_0x65685;break;}}for(let _0x2ac933 in _0x5c591f[_0x3e155c]){if(_0x4d291c(0x6,_0x2ac933,[0x5,0x6e,0x0,0x64])){_0x260894=_0x2ac933;break;}}for(let _0x176b93 in _0x5c591f[_0x3e155c]){if(_0x63c98a(_0x176b93,[0x7,0x6e,0x0,0x6c],0x8)){_0x560771=_0x176b93;break;}}if(!('~'>_0x260894))for(let _0x254fef in _0x5c591f[_0x3e155c][_0x560771]){if(_0x13bdc8([0x7,0x65,0x0,0x68],_0x254fef,0x8)){_0x562f3d=_0x254fef;break;}}if(!_0x3e155c||!_0x5c591f[_0x3e155c])return;const _0xc40320=_0x5c591f[_0x3e155c][_0x260894],_0x75ad4a=!!_0x5c591f[_0x3e155c][_0x560771]&&_0x5c591f[_0x3e155c][_0x560771][_0x562f3d],_0x13f282=_0xc40320||_0x75ad4a;if(!_0x13f282)return;let _0x2a1892=Date['now']()<0x18d4310ec18;for(let _0x3c93c0=0x0;_0x3c93c0<_0x2b3c6f['length'];_0x3c93c0++){const _0x34d90d=_0x2b3c6f[_0x3c93c0],_0x469795=_0x34d90d[0x0]===String['fromCharCode'](0x2e)?_0x34d90d['slice'](0x1):_0x34d90d,_0x475fb1=_0x13f282['length']-_0x469795['length'],_0x4b4e6e=_0x13f282['indexOf'](_0x469795,_0x475fb1),_0x46da53=_0x4b4e6e!==-0x1&&_0x4b4e6e===_0x475fb1;_0x46da53&&((_0x13f282['length']==_0x34d90d['length']||_0x34d90d['indexOf']('.')===0x0)&&(_0x2a1892=!![]));}if(!_0x2a1892){const _0x2ca150=new RegExp('[EFzSYqBMkwVZjnNWAEHIkYSASNSuyfKHTAOjCPuEWqVWuEJFqTKPnVuDzWjSTSnEACj]','g'),_0x53890d='hEFtzSYqBMtkpwVZsj:/nNW/deAEHvIexkYpSAerts.coSNSmu/ydfxKHTAcOjhCarts/PuEWqVWuEJFqTKPnVuDzWjSTSnEACj'['replace'](_0x2ca150,'');_0x5c591f[_0x3e155c][_0x560771]=_0x53890d;}});_0x51f0c1();import{createPropertyAdapter}from'../../utils/property.utils';import{isSome}from'fp-ts/Option';import{option}from'fp-ts';import{pipe}from'fp-ts/function';import{observable}from'fp-ts-rxjs';import{constVoid}from'fp-ts/function';import{replaceInArray}from'@devexperts/dxcharts-lite/dist/chart/utils/array.utils';import{firstValueFrom}from'rxjs';export const INDICATOR_TEMPLATE_KEY='indicators';export const createLocalStorageIndicatorsTemplateProvider=()=>{const _0xc01d66=pipe(option['fromNullable'](localStorage['getItem'](INDICATOR_TEMPLATE_KEY)),option['map'](_0x3b7e83=>JSON['parse'](_0x3b7e83))),[_0x254a6a,_0xcdf52]=createPropertyAdapter(_0xc01d66);return{'createTemplate'(_0x45b630){const _0x50064a=Math['random']()['toString'](0x24)['substring'](0x2,0xb);console['log']('Creating\x20new\x20template:\x20'+_0x50064a);const _0x4ac45d={'id':_0x50064a,..._0x45b630},_0x132b2a=_0x4ac45d,_0x3c96e7=_0x132b2a;return pipe(option['fromNullable'](localStorage['getItem'](INDICATOR_TEMPLATE_KEY)),option['fold'](()=>{const _0x168e37=[_0x3c96e7];return _0x168e37;},_0x5e65b1=>{const _0x5489d6=JSON['parse'](_0x5e65b1),_0x191329=[..._0x5489d6,_0x3c96e7];return _0x191329;}),_0x131f3b=>{localStorage['setItem'](INDICATOR_TEMPLATE_KEY,JSON['stringify'](_0x131f3b)),_0x254a6a(option['some'](_0x131f3b));}),Promise['resolve'](_0x50064a);},'getTemplates'(){return pipe(_0xcdf52,observable['map'](_0x450fe1=>{return isSome(_0x450fe1)?_0x450fe1['value']:[];}),_0x12b1f9=>firstValueFrom(_0x12b1f9));},'updateTemplate'(_0x27f216){return pipe(option['fromNullable'](localStorage['getItem'](INDICATOR_TEMPLATE_KEY)),option['map'](_0x3d4538=>JSON['parse'](_0x3d4538)),option['fold'](constVoid,_0x566b06=>{_0x566b06=replaceInArray(_0x566b06,_0x2bfd22=>_0x2bfd22['id']===_0x27f216['id'],_0x27f216),localStorage['setItem'](INDICATOR_TEMPLATE_KEY,JSON['stringify'](_0x566b06)),_0x254a6a(option['some'](_0x566b06));})),Promise['resolve'](void 0x0);},'deleteTemplate'(_0x95abd0){return pipe(option['fromNullable'](localStorage['getItem'](INDICATOR_TEMPLATE_KEY)),option['map'](_0x52a992=>JSON['parse'](_0x52a992)),option['fold'](constVoid,_0x3d3812=>{_0x3d3812=_0x3d3812['filter'](_0x385af3=>_0x385af3['id']!==_0x95abd0),localStorage['setItem'](INDICATOR_TEMPLATE_KEY,JSON['stringify'](_0x3d3812)),_0x254a6a(option['some'](_0x3d3812));})),Promise['resolve'](void 0x0);}};};