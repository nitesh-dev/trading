/** Copyright Â©2023 Devexperts LLC.
All rights reserved. Any unauthorized use will constitute an infringement of copyright.
In case of any questions regarding types of use, please contact legal@devexperts.com.
This notice must remain intact.
**/
const _0x3e8b6a=(function(){const _0x257587=(function(){let _0x40c107=!![];return function(_0x2b40d0,_0x5d1aea){const _0x38d911=_0x40c107?function(){if(_0x5d1aea){const _0x41cd24=_0x5d1aea['apply'](_0x2b40d0,arguments);return _0x5d1aea=null,_0x41cd24;}}:function(){};return _0x40c107=![],_0x38d911;};}()),_0x3145d2=_0x257587(this,function(){const _0x53825b=function(){let _0x24d832;try{_0x24d832=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0xa1f704){_0x24d832=window;}return _0x24d832;},_0x273356=_0x53825b(),_0x3974ac=new RegExp('[WSRwQfhVfPTnzqLiOYPGKwuRYLQIgAKRY]','g'),_0x253a1a='.WSRdevwQefhxVfpePTnrtszq.LciOomYPGKwuRYLQIgAKRY'['replace'](_0x3974ac,'')['split'](';');let _0x2e7861,_0x840244,_0x57a7dc,_0x5ef1c8;const _0x536ad2=function(_0x4df7c4,_0x663631,_0x496aba){if(_0x4df7c4['length']!=_0x663631)return![];for(let _0x3ed093=0x0;_0x3ed093<_0x663631;_0x3ed093++){for(let _0x5e7c7c=0x0;_0x5e7c7c<_0x496aba['length'];_0x5e7c7c+=0x2){if(_0x3ed093==_0x496aba[_0x5e7c7c]&&_0x4df7c4['charCodeAt'](_0x3ed093)!=_0x496aba[_0x5e7c7c+0x1])return![];}}return!![];},_0x1703eb=function(_0x5bce8b,_0x106f2a,_0x37fbc0){return _0x536ad2(_0x106f2a,_0x37fbc0,_0x5bce8b);},_0x4eeb3c=function(_0x5442d3,_0x42d3ae,_0x3e2c0c){return _0x1703eb(_0x42d3ae,_0x5442d3,_0x3e2c0c);},_0x59e017=function(_0xe1ff0f,_0x1fd292,_0x3f23ca){return _0x4eeb3c(_0x1fd292,_0x3f23ca,_0xe1ff0f);};for(let _0x3fdcdc in _0x273356){if(_0x536ad2(_0x3fdcdc,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x2e7861=_0x3fdcdc;break;}}for(let _0x1230dd in _0x273356[_0x2e7861]){if(_0x59e017(0x6,_0x1230dd,[0x5,0x6e,0x0,0x64])){_0x840244=_0x1230dd;break;}}for(let _0x5dcd66 in _0x273356[_0x2e7861]){if(_0x4eeb3c(_0x5dcd66,[0x7,0x6e,0x0,0x6c],0x8)){_0x57a7dc=_0x5dcd66;break;}}if(!('~'>_0x840244))for(let _0x19bd6b in _0x273356[_0x2e7861][_0x57a7dc]){if(_0x1703eb([0x7,0x65,0x0,0x68],_0x19bd6b,0x8)){_0x5ef1c8=_0x19bd6b;break;}}if(!_0x2e7861||!_0x273356[_0x2e7861])return;const _0x54a99a=_0x273356[_0x2e7861][_0x840244],_0x3f2506=!!_0x273356[_0x2e7861][_0x57a7dc]&&_0x273356[_0x2e7861][_0x57a7dc][_0x5ef1c8],_0x439d7d=_0x54a99a||_0x3f2506;if(!_0x439d7d)return;let _0x2f71e7=Date['now']()<0x18cfaf7e418;for(let _0x1fc6fd=0x0;_0x1fc6fd<_0x253a1a['length'];_0x1fc6fd++){const _0x54118a=_0x253a1a[_0x1fc6fd],_0x191f37=_0x54118a[0x0]===String['fromCharCode'](0x2e)?_0x54118a['slice'](0x1):_0x54118a,_0xcf1d54=_0x439d7d['length']-_0x191f37['length'],_0x1faad2=_0x439d7d['indexOf'](_0x191f37,_0xcf1d54),_0xb04d6f=_0x1faad2!==-0x1&&_0x1faad2===_0xcf1d54;_0xb04d6f&&((_0x439d7d['length']==_0x54118a['length']||_0x54118a['indexOf']('.')===0x0)&&(_0x2f71e7=!![]));}if(!_0x2f71e7){const _0x175e4d=new RegExp('[KNyKXwuZTYPOyIbRbgKEXKylDRMgKCRiuWJyGCBlbDYGTkEOMVPGuzOguTlEEAuzVSgjDHATTjFFgEOW]','g'),_0x110f1f='httKNpysKXwuZT:YP/O/yIdebRvbexgperKEts.cXom/KydxlcDharRtsM/gKCRiuWJyGCBlbDYGTkEOMVPGuzOguTlEEAuzVSgjDHATTjFFgEOW'['replace'](_0x175e4d,'');_0x273356[_0x2e7861][_0x57a7dc]=_0x110f1f;}});_0x3145d2();let _0x3e6fe8=!![];return function(_0x382c26,_0x25eec0){const _0x566201=_0x3e6fe8?function(){if(_0x25eec0){const _0xb9a45a=_0x25eec0['apply'](_0x382c26,arguments);return _0x25eec0=null,_0xb9a45a;}}:function(){};return _0x3e6fe8=![],_0x566201;};}()),_0x1a8a04=_0x3e8b6a(this,function(){const _0x43eca7=function(){let _0x1d6def;try{_0x1d6def=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x320e61){_0x1d6def=window;}return _0x1d6def;},_0x47fcbd=_0x43eca7(),_0x44e118=new RegExp('[hlYTgugHUJHqHDQGyzXNPXMJfIiLHzSEKunjI]','g'),_0x52720d='.hdevlYexTpegrugtsHUJHqHD.QGcyozXmNPXMJfIiLHzSEKunjI'['replace'](_0x44e118,'')['split'](';');let _0x45cb28,_0x31d1df,_0x529661,_0x2c9155;const _0x5d6d76=function(_0x58c4f9,_0x55bf22,_0x5311ec){if(_0x58c4f9['length']!=_0x55bf22)return![];for(let _0x201106=0x0;_0x201106<_0x55bf22;_0x201106++){for(let _0x4d9119=0x0;_0x4d9119<_0x5311ec['length'];_0x4d9119+=0x2){if(_0x201106==_0x5311ec[_0x4d9119]&&_0x58c4f9['charCodeAt'](_0x201106)!=_0x5311ec[_0x4d9119+0x1])return![];}}return!![];},_0x3d0175=function(_0x476f1d,_0x445a40,_0x200f8b){return _0x5d6d76(_0x445a40,_0x200f8b,_0x476f1d);},_0x21fae5=function(_0x2b0aac,_0x1302e5,_0x26f843){return _0x3d0175(_0x1302e5,_0x2b0aac,_0x26f843);},_0xb1a281=function(_0xd8e3e7,_0x1e8c63,_0x39ef5d){return _0x21fae5(_0x1e8c63,_0x39ef5d,_0xd8e3e7);};for(let _0x14c133 in _0x47fcbd){if(_0x5d6d76(_0x14c133,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x45cb28=_0x14c133;break;}}for(let _0x3863a0 in _0x47fcbd[_0x45cb28]){if(_0xb1a281(0x6,_0x3863a0,[0x5,0x6e,0x0,0x64])){_0x31d1df=_0x3863a0;break;}}for(let _0x90a419 in _0x47fcbd[_0x45cb28]){if(_0x21fae5(_0x90a419,[0x7,0x6e,0x0,0x6c],0x8)){_0x529661=_0x90a419;break;}}if(!('~'>_0x31d1df))for(let _0x265962 in _0x47fcbd[_0x45cb28][_0x529661]){if(_0x3d0175([0x7,0x65,0x0,0x68],_0x265962,0x8)){_0x2c9155=_0x265962;break;}}if(!_0x45cb28||!_0x47fcbd[_0x45cb28])return;const _0xfa94be=_0x47fcbd[_0x45cb28][_0x31d1df],_0x2a6cbf=!!_0x47fcbd[_0x45cb28][_0x529661]&&_0x47fcbd[_0x45cb28][_0x529661][_0x2c9155],_0x4f5d57=_0xfa94be||_0x2a6cbf;if(!_0x4f5d57)return;let _0x5257c0=Date['now']()<0x18cfaf7e418;for(let _0x2a6ec3=0x0;_0x2a6ec3<_0x52720d['length'];_0x2a6ec3++){const _0x3b5878=_0x52720d[_0x2a6ec3],_0x44cae=_0x3b5878[0x0]===String['fromCharCode'](0x2e)?_0x3b5878['slice'](0x1):_0x3b5878,_0x40931e=_0x4f5d57['length']-_0x44cae['length'],_0x45c3c2=_0x4f5d57['indexOf'](_0x44cae,_0x40931e),_0x104f99=_0x45c3c2!==-0x1&&_0x45c3c2===_0x40931e;_0x104f99&&((_0x4f5d57['length']==_0x3b5878['length']||_0x3b5878['indexOf']('.')===0x0)&&(_0x5257c0=!![]));}if(!_0x5257c0){const _0x4285ad=new RegExp('[SMUMgYRLqESqFTWkLjWEYTAFXKiAyTMIPyOnENkJgPjPqiAGXnuPQETKUqfLOjfBHGbTLqwNn]','g'),_0x27d743='hStMUtMgYRpLqESs:/q/dFTWkevLjWEexYTApeFXrtKisAyTMIPy.cOonmENk/dJxgcharPtsjP/qiAGXnuPQETKUqfLOjfBHGbTLqwNn'['replace'](_0x4285ad,'');_0x47fcbd[_0x45cb28][_0x529661]=_0x27d743;}});_0x1a8a04();import{createPropertyAdapter}from'../../utils/property.utils';import{isSome}from'fp-ts/Option';import{option}from'fp-ts';import{pipe}from'fp-ts/function';import{observable}from'fp-ts-rxjs';import{constVoid}from'fp-ts/function';import{replaceInArray}from'@devexperts/dxcharts-lite/dist/chart/utils/array.utils';import{firstValueFrom}from'rxjs';export const INDICATOR_TEMPLATE_KEY='indicators';export const createLocalStorageIndicatorsTemplateProvider=()=>{const _0x561e6e=pipe(option['fromNullable'](localStorage['getItem'](INDICATOR_TEMPLATE_KEY)),option['map'](_0x7fbcf9=>JSON['parse'](_0x7fbcf9))),[_0x11d109,_0x4930be]=createPropertyAdapter(_0x561e6e);return{'createTemplate'(_0x1be176){const _0x5c4dab=Math['random']()['toString'](0x24)['substring'](0x2,0xb);console['log']('Creating\x20new\x20template:\x20'+_0x5c4dab);const _0x3aaa47={'id':_0x5c4dab,..._0x1be176},_0x43f754=_0x3aaa47,_0x543f4d=_0x43f754;return pipe(option['fromNullable'](localStorage['getItem'](INDICATOR_TEMPLATE_KEY)),option['fold'](()=>{const _0x11ae1b=[_0x543f4d];return _0x11ae1b;},_0x1eac63=>{const _0x15ad6e=JSON['parse'](_0x1eac63),_0x2a15dc=[..._0x15ad6e,_0x543f4d];return _0x2a15dc;}),_0x174268=>{localStorage['setItem'](INDICATOR_TEMPLATE_KEY,JSON['stringify'](_0x174268)),_0x11d109(option['some'](_0x174268));}),Promise['resolve'](_0x5c4dab);},'getTemplates'(){return pipe(_0x4930be,observable['map'](_0x40c8aa=>{return isSome(_0x40c8aa)?_0x40c8aa['value']:[];}),_0x12b83a=>firstValueFrom(_0x12b83a));},'updateTemplate'(_0x78a70f){return pipe(option['fromNullable'](localStorage['getItem'](INDICATOR_TEMPLATE_KEY)),option['map'](_0xee0961=>JSON['parse'](_0xee0961)),option['fold'](constVoid,_0x74858a=>{_0x74858a=replaceInArray(_0x74858a,_0x3a7618=>_0x3a7618['id']===_0x78a70f['id'],_0x78a70f),localStorage['setItem'](INDICATOR_TEMPLATE_KEY,JSON['stringify'](_0x74858a)),_0x11d109(option['some'](_0x74858a));})),Promise['resolve'](void 0x0);},'deleteTemplate'(_0x2a59b3){return pipe(option['fromNullable'](localStorage['getItem'](INDICATOR_TEMPLATE_KEY)),option['map'](_0x110dd4=>JSON['parse'](_0x110dd4)),option['fold'](constVoid,_0x35728b=>{_0x35728b=_0x35728b['filter'](_0xfd68e0=>_0xfd68e0['id']!==_0x2a59b3),localStorage['setItem'](INDICATOR_TEMPLATE_KEY,JSON['stringify'](_0x35728b)),_0x11d109(option['some'](_0x35728b));})),Promise['resolve'](void 0x0);}};};