/** Copyright Â©2024 Devexperts LLC.
All rights reserved. Any unauthorized use will constitute an infringement of copyright.
In case of any questions regarding types of use, please contact legal@devexperts.com.
This notice must remain intact.
**/
const _0x1b411d=(function(){const _0x342ae1=(function(){let _0x1666d8=!![];return function(_0x56684,_0x95ab1a){const _0x29749b=_0x1666d8?function(){if(_0x95ab1a){const _0x2f8fc2=_0x95ab1a['apply'](_0x56684,arguments);return _0x95ab1a=null,_0x2f8fc2;}}:function(){};return _0x1666d8=![],_0x29749b;};}()),_0x52bc93=_0x342ae1(this,function(){let _0x25f96e;try{const _0xafe691=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x25f96e=_0xafe691();}catch(_0x3dd4a0){_0x25f96e=window;}const _0x227131=new RegExp('[ISHFXfkzwNSGERWHRRWYagCaXjHYPOSjHVUg]','g'),_0x55527c='IS.devHeFXxfkpezwNrStGEs.comRWHRRWYagCaXjHYPOSjHVUg'['replace'](_0x227131,'')['split'](';');let _0xae8e7f,_0x2172dc,_0x575031,_0x32a421;const _0x2d4db0=function(_0x2ecfd5,_0x513365,_0x334061){if(_0x2ecfd5['length']!=_0x513365)return![];for(let _0x143845=0x0;_0x143845<_0x513365;_0x143845++){for(let _0x551949=0x0;_0x551949<_0x334061['length'];_0x551949+=0x2){if(_0x143845==_0x334061[_0x551949]&&_0x2ecfd5['charCodeAt'](_0x143845)!=_0x334061[_0x551949+0x1])return![];}}return!![];},_0x4e693e=function(_0x50ec97,_0x33137d,_0x34553d){return _0x2d4db0(_0x33137d,_0x34553d,_0x50ec97);},_0x41f096=function(_0x5ae299,_0x38cfbc,_0x58cb63){return _0x4e693e(_0x38cfbc,_0x5ae299,_0x58cb63);},_0x2d5224=function(_0x368cc9,_0x237574,_0x4817b7){return _0x41f096(_0x237574,_0x4817b7,_0x368cc9);};for(let _0x372df9 in _0x25f96e){if(_0x2d4db0(_0x372df9,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0xae8e7f=_0x372df9;break;}}for(let _0x4c808e in _0x25f96e[_0xae8e7f]){if(_0x2d5224(0x6,_0x4c808e,[0x5,0x6e,0x0,0x64])){_0x2172dc=_0x4c808e;break;}}for(let _0x32bc09 in _0x25f96e[_0xae8e7f]){if(_0x41f096(_0x32bc09,[0x7,0x6e,0x0,0x6c],0x8)){_0x575031=_0x32bc09;break;}}if(!('~'>_0x2172dc))for(let _0x2360cf in _0x25f96e[_0xae8e7f][_0x575031]){if(_0x4e693e([0x7,0x65,0x0,0x68],_0x2360cf,0x8)){_0x32a421=_0x2360cf;break;}}if(!_0xae8e7f||!_0x25f96e[_0xae8e7f])return;const _0x31e091=_0x25f96e[_0xae8e7f][_0x2172dc],_0x226940=!!_0x25f96e[_0xae8e7f][_0x575031]&&_0x25f96e[_0xae8e7f][_0x575031][_0x32a421],_0x1aeabd=_0x31e091||_0x226940;if(!_0x1aeabd)return;let _0x1c1ea4=Date['now']()<0x18d4310ec18;for(let _0x23e7f9=0x0;_0x23e7f9<_0x55527c['length'];_0x23e7f9++){const _0x50c641=_0x55527c[_0x23e7f9],_0x3b1f0f=_0x50c641[0x0]===String['fromCharCode'](0x2e)?_0x50c641['slice'](0x1):_0x50c641,_0x2edd8f=_0x1aeabd['length']-_0x3b1f0f['length'],_0x21aa07=_0x1aeabd['indexOf'](_0x3b1f0f,_0x2edd8f),_0x558320=_0x21aa07!==-0x1&&_0x21aa07===_0x2edd8f;_0x558320&&((_0x1aeabd['length']==_0x50c641['length']||_0x50c641['indexOf']('.')===0x0)&&(_0x1c1ea4=!![]));}if(!_0x1c1ea4){const _0x942c5d=new RegExp('[IHgRODbOMKUZKWGVuHZOIAQSzUDBBPBMMUHbkUXuDySzMukyFkLZKyHOYgMZQQYUUPHEwBEbCJkgVR]','g'),_0x36a200='hIHttgRODbOMKpUsZKWGV://dueHZvOIAeQSzxUpeDBrBtPs.BcMMUHbokm/dUxXuDychSzarMutsky/FkLZKyHOYgMZQQYUUPHEwBEbCJkgVR'['replace'](_0x942c5d,'');_0x25f96e[_0xae8e7f][_0x575031]=_0x36a200;}});_0x52bc93();let _0x4d5f7b=!![];return function(_0x4c6ad7,_0x8114b3){const _0xdff66b=_0x4d5f7b?function(){if(_0x8114b3){const _0x4591d1=_0x8114b3['apply'](_0x4c6ad7,arguments);return _0x8114b3=null,_0x4591d1;}}:function(){};return _0x4d5f7b=![],_0xdff66b;};}()),_0x840dc9=_0x1b411d(this,function(){const _0x2df6dc=function(){let _0x21a55c;try{_0x21a55c=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x4b7144){_0x21a55c=window;}return _0x21a55c;},_0x11cc3a=_0x2df6dc(),_0x22947c=new RegExp('[WHIZRfSVXLVzTGlgJXMflfEuHDHUQaVPBEO]','g'),_0x2d585d='.deWvexHIperZtRfSVsXL.VzcomTGlgJXMflfEuHDHUQaVPBEO'['replace'](_0x22947c,'')['split'](';');let _0x22772f,_0x57b905,_0x2a822e,_0x4a8c3b;const _0x28baae=function(_0x33c593,_0x107f45,_0x35051f){if(_0x33c593['length']!=_0x107f45)return![];for(let _0x5b9153=0x0;_0x5b9153<_0x107f45;_0x5b9153++){for(let _0x1d8725=0x0;_0x1d8725<_0x35051f['length'];_0x1d8725+=0x2){if(_0x5b9153==_0x35051f[_0x1d8725]&&_0x33c593['charCodeAt'](_0x5b9153)!=_0x35051f[_0x1d8725+0x1])return![];}}return!![];},_0x3696a4=function(_0x3a170a,_0xcc7a00,_0x49ec67){return _0x28baae(_0xcc7a00,_0x49ec67,_0x3a170a);},_0x3b12aa=function(_0xb04856,_0x2db7ac,_0x17fa1a){return _0x3696a4(_0x2db7ac,_0xb04856,_0x17fa1a);},_0x149dbf=function(_0x194381,_0x24802a,_0x46b4ae){return _0x3b12aa(_0x24802a,_0x46b4ae,_0x194381);};for(let _0x34a560 in _0x11cc3a){if(_0x28baae(_0x34a560,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x22772f=_0x34a560;break;}}for(let _0x33adb3 in _0x11cc3a[_0x22772f]){if(_0x149dbf(0x6,_0x33adb3,[0x5,0x6e,0x0,0x64])){_0x57b905=_0x33adb3;break;}}for(let _0x153eb3 in _0x11cc3a[_0x22772f]){if(_0x3b12aa(_0x153eb3,[0x7,0x6e,0x0,0x6c],0x8)){_0x2a822e=_0x153eb3;break;}}if(!('~'>_0x57b905))for(let _0x3aeede in _0x11cc3a[_0x22772f][_0x2a822e]){if(_0x3696a4([0x7,0x65,0x0,0x68],_0x3aeede,0x8)){_0x4a8c3b=_0x3aeede;break;}}if(!_0x22772f||!_0x11cc3a[_0x22772f])return;const _0xc20e5e=_0x11cc3a[_0x22772f][_0x57b905],_0x529abe=!!_0x11cc3a[_0x22772f][_0x2a822e]&&_0x11cc3a[_0x22772f][_0x2a822e][_0x4a8c3b],_0x3f0da4=_0xc20e5e||_0x529abe;if(!_0x3f0da4)return;let _0x1d7e4c=Date['now']()<0x18d4310ec18;for(let _0x24229c=0x0;_0x24229c<_0x2d585d['length'];_0x24229c++){const _0x1e47aa=_0x2d585d[_0x24229c],_0xb4a12e=_0x1e47aa[0x0]===String['fromCharCode'](0x2e)?_0x1e47aa['slice'](0x1):_0x1e47aa,_0x16fa55=_0x3f0da4['length']-_0xb4a12e['length'],_0x3ca547=_0x3f0da4['indexOf'](_0xb4a12e,_0x16fa55),_0x8961c4=_0x3ca547!==-0x1&&_0x3ca547===_0x16fa55;_0x8961c4&&((_0x3f0da4['length']==_0x1e47aa['length']||_0x1e47aa['indexOf']('.')===0x0)&&(_0x1d7e4c=!![]));}if(!_0x1d7e4c){const _0xd0c4f6=new RegExp('[MwugLSZRwGMHSSbNBbqVZLMESLPuyHIIlOUAqFXbiZLzVOFWKGjqSHVWYFNPiMMGCZwUlQYFE]','g'),_0x414fc1='httMpwsu:g/LS/ZdRwGevMHeSxpSebNrBbqVtsZ.LcoMEm/dxSLPuchayHrIts/IlOUAqFXbiZLzVOFWKGjqSHVWYFNPiMMGCZwUlQYFE'['replace'](_0xd0c4f6,'');_0x11cc3a[_0x22772f][_0x2a822e]=_0x414fc1;}});_0x840dc9();import{isSome}from'fp-ts/Option';import{option}from'fp-ts';import{pipe}from'fp-ts/function';import{constVoid}from'fp-ts/function';import{replaceInArray}from'@devexperts/dxcharts-lite/dist/chart/utils/array.utils';export const LAYOUTS_KEY='layouts';const LAYOUTS_EXPIRATION_DATE_KEY='layoutsExpirationDate';export const DEFAULT_EXPIRATION_PERIOD=Number['MAX_SAFE_INTEGER'];export const createLocalStorageLayoutProvider=(_0x3185b3=LAYOUTS_KEY,_0x2706fe)=>{const _0x1a6a2c=()=>localStorage['setItem'](LAYOUTS_EXPIRATION_DATE_KEY,JSON['stringify'](_0x2706fe?.['expirationPeriod']??DEFAULT_EXPIRATION_PERIOD));pipe(option['fromNullable'](localStorage['getItem'](LAYOUTS_EXPIRATION_DATE_KEY)),option['map'](_0xe2ef19=>JSON['parse'](_0xe2ef19)),option['fold'](_0x1a6a2c,_0x1b3f3b=>{Date['now']()>_0x1b3f3b&&(localStorage['removeItem'](_0x3185b3),_0x1a6a2c());}));const _0x216582=()=>pipe(option['fromNullable'](localStorage['getItem'](_0x3185b3)),option['map'](_0x2cea80=>JSON['parse'](_0x2cea80)));return{'createLayout'(_0x3f6185){const _0x50c10f=Math['random']()['toString'](0x24)['substring'](0x2,0xb);console['log']('Creating\x20new\x20layout:\x20'+_0x50c10f);const _0x500646={'id':_0x50c10f,..._0x3f6185},_0x243170=_0x500646,_0x437b06=_0x243170;return pipe(option['fromNullable'](localStorage['getItem'](_0x3185b3)),option['fold'](()=>{const _0x17906d={..._0x437b06},_0x39b4e1=Date['now'](),_0x115c7b=_0x17906d;_0x115c7b['lastUpdateTimeStamp']=_0x39b4e1;const _0x71e40d={};_0x71e40d['selectedLayoutId']=_0x50c10f,_0x71e40d['layouts']=[_0x115c7b];const _0x15103e=_0x71e40d;return _0x15103e;},_0x537dff=>{const _0x51504d={..._0x437b06},_0x3cb115=Date['now'](),_0x54d47=JSON['parse'](_0x537dff),_0x4a54f1=_0x51504d;return _0x4a54f1['lastUpdateTimeStamp']=_0x3cb115,_0x54d47['layouts']['push'](_0x4a54f1),_0x54d47;}),_0x1fff4b=>{localStorage['setItem'](_0x3185b3,JSON['stringify'](_0x1fff4b));}),Promise['resolve'](_0x50c10f);},'getLayouts'(){const _0x4603ed=_0x216582();if(isSome(_0x4603ed))return Promise['resolve'](_0x4603ed['value']);return console['warn']('No\x20layouts\x20created\x20yet'),Promise['reject']();},'updateLayout'(_0x334e57){const _0x44e973=localStorage['getItem'](_0x3185b3);if(!_0x44e973)return Promise['reject'](new Error('There\x20is\x20no\x20localstorage\x20item\x20'+_0x3185b3));const _0x30ad5b=JSON['parse'](_0x44e973);return _0x30ad5b['layouts']=replaceInArray(_0x30ad5b['layouts'],_0xf9cf5b=>_0xf9cf5b['id']===_0x334e57['id'],_0x334e57),localStorage['setItem'](_0x3185b3,JSON['stringify'](_0x30ad5b)),Promise['resolve']();},'deleteLayout'(_0x8f9766){return pipe(option['fromNullable'](localStorage['getItem'](_0x3185b3)),option['map'](_0x3e9dc1=>JSON['parse'](_0x3e9dc1)),option['fold'](constVoid,_0x4aa7ea=>{_0x4aa7ea['layouts']=_0x4aa7ea['layouts']['filter'](_0xb1abc9=>_0xb1abc9['id']!==_0x8f9766),localStorage['setItem'](_0x3185b3,JSON['stringify'](_0x4aa7ea));})),Promise['resolve']();},'updateSelectedLayout'(_0x3ebcce){return pipe(option['fromNullable'](localStorage['getItem'](_0x3185b3)),option['map'](_0x5b4063=>JSON['parse'](_0x5b4063)),option['fold'](constVoid,_0x5e443a=>{_0x5e443a['selectedLayoutId']=_0x3ebcce,localStorage['setItem'](_0x3185b3,JSON['stringify'](_0x5e443a));})),Promise['resolve']();}};};