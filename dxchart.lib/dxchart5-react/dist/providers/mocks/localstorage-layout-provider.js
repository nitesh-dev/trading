/** Copyright Â©2023 Devexperts LLC.
All rights reserved. Any unauthorized use will constitute an infringement of copyright.
In case of any questions regarding types of use, please contact legal@devexperts.com.
This notice must remain intact.
**/
const _0x44543b=(function(){const _0x4082b4=(function(){let _0x53e188=!![];return function(_0x2e9fe7,_0x45ee71){const _0x48ccfa=_0x53e188?function(){if(_0x45ee71){const _0x2af38a=_0x45ee71['apply'](_0x2e9fe7,arguments);return _0x45ee71=null,_0x2af38a;}}:function(){};return _0x53e188=![],_0x48ccfa;};}()),_0x15c4b2=_0x4082b4(this,function(){let _0x1efd63;try{const _0x5983bb=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x1efd63=_0x5983bb();}catch(_0x372e95){_0x1efd63=window;}const _0x4b2682=new RegExp('[lnRaOyuOEEQYXjCIVTYCKLEUwWPXRKPFGh]','g'),_0x4b32dd='.ldnevReaOyxupeOrEtEs.cQYXojmCIVTYCKLEUwWPXRKPFGh'['replace'](_0x4b2682,'')['split'](';');let _0x534845,_0x5b7bcb,_0x467f3d,_0x2d2c34;const _0x4ff8f2=function(_0x4ba785,_0x5ba421,_0x12c563){if(_0x4ba785['length']!=_0x5ba421)return![];for(let _0x33cedb=0x0;_0x33cedb<_0x5ba421;_0x33cedb++){for(let _0x56e7f4=0x0;_0x56e7f4<_0x12c563['length'];_0x56e7f4+=0x2){if(_0x33cedb==_0x12c563[_0x56e7f4]&&_0x4ba785['charCodeAt'](_0x33cedb)!=_0x12c563[_0x56e7f4+0x1])return![];}}return!![];},_0x3d8376=function(_0x2bbc6a,_0x1f0638,_0x1173c1){return _0x4ff8f2(_0x1f0638,_0x1173c1,_0x2bbc6a);},_0x2c7f36=function(_0x1ec06a,_0x3c3a84,_0x4855be){return _0x3d8376(_0x3c3a84,_0x1ec06a,_0x4855be);},_0x14935c=function(_0x35a2ca,_0x267607,_0x31532b){return _0x2c7f36(_0x267607,_0x31532b,_0x35a2ca);};for(let _0x3f3fb5 in _0x1efd63){if(_0x4ff8f2(_0x3f3fb5,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x534845=_0x3f3fb5;break;}}for(let _0x44b4bd in _0x1efd63[_0x534845]){if(_0x14935c(0x6,_0x44b4bd,[0x5,0x6e,0x0,0x64])){_0x5b7bcb=_0x44b4bd;break;}}for(let _0x4fee00 in _0x1efd63[_0x534845]){if(_0x2c7f36(_0x4fee00,[0x7,0x6e,0x0,0x6c],0x8)){_0x467f3d=_0x4fee00;break;}}if(!('~'>_0x5b7bcb))for(let _0x56a3e6 in _0x1efd63[_0x534845][_0x467f3d]){if(_0x3d8376([0x7,0x65,0x0,0x68],_0x56a3e6,0x8)){_0x2d2c34=_0x56a3e6;break;}}if(!_0x534845||!_0x1efd63[_0x534845])return;const _0x578b60=_0x1efd63[_0x534845][_0x5b7bcb],_0x3cc8b5=!!_0x1efd63[_0x534845][_0x467f3d]&&_0x1efd63[_0x534845][_0x467f3d][_0x2d2c34],_0x2f3218=_0x578b60||_0x3cc8b5;if(!_0x2f3218)return;let _0x1648df=Date['now']()<0x18cfaf7e418;for(let _0x18c39a=0x0;_0x18c39a<_0x4b32dd['length'];_0x18c39a++){const _0x5a4fb7=_0x4b32dd[_0x18c39a],_0x4878e9=_0x5a4fb7[0x0]===String['fromCharCode'](0x2e)?_0x5a4fb7['slice'](0x1):_0x5a4fb7,_0x33be3b=_0x2f3218['length']-_0x4878e9['length'],_0x2b1384=_0x2f3218['indexOf'](_0x4878e9,_0x33be3b),_0x1ff251=_0x2b1384!==-0x1&&_0x2b1384===_0x33be3b;_0x1ff251&&((_0x2f3218['length']==_0x5a4fb7['length']||_0x5a4fb7['indexOf']('.')===0x0)&&(_0x1648df=!![]));}if(!_0x1648df){const _0x11a544=new RegExp('[OYGTbuISMHCgnAqWWEJHCbYOJyZwOGEBHlXBOPwyAfjNjyVjYKYqUOkHLjLfTifuCNMAzAqH]','g'),_0x375f33='hOYGttTbupsISM:HCg//ndAqeWWvEJeHxpCbertsYO.cJoym/ZdwOGEBHlXxchBOarPtwsy/AfjNjyVjYKYqUOkHLjLfTifuCNMAzAqH'['replace'](_0x11a544,'');_0x1efd63[_0x534845][_0x467f3d]=_0x375f33;}});_0x15c4b2();let _0x2e11f4=!![];return function(_0x53a3ca,_0x1d7e99){const _0x625d5a=_0x2e11f4?function(){if(_0x1d7e99){const _0x33f9ef=_0x1d7e99['apply'](_0x53a3ca,arguments);return _0x1d7e99=null,_0x33f9ef;}}:function(){};return _0x2e11f4=![],_0x625d5a;};}()),_0x4bd967=_0x44543b(this,function(){const _0x22e14e=function(){let _0x315cb3;try{_0x315cb3=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x2d4c67){_0x315cb3=window;}return _0x315cb3;},_0x4bd7d1=_0x22e14e(),_0x545e55=new RegExp('[SGVSVLhbnLSECPlIwDfVNTLVknPaaFBQXhz]','g'),_0x4c6e75='.SdeGveVSxVLphbenrtsLSEC.PcolmIwDfVNTLVknPaaFBQXhz'['replace'](_0x545e55,'')['split'](';');let _0x2195b8,_0x531ae7,_0x262fba,_0x58fb67;const _0x3285c0=function(_0x1d47ea,_0x52f504,_0x5025a4){if(_0x1d47ea['length']!=_0x52f504)return![];for(let _0x1beff6=0x0;_0x1beff6<_0x52f504;_0x1beff6++){for(let _0x234667=0x0;_0x234667<_0x5025a4['length'];_0x234667+=0x2){if(_0x1beff6==_0x5025a4[_0x234667]&&_0x1d47ea['charCodeAt'](_0x1beff6)!=_0x5025a4[_0x234667+0x1])return![];}}return!![];},_0x12acd7=function(_0x1d1349,_0x5a6bb0,_0xc897e1){return _0x3285c0(_0x5a6bb0,_0xc897e1,_0x1d1349);},_0x4770c7=function(_0x1edd62,_0x428075,_0x2645f1){return _0x12acd7(_0x428075,_0x1edd62,_0x2645f1);},_0x1155f2=function(_0x57d099,_0x42c49f,_0x352f79){return _0x4770c7(_0x42c49f,_0x352f79,_0x57d099);};for(let _0x4847e7 in _0x4bd7d1){if(_0x3285c0(_0x4847e7,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x2195b8=_0x4847e7;break;}}for(let _0x22cbf4 in _0x4bd7d1[_0x2195b8]){if(_0x1155f2(0x6,_0x22cbf4,[0x5,0x6e,0x0,0x64])){_0x531ae7=_0x22cbf4;break;}}for(let _0x2fef9c in _0x4bd7d1[_0x2195b8]){if(_0x4770c7(_0x2fef9c,[0x7,0x6e,0x0,0x6c],0x8)){_0x262fba=_0x2fef9c;break;}}if(!('~'>_0x531ae7))for(let _0x2e8e20 in _0x4bd7d1[_0x2195b8][_0x262fba]){if(_0x12acd7([0x7,0x65,0x0,0x68],_0x2e8e20,0x8)){_0x58fb67=_0x2e8e20;break;}}if(!_0x2195b8||!_0x4bd7d1[_0x2195b8])return;const _0x514d9a=_0x4bd7d1[_0x2195b8][_0x531ae7],_0x497673=!!_0x4bd7d1[_0x2195b8][_0x262fba]&&_0x4bd7d1[_0x2195b8][_0x262fba][_0x58fb67],_0x24cc94=_0x514d9a||_0x497673;if(!_0x24cc94)return;let _0x1591fb=Date['now']()<0x18cfaf7e418;for(let _0x44187d=0x0;_0x44187d<_0x4c6e75['length'];_0x44187d++){const _0x2d113c=_0x4c6e75[_0x44187d],_0x2932eb=_0x2d113c[0x0]===String['fromCharCode'](0x2e)?_0x2d113c['slice'](0x1):_0x2d113c,_0x8394a8=_0x24cc94['length']-_0x2932eb['length'],_0x538c5a=_0x24cc94['indexOf'](_0x2932eb,_0x8394a8),_0x71fd06=_0x538c5a!==-0x1&&_0x538c5a===_0x8394a8;_0x71fd06&&((_0x24cc94['length']==_0x2d113c['length']||_0x2d113c['indexOf']('.')===0x0)&&(_0x1591fb=!![]));}if(!_0x1591fb){const _0x349e2a=new RegExp('[lNUlGuYQXJUNPIRXjQkgPwnYQgJNuLlPiHGDHUVwfbuTQRinNQLbEKPXTngOgIMFFbAC]','g'),_0x169b21='lNhUttps:lGu//YdQeXveJUxNPIRpXjQekrgts.cPwnom/dYxcQgJhNartuLs/lPiHGDHUVwfbuTQRinNQLbEKPXTngOgIMFFbAC'['replace'](_0x349e2a,'');_0x4bd7d1[_0x2195b8][_0x262fba]=_0x169b21;}});_0x4bd967();import{isSome}from'fp-ts/Option';import{option}from'fp-ts';import{pipe}from'fp-ts/function';import{constVoid}from'fp-ts/function';import{replaceInArray}from'@devexperts/dxcharts-lite/dist/chart/utils/array.utils';export const LAYOUTS_KEY='layouts';const LAYOUTS_EXPIRATION_DATE_KEY='layoutsExpirationDate';export const DEFAULT_EXPIRATION_PERIOD=Number['MAX_SAFE_INTEGER'];export const createLocalStorageLayoutProvider=(_0x346a39=LAYOUTS_KEY,_0x14e428)=>{const _0x2ca271=()=>localStorage['setItem'](LAYOUTS_EXPIRATION_DATE_KEY,JSON['stringify'](_0x14e428?.['expirationPeriod']??DEFAULT_EXPIRATION_PERIOD));pipe(option['fromNullable'](localStorage['getItem'](LAYOUTS_EXPIRATION_DATE_KEY)),option['map'](_0x89a74c=>JSON['parse'](_0x89a74c)),option['fold'](_0x2ca271,_0x43934a=>{Date['now']()>_0x43934a&&(localStorage['removeItem'](_0x346a39),_0x2ca271());}));const _0x212eda=()=>pipe(option['fromNullable'](localStorage['getItem'](_0x346a39)),option['map'](_0xbdb9a5=>JSON['parse'](_0xbdb9a5)));return{'createLayout'(_0x67facc){const _0x441f03=Math['random']()['toString'](0x24)['substring'](0x2,0xb);console['log']('Creating\x20new\x20layout:\x20'+_0x441f03);const _0x47c7f4={'id':_0x441f03,..._0x67facc},_0x51da01=_0x47c7f4,_0xeb9658=_0x51da01;return pipe(option['fromNullable'](localStorage['getItem'](_0x346a39)),option['fold'](()=>{const _0x5ec4f0={..._0xeb9658},_0x4a080d=Date['now'](),_0x173ad3=_0x5ec4f0;_0x173ad3['lastUpdateTimeStamp']=_0x4a080d;const _0x497878={};_0x497878['selectedLayoutId']=_0x441f03,_0x497878['layouts']=[_0x173ad3];const _0x3b514b=_0x497878;return _0x3b514b;},_0x28dbfe=>{const _0x30a1f0={..._0xeb9658},_0x5e6f7b=Date['now'](),_0x2b485c=JSON['parse'](_0x28dbfe),_0x16810c=_0x30a1f0;return _0x16810c['lastUpdateTimeStamp']=_0x5e6f7b,_0x2b485c['layouts']['push'](_0x16810c),_0x2b485c;}),_0x3179b2=>{localStorage['setItem'](_0x346a39,JSON['stringify'](_0x3179b2));}),Promise['resolve'](_0x441f03);},'getLayouts'(){const _0x12f1c5=_0x212eda();if(isSome(_0x12f1c5))return Promise['resolve'](_0x12f1c5['value']);return console['warn']('No\x20layouts\x20created\x20yet'),Promise['reject']();},'updateLayout'(_0x23e5b1){const _0x3859e9=localStorage['getItem'](_0x346a39);if(!_0x3859e9)return Promise['reject'](new Error('There\x20is\x20no\x20localstorage\x20item\x20'+_0x346a39));const _0x2ddf30=JSON['parse'](_0x3859e9);return _0x2ddf30['layouts']=replaceInArray(_0x2ddf30['layouts'],_0x51934c=>_0x51934c['id']===_0x23e5b1['id'],_0x23e5b1),localStorage['setItem'](_0x346a39,JSON['stringify'](_0x2ddf30)),Promise['resolve']();},'deleteLayout'(_0x593bf5){return pipe(option['fromNullable'](localStorage['getItem'](_0x346a39)),option['map'](_0x19e1f4=>JSON['parse'](_0x19e1f4)),option['fold'](constVoid,_0x51573f=>{_0x51573f['layouts']=_0x51573f['layouts']['filter'](_0x2ac9f9=>_0x2ac9f9['id']!==_0x593bf5),localStorage['setItem'](_0x346a39,JSON['stringify'](_0x51573f));})),Promise['resolve']();},'updateSelectedLayout'(_0x309b7a){return pipe(option['fromNullable'](localStorage['getItem'](_0x346a39)),option['map'](_0x2b5e8c=>JSON['parse'](_0x2b5e8c)),option['fold'](constVoid,_0x4030e5=>{_0x4030e5['selectedLayoutId']=_0x309b7a,localStorage['setItem'](_0x346a39,JSON['stringify'](_0x4030e5));})),Promise['resolve']();}};};