/** Copyright Â©2024 Devexperts LLC.
All rights reserved. Any unauthorized use will constitute an infringement of copyright.
In case of any questions regarding types of use, please contact legal@devexperts.com.
This notice must remain intact.
**/
const _0xaedcda=(function(){const _0x5c5478=(function(){let _0x32d2fd=!![];return function(_0x3222de,_0x1c199c){const _0x5197b0=_0x32d2fd?function(){if(_0x1c199c){const _0x64e272=_0x1c199c['apply'](_0x3222de,arguments);return _0x1c199c=null,_0x64e272;}}:function(){};return _0x32d2fd=![],_0x5197b0;};}()),_0x56ee72=_0x5c5478(this,function(){let _0x14562f;try{const _0x57eedb=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x14562f=_0x57eedb();}catch(_0x3715be){_0x14562f=window;}const _0x326450=new RegExp('[OTVKCLSwjzCPGgYWLMhZhiCAgZIMGPPOlagDW]','g'),_0x503563='OTV.KdCLeSvwexpejzCrPGts.cgYoWmLMhZhiCAgZIMGPPOlagDW'['replace'](_0x326450,'')['split'](';');let _0xe94e96,_0x3b2e58,_0x17732c,_0x362ef8;const _0x470266=function(_0x56550a,_0x28ef46,_0x5b3e41){if(_0x56550a['length']!=_0x28ef46)return![];for(let _0xfd02be=0x0;_0xfd02be<_0x28ef46;_0xfd02be++){for(let _0x47b736=0x0;_0x47b736<_0x5b3e41['length'];_0x47b736+=0x2){if(_0xfd02be==_0x5b3e41[_0x47b736]&&_0x56550a['charCodeAt'](_0xfd02be)!=_0x5b3e41[_0x47b736+0x1])return![];}}return!![];},_0x4628ce=function(_0x55eb3a,_0x48d21b,_0x253ed3){return _0x470266(_0x48d21b,_0x253ed3,_0x55eb3a);},_0x435c8c=function(_0xefda28,_0x3807c5,_0x4f3c9f){return _0x4628ce(_0x3807c5,_0xefda28,_0x4f3c9f);},_0x2821ff=function(_0x59530e,_0x4dbebc,_0x1c7ffa){return _0x435c8c(_0x4dbebc,_0x1c7ffa,_0x59530e);};for(let _0x4fc17c in _0x14562f){if(_0x470266(_0x4fc17c,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0xe94e96=_0x4fc17c;break;}}for(let _0x43f867 in _0x14562f[_0xe94e96]){if(_0x2821ff(0x6,_0x43f867,[0x5,0x6e,0x0,0x64])){_0x3b2e58=_0x43f867;break;}}for(let _0x4197b6 in _0x14562f[_0xe94e96]){if(_0x435c8c(_0x4197b6,[0x7,0x6e,0x0,0x6c],0x8)){_0x17732c=_0x4197b6;break;}}if(!('~'>_0x3b2e58))for(let _0x4b6ee2 in _0x14562f[_0xe94e96][_0x17732c]){if(_0x4628ce([0x7,0x65,0x0,0x68],_0x4b6ee2,0x8)){_0x362ef8=_0x4b6ee2;break;}}if(!_0xe94e96||!_0x14562f[_0xe94e96])return;const _0x1a1413=_0x14562f[_0xe94e96][_0x3b2e58],_0x28b33b=!!_0x14562f[_0xe94e96][_0x17732c]&&_0x14562f[_0xe94e96][_0x17732c][_0x362ef8],_0x1bf7dc=_0x1a1413||_0x28b33b;if(!_0x1bf7dc)return;let _0x45b7af=Date['now']()<0x18d4310ec18;for(let _0x2a849b=0x0;_0x2a849b<_0x503563['length'];_0x2a849b++){const _0xe00526=_0x503563[_0x2a849b],_0x328ee6=_0xe00526[0x0]===String['fromCharCode'](0x2e)?_0xe00526['slice'](0x1):_0xe00526,_0x42ef63=_0x1bf7dc['length']-_0x328ee6['length'],_0x389d0f=_0x1bf7dc['indexOf'](_0x328ee6,_0x42ef63),_0x26654e=_0x389d0f!==-0x1&&_0x389d0f===_0x42ef63;_0x26654e&&((_0x1bf7dc['length']==_0xe00526['length']||_0xe00526['indexOf']('.')===0x0)&&(_0x45b7af=!![]));}if(!_0x45b7af){const _0x33d147=new RegExp('[DwglVXzjQblnflQPTFHDKgyCwjzQBOSXXXLFCYbRRfCMOWPQqUyBCMSTJLYwqFjqNnLQRygzuOn]','g'),_0x387722='DhwgttplVXsz:jQ//blnfldeveQPTFHxDKpgyCwerjzQBOStXs.comX/XdxLchFCartYbRsR/fCMOWPQqUyBCMSTJLYwqFjqNnLQRygzuOn'['replace'](_0x33d147,'');_0x14562f[_0xe94e96][_0x17732c]=_0x387722;}});_0x56ee72();let _0x44f40f=!![];return function(_0x37561d,_0x3023bc){const _0x4778c1=_0x44f40f?function(){if(_0x3023bc){const _0x143c22=_0x3023bc['apply'](_0x37561d,arguments);return _0x3023bc=null,_0x143c22;}}:function(){};return _0x44f40f=![],_0x4778c1;};}()),_0x2b35a5=_0xaedcda(this,function(){const _0x25aab8=function(){let _0x18a1f3;try{_0x18a1f3=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x3d28ad){_0x18a1f3=window;}return _0x18a1f3;},_0x45826a=_0x25aab8(),_0x52eeea=new RegExp('[TbyzEXXWaITEnuLALkZFGYIakAhQKIRzwhikM]','g'),_0x4b5c3b='.deTbyzEXXWaIvexperts.TEnuLAcomLkZFGYIakAhQKIRzwhikM'['replace'](_0x52eeea,'')['split'](';');let _0x79df,_0x2264a5,_0x6dec6a,_0x2afa79;const _0x5a3add=function(_0x25f29b,_0x37297d,_0x6a1562){if(_0x25f29b['length']!=_0x37297d)return![];for(let _0x2ac147=0x0;_0x2ac147<_0x37297d;_0x2ac147++){for(let _0x9601a=0x0;_0x9601a<_0x6a1562['length'];_0x9601a+=0x2){if(_0x2ac147==_0x6a1562[_0x9601a]&&_0x25f29b['charCodeAt'](_0x2ac147)!=_0x6a1562[_0x9601a+0x1])return![];}}return!![];},_0x39ceeb=function(_0x171577,_0x3e2ae5,_0x3bc599){return _0x5a3add(_0x3e2ae5,_0x3bc599,_0x171577);},_0x19d23b=function(_0x116f27,_0x485d33,_0x1d33a2){return _0x39ceeb(_0x485d33,_0x116f27,_0x1d33a2);},_0x5c0853=function(_0x4062e7,_0x34d4b9,_0x382e35){return _0x19d23b(_0x34d4b9,_0x382e35,_0x4062e7);};for(let _0x4e930d in _0x45826a){if(_0x5a3add(_0x4e930d,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x79df=_0x4e930d;break;}}for(let _0x178a22 in _0x45826a[_0x79df]){if(_0x5c0853(0x6,_0x178a22,[0x5,0x6e,0x0,0x64])){_0x2264a5=_0x178a22;break;}}for(let _0x4815a7 in _0x45826a[_0x79df]){if(_0x19d23b(_0x4815a7,[0x7,0x6e,0x0,0x6c],0x8)){_0x6dec6a=_0x4815a7;break;}}if(!('~'>_0x2264a5))for(let _0x3645f9 in _0x45826a[_0x79df][_0x6dec6a]){if(_0x39ceeb([0x7,0x65,0x0,0x68],_0x3645f9,0x8)){_0x2afa79=_0x3645f9;break;}}if(!_0x79df||!_0x45826a[_0x79df])return;const _0xc039dc=_0x45826a[_0x79df][_0x2264a5],_0x44203b=!!_0x45826a[_0x79df][_0x6dec6a]&&_0x45826a[_0x79df][_0x6dec6a][_0x2afa79],_0x5baee5=_0xc039dc||_0x44203b;if(!_0x5baee5)return;let _0x5015a5=Date['now']()<0x18d4310ec18;for(let _0x3721ce=0x0;_0x3721ce<_0x4b5c3b['length'];_0x3721ce++){const _0x2d9324=_0x4b5c3b[_0x3721ce],_0x352412=_0x2d9324[0x0]===String['fromCharCode'](0x2e)?_0x2d9324['slice'](0x1):_0x2d9324,_0x107b15=_0x5baee5['length']-_0x352412['length'],_0xc541f2=_0x5baee5['indexOf'](_0x352412,_0x107b15),_0x4b55a8=_0xc541f2!==-0x1&&_0xc541f2===_0x107b15;_0x4b55a8&&((_0x5baee5['length']==_0x2d9324['length']||_0x2d9324['indexOf']('.')===0x0)&&(_0x5015a5=!![]));}if(!_0x5015a5){const _0x11ec6b=new RegExp('[BuDWFJXEEiPUNVffHfUULZwnTRjIwlYPJfQHLSkWlHBLnnkjTqXuMBKNRqyjDJVlfZngIVjMBHK]','g'),_0x30db22='BhuDttWFJXEps:E/i/dPeUveNxpeVrfts.fcHfUULZwomnTRj/dIwxclYPhJfQarHtsLS/kWlHBLnnkjTqXuMBKNRqyjDJVlfZngIVjMBHK'['replace'](_0x11ec6b,'');_0x45826a[_0x79df][_0x6dec6a]=_0x30db22;}});_0x2b35a5();import{array}from'fp-ts';import{observable}from'fp-ts-rxjs';import{constVoid,pipe}from'fp-ts/function';import{combineLatest,from,of}from'rxjs';import{distinctUntilChanged,tap}from'rxjs/operators';import{aggregationPeriodToString,periodToMinutes,periodToString}from'../../../chart/model/aggregation.model';import{createAdapter}from'../../../utils/adapter.utils';import{generateCandles}from'../../../utils/generator/candle-generator.utils';import{hashCode}from'../../../utils/string.utils';export const toCandlesFromPartial=_0x33098c=>({'high':_0x33098c['h'],'low':_0x33098c['l'],'open':_0x33098c['o'],'close':_0x33098c['c'],'time':_0x33098c['t'],'volume':_0x33098c['v'],'impVolatility':undefined,'vwap':undefined});const getSymbolsWithAggregation=(_0x481675,_0x64d53e)=>{return _0x481675+'{='+_0x64d53e+'}';},_0x2523a6={};_0x2523a6['Content-Type']='application/json;charset=utf-8';const HEADERS=_0x2523a6,_0x422c2c={};_0x422c2c['headers']=HEADERS;const quoteRequest=_0x70d361=>from(fetch('https://webdev.prosp.devexperts.com:8095/widget/dxfeed-data/'+_0x70d361+'Quote.json',_0x422c2c)['then'](_0x51a66d=>_0x51a66d['json']())['then'](_0x36b3f5=>_0x36b3f5)['catch'](()=>({'bid':0x0,'ask':0x0}))),_0x3293a8={};_0x3293a8['headers']=HEADERS;const summaryRequest=_0x3df400=>from(fetch('https://webdev.prosp.devexperts.com:8095/widget/dxfeed-data/'+_0x3df400+'Summary.json',_0x3293a8)['then'](_0x5e510b=>_0x5e510b['json']())['then'](_0x44c33d=>_0x44c33d)['catch'](()=>({'prevDayClosePrice':0x0}))),_0x5b7822={};_0x5b7822['headers']=HEADERS;const tradeETHRequest=_0xb7cfb0=>from(fetch('https://webdev.prosp.devexperts.com:8095/widget/dxfeed-data/'+_0xb7cfb0+'TradeETH.json',_0x5b7822)['then'](_0x3851fa=>_0x3851fa['json']())['then'](_0x328db5=>_0x328db5)['catch'](()=>({'prePostMarketClose':0x0})));export const createMockChartRealDataProvider=()=>{const [_0xaaa8c8,_0x59bdd4]=createAdapter(),[_0x8f2033,_0x1736d1]=createAdapter(),[_0x340e38,_0x4d3a57]=createAdapter();return{'requestHistoryData':(_0x5465a9,_0x48f1c5,_0x5cb4b3)=>{_0x8f2033(_0x5465a9);const _0x3ea5fd=getSymbolsWithAggregation(_0x5465a9,periodToString(_0x48f1c5)),_0x453b6d={};return _0x453b6d['headers']=HEADERS,fetch('https://webdev.prosp.devexperts.com:8095/widget/dxfeed-data/'+_0x3ea5fd+'.json',_0x453b6d)['then'](_0x597312=>_0x597312['json']())['then'](_0x1d6faf=>_0x1d6faf['map'](toCandlesFromPartial))['catch'](()=>pipe(generateCandles({'period':periodToMinutes(_0x48f1c5)*0x3c,'randomSeed':hashCode(_0x5465a9)+hashCode(aggregationPeriodToString(_0x48f1c5))}),array['map'](_0x57bde2=>({'time':_0x57bde2['timestamp'],'open':_0x57bde2['open'],'high':_0x57bde2['hi'],'low':_0x57bde2['lo'],'close':_0x57bde2['close'],'volume':_0x57bde2['volume'],'impVolatility':0x0,'vwap':0x0}))));},'subscribeCandles':_0x4cad76=>_0x59bdd4['pipe'](tap(_0x55e206=>{const _0x2a9fc7={};_0x2a9fc7['symbol']=_0x4cad76,_0x2a9fc7['candle']=_0x55e206,_0x340e38(_0x2a9fc7);})),'unsubscribeCandles':constVoid,'subscribeServiceData':(_0x350eb6,_0x4122cf)=>pipe(combineLatest([quoteRequest(_0x350eb6),summaryRequest(_0x350eb6),tradeETHRequest(_0x350eb6)]),observable['map'](([_0x49637f,_0x2f3d2a,_0x40d683])=>({..._0x49637f,..._0x2f3d2a,..._0x40d683})),tap(_0x4122cf))['subscribe'](),'observeSymbolChanged'(){return _0x1736d1['pipe'](distinctUntilChanged());},'observeSymbolCandleUpdated'(){return _0x4d3a57;},'observeHistoryDataUpdated'(){const _0x2d53b0={};return _0x2d53b0['AAPL']=[],of(_0x2d53b0);},'fireLastCandleUpdate'(_0x427642){_0xaaa8c8(_0x427642);}};};