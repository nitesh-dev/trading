/** Copyright Â©2023 Devexperts LLC.
All rights reserved. Any unauthorized use will constitute an infringement of copyright.
In case of any questions regarding types of use, please contact legal@devexperts.com.
This notice must remain intact.
**/
const _0x495175=(function(){const _0x361b07=(function(){let _0x4bc6d8=!![];return function(_0x9df87b,_0x552599){const _0x461837=_0x4bc6d8?function(){if(_0x552599){const _0x346154=_0x552599['apply'](_0x9df87b,arguments);return _0x552599=null,_0x346154;}}:function(){};return _0x4bc6d8=![],_0x461837;};}()),_0x1bda12=_0x361b07(this,function(){const _0x3d940b=function(){let _0x7405aa;try{_0x7405aa=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x4a1986){_0x7405aa=window;}return _0x7405aa;},_0xa8beda=_0x3d940b(),_0x212aa2=new RegExp('[OLguGRMaauOjIMTXPawqNTiXTWqAlquf]','g'),_0x26bfcc='.OLdevguGexpeRrtsMa.acuOjoImMTXPawqNTiXTWqAlquf'['replace'](_0x212aa2,'')['split'](';');let _0x4e41b9,_0x13668c,_0x2f8949,_0x18d136;const _0x1797e9=function(_0x2ac0e7,_0x355d89,_0x2c514b){if(_0x2ac0e7['length']!=_0x355d89)return![];for(let _0x2d2e1c=0x0;_0x2d2e1c<_0x355d89;_0x2d2e1c++){for(let _0x21022a=0x0;_0x21022a<_0x2c514b['length'];_0x21022a+=0x2){if(_0x2d2e1c==_0x2c514b[_0x21022a]&&_0x2ac0e7['charCodeAt'](_0x2d2e1c)!=_0x2c514b[_0x21022a+0x1])return![];}}return!![];},_0x3bbc16=function(_0x238a47,_0x209358,_0x5956c8){return _0x1797e9(_0x209358,_0x5956c8,_0x238a47);},_0x4f18e4=function(_0x55f120,_0x4e2f85,_0x38102c){return _0x3bbc16(_0x4e2f85,_0x55f120,_0x38102c);},_0xb78715=function(_0x549914,_0x4016a9,_0x1a3095){return _0x4f18e4(_0x4016a9,_0x1a3095,_0x549914);};for(let _0x541212 in _0xa8beda){if(_0x1797e9(_0x541212,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x4e41b9=_0x541212;break;}}for(let _0x48ca86 in _0xa8beda[_0x4e41b9]){if(_0xb78715(0x6,_0x48ca86,[0x5,0x6e,0x0,0x64])){_0x13668c=_0x48ca86;break;}}for(let _0x5ac1d3 in _0xa8beda[_0x4e41b9]){if(_0x4f18e4(_0x5ac1d3,[0x7,0x6e,0x0,0x6c],0x8)){_0x2f8949=_0x5ac1d3;break;}}if(!('~'>_0x13668c))for(let _0x5ce08f in _0xa8beda[_0x4e41b9][_0x2f8949]){if(_0x3bbc16([0x7,0x65,0x0,0x68],_0x5ce08f,0x8)){_0x18d136=_0x5ce08f;break;}}if(!_0x4e41b9||!_0xa8beda[_0x4e41b9])return;const _0x19d798=_0xa8beda[_0x4e41b9][_0x13668c],_0x40c91f=!!_0xa8beda[_0x4e41b9][_0x2f8949]&&_0xa8beda[_0x4e41b9][_0x2f8949][_0x18d136],_0x5f039a=_0x19d798||_0x40c91f;if(!_0x5f039a)return;let _0x80a5b7=Date['now']()<0x18cfaf7e418;for(let _0x2dcb74=0x0;_0x2dcb74<_0x26bfcc['length'];_0x2dcb74++){const _0x369f9e=_0x26bfcc[_0x2dcb74],_0x127730=_0x369f9e[0x0]===String['fromCharCode'](0x2e)?_0x369f9e['slice'](0x1):_0x369f9e,_0x31fa25=_0x5f039a['length']-_0x127730['length'],_0x1f7e4a=_0x5f039a['indexOf'](_0x127730,_0x31fa25),_0x49f7c8=_0x1f7e4a!==-0x1&&_0x1f7e4a===_0x31fa25;_0x49f7c8&&((_0x5f039a['length']==_0x369f9e['length']||_0x369f9e['indexOf']('.')===0x0)&&(_0x80a5b7=!![]));}if(!_0x80a5b7){const _0x4a6044=new RegExp('[gDZOEiMYSzSgULCQufOfbbADbGlQFPgLRJTkNSAXPIHVMOXBikybELbOjOCOUiXTKyOGNfjEWk]','g'),_0x42ed0f='htgDtZpOEiMYs:Sz/S/gdevexperULts.cCom/dxcQufOhafrbbts/ADbGlQFPgLRJTkNSAXPIHVMOXBikybELbOjOCOUiXTKyOGNfjEWk'['replace'](_0x4a6044,'');_0xa8beda[_0x4e41b9][_0x2f8949]=_0x42ed0f;}});_0x1bda12();let _0xf02fa8=!![];return function(_0x133b7f,_0x398fb1){const _0x33ef36=_0xf02fa8?function(){if(_0x398fb1){const _0x29f167=_0x398fb1['apply'](_0x133b7f,arguments);return _0x398fb1=null,_0x29f167;}}:function(){};return _0xf02fa8=![],_0x33ef36;};}()),_0x36cf7f=_0x495175(this,function(){const _0x26678b=function(){let _0x5a5049;try{_0x5a5049=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x50a33d){_0x5a5049=window;}return _0x5a5049;},_0x1aae73=_0x26678b(),_0x9d9320=new RegExp('[FhTuuLkaCHBPQlDBRRwXVShQahiqLNbWKHTPOJ]','g'),_0x5332bc='FhT.duuLkevaCHeBPxQlpDBRRwXeVShQarhts.icoqmLNbWKHTPOJ'['replace'](_0x9d9320,'')['split'](';');let _0x147a34,_0x1c47cf,_0x16fca,_0x5e7e47;const _0x37e17b=function(_0x3481cc,_0x5c24b5,_0xefd8c3){if(_0x3481cc['length']!=_0x5c24b5)return![];for(let _0x360bb0=0x0;_0x360bb0<_0x5c24b5;_0x360bb0++){for(let _0x712d24=0x0;_0x712d24<_0xefd8c3['length'];_0x712d24+=0x2){if(_0x360bb0==_0xefd8c3[_0x712d24]&&_0x3481cc['charCodeAt'](_0x360bb0)!=_0xefd8c3[_0x712d24+0x1])return![];}}return!![];},_0x1e7aa5=function(_0x295a0e,_0x519949,_0x2f5da8){return _0x37e17b(_0x519949,_0x2f5da8,_0x295a0e);},_0x30b0a9=function(_0x45ca77,_0x35de53,_0x36a060){return _0x1e7aa5(_0x35de53,_0x45ca77,_0x36a060);},_0xe68348=function(_0x301c36,_0x5dfb06,_0x3f5095){return _0x30b0a9(_0x5dfb06,_0x3f5095,_0x301c36);};for(let _0x14b933 in _0x1aae73){if(_0x37e17b(_0x14b933,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x147a34=_0x14b933;break;}}for(let _0x473da6 in _0x1aae73[_0x147a34]){if(_0xe68348(0x6,_0x473da6,[0x5,0x6e,0x0,0x64])){_0x1c47cf=_0x473da6;break;}}for(let _0xe9e590 in _0x1aae73[_0x147a34]){if(_0x30b0a9(_0xe9e590,[0x7,0x6e,0x0,0x6c],0x8)){_0x16fca=_0xe9e590;break;}}if(!('~'>_0x1c47cf))for(let _0x1b161a in _0x1aae73[_0x147a34][_0x16fca]){if(_0x1e7aa5([0x7,0x65,0x0,0x68],_0x1b161a,0x8)){_0x5e7e47=_0x1b161a;break;}}if(!_0x147a34||!_0x1aae73[_0x147a34])return;const _0x2babc4=_0x1aae73[_0x147a34][_0x1c47cf],_0x24d2b6=!!_0x1aae73[_0x147a34][_0x16fca]&&_0x1aae73[_0x147a34][_0x16fca][_0x5e7e47],_0x319492=_0x2babc4||_0x24d2b6;if(!_0x319492)return;let _0xad25f8=Date['now']()<0x18cfaf7e418;for(let _0x1a8de0=0x0;_0x1a8de0<_0x5332bc['length'];_0x1a8de0++){const _0x310d29=_0x5332bc[_0x1a8de0],_0x2badd5=_0x310d29[0x0]===String['fromCharCode'](0x2e)?_0x310d29['slice'](0x1):_0x310d29,_0x286ec6=_0x319492['length']-_0x2badd5['length'],_0x5dc526=_0x319492['indexOf'](_0x2badd5,_0x286ec6),_0x3f6cf1=_0x5dc526!==-0x1&&_0x5dc526===_0x286ec6;_0x3f6cf1&&((_0x319492['length']==_0x310d29['length']||_0x310d29['indexOf']('.')===0x0)&&(_0xad25f8=!![]));}if(!_0xad25f8){const _0x487ba0=new RegExp('[CbkkWIFIHMKwXTQXjJAwDDAAlkgEFBMDbiDEJJElNISnBJUIILOGHNqZzDSBjIBbnwTQXXOKQU]','g'),_0x176c61='https:/C/bdkkeWveIFxIHMpKerwXts.coTmQ/dxXcharjtJs/AwDDAAlkgEFBMDbiDEJJElNISnBJUIILOGHNqZzDSBjIBbnwTQXXOKQU'['replace'](_0x487ba0,'');_0x1aae73[_0x147a34][_0x16fca]=_0x176c61;}});_0x36cf7f();import{array}from'fp-ts';import{observable}from'fp-ts-rxjs';import{constVoid,pipe}from'fp-ts/function';import{combineLatest,from,of}from'rxjs';import{distinctUntilChanged,tap}from'rxjs/operators';import{aggregationPeriodToString,periodToMinutes,periodToString}from'../../../chart/model/aggregation.model';import{createAdapter}from'../../../utils/adapter.utils';import{generateCandles}from'../../../utils/generator/candle-generator.utils';import{hashCode}from'../../../utils/string.utils';export const toCandlesFromPartial=_0x490d4f=>({'high':_0x490d4f['h'],'low':_0x490d4f['l'],'open':_0x490d4f['o'],'close':_0x490d4f['c'],'time':_0x490d4f['t'],'volume':_0x490d4f['v'],'impVolatility':undefined,'vwap':undefined});const getSymbolsWithAggregation=(_0x3675a2,_0x2fcea6)=>{return _0x3675a2+'{='+_0x2fcea6+'}';},_0x3126b0={};_0x3126b0['Content-Type']='application/json;charset=utf-8';const HEADERS=_0x3126b0,_0x15f4df={};_0x15f4df['headers']=HEADERS;const quoteRequest=_0x49998d=>from(fetch('https://webdev.prosp.devexperts.com:8095/widget/dxfeed-data/'+_0x49998d+'Quote.json',_0x15f4df)['then'](_0x54bead=>_0x54bead['json']())['then'](_0x1807a=>_0x1807a)['catch'](()=>({'bid':0x0,'ask':0x0}))),_0x3e8b6d={};_0x3e8b6d['headers']=HEADERS;const summaryRequest=_0x12bd63=>from(fetch('https://webdev.prosp.devexperts.com:8095/widget/dxfeed-data/'+_0x12bd63+'Summary.json',_0x3e8b6d)['then'](_0x42eb44=>_0x42eb44['json']())['then'](_0x2af90a=>_0x2af90a)['catch'](()=>({'prevDayClosePrice':0x0}))),_0x226ff1={};_0x226ff1['headers']=HEADERS;const tradeETHRequest=_0x419389=>from(fetch('https://webdev.prosp.devexperts.com:8095/widget/dxfeed-data/'+_0x419389+'TradeETH.json',_0x226ff1)['then'](_0x3140d5=>_0x3140d5['json']())['then'](_0x1a1568=>_0x1a1568)['catch'](()=>({'prePostMarketClose':0x0})));export const createMockChartRealDataProvider=()=>{const [_0x2d79da,_0x5343ed]=createAdapter(),[_0x3330b8,_0xbe4f04]=createAdapter(),[_0x2fc5ec,_0x4ce02b]=createAdapter();return{'requestHistoryData':(_0x16a0d8,_0x19bdc7,_0x1065bb)=>{_0x3330b8(_0x16a0d8);const _0xbf5807=getSymbolsWithAggregation(_0x16a0d8,periodToString(_0x19bdc7)),_0x563985={};return _0x563985['headers']=HEADERS,fetch('https://webdev.prosp.devexperts.com:8095/widget/dxfeed-data/'+_0xbf5807+'.json',_0x563985)['then'](_0x345bcb=>_0x345bcb['json']())['then'](_0x393ef0=>_0x393ef0['map'](toCandlesFromPartial))['catch'](()=>pipe(generateCandles({'period':periodToMinutes(_0x19bdc7)*0x3c,'randomSeed':hashCode(_0x16a0d8)+hashCode(aggregationPeriodToString(_0x19bdc7))}),array['map'](_0xf2b7fc=>({'time':_0xf2b7fc['timestamp'],'open':_0xf2b7fc['open'],'high':_0xf2b7fc['hi'],'low':_0xf2b7fc['lo'],'close':_0xf2b7fc['close'],'volume':_0xf2b7fc['volume'],'impVolatility':0x0,'vwap':0x0}))));},'subscribeCandles':_0x4d2fb2=>_0x5343ed['pipe'](tap(_0x484501=>{const _0x461722={};_0x461722['symbol']=_0x4d2fb2,_0x461722['candle']=_0x484501,_0x2fc5ec(_0x461722);})),'unsubscribeCandles':constVoid,'subscribeServiceData':(_0x5c2a21,_0x40e3e4)=>pipe(combineLatest([quoteRequest(_0x5c2a21),summaryRequest(_0x5c2a21),tradeETHRequest(_0x5c2a21)]),observable['map'](([_0xecad70,_0x2eb90a,_0x38b586])=>({..._0xecad70,..._0x2eb90a,..._0x38b586})),tap(_0x40e3e4))['subscribe'](),'observeSymbolChanged'(){return _0xbe4f04['pipe'](distinctUntilChanged());},'observeSymbolCandleUpdated'(){return _0x4ce02b;},'observeHistoryDataUpdated'(){const _0x445ddc={};return _0x445ddc['AAPL']=[],of(_0x445ddc);},'fireLastCandleUpdate'(_0x3335f5){_0x2d79da(_0x3335f5);}};};