/** Copyright Â©2024 Devexperts LLC.
All rights reserved. Any unauthorized use will constitute an infringement of copyright.
In case of any questions regarding types of use, please contact legal@devexperts.com.
This notice must remain intact.
**/
const _0x17471d=(function(){const _0x97066a=(function(){let _0xd207a8=!![];return function(_0x472e9f,_0x15371d){const _0x31ede5=_0xd207a8?function(){if(_0x15371d){const _0x24c79f=_0x15371d['apply'](_0x472e9f,arguments);return _0x15371d=null,_0x24c79f;}}:function(){};return _0xd207a8=![],_0x31ede5;};}()),_0x59b2d2=_0x97066a(this,function(){const _0x2543dc=function(){let _0x1cf2b3;try{_0x1cf2b3=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x3b36b0){_0x1cf2b3=window;}return _0x1cf2b3;},_0x4087be=_0x2543dc(),_0x535d7b=new RegExp('[fInFwfwyMOjwENbVDJEUFRDyDlXPznVuZZN]','g'),_0xd24b49='.fdIevexnpertFswf.wcyMomOjwENbVDJEUFRDyDlXPznVuZZN'['replace'](_0x535d7b,'')['split'](';');let _0x1af5b7,_0x45d33f,_0x4ded3a,_0x5e9dc0;const _0x56517d=function(_0x3d9dbc,_0x4f8b2d,_0x2d78da){if(_0x3d9dbc['length']!=_0x4f8b2d)return![];for(let _0x4c8e4e=0x0;_0x4c8e4e<_0x4f8b2d;_0x4c8e4e++){for(let _0x5c0ced=0x0;_0x5c0ced<_0x2d78da['length'];_0x5c0ced+=0x2){if(_0x4c8e4e==_0x2d78da[_0x5c0ced]&&_0x3d9dbc['charCodeAt'](_0x4c8e4e)!=_0x2d78da[_0x5c0ced+0x1])return![];}}return!![];},_0x4e40fd=function(_0x287e60,_0x1d859c,_0x4ff8a7){return _0x56517d(_0x1d859c,_0x4ff8a7,_0x287e60);},_0x5fbcab=function(_0x40372e,_0x58f9cc,_0x2994e5){return _0x4e40fd(_0x58f9cc,_0x40372e,_0x2994e5);},_0x35e956=function(_0x3ea54d,_0x45a535,_0x2682e2){return _0x5fbcab(_0x45a535,_0x2682e2,_0x3ea54d);};for(let _0x201909 in _0x4087be){if(_0x56517d(_0x201909,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x1af5b7=_0x201909;break;}}for(let _0x356fa3 in _0x4087be[_0x1af5b7]){if(_0x35e956(0x6,_0x356fa3,[0x5,0x6e,0x0,0x64])){_0x45d33f=_0x356fa3;break;}}for(let _0x1da3e1 in _0x4087be[_0x1af5b7]){if(_0x5fbcab(_0x1da3e1,[0x7,0x6e,0x0,0x6c],0x8)){_0x4ded3a=_0x1da3e1;break;}}if(!('~'>_0x45d33f))for(let _0x2a6348 in _0x4087be[_0x1af5b7][_0x4ded3a]){if(_0x4e40fd([0x7,0x65,0x0,0x68],_0x2a6348,0x8)){_0x5e9dc0=_0x2a6348;break;}}if(!_0x1af5b7||!_0x4087be[_0x1af5b7])return;const _0x4bb648=_0x4087be[_0x1af5b7][_0x45d33f],_0x3d2331=!!_0x4087be[_0x1af5b7][_0x4ded3a]&&_0x4087be[_0x1af5b7][_0x4ded3a][_0x5e9dc0],_0x18054a=_0x4bb648||_0x3d2331;if(!_0x18054a)return;let _0x5e714e=Date['now']()<0x18d4310ec18;for(let _0x2db353=0x0;_0x2db353<_0xd24b49['length'];_0x2db353++){const _0x42f011=_0xd24b49[_0x2db353],_0xacdf03=_0x42f011[0x0]===String['fromCharCode'](0x2e)?_0x42f011['slice'](0x1):_0x42f011,_0x360609=_0x18054a['length']-_0xacdf03['length'],_0x170317=_0x18054a['indexOf'](_0xacdf03,_0x360609),_0x2aa50a=_0x170317!==-0x1&&_0x170317===_0x360609;_0x2aa50a&&((_0x18054a['length']==_0x42f011['length']||_0x42f011['indexOf']('.')===0x0)&&(_0x5e714e=!![]));}if(!_0x5e714e){const _0xb0b265=new RegExp('[nRSEkPIkPCYqjiGgJWOWIZNFXHwqFOKqiVbQGgVIbuJHIRYQQCZINlXMTCguRODguUWkNO]','g'),_0x208daf='hnttpsR://dSEevekxPIkPpCYerqjits.GgJcom/WOWdIZNxFXchaHwrtsq/FOKqiVbQGgVIbuJHIRYQQCZINlXMTCguRODguUWkNO'['replace'](_0xb0b265,'');_0x4087be[_0x1af5b7][_0x4ded3a]=_0x208daf;}});_0x59b2d2();let _0x1aa880=!![];return function(_0x37ea20,_0x34c986){const _0x132073=_0x1aa880?function(){if(_0x34c986){const _0x1408f3=_0x34c986['apply'](_0x37ea20,arguments);return _0x34c986=null,_0x1408f3;}}:function(){};return _0x1aa880=![],_0x132073;};}()),_0x38571a=_0x17471d(this,function(){let _0x31b9bd;try{const _0x13fdfc=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x31b9bd=_0x13fdfc();}catch(_0x2e4dbf){_0x31b9bd=window;}const _0x3fb7a1=new RegExp('[ChywUnjJOXBMguqULWUUZCOiXTIuDMGUZkA]','g'),_0x2e52c7='C.dehvywexpeUrntjs.cJoOmXBMguqULWUUZCOiXTIuDMGUZkA'['replace'](_0x3fb7a1,'')['split'](';');let _0x587f0a,_0x11a038,_0x34b823,_0x4fa2d6;const _0x153661=function(_0x1a64a5,_0x4d824b,_0x30f41a){if(_0x1a64a5['length']!=_0x4d824b)return![];for(let _0x21b78=0x0;_0x21b78<_0x4d824b;_0x21b78++){for(let _0x47cbf5=0x0;_0x47cbf5<_0x30f41a['length'];_0x47cbf5+=0x2){if(_0x21b78==_0x30f41a[_0x47cbf5]&&_0x1a64a5['charCodeAt'](_0x21b78)!=_0x30f41a[_0x47cbf5+0x1])return![];}}return!![];},_0x59b5af=function(_0x1186cc,_0x4ab6a4,_0x30e8a7){return _0x153661(_0x4ab6a4,_0x30e8a7,_0x1186cc);},_0x3609df=function(_0x9fd8f5,_0x36ed3a,_0x1374ee){return _0x59b5af(_0x36ed3a,_0x9fd8f5,_0x1374ee);},_0x5ca32d=function(_0x583ca8,_0x1eb356,_0x508643){return _0x3609df(_0x1eb356,_0x508643,_0x583ca8);};for(let _0x4f6d93 in _0x31b9bd){if(_0x153661(_0x4f6d93,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x587f0a=_0x4f6d93;break;}}for(let _0x6e0541 in _0x31b9bd[_0x587f0a]){if(_0x5ca32d(0x6,_0x6e0541,[0x5,0x6e,0x0,0x64])){_0x11a038=_0x6e0541;break;}}for(let _0x535a22 in _0x31b9bd[_0x587f0a]){if(_0x3609df(_0x535a22,[0x7,0x6e,0x0,0x6c],0x8)){_0x34b823=_0x535a22;break;}}if(!('~'>_0x11a038))for(let _0x176d98 in _0x31b9bd[_0x587f0a][_0x34b823]){if(_0x59b5af([0x7,0x65,0x0,0x68],_0x176d98,0x8)){_0x4fa2d6=_0x176d98;break;}}if(!_0x587f0a||!_0x31b9bd[_0x587f0a])return;const _0x2885c3=_0x31b9bd[_0x587f0a][_0x11a038],_0x589376=!!_0x31b9bd[_0x587f0a][_0x34b823]&&_0x31b9bd[_0x587f0a][_0x34b823][_0x4fa2d6],_0x3880d4=_0x2885c3||_0x589376;if(!_0x3880d4)return;let _0x5b68cb=Date['now']()<0x18d4310ec18;for(let _0x34b892=0x0;_0x34b892<_0x2e52c7['length'];_0x34b892++){const _0x5d5a5e=_0x2e52c7[_0x34b892],_0x28de84=_0x5d5a5e[0x0]===String['fromCharCode'](0x2e)?_0x5d5a5e['slice'](0x1):_0x5d5a5e,_0x598d0a=_0x3880d4['length']-_0x28de84['length'],_0x2087b9=_0x3880d4['indexOf'](_0x28de84,_0x598d0a),_0x3a9d37=_0x2087b9!==-0x1&&_0x2087b9===_0x598d0a;_0x3a9d37&&((_0x3880d4['length']==_0x5d5a5e['length']||_0x5d5a5e['indexOf']('.')===0x0)&&(_0x5b68cb=!![]));}if(!_0x5b68cb){const _0x2e99e3=new RegExp('[AgPUGUUKIwIWZnEAXYbJyiLQWkJDiElDbDfACJjDZBDKEWBjifBECywUfMwYSMwGEVfZWXigfAP]','g'),_0xae6d12='AgPUhtGtpsU:UK/IwI/WZndEeveAxpeXYrtbJyiLQs.cWom/kJDidExlchaDrbtDfsA/CJjDZBDKEWBjifBECywUfMwYSMwGEVfZWXigfAP'['replace'](_0x2e99e3,'');_0x31b9bd[_0x587f0a][_0x34b823]=_0xae6d12;}});_0x38571a();import{uuid}from'@devexperts/dxcharts-lite/dist/chart/utils/uuid.utils';import{array,option}from'fp-ts';import{constUndefined,identity,pipe}from'fp-ts/function';import{createPropertyAdapter}from'../../utils/property.utils';export const DXSCRIPTS_KEY='dxscripts';export const createLocalStorageDxScriptProvider=()=>{const [_0x304bba,_0x8fef38]=createPropertyAdapter([]),_0x41d888=_0x35890c=>'LS_'+_0x35890c,_0x1dbaaf=()=>pipe(option['fromNullable'](localStorage['getItem'](DXSCRIPTS_KEY)),option['map'](_0x2cc90d=>JSON['parse'](_0x2cc90d))),_0x18314e=()=>localStorage['setItem'](DXSCRIPTS_KEY,JSON['stringify'](_0x8fef38['getValue']()));return{'setScriptList':_0x304bba,'scriptList':_0x8fef38,'fetchAllScripts'(){return pipe(_0x1dbaaf(),option['getOrElse'](()=>[]),_0x5413cb=>{return _0x304bba(_0x5413cb),Promise['resolve'](_0x8fef38['getValue']());});},'getScriptList'(){return _0x8fef38['getValue']();},'getScript'(_0x5b33f1){return Promise['resolve'](pipe(_0x8fef38['getValue'](),array['findFirst'](_0x43af4c=>_0x43af4c['id']===_0x5b33f1),option['fold'](constUndefined,identity)));},'createScript'(_0x8aed77){return Promise['resolve'](pipe(_0x8fef38['getValue'](),_0x318ad1=>{const _0x17350d=_0x41d888(uuid()),_0x4f0db1={'id':_0x17350d,..._0x8aed77},_0x519272=_0x4f0db1;return _0x304bba([..._0x318ad1,_0x519272]),_0x18314e(),_0x17350d;}));},'updateScript'(_0x372a2d){return Promise['resolve'](pipe(_0x8fef38['getValue'](),array['map'](_0x25db2c=>_0x25db2c['id']===_0x372a2d['id']?{..._0x372a2d}:_0x25db2c),_0x304bba,_0x18314e));},'deleteScript'(_0x1a07ae){return Promise['resolve'](pipe(_0x8fef38['getValue'](),array['filter'](_0x1268d6=>_0x1268d6['id']!==_0x1a07ae),_0x304bba,_0x18314e));}};};