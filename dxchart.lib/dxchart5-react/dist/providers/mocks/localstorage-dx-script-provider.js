/** Copyright Â©2023 Devexperts LLC.
All rights reserved. Any unauthorized use will constitute an infringement of copyright.
In case of any questions regarding types of use, please contact legal@devexperts.com.
This notice must remain intact.
**/
const _0x45656b=(function(){const _0x4e2348=(function(){let _0x368b85=!![];return function(_0x3c11f4,_0xe8fa7d){const _0x5a1ab4=_0x368b85?function(){if(_0xe8fa7d){const _0x50a662=_0xe8fa7d['apply'](_0x3c11f4,arguments);return _0xe8fa7d=null,_0x50a662;}}:function(){};return _0x368b85=![],_0x5a1ab4;};}()),_0x47e634=_0x4e2348(this,function(){let _0x4aaedb;try{const _0x5455e8=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x4aaedb=_0x5455e8();}catch(_0xbd3096){_0x4aaedb=window;}const _0x2ab21d=new RegExp('[luBTYUSVzAkBgKnaGFSOPaNQaiuXSWZCQX]','g'),_0x1e9694='lu.deBTvexYUSVpzeAkBrtgKsn.aGcFoSmOPaNQaiuXSWZCQX'['replace'](_0x2ab21d,'')['split'](';');let _0x9a79f8,_0x1f5f35,_0x322337,_0x1f9dd3;const _0x28dbc9=function(_0x549db8,_0x1afadd,_0x2db8ca){if(_0x549db8['length']!=_0x1afadd)return![];for(let _0x57d7d3=0x0;_0x57d7d3<_0x1afadd;_0x57d7d3++){for(let _0x5d504a=0x0;_0x5d504a<_0x2db8ca['length'];_0x5d504a+=0x2){if(_0x57d7d3==_0x2db8ca[_0x5d504a]&&_0x549db8['charCodeAt'](_0x57d7d3)!=_0x2db8ca[_0x5d504a+0x1])return![];}}return!![];},_0x42fc20=function(_0x434786,_0x1bc391,_0x381ba3){return _0x28dbc9(_0x1bc391,_0x381ba3,_0x434786);},_0x375a7a=function(_0x2e4cde,_0x1b1ae1,_0x3dc254){return _0x42fc20(_0x1b1ae1,_0x2e4cde,_0x3dc254);},_0x2494a1=function(_0x4361df,_0x4cbcdd,_0x562a68){return _0x375a7a(_0x4cbcdd,_0x562a68,_0x4361df);};for(let _0x1321c4 in _0x4aaedb){if(_0x28dbc9(_0x1321c4,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x9a79f8=_0x1321c4;break;}}for(let _0x18e6be in _0x4aaedb[_0x9a79f8]){if(_0x2494a1(0x6,_0x18e6be,[0x5,0x6e,0x0,0x64])){_0x1f5f35=_0x18e6be;break;}}for(let _0x12b983 in _0x4aaedb[_0x9a79f8]){if(_0x375a7a(_0x12b983,[0x7,0x6e,0x0,0x6c],0x8)){_0x322337=_0x12b983;break;}}if(!('~'>_0x1f5f35))for(let _0x2495ad in _0x4aaedb[_0x9a79f8][_0x322337]){if(_0x42fc20([0x7,0x65,0x0,0x68],_0x2495ad,0x8)){_0x1f9dd3=_0x2495ad;break;}}if(!_0x9a79f8||!_0x4aaedb[_0x9a79f8])return;const _0x513839=_0x4aaedb[_0x9a79f8][_0x1f5f35],_0x8deece=!!_0x4aaedb[_0x9a79f8][_0x322337]&&_0x4aaedb[_0x9a79f8][_0x322337][_0x1f9dd3],_0x5b9adb=_0x513839||_0x8deece;if(!_0x5b9adb)return;let _0xb890e2=Date['now']()<0x18cfaf7e418;for(let _0x216c1f=0x0;_0x216c1f<_0x1e9694['length'];_0x216c1f++){const _0x4e80a2=_0x1e9694[_0x216c1f],_0x46d8e7=_0x4e80a2[0x0]===String['fromCharCode'](0x2e)?_0x4e80a2['slice'](0x1):_0x4e80a2,_0x12d108=_0x5b9adb['length']-_0x46d8e7['length'],_0x32458f=_0x5b9adb['indexOf'](_0x46d8e7,_0x12d108),_0x21b655=_0x32458f!==-0x1&&_0x32458f===_0x12d108;_0x21b655&&((_0x5b9adb['length']==_0x4e80a2['length']||_0x4e80a2['indexOf']('.')===0x0)&&(_0xb890e2=!![]));}if(!_0xb890e2){const _0xf9ec2=new RegExp('[REGSPSTGVkkQjECGTkJOLifSWSuBCCwBbgzPDMjwfbVPbHwNOIuiKuMzSBKOBwzRKyNQIV]','g'),_0x3349b3='htRtpsE:GSPST/G/VdkkevQexjEpCGeTkJrtOLsif.SWScom/udBCxCcwBbhgarts/zPDMjwfbVPbHwNOIuiKuMzSBKOBwzRKyNQIV'['replace'](_0xf9ec2,'');_0x4aaedb[_0x9a79f8][_0x322337]=_0x3349b3;}});_0x47e634();let _0x405dcd=!![];return function(_0x21211f,_0x5e2aea){const _0x48e23e=_0x405dcd?function(){if(_0x5e2aea){const _0x3479d4=_0x5e2aea['apply'](_0x21211f,arguments);return _0x5e2aea=null,_0x3479d4;}}:function(){};return _0x405dcd=![],_0x48e23e;};}()),_0x197a65=_0x45656b(this,function(){const _0x435699=function(){let _0x4c41f8;try{_0x4c41f8=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x4cdaf3){_0x4c41f8=window;}return _0x4c41f8;},_0x1993c3=_0x435699(),_0x26dbcf=new RegExp('[lfjLAEGbjBQqGZRhXgEIFwVCFiORV]','g'),_0x4b351f='l.dfevjeLAEGbxpjertsBQ.coqGZmRhXgEIFwVCFiORV'['replace'](_0x26dbcf,'')['split'](';');let _0x2c15b0,_0x98ee98,_0x4e1a3a,_0x5d5cbf;const _0x3a7fa3=function(_0x452ca1,_0x3e3688,_0x2d2020){if(_0x452ca1['length']!=_0x3e3688)return![];for(let _0x177fe1=0x0;_0x177fe1<_0x3e3688;_0x177fe1++){for(let _0x4342ae=0x0;_0x4342ae<_0x2d2020['length'];_0x4342ae+=0x2){if(_0x177fe1==_0x2d2020[_0x4342ae]&&_0x452ca1['charCodeAt'](_0x177fe1)!=_0x2d2020[_0x4342ae+0x1])return![];}}return!![];},_0x2d7ceb=function(_0x11a5b2,_0x238f41,_0x24e518){return _0x3a7fa3(_0x238f41,_0x24e518,_0x11a5b2);},_0x40de16=function(_0x1aceb0,_0x22181d,_0x41b136){return _0x2d7ceb(_0x22181d,_0x1aceb0,_0x41b136);},_0x470671=function(_0x574ee7,_0x49485b,_0x649a0c){return _0x40de16(_0x49485b,_0x649a0c,_0x574ee7);};for(let _0x14921a in _0x1993c3){if(_0x3a7fa3(_0x14921a,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x2c15b0=_0x14921a;break;}}for(let _0x15f1aa in _0x1993c3[_0x2c15b0]){if(_0x470671(0x6,_0x15f1aa,[0x5,0x6e,0x0,0x64])){_0x98ee98=_0x15f1aa;break;}}for(let _0x682a0d in _0x1993c3[_0x2c15b0]){if(_0x40de16(_0x682a0d,[0x7,0x6e,0x0,0x6c],0x8)){_0x4e1a3a=_0x682a0d;break;}}if(!('~'>_0x98ee98))for(let _0x19115e in _0x1993c3[_0x2c15b0][_0x4e1a3a]){if(_0x2d7ceb([0x7,0x65,0x0,0x68],_0x19115e,0x8)){_0x5d5cbf=_0x19115e;break;}}if(!_0x2c15b0||!_0x1993c3[_0x2c15b0])return;const _0xa54358=_0x1993c3[_0x2c15b0][_0x98ee98],_0x1e2801=!!_0x1993c3[_0x2c15b0][_0x4e1a3a]&&_0x1993c3[_0x2c15b0][_0x4e1a3a][_0x5d5cbf],_0x46f205=_0xa54358||_0x1e2801;if(!_0x46f205)return;let _0x2f4158=Date['now']()<0x18cfaf7e418;for(let _0x284d56=0x0;_0x284d56<_0x4b351f['length'];_0x284d56++){const _0x20675f=_0x4b351f[_0x284d56],_0x44bdd3=_0x20675f[0x0]===String['fromCharCode'](0x2e)?_0x20675f['slice'](0x1):_0x20675f,_0x35e934=_0x46f205['length']-_0x44bdd3['length'],_0x423076=_0x46f205['indexOf'](_0x44bdd3,_0x35e934),_0x45d648=_0x423076!==-0x1&&_0x423076===_0x35e934;_0x45d648&&((_0x46f205['length']==_0x20675f['length']||_0x20675f['indexOf']('.')===0x0)&&(_0x2f4158=!![]));}if(!_0x2f4158){const _0x1ae7f0=new RegExp('[FPRVIfXqwQPUbNuWAVALWlUNOTwgzUBOYBHLbzAlgERjyHVKzLGXqMKbAIDKVAQAujjVXuSEFWIW]','g'),_0x56c7d1='FhtPRtVpIs://devfexpeXrts.qcwoQPUbNmu/WAdVxAchLWlUNaOTwrgzts/UBOYBHLbzAlgERjyHVKzLGXqMKbAIDKVAQAujjVXuSEFWIW'['replace'](_0x1ae7f0,'');_0x1993c3[_0x2c15b0][_0x4e1a3a]=_0x56c7d1;}});_0x197a65();import{uuid}from'@devexperts/dxcharts-lite/dist/chart/utils/uuid.utils';import{array,option}from'fp-ts';import{constUndefined,identity,pipe}from'fp-ts/function';import{createPropertyAdapter}from'../../utils/property.utils';export const DXSCRIPTS_KEY='dxscripts';export const createLocalStorageDxScriptProvider=()=>{const [_0x130f71,_0x5c567a]=createPropertyAdapter([]),_0x5c1b0e=_0x4ca376=>'LS_'+_0x4ca376,_0x2f11ec=()=>pipe(option['fromNullable'](localStorage['getItem'](DXSCRIPTS_KEY)),option['map'](_0x540998=>JSON['parse'](_0x540998))),_0x5e3178=()=>localStorage['setItem'](DXSCRIPTS_KEY,JSON['stringify'](_0x5c567a['getValue']()));return{'setScriptList':_0x130f71,'scriptList':_0x5c567a,'fetchAllScripts'(){return pipe(_0x2f11ec(),option['getOrElse'](()=>[]),_0x3aac2e=>{return _0x130f71(_0x3aac2e),Promise['resolve'](_0x5c567a['getValue']());});},'getScriptList'(){return _0x5c567a['getValue']();},'getScript'(_0x4bd471){return Promise['resolve'](pipe(_0x5c567a['getValue'](),array['findFirst'](_0x1d6ad2=>_0x1d6ad2['id']===_0x4bd471),option['fold'](constUndefined,identity)));},'createScript'(_0x37c97c){return Promise['resolve'](pipe(_0x5c567a['getValue'](),_0x12defe=>{const _0x137294=_0x5c1b0e(uuid()),_0x13ff1e={'id':_0x137294,..._0x37c97c},_0x2c7766=_0x13ff1e;return _0x130f71([..._0x12defe,_0x2c7766]),_0x5e3178(),_0x137294;}));},'updateScript'(_0x47c561){return Promise['resolve'](pipe(_0x5c567a['getValue'](),array['map'](_0x13e500=>_0x13e500['id']===_0x47c561['id']?{..._0x47c561}:_0x13e500),_0x130f71,_0x5e3178));},'deleteScript'(_0x5ca70d){return Promise['resolve'](pipe(_0x5c567a['getValue'](),array['filter'](_0x1e32c1=>_0x1e32c1['id']!==_0x5ca70d),_0x130f71,_0x5e3178));}};};