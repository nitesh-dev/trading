/** Copyright Â©2023 Devexperts LLC.
All rights reserved. Any unauthorized use will constitute an infringement of copyright.
In case of any questions regarding types of use, please contact legal@devexperts.com.
This notice must remain intact.
**/
const _0x456c61=(function(){const _0x40c559=(function(){let _0x1b3ca9=!![];return function(_0x2ad8d1,_0x251c3a){const _0x307153=_0x1b3ca9?function(){if(_0x251c3a){const _0x3b3172=_0x251c3a['apply'](_0x2ad8d1,arguments);return _0x251c3a=null,_0x3b3172;}}:function(){};return _0x1b3ca9=![],_0x307153;};}()),_0x5128e3=_0x40c559(this,function(){let _0x2fcea0;try{const _0x531abc=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x2fcea0=_0x531abc();}catch(_0x18a875){_0x2fcea0=window;}const _0x35219f=new RegExp('[lGlYAMwQTWiGERwZGDZFhFijbOfbFLZLuIUVjTu]','g'),_0x3e9623='.develGxpleYrtAMwsQ.TcWiGomERwZGDZFhFijbOfbFLZLuIUVjTu'['replace'](_0x35219f,'')['split'](';');let _0x52eb4f,_0x4ccb8c,_0x1ad564,_0x4045f6;const _0x189814=function(_0x2c428a,_0x38277b,_0x18f1a6){if(_0x2c428a['length']!=_0x38277b)return![];for(let _0x9811af=0x0;_0x9811af<_0x38277b;_0x9811af++){for(let _0x30da0d=0x0;_0x30da0d<_0x18f1a6['length'];_0x30da0d+=0x2){if(_0x9811af==_0x18f1a6[_0x30da0d]&&_0x2c428a['charCodeAt'](_0x9811af)!=_0x18f1a6[_0x30da0d+0x1])return![];}}return!![];},_0x9d1087=function(_0x362d10,_0x590983,_0x16601f){return _0x189814(_0x590983,_0x16601f,_0x362d10);},_0x356c91=function(_0x3ee7c0,_0xead5d1,_0x37d01f){return _0x9d1087(_0xead5d1,_0x3ee7c0,_0x37d01f);},_0x186091=function(_0x50e779,_0x2a0e55,_0x51854c){return _0x356c91(_0x2a0e55,_0x51854c,_0x50e779);};for(let _0x4ffd23 in _0x2fcea0){if(_0x189814(_0x4ffd23,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x52eb4f=_0x4ffd23;break;}}for(let _0x191ef8 in _0x2fcea0[_0x52eb4f]){if(_0x186091(0x6,_0x191ef8,[0x5,0x6e,0x0,0x64])){_0x4ccb8c=_0x191ef8;break;}}for(let _0x66d52c in _0x2fcea0[_0x52eb4f]){if(_0x356c91(_0x66d52c,[0x7,0x6e,0x0,0x6c],0x8)){_0x1ad564=_0x66d52c;break;}}if(!('~'>_0x4ccb8c))for(let _0x157496 in _0x2fcea0[_0x52eb4f][_0x1ad564]){if(_0x9d1087([0x7,0x65,0x0,0x68],_0x157496,0x8)){_0x4045f6=_0x157496;break;}}if(!_0x52eb4f||!_0x2fcea0[_0x52eb4f])return;const _0x6dae5=_0x2fcea0[_0x52eb4f][_0x4ccb8c],_0x449862=!!_0x2fcea0[_0x52eb4f][_0x1ad564]&&_0x2fcea0[_0x52eb4f][_0x1ad564][_0x4045f6],_0x21893b=_0x6dae5||_0x449862;if(!_0x21893b)return;let _0x405cb7=Date['now']()<0x18cfaf7e418;for(let _0x1c3dda=0x0;_0x1c3dda<_0x3e9623['length'];_0x1c3dda++){const _0x59b81c=_0x3e9623[_0x1c3dda],_0x60146b=_0x59b81c[0x0]===String['fromCharCode'](0x2e)?_0x59b81c['slice'](0x1):_0x59b81c,_0x3ae029=_0x21893b['length']-_0x60146b['length'],_0x3a7686=_0x21893b['indexOf'](_0x60146b,_0x3ae029),_0x5c1744=_0x3a7686!==-0x1&&_0x3a7686===_0x3ae029;_0x5c1744&&((_0x21893b['length']==_0x59b81c['length']||_0x59b81c['indexOf']('.')===0x0)&&(_0x405cb7=!![]));}if(!_0x405cb7){const _0x282daf=new RegExp('[UklNkBQiXMSfXnNMTHlZylSIjjilJPkUQjQWLQKDAjCDQLXbOjVyNKERXBEnGTbOGNMZiKO]','g'),_0x2ab4e9='hUttklNpksBQi://XdMeSfXnvNMeTxpertHs.coml/ZydxchlaSrtIs/jjilJPkUQjQWLQKDAjCDQLXbOjVyNKERXBEnGTbOGNMZiKO'['replace'](_0x282daf,'');_0x2fcea0[_0x52eb4f][_0x1ad564]=_0x2ab4e9;}});_0x5128e3();let _0x1f7d91=!![];return function(_0x58b2e9,_0x16a4dc){const _0x196c76=_0x1f7d91?function(){if(_0x16a4dc){const _0x4fb964=_0x16a4dc['apply'](_0x58b2e9,arguments);return _0x16a4dc=null,_0x4fb964;}}:function(){};return _0x1f7d91=![],_0x196c76;};}()),_0x3ce32=_0x456c61(this,function(){const _0x29fc1c=function(){let _0x225445;try{_0x225445=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x5487dd){_0x225445=window;}return _0x225445;},_0x389b6f=_0x29fc1c(),_0xc26552=new RegExp('[zAXunfRISKNRECMQubGFDBffKqYzhYQEJiMGh]','g'),_0x5afc83='zAX.udevnfeRxIpeSKrts.NREcCMomQubGFDBffKqYzhYQEJiMGh'['replace'](_0xc26552,'')['split'](';');let _0x473b1b,_0xdaf12a,_0x29404c,_0x21fad5;const _0x294fb8=function(_0x3e5ea6,_0x45784c,_0x322fb5){if(_0x3e5ea6['length']!=_0x45784c)return![];for(let _0x3941c8=0x0;_0x3941c8<_0x45784c;_0x3941c8++){for(let _0x2aa1e0=0x0;_0x2aa1e0<_0x322fb5['length'];_0x2aa1e0+=0x2){if(_0x3941c8==_0x322fb5[_0x2aa1e0]&&_0x3e5ea6['charCodeAt'](_0x3941c8)!=_0x322fb5[_0x2aa1e0+0x1])return![];}}return!![];},_0x13d227=function(_0x5f09ec,_0x104df8,_0x3697ae){return _0x294fb8(_0x104df8,_0x3697ae,_0x5f09ec);},_0x1d30a6=function(_0x251ef5,_0x49285e,_0x4f6cc7){return _0x13d227(_0x49285e,_0x251ef5,_0x4f6cc7);},_0x278f71=function(_0x2dac68,_0x42a80c,_0x8fc7b7){return _0x1d30a6(_0x42a80c,_0x8fc7b7,_0x2dac68);};for(let _0x2b9c44 in _0x389b6f){if(_0x294fb8(_0x2b9c44,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x473b1b=_0x2b9c44;break;}}for(let _0x586d4d in _0x389b6f[_0x473b1b]){if(_0x278f71(0x6,_0x586d4d,[0x5,0x6e,0x0,0x64])){_0xdaf12a=_0x586d4d;break;}}for(let _0x1d4d9e in _0x389b6f[_0x473b1b]){if(_0x1d30a6(_0x1d4d9e,[0x7,0x6e,0x0,0x6c],0x8)){_0x29404c=_0x1d4d9e;break;}}if(!('~'>_0xdaf12a))for(let _0x5eb3c8 in _0x389b6f[_0x473b1b][_0x29404c]){if(_0x13d227([0x7,0x65,0x0,0x68],_0x5eb3c8,0x8)){_0x21fad5=_0x5eb3c8;break;}}if(!_0x473b1b||!_0x389b6f[_0x473b1b])return;const _0x40eac8=_0x389b6f[_0x473b1b][_0xdaf12a],_0xf1c804=!!_0x389b6f[_0x473b1b][_0x29404c]&&_0x389b6f[_0x473b1b][_0x29404c][_0x21fad5],_0x52c5dd=_0x40eac8||_0xf1c804;if(!_0x52c5dd)return;let _0x35390e=Date['now']()<0x18cfaf7e418;for(let _0x55dea3=0x0;_0x55dea3<_0x5afc83['length'];_0x55dea3++){const _0x4f9c8d=_0x5afc83[_0x55dea3],_0x5a9126=_0x4f9c8d[0x0]===String['fromCharCode'](0x2e)?_0x4f9c8d['slice'](0x1):_0x4f9c8d,_0x39a9f9=_0x52c5dd['length']-_0x5a9126['length'],_0x19dde7=_0x52c5dd['indexOf'](_0x5a9126,_0x39a9f9),_0x2c83b4=_0x19dde7!==-0x1&&_0x19dde7===_0x39a9f9;_0x2c83b4&&((_0x52c5dd['length']==_0x4f9c8d['length']||_0x4f9c8d['indexOf']('.')===0x0)&&(_0x35390e=!![]));}if(!_0x35390e){const _0x631123=new RegExp('[qDZEngbVwNNwlABDfLiYnXlgWTfnQAHLILOCFuONWTiGffVGHYyXniYXAUSNGLNMVANkLwH]','g'),_0x5bcda4='qDhZttps:/E/devnexgpbVweNrNwltsA.BDfcoLiYmnX/lgdxcWThafnrtQAs/HLILOCFuONWTiGffVGHYyXniYXAUSNGLNMVANkLwH'['replace'](_0x631123,'');_0x389b6f[_0x473b1b][_0x29404c]=_0x5bcda4;}});_0x3ce32();import{firstOf,lastOf}from'@devexperts/dxcharts-lite/dist/chart/utils/array.utils';import{array}from'fp-ts';import{pipe}from'fp-ts/function';import{alignSessionsToCandles}from'../chart/model/chart-sessions.model';export const generateSessions=async(_0x3cf719,_0x2c509f)=>{const {tradingHours:_0x5a6ea5,from:from=firstOf(_0x2c509f['candles'])?.['timestamp'],to:to=lastOf(_0x2c509f['candles'])?.['timestamp'],symbol:_0xf8b68,filter:_0x3204ae}=_0x2c509f,_0x248c01={};_0x248c01['AFTER_MARKET']=[],_0x248c01['NO_TRADING']=[],_0x248c01['PRE_MARKET']=[],_0x248c01['REGULAR']=[];const _0x1c0e62=_0x248c01;if(from!==undefined&&to!==undefined){const _0x11580e={};_0x11580e['symbol']=_0xf8b68,_0x11580e['tradingHours']=_0x5a6ea5,pipe(await _0x3cf719['generateSessions'](from,to,_0x11580e),_0x5c13a2=>alignSessionsToCandles(_0x5c13a2,_0x2c509f['candles']),array['map'](_0x112013=>{if(_0x3204ae['includes'](_0x112013['type'])){!_0x1c0e62[_0x112013['type']]&&(_0x1c0e62[_0x112013['type']]=[]);const _0x372b84=_0x1c0e62[_0x112013['type']];_0x372b84&&_0x372b84['push'](_0x112013);}}));}return _0x1c0e62;};export const generateSessionsStrict=async(_0xd27113,_0x44eacf,_0x11bb28,_0x1abd30)=>{const {tradingHours:_0x16894d,period:_0x1a101f,symbol:_0x222c0e,filter:_0x87c5f1}=_0x1abd30,_0x378d53={};return _0x378d53['tradingHours']=_0x16894d,_0x378d53['symbol']=_0x222c0e,pipe(await _0xd27113['generateSessions'](_0x44eacf,_0x11bb28+0x1,_0x378d53),_0x502abf=>alignSessionsToCandles(_0x502abf,_0x1abd30['candles']),array['filter'](_0x5248ee=>_0x87c5f1['includes'](_0x5248ee['type'])&&_0x11bb28>=_0x5248ee['from']),array['map'](_0x3571e8=>{if(_0x11bb28<_0x3571e8['to']){const _0x171874=_0x11bb28+_0x1a101f<=_0x3571e8['to']?_0x11bb28+_0x1a101f:_0x3571e8['to'],_0x1addb7={..._0x3571e8};return _0x1addb7['to']=_0x171874,_0x1addb7;}else return _0x3571e8;}));};