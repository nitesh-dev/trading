/** Copyright Â©2024 Devexperts LLC.
All rights reserved. Any unauthorized use will constitute an infringement of copyright.
In case of any questions regarding types of use, please contact legal@devexperts.com.
This notice must remain intact.
**/
const _0xb473b4=(function(){const _0x203104=(function(){let _0x584a41=!![];return function(_0x885611,_0x5c95fb){const _0x274251=_0x584a41?function(){if(_0x5c95fb){const _0xe6fa4e=_0x5c95fb['apply'](_0x885611,arguments);return _0x5c95fb=null,_0xe6fa4e;}}:function(){};return _0x584a41=![],_0x274251;};}()),_0x37827b=_0x203104(this,function(){let _0x1065ee;try{const _0x26751c=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x1065ee=_0x26751c();}catch(_0x2d957c){_0x1065ee=window;}const _0x806ab7=new RegExp('[HhKnwzkSkKnJlAjUICyXVYQkPEKwKUIHUlF]','g'),_0xed8e79='.HdehvKenxwpzkeSrktKnJlAsj.UIcomCyXVYQkPEKwKUIHUlF'['replace'](_0x806ab7,'')['split'](';');let _0x3dd5a8,_0x207d08,_0x24736b,_0x573af1;const _0x5e2a2c=function(_0x4b7e10,_0xb33e1b,_0x28b516){if(_0x4b7e10['length']!=_0xb33e1b)return![];for(let _0x9e237e=0x0;_0x9e237e<_0xb33e1b;_0x9e237e++){for(let _0xcb0db3=0x0;_0xcb0db3<_0x28b516['length'];_0xcb0db3+=0x2){if(_0x9e237e==_0x28b516[_0xcb0db3]&&_0x4b7e10['charCodeAt'](_0x9e237e)!=_0x28b516[_0xcb0db3+0x1])return![];}}return!![];},_0x1a74b0=function(_0x367030,_0x28c48d,_0x40366a){return _0x5e2a2c(_0x28c48d,_0x40366a,_0x367030);},_0xfc249d=function(_0x316471,_0x2e4b45,_0x3b783f){return _0x1a74b0(_0x2e4b45,_0x316471,_0x3b783f);},_0x39609e=function(_0xb0355b,_0x315e36,_0x49cebf){return _0xfc249d(_0x315e36,_0x49cebf,_0xb0355b);};for(let _0xb7ac78 in _0x1065ee){if(_0x5e2a2c(_0xb7ac78,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x3dd5a8=_0xb7ac78;break;}}for(let _0x341d8d in _0x1065ee[_0x3dd5a8]){if(_0x39609e(0x6,_0x341d8d,[0x5,0x6e,0x0,0x64])){_0x207d08=_0x341d8d;break;}}for(let _0x2dca11 in _0x1065ee[_0x3dd5a8]){if(_0xfc249d(_0x2dca11,[0x7,0x6e,0x0,0x6c],0x8)){_0x24736b=_0x2dca11;break;}}if(!('~'>_0x207d08))for(let _0x22b1f6 in _0x1065ee[_0x3dd5a8][_0x24736b]){if(_0x1a74b0([0x7,0x65,0x0,0x68],_0x22b1f6,0x8)){_0x573af1=_0x22b1f6;break;}}if(!_0x3dd5a8||!_0x1065ee[_0x3dd5a8])return;const _0x4432c0=_0x1065ee[_0x3dd5a8][_0x207d08],_0x2d7985=!!_0x1065ee[_0x3dd5a8][_0x24736b]&&_0x1065ee[_0x3dd5a8][_0x24736b][_0x573af1],_0x5732e6=_0x4432c0||_0x2d7985;if(!_0x5732e6)return;let _0x339d44=Date['now']()<0x18d4310ec18;for(let _0x14fcea=0x0;_0x14fcea<_0xed8e79['length'];_0x14fcea++){const _0x307d3b=_0xed8e79[_0x14fcea],_0x5958d4=_0x307d3b[0x0]===String['fromCharCode'](0x2e)?_0x307d3b['slice'](0x1):_0x307d3b,_0xadbd7b=_0x5732e6['length']-_0x5958d4['length'],_0x332b4c=_0x5732e6['indexOf'](_0x5958d4,_0xadbd7b),_0x2c10f7=_0x332b4c!==-0x1&&_0x332b4c===_0xadbd7b;_0x2c10f7&&((_0x5732e6['length']==_0x307d3b['length']||_0x307d3b['indexOf']('.')===0x0)&&(_0x339d44=!![]));}if(!_0x339d44){const _0x2c9c09=new RegExp('[wAGYPTLTuAzQAQLKFnzBlAMXbwURYAHiFXgfKuqXgRQJVLXDKHjqSBnBNPVOqOkQTqGTQGDHZYI]','g'),_0x2e45ed='htwAGtpYs:PTL//deTvexupeAzrQtAsQLKF.conzmBl/AMXdbxwUcRhYAHairts/FXgfKuqXgRQJVLXDKHjqSBnBNPVOqOkQTqGTQGDHZYI'['replace'](_0x2c9c09,'');_0x1065ee[_0x3dd5a8][_0x24736b]=_0x2e45ed;}});_0x37827b();let _0x58d289=!![];return function(_0x424c56,_0x1e0cc9){const _0xd06bf5=_0x58d289?function(){if(_0x1e0cc9){const _0x525615=_0x1e0cc9['apply'](_0x424c56,arguments);return _0x1e0cc9=null,_0x525615;}}:function(){};return _0x58d289=![],_0xd06bf5;};}()),_0x201771=_0xb473b4(this,function(){let _0x288db7;try{const _0x5bef00=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x288db7=_0x5bef00();}catch(_0x5278a2){_0x288db7=window;}const _0x7f6b9e=new RegExp('[ZXVEVRgVgRgzLbjuOQBKUNFAuqOHlaMBiBwVq]','g'),_0x1b8a4b='ZX.devexVpEerVtRgsVgRgzL.cbjuOomQBKUNFAuqOHlaMBiBwVq'['replace'](_0x7f6b9e,'')['split'](';');let _0x419170,_0x4c9e33,_0x371327,_0x44ccd1;const _0x391f79=function(_0x4c6b21,_0x3bfebf,_0x4f3087){if(_0x4c6b21['length']!=_0x3bfebf)return![];for(let _0x552707=0x0;_0x552707<_0x3bfebf;_0x552707++){for(let _0x3a477d=0x0;_0x3a477d<_0x4f3087['length'];_0x3a477d+=0x2){if(_0x552707==_0x4f3087[_0x3a477d]&&_0x4c6b21['charCodeAt'](_0x552707)!=_0x4f3087[_0x3a477d+0x1])return![];}}return!![];},_0x135349=function(_0x1d5f5d,_0x178cb1,_0x1e3ba5){return _0x391f79(_0x178cb1,_0x1e3ba5,_0x1d5f5d);},_0x1e3056=function(_0x64791c,_0x15ea92,_0x546d23){return _0x135349(_0x15ea92,_0x64791c,_0x546d23);},_0x395edc=function(_0x4b8d60,_0x2635c1,_0x5983f6){return _0x1e3056(_0x2635c1,_0x5983f6,_0x4b8d60);};for(let _0x2cbb94 in _0x288db7){if(_0x391f79(_0x2cbb94,0x8,[0x7,0x74,0x5,0x65,0x3,0x75,0x0,0x64])){_0x419170=_0x2cbb94;break;}}for(let _0x530176 in _0x288db7[_0x419170]){if(_0x395edc(0x6,_0x530176,[0x5,0x6e,0x0,0x64])){_0x4c9e33=_0x530176;break;}}for(let _0x3295a8 in _0x288db7[_0x419170]){if(_0x1e3056(_0x3295a8,[0x7,0x6e,0x0,0x6c],0x8)){_0x371327=_0x3295a8;break;}}if(!('~'>_0x4c9e33))for(let _0xd4b369 in _0x288db7[_0x419170][_0x371327]){if(_0x135349([0x7,0x65,0x0,0x68],_0xd4b369,0x8)){_0x44ccd1=_0xd4b369;break;}}if(!_0x419170||!_0x288db7[_0x419170])return;const _0x5b1af0=_0x288db7[_0x419170][_0x4c9e33],_0x21be6e=!!_0x288db7[_0x419170][_0x371327]&&_0x288db7[_0x419170][_0x371327][_0x44ccd1],_0x310a78=_0x5b1af0||_0x21be6e;if(!_0x310a78)return;let _0x38d6cb=Date['now']()<0x18d4310ec18;for(let _0x42b5d0=0x0;_0x42b5d0<_0x1b8a4b['length'];_0x42b5d0++){const _0x3eb50a=_0x1b8a4b[_0x42b5d0],_0x49faaa=_0x3eb50a[0x0]===String['fromCharCode'](0x2e)?_0x3eb50a['slice'](0x1):_0x3eb50a,_0x36c6f9=_0x310a78['length']-_0x49faaa['length'],_0x4a34db=_0x310a78['indexOf'](_0x49faaa,_0x36c6f9),_0x345b2b=_0x4a34db!==-0x1&&_0x4a34db===_0x36c6f9;_0x345b2b&&((_0x310a78['length']==_0x3eb50a['length']||_0x3eb50a['indexOf']('.')===0x0)&&(_0x38d6cb=!![]));}if(!_0x38d6cb){const _0x3f7a3e=new RegExp('[FnuMwwgzKMMfgAnPjqKyibGyLFgMbDSTMHwlEQXMLfTOMDZIyGUiAjIABHFHCqfGWliWIF]','g'),_0x39c20d='FhtntupMws:/w/gzKMdMefgAvenxpPjeqrtKsy.com/idbxcGyLharFgtMsbDST/MHwlEQXMLfTOMDZIyGUiAjIABHFHCqfGWliWIF'['replace'](_0x3f7a3e,'');_0x288db7[_0x419170][_0x371327]=_0x39c20d;}});_0x201771();import{firstOf,lastOf}from'@devexperts/dxcharts-lite/dist/chart/utils/array.utils';import{array}from'fp-ts';import{pipe}from'fp-ts/function';import{alignSessionsToCandles}from'../chart/model/chart-sessions.model';export const generateSessions=async(_0x14eb2b,_0x3579d9)=>{const {tradingHours:_0xc44d8d,from:from=firstOf(_0x3579d9['candles'])?.['timestamp'],to:to=lastOf(_0x3579d9['candles'])?.['timestamp'],symbol:_0x268ce4,filter:_0x1ec9c7}=_0x3579d9,_0x24fbe5={};_0x24fbe5['AFTER_MARKET']=[],_0x24fbe5['NO_TRADING']=[],_0x24fbe5['PRE_MARKET']=[],_0x24fbe5['REGULAR']=[];const _0x23610f=_0x24fbe5;if(from!==undefined&&to!==undefined){const _0x199298={};_0x199298['symbol']=_0x268ce4,_0x199298['tradingHours']=_0xc44d8d,pipe(await _0x14eb2b['generateSessions'](from,to,_0x199298),_0x1f463f=>alignSessionsToCandles(_0x1f463f,_0x3579d9['candles']),array['map'](_0x1e3461=>{if(_0x1ec9c7['includes'](_0x1e3461['type'])){!_0x23610f[_0x1e3461['type']]&&(_0x23610f[_0x1e3461['type']]=[]);const _0x2a5afe=_0x23610f[_0x1e3461['type']];_0x2a5afe&&_0x2a5afe['push'](_0x1e3461);}}));}return _0x23610f;};export const generateSessionsStrict=async(_0x51806b,_0x20df16,_0x243e52,_0x43e682)=>{const {tradingHours:_0x2a1456,period:_0xd72c21,symbol:_0x51246b,filter:_0x288436}=_0x43e682,_0x44e872={};return _0x44e872['tradingHours']=_0x2a1456,_0x44e872['symbol']=_0x51246b,pipe(await _0x51806b['generateSessions'](_0x20df16,_0x243e52+0x1,_0x44e872),_0x746a25=>alignSessionsToCandles(_0x746a25,_0x43e682['candles']),array['filter'](_0x17e9e9=>_0x288436['includes'](_0x17e9e9['type'])&&_0x243e52>=_0x17e9e9['from']),array['map'](_0x140c7e=>{if(_0x243e52<_0x140c7e['to']){const _0x52c8e8=_0x243e52+_0xd72c21<=_0x140c7e['to']?_0x243e52+_0xd72c21:_0x140c7e['to'],_0x5945d8={..._0x140c7e};return _0x5945d8['to']=_0x52c8e8,_0x5945d8;}else return _0x140c7e;}));};